<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Scrutix - Application d'audit bancaire pour cabinets d'expertise comptable" />
    <title>Scrutix - Audit Bancaire Intelligent</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Grand+Hotel&display=swap" rel="stylesheet">
    <script type="module" crossorigin>function oie(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var IQ={exports:{}},y5={},MQ={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey=Symbol.for("react.element"),lie=Symbol.for("react.portal"),cie=Symbol.for("react.fragment"),uie=Symbol.for("react.strict_mode"),die=Symbol.for("react.profiler"),hie=Symbol.for("react.provider"),fie=Symbol.for("react.context"),Aie=Symbol.for("react.forward_ref"),pie=Symbol.for("react.suspense"),mie=Symbol.for("react.memo"),gie=Symbol.for("react.lazy"),kI=Symbol.iterator;function vie(r){return r===null||typeof r!="object"?null:(r=kI&&r[kI]||r["@@iterator"],typeof r=="function"?r:null)}var OQ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PQ=Object.assign,RQ={};function Bm(r,e,t){this.props=r,this.context=e,this.refs=RQ,this.updater=t||OQ}Bm.prototype.isReactComponent={};Bm.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Bm.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function LQ(){}LQ.prototype=Bm.prototype;function ik(r,e,t){this.props=r,this.context=e,this.refs=RQ,this.updater=t||OQ}var sk=ik.prototype=new LQ;sk.constructor=ik;PQ(sk,Bm.prototype);sk.isPureReactComponent=!0;var TI=Array.isArray,DQ=Object.prototype.hasOwnProperty,ak={current:null},UQ={key:!0,ref:!0,__self:!0,__source:!0};function HQ(r,e,t){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)DQ.call(e,n)&&!UQ.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ey,type:r,key:s,ref:a,props:i,_owner:ak.current}}function yie(r,e){return{$$typeof:ey,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function ok(r){return typeof r=="object"&&r!==null&&r.$$typeof===ey}function bie(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var jI=/\/+/g;function o3(r,e){return typeof r=="object"&&r!==null&&r.key!=null?bie(""+r.key):e.toString(36)}function Mx(r,e,t,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case ey:case lie:a=!0}}if(a)return a=r,i=i(a),r=n===""?"."+o3(a,0):n,TI(i)?(t="",r!=null&&(t=r.replace(jI,"$&/")+"/"),Mx(i,e,t,"",function(c){return c})):i!=null&&(ok(i)&&(i=yie(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jI,"$&/")+"/")+r)),e.push(i)),1;if(a=0,n=n===""?".":n+":",TI(r))for(var o=0;o<r.length;o++){s=r[o];var l=n+o3(s,o);a+=Mx(s,e,t,l,i)}else if(l=vie(r),typeof l=="function")for(r=l.call(r),o=0;!(s=r.next()).done;)s=s.value,l=n+o3(s,o++),a+=Mx(s,e,t,l,i);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function P1(r,e,t){if(r==null)return r;var n=[],i=0;return Mx(r,n,"","",function(s){return e.call(t,s,i++)}),n}function xie(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Ba={current:null},Ox={transition:null},wie={ReactCurrentDispatcher:Ba,ReactCurrentBatchConfig:Ox,ReactCurrentOwner:ak};function QQ(){throw Error("act(...) is not supported in production builds of React.")}Lr.Children={map:P1,forEach:function(r,e,t){P1(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return P1(r,function(){e++}),e},toArray:function(r){return P1(r,function(e){return e})||[]},only:function(r){if(!ok(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Lr.Component=Bm;Lr.Fragment=cie;Lr.Profiler=die;Lr.PureComponent=ik;Lr.StrictMode=uie;Lr.Suspense=pie;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wie;Lr.act=QQ;Lr.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=PQ({},r.props),i=r.key,s=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ak.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(l in e)DQ.call(e,l)&&!UQ.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ey,type:r.type,key:i,ref:s,props:n,_owner:a}};Lr.createContext=function(r){return r={$$typeof:fie,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:hie,_context:r},r.Consumer=r};Lr.createElement=HQ;Lr.createFactory=function(r){var e=HQ.bind(null,r);return e.type=r,e};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(r){return{$$typeof:Aie,render:r}};Lr.isValidElement=ok;Lr.lazy=function(r){return{$$typeof:gie,_payload:{_status:-1,_result:r},_init:xie}};Lr.memo=function(r,e){return{$$typeof:mie,type:r,compare:e===void 0?null:e}};Lr.startTransition=function(r){var e=Ox.transition;Ox.transition={};try{r()}finally{Ox.transition=e}};Lr.unstable_act=QQ;Lr.useCallback=function(r,e){return Ba.current.useCallback(r,e)};Lr.useContext=function(r){return Ba.current.useContext(r)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(r){return Ba.current.useDeferredValue(r)};Lr.useEffect=function(r,e){return Ba.current.useEffect(r,e)};Lr.useId=function(){return Ba.current.useId()};Lr.useImperativeHandle=function(r,e,t){return Ba.current.useImperativeHandle(r,e,t)};Lr.useInsertionEffect=function(r,e){return Ba.current.useInsertionEffect(r,e)};Lr.useLayoutEffect=function(r,e){return Ba.current.useLayoutEffect(r,e)};Lr.useMemo=function(r,e){return Ba.current.useMemo(r,e)};Lr.useReducer=function(r,e,t){return Ba.current.useReducer(r,e,t)};Lr.useRef=function(r){return Ba.current.useRef(r)};Lr.useState=function(r){return Ba.current.useState(r)};Lr.useSyncExternalStore=function(r,e,t){return Ba.current.useSyncExternalStore(r,e,t)};Lr.useTransition=function(){return Ba.current.useTransition()};Lr.version="18.3.1";MQ.exports=Lr;var K=MQ.exports;const Ag=No(K),Cie=oie({__proto__:null,default:Ag},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sie=K,Eie=Symbol.for("react.element"),_ie=Symbol.for("react.fragment"),Nie=Object.prototype.hasOwnProperty,Bie=Sie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kie={key:!0,ref:!0,__self:!0,__source:!0};function $Q(r,e,t){var n,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Nie.call(e,n)&&!kie.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Eie,type:r,key:s,ref:a,props:i,_owner:Bie.current}}y5.Fragment=_ie;y5.jsx=$Q;y5.jsxs=$Q;IQ.exports=y5;var A=IQ.exports,zQ={exports:{}},Bo={},VQ={exports:{}},GQ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(E,x){var F=E.length;E.push(x);e:for(;0<F;){var U=F-1>>>1,M=E[U];if(0<i(M,x))E[U]=x,E[F]=M,F=U;else break e}}function t(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var x=E[0],F=E.pop();if(F!==x){E[0]=F;e:for(var U=0,M=E.length,z=M>>>1;U<z;){var G=2*(U+1)-1,Y=E[G],Q=G+1,q=E[Q];if(0>i(Y,F))Q<M&&0>i(q,Y)?(E[U]=q,E[Q]=F,U=Q):(E[U]=Y,E[G]=F,U=G);else if(Q<M&&0>i(q,F))E[U]=q,E[Q]=F,U=Q;else break e}}return x}function i(E,x){var F=E.sortIndex-x.sortIndex;return F!==0?F:E.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var x=t(c);x!==null;){if(x.callback===null)n(c);else if(x.startTime<=E)n(c),x.sortIndex=x.expirationTime,e(l,x);else break;x=t(c)}}function w(E){if(g=!1,b(E),!p)if(t(l)!==null)p=!0,S(_);else{var x=t(c);x!==null&&C(w,x.startTime-E)}}function _(E,x){p=!1,g&&(g=!1,v(j),j=-1),f=!0;var F=h;try{for(b(x),d=t(l);d!==null&&(!(d.expirationTime>x)||E&&!H());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var M=U(d.expirationTime<=x);x=r.unstable_now(),typeof M=="function"?d.callback=M:d===t(l)&&n(l),b(x)}else n(l);d=t(l)}if(d!==null)var z=!0;else{var G=t(c);G!==null&&C(w,G.startTime-x),z=!1}return z}finally{d=null,h=F,f=!1}}var B=!1,R=null,j=-1,k=5,L=-1;function H(){return!(r.unstable_now()-L<k)}function I(){if(R!==null){var E=r.unstable_now();L=E;var x=!0;try{x=R(!0,E)}finally{x?T():(B=!1,R=null)}}else B=!1}var T;if(typeof y=="function")T=function(){y(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,N=P.port2;P.port1.onmessage=I,T=function(){N.postMessage(null)}}else T=function(){m(I,0)};function S(E){R=E,B||(B=!0,T())}function C(E,x){j=m(function(){E(r.unstable_now())},x)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(E){E.callback=null},r.unstable_continueExecution=function(){p||f||(p=!0,S(_))},r.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<E?Math.floor(1e3/E):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(E){switch(h){case 1:case 2:case 3:var x=3;break;default:x=h}var F=h;h=x;try{return E()}finally{h=F}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(E,x){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=h;h=E;try{return x()}finally{h=F}},r.unstable_scheduleCallback=function(E,x,F){var U=r.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?U+F:U):F=U,E){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,E={id:u++,callback:x,priorityLevel:E,startTime:F,expirationTime:M,sortIndex:-1},F>U?(E.sortIndex=F,e(c,E),t(l)===null&&E===t(c)&&(g?(v(j),j=-1):g=!0,C(w,F-U))):(E.sortIndex=M,e(l,E),p||f||(p=!0,S(_))),E},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(E){var x=h;return function(){var F=h;h=x;try{return E.apply(this,arguments)}finally{h=F}}}})(GQ);VQ.exports=GQ;var Tie=VQ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jie=K,Co=Tie;function bt(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KQ=new Set,rv={};function AA(r,e){am(r,e),am(r+"Capture",e)}function am(r,e){for(rv[r]=e,r=0;r<e.length;r++)KQ.add(e[r])}var Hu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p_=Object.prototype.hasOwnProperty,Fie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FI={},II={};function Iie(r){return p_.call(II,r)?!0:p_.call(FI,r)?!1:Fie.test(r)?II[r]=!0:(FI[r]=!0,!1)}function Mie(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function Oie(r,e,t,n){if(e===null||typeof e>"u"||Mie(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ka(r,e,t,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Hs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Hs[r]=new ka(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Hs[e]=new ka(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Hs[r]=new ka(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Hs[r]=new ka(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Hs[r]=new ka(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Hs[r]=new ka(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Hs[r]=new ka(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Hs[r]=new ka(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Hs[r]=new ka(r,5,!1,r.toLowerCase(),null,!1,!1)});var lk=/[\-:]([a-z])/g;function ck(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(lk,ck);Hs[e]=new ka(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(lk,ck);Hs[e]=new ka(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(lk,ck);Hs[e]=new ka(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Hs[r]=new ka(r,1,!1,r.toLowerCase(),null,!1,!1)});Hs.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Hs[r]=new ka(r,1,!1,r.toLowerCase(),null,!0,!0)});function uk(r,e,t,n){var i=Hs.hasOwnProperty(e)?Hs[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Oie(e,t,i,n)&&(t=null),n||i===null?Iie(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var od=jie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R1=Symbol.for("react.element"),fp=Symbol.for("react.portal"),Ap=Symbol.for("react.fragment"),dk=Symbol.for("react.strict_mode"),m_=Symbol.for("react.profiler"),WQ=Symbol.for("react.provider"),qQ=Symbol.for("react.context"),hk=Symbol.for("react.forward_ref"),g_=Symbol.for("react.suspense"),v_=Symbol.for("react.suspense_list"),fk=Symbol.for("react.memo"),$d=Symbol.for("react.lazy"),XQ=Symbol.for("react.offscreen"),MI=Symbol.iterator;function E0(r){return r===null||typeof r!="object"?null:(r=MI&&r[MI]||r["@@iterator"],typeof r=="function"?r:null)}var ti=Object.assign,l3;function pg(r){if(l3===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);l3=e&&e[1]||""}return`
`+l3+r}var c3=!1;function u3(r,e){if(!r||c3)return"";c3=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){n=c}r.call(e.prototype)}else{try{throw Error()}catch(c){n=c}r()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=a&&0<=o);break}}}finally{c3=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?pg(r):""}function Pie(r){switch(r.tag){case 5:return pg(r.type);case 16:return pg("Lazy");case 13:return pg("Suspense");case 19:return pg("SuspenseList");case 0:case 2:case 15:return r=u3(r.type,!1),r;case 11:return r=u3(r.type.render,!1),r;case 1:return r=u3(r.type,!0),r;default:return""}}function y_(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Ap:return"Fragment";case fp:return"Portal";case m_:return"Profiler";case dk:return"StrictMode";case g_:return"Suspense";case v_:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case qQ:return(r.displayName||"Context")+".Consumer";case WQ:return(r._context.displayName||"Context")+".Provider";case hk:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case fk:return e=r.displayName||null,e!==null?e:y_(r.type)||"Memo";case $d:e=r._payload,r=r._init;try{return y_(r(e))}catch{}}return null}function Rie(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y_(e);case 8:return e===dk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wh(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function YQ(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lie(r){var e=YQ(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function L1(r){r._valueTracker||(r._valueTracker=Lie(r))}function JQ(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=YQ(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function bw(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function b_(r,e){var t=e.checked;return ti({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function OI(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=wh(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZQ(r,e){e=e.checked,e!=null&&uk(r,"checked",e,!1)}function x_(r,e){ZQ(r,e);var t=wh(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?w_(r,e.type,t):e.hasOwnProperty("defaultValue")&&w_(r,e.type,wh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function PI(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function w_(r,e,t){(e!=="number"||bw(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var mg=Array.isArray;function Rp(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+wh(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function C_(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(bt(91));return ti({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function RI(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(bt(92));if(mg(t)){if(1<t.length)throw Error(bt(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:wh(t)}}function e$(r,e){var t=wh(e.value),n=wh(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function LI(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function t$(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S_(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?t$(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var D1,r$=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(D1=D1||document.createElement("div"),D1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=D1.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function nv(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Ig={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Die=["Webkit","ms","Moz","O"];Object.keys(Ig).forEach(function(r){Die.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Ig[e]=Ig[r]})});function n$(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ig.hasOwnProperty(r)&&Ig[r]?(""+e).trim():e+"px"}function i$(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=n$(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var Uie=ti({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E_(r,e){if(e){if(Uie[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(bt(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(bt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(bt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(bt(62))}}function __(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N_=null;function Ak(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var B_=null,Lp=null,Dp=null;function DI(r){if(r=ny(r)){if(typeof B_!="function")throw Error(bt(280));var e=r.stateNode;e&&(e=S5(e),B_(r.stateNode,r.type,e))}}function s$(r){Lp?Dp?Dp.push(r):Dp=[r]:Lp=r}function a$(){if(Lp){var r=Lp,e=Dp;if(Dp=Lp=null,DI(r),e)for(r=0;r<e.length;r++)DI(e[r])}}function o$(r,e){return r(e)}function l$(){}var d3=!1;function c$(r,e,t){if(d3)return r(e,t);d3=!0;try{return o$(r,e,t)}finally{d3=!1,(Lp!==null||Dp!==null)&&(l$(),a$())}}function iv(r,e){var t=r.stateNode;if(t===null)return null;var n=S5(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(bt(231,e,typeof t));return t}var k_=!1;if(Hu)try{var _0={};Object.defineProperty(_0,"passive",{get:function(){k_=!0}}),window.addEventListener("test",_0,_0),window.removeEventListener("test",_0,_0)}catch{k_=!1}function Hie(r,e,t,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Mg=!1,xw=null,ww=!1,T_=null,Qie={onError:function(r){Mg=!0,xw=r}};function $ie(r,e,t,n,i,s,a,o,l){Mg=!1,xw=null,Hie.apply(Qie,arguments)}function zie(r,e,t,n,i,s,a,o,l){if($ie.apply(this,arguments),Mg){if(Mg){var c=xw;Mg=!1,xw=null}else throw Error(bt(198));ww||(ww=!0,T_=c)}}function pA(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function u$(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function UI(r){if(pA(r)!==r)throw Error(bt(188))}function Vie(r){var e=r.alternate;if(!e){if(e=pA(r),e===null)throw Error(bt(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return UI(i),r;if(s===n)return UI(i),e;s=s.sibling}throw Error(bt(188))}if(t.return!==n.return)t=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,n=s;break}if(o===n){a=!0,n=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,n=i;break}if(o===n){a=!0,n=s,t=i;break}o=o.sibling}if(!a)throw Error(bt(189))}}if(t.alternate!==n)throw Error(bt(190))}if(t.tag!==3)throw Error(bt(188));return t.stateNode.current===t?r:e}function d$(r){return r=Vie(r),r!==null?h$(r):null}function h$(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=h$(r);if(e!==null)return e;r=r.sibling}return null}var f$=Co.unstable_scheduleCallback,HI=Co.unstable_cancelCallback,Gie=Co.unstable_shouldYield,Kie=Co.unstable_requestPaint,Ci=Co.unstable_now,Wie=Co.unstable_getCurrentPriorityLevel,pk=Co.unstable_ImmediatePriority,A$=Co.unstable_UserBlockingPriority,Cw=Co.unstable_NormalPriority,qie=Co.unstable_LowPriority,p$=Co.unstable_IdlePriority,b5=null,Nc=null;function Xie(r){if(Nc&&typeof Nc.onCommitFiberRoot=="function")try{Nc.onCommitFiberRoot(b5,r,void 0,(r.current.flags&128)===128)}catch{}}var Ll=Math.clz32?Math.clz32:Zie,Yie=Math.log,Jie=Math.LN2;function Zie(r){return r>>>=0,r===0?32:31-(Yie(r)/Jie|0)|0}var U1=64,H1=4194304;function gg(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Sw(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?n=gg(o):(s&=a,s!==0&&(n=gg(s)))}else a=t&~i,a!==0?n=gg(a):s!==0&&(n=gg(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-Ll(e),i=1<<t,n|=r[t],e&=~i;return n}function ese(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tse(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var a=31-Ll(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&n)&&(i[a]=ese(o,e)):l<=e&&(r.expiredLanes|=o),s&=~o}}function j_(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function m$(){var r=U1;return U1<<=1,!(U1&4194240)&&(U1=64),r}function h3(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function ty(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-Ll(e),r[e]=t}function rse(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-Ll(t),s=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~s}}function mk(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Ll(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var fn=0;function g$(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var v$,gk,y$,b$,x$,F_=!1,Q1=[],oh=null,lh=null,ch=null,sv=new Map,av=new Map,qd=[],nse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QI(r,e){switch(r){case"focusin":case"focusout":oh=null;break;case"dragenter":case"dragleave":lh=null;break;case"mouseover":case"mouseout":ch=null;break;case"pointerover":case"pointerout":sv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(e.pointerId)}}function N0(r,e,t,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ny(e),e!==null&&gk(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function ise(r,e,t,n,i){switch(e){case"focusin":return oh=N0(oh,r,e,t,n,i),!0;case"dragenter":return lh=N0(lh,r,e,t,n,i),!0;case"mouseover":return ch=N0(ch,r,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return sv.set(s,N0(sv.get(s)||null,r,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,av.set(s,N0(av.get(s)||null,r,e,t,n,i)),!0}return!1}function w$(r){var e=Nf(r.target);if(e!==null){var t=pA(e);if(t!==null){if(e=t.tag,e===13){if(e=u$(t),e!==null){r.blockedOn=e,x$(r.priority,function(){y$(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Px(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=I_(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);N_=n,t.target.dispatchEvent(n),N_=null}else return e=ny(t),e!==null&&gk(e),r.blockedOn=t,!1;e.shift()}return!0}function $I(r,e,t){Px(r)&&t.delete(e)}function sse(){F_=!1,oh!==null&&Px(oh)&&(oh=null),lh!==null&&Px(lh)&&(lh=null),ch!==null&&Px(ch)&&(ch=null),sv.forEach($I),av.forEach($I)}function B0(r,e){r.blockedOn===e&&(r.blockedOn=null,F_||(F_=!0,Co.unstable_scheduleCallback(Co.unstable_NormalPriority,sse)))}function ov(r){function e(i){return B0(i,r)}if(0<Q1.length){B0(Q1[0],r);for(var t=1;t<Q1.length;t++){var n=Q1[t];n.blockedOn===r&&(n.blockedOn=null)}}for(oh!==null&&B0(oh,r),lh!==null&&B0(lh,r),ch!==null&&B0(ch,r),sv.forEach(e),av.forEach(e),t=0;t<qd.length;t++)n=qd[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<qd.length&&(t=qd[0],t.blockedOn===null);)w$(t),t.blockedOn===null&&qd.shift()}var Up=od.ReactCurrentBatchConfig,Ew=!0;function ase(r,e,t,n){var i=fn,s=Up.transition;Up.transition=null;try{fn=1,vk(r,e,t,n)}finally{fn=i,Up.transition=s}}function ose(r,e,t,n){var i=fn,s=Up.transition;Up.transition=null;try{fn=4,vk(r,e,t,n)}finally{fn=i,Up.transition=s}}function vk(r,e,t,n){if(Ew){var i=I_(r,e,t,n);if(i===null)w3(r,e,n,_w,t),QI(r,n);else if(ise(i,r,e,t,n))n.stopPropagation();else if(QI(r,n),e&4&&-1<nse.indexOf(r)){for(;i!==null;){var s=ny(i);if(s!==null&&v$(s),s=I_(r,e,t,n),s===null&&w3(r,e,n,_w,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else w3(r,e,n,null,t)}}var _w=null;function I_(r,e,t,n){if(_w=null,r=Ak(n),r=Nf(r),r!==null)if(e=pA(r),e===null)r=null;else if(t=e.tag,t===13){if(r=u$(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return _w=r,null}function C$(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wie()){case pk:return 1;case A$:return 4;case Cw:case qie:return 16;case p$:return 536870912;default:return 16}default:return 16}}var Zd=null,yk=null,Rx=null;function S$(){if(Rx)return Rx;var r,e=yk,t=e.length,n,i="value"in Zd?Zd.value:Zd.textContent,s=i.length;for(r=0;r<t&&e[r]===i[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===i[s-n];n++);return Rx=i.slice(r,1<n?1-n:void 0)}function Lx(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function $1(){return!0}function zI(){return!1}function ko(r){function e(t,n,i,s,a){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$1:zI,this.isPropagationStopped=zI,this}return ti(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=$1)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=$1)},persist:function(){},isPersistent:$1}),e}var km={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bk=ko(km),ry=ti({},km,{view:0,detail:0}),lse=ko(ry),f3,A3,k0,x5=ti({},ry,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xk,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==k0&&(k0&&r.type==="mousemove"?(f3=r.screenX-k0.screenX,A3=r.screenY-k0.screenY):A3=f3=0,k0=r),f3)},movementY:function(r){return"movementY"in r?r.movementY:A3}}),VI=ko(x5),cse=ti({},x5,{dataTransfer:0}),use=ko(cse),dse=ti({},ry,{relatedTarget:0}),p3=ko(dse),hse=ti({},km,{animationName:0,elapsedTime:0,pseudoElement:0}),fse=ko(hse),Ase=ti({},km,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pse=ko(Ase),mse=ti({},km,{data:0}),GI=ko(mse),gse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bse(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=yse[r])?!!e[r]:!1}function xk(){return bse}var xse=ti({},ry,{key:function(r){if(r.key){var e=gse[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Lx(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vse[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xk,charCode:function(r){return r.type==="keypress"?Lx(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Lx(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),wse=ko(xse),Cse=ti({},x5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KI=ko(Cse),Sse=ti({},ry,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xk}),Ese=ko(Sse),_se=ti({},km,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nse=ko(_se),Bse=ti({},x5,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kse=ko(Bse),Tse=[9,13,27,32],wk=Hu&&"CompositionEvent"in window,Og=null;Hu&&"documentMode"in document&&(Og=document.documentMode);var jse=Hu&&"TextEvent"in window&&!Og,E$=Hu&&(!wk||Og&&8<Og&&11>=Og),WI=" ",qI=!1;function _$(r,e){switch(r){case"keyup":return Tse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N$(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var pp=!1;function Fse(r,e){switch(r){case"compositionend":return N$(e);case"keypress":return e.which!==32?null:(qI=!0,WI);case"textInput":return r=e.data,r===WI&&qI?null:r;default:return null}}function Ise(r,e){if(pp)return r==="compositionend"||!wk&&_$(r,e)?(r=S$(),Rx=yk=Zd=null,pp=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E$&&e.locale!=="ko"?null:e.data;default:return null}}var Mse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XI(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!Mse[r.type]:e==="textarea"}function B$(r,e,t,n){s$(n),e=Nw(e,"onChange"),0<e.length&&(t=new bk("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Pg=null,lv=null;function Ose(r){D$(r,0)}function w5(r){var e=vp(r);if(JQ(e))return r}function Pse(r,e){if(r==="change")return e}var k$=!1;if(Hu){var m3;if(Hu){var g3="oninput"in document;if(!g3){var YI=document.createElement("div");YI.setAttribute("oninput","return;"),g3=typeof YI.oninput=="function"}m3=g3}else m3=!1;k$=m3&&(!document.documentMode||9<document.documentMode)}function JI(){Pg&&(Pg.detachEvent("onpropertychange",T$),lv=Pg=null)}function T$(r){if(r.propertyName==="value"&&w5(lv)){var e=[];B$(e,lv,r,Ak(r)),c$(Ose,e)}}function Rse(r,e,t){r==="focusin"?(JI(),Pg=e,lv=t,Pg.attachEvent("onpropertychange",T$)):r==="focusout"&&JI()}function Lse(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return w5(lv)}function Dse(r,e){if(r==="click")return w5(e)}function Use(r,e){if(r==="input"||r==="change")return w5(e)}function Hse(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var $l=typeof Object.is=="function"?Object.is:Hse;function cv(r,e){if($l(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!p_.call(e,i)||!$l(r[i],e[i]))return!1}return!0}function ZI(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function eM(r,e){var t=ZI(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ZI(t)}}function j$(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?j$(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function F$(){for(var r=window,e=bw();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=bw(r.document)}return e}function Ck(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function Qse(r){var e=F$(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&j$(t.ownerDocument.documentElement,t)){if(n!==null&&Ck(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=eM(t,s);var a=eM(t,n);i&&a&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var $se=Hu&&"documentMode"in document&&11>=document.documentMode,mp=null,M_=null,Rg=null,O_=!1;function tM(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;O_||mp==null||mp!==bw(n)||(n=mp,"selectionStart"in n&&Ck(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rg&&cv(Rg,n)||(Rg=n,n=Nw(M_,"onSelect"),0<n.length&&(e=new bk("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=mp)))}function z1(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var gp={animationend:z1("Animation","AnimationEnd"),animationiteration:z1("Animation","AnimationIteration"),animationstart:z1("Animation","AnimationStart"),transitionend:z1("Transition","TransitionEnd")},v3={},I$={};Hu&&(I$=document.createElement("div").style,"AnimationEvent"in window||(delete gp.animationend.animation,delete gp.animationiteration.animation,delete gp.animationstart.animation),"TransitionEvent"in window||delete gp.transitionend.transition);function C5(r){if(v3[r])return v3[r];if(!gp[r])return r;var e=gp[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in I$)return v3[r]=e[t];return r}var M$=C5("animationend"),O$=C5("animationiteration"),P$=C5("animationstart"),R$=C5("transitionend"),L$=new Map,rM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lh(r,e){L$.set(r,e),AA(e,[r])}for(var y3=0;y3<rM.length;y3++){var b3=rM[y3],zse=b3.toLowerCase(),Vse=b3[0].toUpperCase()+b3.slice(1);Lh(zse,"on"+Vse)}Lh(M$,"onAnimationEnd");Lh(O$,"onAnimationIteration");Lh(P$,"onAnimationStart");Lh("dblclick","onDoubleClick");Lh("focusin","onFocus");Lh("focusout","onBlur");Lh(R$,"onTransitionEnd");am("onMouseEnter",["mouseout","mouseover"]);am("onMouseLeave",["mouseout","mouseover"]);am("onPointerEnter",["pointerout","pointerover"]);am("onPointerLeave",["pointerout","pointerover"]);AA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));AA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));AA("onBeforeInput",["compositionend","keypress","textInput","paste"]);AA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));AA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));AA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gse=new Set("cancel close invalid load scroll toggle".split(" ").concat(vg));function nM(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,zie(n,e,void 0,r),r.currentTarget=null}function D$(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;nM(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;nM(i,o,c),s=l}}}if(ww)throw r=T_,ww=!1,T_=null,r}function Mn(r,e){var t=e[U_];t===void 0&&(t=e[U_]=new Set);var n=r+"__bubble";t.has(n)||(U$(e,r,2,!1),t.add(n))}function x3(r,e,t){var n=0;e&&(n|=4),U$(t,r,n,e)}var V1="_reactListening"+Math.random().toString(36).slice(2);function uv(r){if(!r[V1]){r[V1]=!0,KQ.forEach(function(t){t!=="selectionchange"&&(Gse.has(t)||x3(t,!1,r),x3(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[V1]||(e[V1]=!0,x3("selectionchange",!1,e))}}function U$(r,e,t,n){switch(C$(e)){case 1:var i=ase;break;case 4:i=ose;break;default:i=vk}t=i.bind(null,e,t,r),i=void 0,!k_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function w3(r,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Nf(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}c$(function(){var c=s,u=Ak(t),d=[];e:{var h=L$.get(r);if(h!==void 0){var f=bk,p=r;switch(r){case"keypress":if(Lx(t)===0)break e;case"keydown":case"keyup":f=wse;break;case"focusin":p="focus",f=p3;break;case"focusout":p="blur",f=p3;break;case"beforeblur":case"afterblur":f=p3;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=VI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=use;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ese;break;case M$:case O$:case P$:f=fse;break;case R$:f=Nse;break;case"scroll":f=lse;break;case"wheel":f=kse;break;case"copy":case"cut":case"paste":f=pse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=KI}var g=(e&4)!==0,m=!g&&r==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=iv(y,v),w!=null&&g.push(dv(y,w,b)))),m)break;y=y.return}0<g.length&&(h=new f(h,p,null,t,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",h&&t!==N_&&(p=t.relatedTarget||t.fromElement)&&(Nf(p)||p[Qu]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=t.relatedTarget||t.toElement,f=c,p=p?Nf(p):null,p!==null&&(m=pA(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=VI,w="onMouseLeave",v="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(g=KI,w="onPointerLeave",v="onPointerEnter",y="pointer"),m=f==null?h:vp(f),b=p==null?h:vp(p),h=new g(w,y+"leave",f,t,u),h.target=m,h.relatedTarget=b,w=null,Nf(u)===c&&(g=new g(v,y+"enter",p,t,u),g.target=b,g.relatedTarget=m,w=g),m=w,f&&p)t:{for(g=f,v=p,y=0,b=g;b;b=LA(b))y++;for(b=0,w=v;w;w=LA(w))b++;for(;0<y-b;)g=LA(g),y--;for(;0<b-y;)v=LA(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=LA(g),v=LA(v)}g=null}else g=null;f!==null&&iM(d,h,f,g,!1),p!==null&&m!==null&&iM(d,m,p,g,!0)}}e:{if(h=c?vp(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var _=Pse;else if(XI(h))if(k$)_=Use;else{_=Lse;var B=Rse}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Dse);if(_&&(_=_(r,c))){B$(d,_,t,u);break e}B&&B(r,h,c),r==="focusout"&&(B=h._wrapperState)&&B.controlled&&h.type==="number"&&w_(h,"number",h.value)}switch(B=c?vp(c):window,r){case"focusin":(XI(B)||B.contentEditable==="true")&&(mp=B,M_=c,Rg=null);break;case"focusout":Rg=M_=mp=null;break;case"mousedown":O_=!0;break;case"contextmenu":case"mouseup":case"dragend":O_=!1,tM(d,t,u);break;case"selectionchange":if($se)break;case"keydown":case"keyup":tM(d,t,u)}var R;if(wk)e:{switch(r){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else pp?_$(r,t)&&(j="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(j="onCompositionStart");j&&(E$&&t.locale!=="ko"&&(pp||j!=="onCompositionStart"?j==="onCompositionEnd"&&pp&&(R=S$()):(Zd=u,yk="value"in Zd?Zd.value:Zd.textContent,pp=!0)),B=Nw(c,j),0<B.length&&(j=new GI(j,r,null,t,u),d.push({event:j,listeners:B}),R?j.data=R:(R=N$(t),R!==null&&(j.data=R)))),(R=jse?Fse(r,t):Ise(r,t))&&(c=Nw(c,"onBeforeInput"),0<c.length&&(u=new GI("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=R))}D$(d,e)})}function dv(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Nw(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=iv(r,t),s!=null&&n.unshift(dv(r,s,i)),s=iv(r,e),s!=null&&n.push(dv(r,s,i))),r=r.return}return n}function LA(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function iM(r,e,t,n,i){for(var s=e._reactName,a=[];t!==null&&t!==n;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=iv(t,s),l!=null&&a.unshift(dv(t,l,o))):i||(l=iv(t,s),l!=null&&a.push(dv(t,l,o)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var Kse=/\r\n?/g,Wse=/\u0000|\uFFFD/g;function sM(r){return(typeof r=="string"?r:""+r).replace(Kse,`
`).replace(Wse,"")}function G1(r,e,t){if(e=sM(e),sM(r)!==e&&t)throw Error(bt(425))}function Bw(){}var P_=null,R_=null;function L_(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var D_=typeof setTimeout=="function"?setTimeout:void 0,qse=typeof clearTimeout=="function"?clearTimeout:void 0,aM=typeof Promise=="function"?Promise:void 0,Xse=typeof queueMicrotask=="function"?queueMicrotask:typeof aM<"u"?function(r){return aM.resolve(null).then(r).catch(Yse)}:D_;function Yse(r){setTimeout(function(){throw r})}function C3(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),ov(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);ov(e)}function uh(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function oM(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var Tm=Math.random().toString(36).slice(2),bc="__reactFiber$"+Tm,hv="__reactProps$"+Tm,Qu="__reactContainer$"+Tm,U_="__reactEvents$"+Tm,Jse="__reactListeners$"+Tm,Zse="__reactHandles$"+Tm;function Nf(r){var e=r[bc];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Qu]||t[bc]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=oM(r);r!==null;){if(t=r[bc])return t;r=oM(r)}return e}r=t,t=r.parentNode}return null}function ny(r){return r=r[bc]||r[Qu],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function vp(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(bt(33))}function S5(r){return r[hv]||null}var H_=[],yp=-1;function Dh(r){return{current:r}}function Rn(r){0>yp||(r.current=H_[yp],H_[yp]=null,yp--)}function kn(r,e){yp++,H_[yp]=r.current,r.current=e}var Ch={},oa=Dh(Ch),$a=Dh(!1),Wf=Ch;function om(r,e){var t=r.type.contextTypes;if(!t)return Ch;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function za(r){return r=r.childContextTypes,r!=null}function kw(){Rn($a),Rn(oa)}function lM(r,e,t){if(oa.current!==Ch)throw Error(bt(168));kn(oa,e),kn($a,t)}function H$(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(bt(108,Rie(r)||"Unknown",i));return ti({},t,n)}function Tw(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ch,Wf=oa.current,kn(oa,r),kn($a,$a.current),!0}function cM(r,e,t){var n=r.stateNode;if(!n)throw Error(bt(169));t?(r=H$(r,e,Wf),n.__reactInternalMemoizedMergedChildContext=r,Rn($a),Rn(oa),kn(oa,r)):Rn($a),kn($a,t)}var Cu=null,E5=!1,S3=!1;function Q$(r){Cu===null?Cu=[r]:Cu.push(r)}function eae(r){E5=!0,Q$(r)}function Uh(){if(!S3&&Cu!==null){S3=!0;var r=0,e=fn;try{var t=Cu;for(fn=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}Cu=null,E5=!1}catch(i){throw Cu!==null&&(Cu=Cu.slice(r+1)),f$(pk,Uh),i}finally{fn=e,S3=!1}}return null}var bp=[],xp=0,jw=null,Fw=0,qo=[],Xo=0,qf=null,Bu=1,ku="";function gf(r,e){bp[xp++]=Fw,bp[xp++]=jw,jw=r,Fw=e}function $$(r,e,t){qo[Xo++]=Bu,qo[Xo++]=ku,qo[Xo++]=qf,qf=r;var n=Bu;r=ku;var i=32-Ll(n)-1;n&=~(1<<i),t+=1;var s=32-Ll(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Bu=1<<32-Ll(e)+i|t<<i|n,ku=s+r}else Bu=1<<s|t<<i|n,ku=r}function Sk(r){r.return!==null&&(gf(r,1),$$(r,1,0))}function Ek(r){for(;r===jw;)jw=bp[--xp],bp[xp]=null,Fw=bp[--xp],bp[xp]=null;for(;r===qf;)qf=qo[--Xo],qo[Xo]=null,ku=qo[--Xo],qo[Xo]=null,Bu=qo[--Xo],qo[Xo]=null}var xo=null,go=null,Qn=!1,jl=null;function z$(r,e){var t=Jo(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function uM(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,xo=r,go=uh(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,xo=r,go=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=qf!==null?{id:Bu,overflow:ku}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Jo(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,xo=r,go=null,!0):!1;default:return!1}}function Q_(r){return(r.mode&1)!==0&&(r.flags&128)===0}function $_(r){if(Qn){var e=go;if(e){var t=e;if(!uM(r,e)){if(Q_(r))throw Error(bt(418));e=uh(t.nextSibling);var n=xo;e&&uM(r,e)?z$(n,t):(r.flags=r.flags&-4097|2,Qn=!1,xo=r)}}else{if(Q_(r))throw Error(bt(418));r.flags=r.flags&-4097|2,Qn=!1,xo=r}}}function dM(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xo=r}function K1(r){if(r!==xo)return!1;if(!Qn)return dM(r),Qn=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!L_(r.type,r.memoizedProps)),e&&(e=go)){if(Q_(r))throw V$(),Error(bt(418));for(;e;)z$(r,e),e=uh(e.nextSibling)}if(dM(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(bt(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){go=uh(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}go=null}}else go=xo?uh(r.stateNode.nextSibling):null;return!0}function V$(){for(var r=go;r;)r=uh(r.nextSibling)}function lm(){go=xo=null,Qn=!1}function _k(r){jl===null?jl=[r]:jl.push(r)}var tae=od.ReactCurrentBatchConfig;function T0(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(bt(309));var n=t.stateNode}if(!n)throw Error(bt(147,r));var i=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof r!="string")throw Error(bt(284));if(!t._owner)throw Error(bt(290,r))}return r}function W1(r,e){throw r=Object.prototype.toString.call(e),Error(bt(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function hM(r){var e=r._init;return e(r._payload)}function G$(r){function e(v,y){if(r){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function t(v,y){if(!r)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ah(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,r?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return r&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,w){return y===null||y.tag!==6?(y=j3(b,v.mode,w),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,w){var _=b.type;return _===Ap?u(v,y,b.props.children,w,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$d&&hM(_)===y.type)?(w=i(y,b.props),w.ref=T0(v,y,b),w.return=v,w):(w=Vx(b.type,b.key,b.props,null,v.mode,w),w.ref=T0(v,y,b),w.return=v,w)}function c(v,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=F3(b,v.mode,w),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,w,_){return y===null||y.tag!==7?(y=Df(b,v.mode,w,_),y.return=v,y):(y=i(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=j3(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case R1:return b=Vx(y.type,y.key,y.props,null,v.mode,b),b.ref=T0(v,null,y),b.return=v,b;case fp:return y=F3(y,v.mode,b),y.return=v,y;case $d:var w=y._init;return d(v,w(y._payload),b)}if(mg(y)||E0(y))return y=Df(y,v.mode,b,null),y.return=v,y;W1(v,y)}return null}function h(v,y,b,w){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:o(v,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case R1:return b.key===_?l(v,y,b,w):null;case fp:return b.key===_?c(v,y,b,w):null;case $d:return _=b._init,h(v,y,_(b._payload),w)}if(mg(b)||E0(b))return _!==null?null:u(v,y,b,w,null);W1(v,b)}return null}function f(v,y,b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,o(y,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case R1:return v=v.get(w.key===null?b:w.key)||null,l(y,v,w,_);case fp:return v=v.get(w.key===null?b:w.key)||null,c(y,v,w,_);case $d:var B=w._init;return f(v,y,b,B(w._payload),_)}if(mg(w)||E0(w))return v=v.get(b)||null,u(y,v,w,_,null);W1(y,w)}return null}function p(v,y,b,w){for(var _=null,B=null,R=y,j=y=0,k=null;R!==null&&j<b.length;j++){R.index>j?(k=R,R=null):k=R.sibling;var L=h(v,R,b[j],w);if(L===null){R===null&&(R=k);break}r&&R&&L.alternate===null&&e(v,R),y=s(L,y,j),B===null?_=L:B.sibling=L,B=L,R=k}if(j===b.length)return t(v,R),Qn&&gf(v,j),_;if(R===null){for(;j<b.length;j++)R=d(v,b[j],w),R!==null&&(y=s(R,y,j),B===null?_=R:B.sibling=R,B=R);return Qn&&gf(v,j),_}for(R=n(v,R);j<b.length;j++)k=f(R,v,j,b[j],w),k!==null&&(r&&k.alternate!==null&&R.delete(k.key===null?j:k.key),y=s(k,y,j),B===null?_=k:B.sibling=k,B=k);return r&&R.forEach(function(H){return e(v,H)}),Qn&&gf(v,j),_}function g(v,y,b,w){var _=E0(b);if(typeof _!="function")throw Error(bt(150));if(b=_.call(b),b==null)throw Error(bt(151));for(var B=_=null,R=y,j=y=0,k=null,L=b.next();R!==null&&!L.done;j++,L=b.next()){R.index>j?(k=R,R=null):k=R.sibling;var H=h(v,R,L.value,w);if(H===null){R===null&&(R=k);break}r&&R&&H.alternate===null&&e(v,R),y=s(H,y,j),B===null?_=H:B.sibling=H,B=H,R=k}if(L.done)return t(v,R),Qn&&gf(v,j),_;if(R===null){for(;!L.done;j++,L=b.next())L=d(v,L.value,w),L!==null&&(y=s(L,y,j),B===null?_=L:B.sibling=L,B=L);return Qn&&gf(v,j),_}for(R=n(v,R);!L.done;j++,L=b.next())L=f(R,v,j,L.value,w),L!==null&&(r&&L.alternate!==null&&R.delete(L.key===null?j:L.key),y=s(L,y,j),B===null?_=L:B.sibling=L,B=L);return r&&R.forEach(function(I){return e(v,I)}),Qn&&gf(v,j),_}function m(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Ap&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case R1:e:{for(var _=b.key,B=y;B!==null;){if(B.key===_){if(_=b.type,_===Ap){if(B.tag===7){t(v,B.sibling),y=i(B,b.props.children),y.return=v,v=y;break e}}else if(B.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$d&&hM(_)===B.type){t(v,B.sibling),y=i(B,b.props),y.ref=T0(v,B,b),y.return=v,v=y;break e}t(v,B);break}else e(v,B);B=B.sibling}b.type===Ap?(y=Df(b.props.children,v.mode,w,b.key),y.return=v,v=y):(w=Vx(b.type,b.key,b.props,null,v.mode,w),w.ref=T0(v,y,b),w.return=v,v=w)}return a(v);case fp:e:{for(B=b.key;y!==null;){if(y.key===B)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){t(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{t(v,y);break}else e(v,y);y=y.sibling}y=F3(b,v.mode,w),y.return=v,v=y}return a(v);case $d:return B=b._init,m(v,y,B(b._payload),w)}if(mg(b))return p(v,y,b,w);if(E0(b))return g(v,y,b,w);W1(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(t(v,y.sibling),y=i(y,b),y.return=v,v=y):(t(v,y),y=j3(b,v.mode,w),y.return=v,v=y),a(v)):t(v,y)}return m}var cm=G$(!0),K$=G$(!1),Iw=Dh(null),Mw=null,wp=null,Nk=null;function Bk(){Nk=wp=Mw=null}function kk(r){var e=Iw.current;Rn(Iw),r._currentValue=e}function z_(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Hp(r,e){Mw=r,Nk=wp=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Ha=!0),r.firstContext=null)}function il(r){var e=r._currentValue;if(Nk!==r)if(r={context:r,memoizedValue:e,next:null},wp===null){if(Mw===null)throw Error(bt(308));wp=r,Mw.dependencies={lanes:0,firstContext:r}}else wp=wp.next=r;return e}var Bf=null;function Tk(r){Bf===null?Bf=[r]:Bf.push(r)}function W$(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,Tk(e)):(t.next=i.next,i.next=t),e.interleaved=t,$u(r,n)}function $u(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var zd=!1;function jk(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q$(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Iu(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Xr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,$u(r,t)}return i=n.interleaved,i===null?(e.next=e,Tk(n)):(e.next=i.next,i.next=e),n.interleaved=e,$u(r,t)}function Dx(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,mk(r,t)}}function fM(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function Ow(r,e,t,n){var i=r.updateQueue;zd=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=r.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var h=o.lane,f=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=r,g=o;switch(h=e,f=t,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=ti({},d,h);break e;case 2:zd=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yf|=a,r.lanes=a,r.memoizedState=d}}function AM(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(bt(191,i));i.call(n)}}}var iy={},Bc=Dh(iy),fv=Dh(iy),Av=Dh(iy);function kf(r){if(r===iy)throw Error(bt(174));return r}function Fk(r,e){switch(kn(Av,e),kn(fv,r),kn(Bc,iy),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S_(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=S_(e,r)}Rn(Bc),kn(Bc,e)}function um(){Rn(Bc),Rn(fv),Rn(Av)}function X$(r){kf(Av.current);var e=kf(Bc.current),t=S_(e,r.type);e!==t&&(kn(fv,r),kn(Bc,t))}function Ik(r){fv.current===r&&(Rn(Bc),Rn(fv))}var Xn=Dh(0);function Pw(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E3=[];function Mk(){for(var r=0;r<E3.length;r++)E3[r]._workInProgressVersionPrimary=null;E3.length=0}var Ux=od.ReactCurrentDispatcher,_3=od.ReactCurrentBatchConfig,Xf=0,Jn=null,Ki=null,hs=null,Rw=!1,Lg=!1,pv=0,rae=0;function Ws(){throw Error(bt(321))}function Ok(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!$l(r[t],e[t]))return!1;return!0}function Pk(r,e,t,n,i,s){if(Xf=s,Jn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ux.current=r===null||r.memoizedState===null?aae:oae,r=t(n,i),Lg){s=0;do{if(Lg=!1,pv=0,25<=s)throw Error(bt(301));s+=1,hs=Ki=null,e.updateQueue=null,Ux.current=lae,r=t(n,i)}while(Lg)}if(Ux.current=Lw,e=Ki!==null&&Ki.next!==null,Xf=0,hs=Ki=Jn=null,Rw=!1,e)throw Error(bt(300));return r}function Rk(){var r=pv!==0;return pv=0,r}function mc(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?Jn.memoizedState=hs=r:hs=hs.next=r,hs}function sl(){if(Ki===null){var r=Jn.alternate;r=r!==null?r.memoizedState:null}else r=Ki.next;var e=hs===null?Jn.memoizedState:hs.next;if(e!==null)hs=e,Ki=r;else{if(r===null)throw Error(bt(310));Ki=r,r={memoizedState:Ki.memoizedState,baseState:Ki.baseState,baseQueue:Ki.baseQueue,queue:Ki.queue,next:null},hs===null?Jn.memoizedState=hs=r:hs=hs.next=r}return hs}function mv(r,e){return typeof e=="function"?e(r):e}function N3(r){var e=sl(),t=e.queue;if(t===null)throw Error(bt(311));t.lastRenderedReducer=r;var n=Ki,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Xf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:r(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,Jn.lanes|=u,Yf|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,$l(n,e.memoizedState)||(Ha=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do s=i.lane,Jn.lanes|=s,Yf|=s,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function B3(r){var e=sl(),t=e.queue;if(t===null)throw Error(bt(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=r(s,a.action),a=a.next;while(a!==i);$l(s,e.memoizedState)||(Ha=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function Y$(){}function J$(r,e){var t=Jn,n=sl(),i=e(),s=!$l(n.memoizedState,i);if(s&&(n.memoizedState=i,Ha=!0),n=n.queue,Lk(tz.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||hs!==null&&hs.memoizedState.tag&1){if(t.flags|=2048,gv(9,ez.bind(null,t,n,i,e),void 0,null),gs===null)throw Error(bt(349));Xf&30||Z$(t,e,i)}return i}function Z$(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=Jn.updateQueue,e===null?(e={lastEffect:null,stores:null},Jn.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function ez(r,e,t,n){e.value=t,e.getSnapshot=n,rz(e)&&nz(r)}function tz(r,e,t){return t(function(){rz(e)&&nz(r)})}function rz(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!$l(r,t)}catch{return!0}}function nz(r){var e=$u(r,1);e!==null&&Dl(e,r,1,-1)}function pM(r){var e=mc();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:r},e.queue=r,r=r.dispatch=sae.bind(null,Jn,r),[e.memoizedState,r]}function gv(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=Jn.updateQueue,e===null?(e={lastEffect:null,stores:null},Jn.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function iz(){return sl().memoizedState}function Hx(r,e,t,n){var i=mc();Jn.flags|=r,i.memoizedState=gv(1|e,t,void 0,n===void 0?null:n)}function _5(r,e,t,n){var i=sl();n=n===void 0?null:n;var s=void 0;if(Ki!==null){var a=Ki.memoizedState;if(s=a.destroy,n!==null&&Ok(n,a.deps)){i.memoizedState=gv(e,t,s,n);return}}Jn.flags|=r,i.memoizedState=gv(1|e,t,s,n)}function mM(r,e){return Hx(8390656,8,r,e)}function Lk(r,e){return _5(2048,8,r,e)}function sz(r,e){return _5(4,2,r,e)}function az(r,e){return _5(4,4,r,e)}function oz(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function lz(r,e,t){return t=t!=null?t.concat([r]):null,_5(4,4,oz.bind(null,e,r),t)}function Dk(){}function cz(r,e){var t=sl();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Ok(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function uz(r,e){var t=sl();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Ok(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function dz(r,e,t){return Xf&21?($l(t,e)||(t=m$(),Jn.lanes|=t,Yf|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Ha=!0),r.memoizedState=t)}function nae(r,e){var t=fn;fn=t!==0&&4>t?t:4,r(!0);var n=_3.transition;_3.transition={};try{r(!1),e()}finally{fn=t,_3.transition=n}}function hz(){return sl().memoizedState}function iae(r,e,t){var n=fh(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},fz(r))Az(e,t);else if(t=W$(r,e,t,n),t!==null){var i=Ca();Dl(t,r,n,i),pz(t,e,n)}}function sae(r,e,t){var n=fh(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(fz(r))Az(e,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,$l(o,a)){var l=e.interleaved;l===null?(i.next=i,Tk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=W$(r,e,i,n),t!==null&&(i=Ca(),Dl(t,r,n,i),pz(t,e,n))}}function fz(r){var e=r.alternate;return r===Jn||e!==null&&e===Jn}function Az(r,e){Lg=Rw=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function pz(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,mk(r,t)}}var Lw={readContext:il,useCallback:Ws,useContext:Ws,useEffect:Ws,useImperativeHandle:Ws,useInsertionEffect:Ws,useLayoutEffect:Ws,useMemo:Ws,useReducer:Ws,useRef:Ws,useState:Ws,useDebugValue:Ws,useDeferredValue:Ws,useTransition:Ws,useMutableSource:Ws,useSyncExternalStore:Ws,useId:Ws,unstable_isNewReconciler:!1},aae={readContext:il,useCallback:function(r,e){return mc().memoizedState=[r,e===void 0?null:e],r},useContext:il,useEffect:mM,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Hx(4194308,4,oz.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Hx(4194308,4,r,e)},useInsertionEffect:function(r,e){return Hx(4,2,r,e)},useMemo:function(r,e){var t=mc();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=mc();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=iae.bind(null,Jn,r),[n.memoizedState,r]},useRef:function(r){var e=mc();return r={current:r},e.memoizedState=r},useState:pM,useDebugValue:Dk,useDeferredValue:function(r){return mc().memoizedState=r},useTransition:function(){var r=pM(!1),e=r[0];return r=nae.bind(null,r[1]),mc().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=Jn,i=mc();if(Qn){if(t===void 0)throw Error(bt(407));t=t()}else{if(t=e(),gs===null)throw Error(bt(349));Xf&30||Z$(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,mM(tz.bind(null,n,s,r),[r]),n.flags|=2048,gv(9,ez.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=mc(),e=gs.identifierPrefix;if(Qn){var t=ku,n=Bu;t=(n&~(1<<32-Ll(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=pv++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=rae++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},oae={readContext:il,useCallback:cz,useContext:il,useEffect:Lk,useImperativeHandle:lz,useInsertionEffect:sz,useLayoutEffect:az,useMemo:uz,useReducer:N3,useRef:iz,useState:function(){return N3(mv)},useDebugValue:Dk,useDeferredValue:function(r){var e=sl();return dz(e,Ki.memoizedState,r)},useTransition:function(){var r=N3(mv)[0],e=sl().memoizedState;return[r,e]},useMutableSource:Y$,useSyncExternalStore:J$,useId:hz,unstable_isNewReconciler:!1},lae={readContext:il,useCallback:cz,useContext:il,useEffect:Lk,useImperativeHandle:lz,useInsertionEffect:sz,useLayoutEffect:az,useMemo:uz,useReducer:B3,useRef:iz,useState:function(){return B3(mv)},useDebugValue:Dk,useDeferredValue:function(r){var e=sl();return Ki===null?e.memoizedState=r:dz(e,Ki.memoizedState,r)},useTransition:function(){var r=B3(mv)[0],e=sl().memoizedState;return[r,e]},useMutableSource:Y$,useSyncExternalStore:J$,useId:hz,unstable_isNewReconciler:!1};function kl(r,e){if(r&&r.defaultProps){e=ti({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function V_(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:ti({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var N5={isMounted:function(r){return(r=r._reactInternals)?pA(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Ca(),i=fh(r),s=Iu(n,i);s.payload=e,t!=null&&(s.callback=t),e=dh(r,s,i),e!==null&&(Dl(e,r,i,n),Dx(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Ca(),i=fh(r),s=Iu(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=dh(r,s,i),e!==null&&(Dl(e,r,i,n),Dx(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Ca(),n=fh(r),i=Iu(t,n);i.tag=2,e!=null&&(i.callback=e),e=dh(r,i,n),e!==null&&(Dl(e,r,n,t),Dx(e,r,n))}};function gM(r,e,t,n,i,s,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!cv(t,n)||!cv(i,s):!0}function mz(r,e,t){var n=!1,i=Ch,s=e.contextType;return typeof s=="object"&&s!==null?s=il(s):(i=za(e)?Wf:oa.current,n=e.contextTypes,s=(n=n!=null)?om(r,i):Ch),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=N5,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),e}function vM(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&N5.enqueueReplaceState(e,e.state,null)}function G_(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},jk(r);var s=e.contextType;typeof s=="object"&&s!==null?i.context=il(s):(s=za(e)?Wf:oa.current,i.context=om(r,s)),i.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(V_(r,e,s,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&N5.enqueueReplaceState(i,i.state,null),Ow(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function dm(r,e){try{var t="",n=e;do t+=Pie(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:i,digest:null}}function k3(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function K_(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var cae=typeof WeakMap=="function"?WeakMap:Map;function gz(r,e,t){t=Iu(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){Uw||(Uw=!0,nN=n),K_(r,e)},t}function vz(r,e,t){t=Iu(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){K_(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){K_(r,e),typeof n!="function"&&(hh===null?hh=new Set([this]):hh.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function yM(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new cae;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=Cae.bind(null,r,e,t),e.then(r,r))}function bM(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function xM(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Iu(-1,1),e.tag=2,dh(t,e,1))),t.lanes|=1),r)}var uae=od.ReactCurrentOwner,Ha=!1;function va(r,e,t,n){e.child=r===null?K$(e,null,t,n):cm(e,r.child,t,n)}function wM(r,e,t,n,i){t=t.render;var s=e.ref;return Hp(e,i),n=Pk(r,e,t,n,s,i),t=Rk(),r!==null&&!Ha?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,zu(r,e,i)):(Qn&&t&&Sk(e),e.flags|=1,va(r,e,n,i),e.child)}function CM(r,e,t,n,i){if(r===null){var s=t.type;return typeof s=="function"&&!Kk(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,yz(r,e,s,n,i)):(r=Vx(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:cv,t(a,n)&&r.ref===e.ref)return zu(r,e,i)}return e.flags|=1,r=Ah(s,n),r.ref=e.ref,r.return=e,e.child=r}function yz(r,e,t,n,i){if(r!==null){var s=r.memoizedProps;if(cv(s,n)&&r.ref===e.ref)if(Ha=!1,e.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(Ha=!0);else return e.lanes=r.lanes,zu(r,e,i)}return W_(r,e,t,n,i)}function bz(r,e,t){var n=e.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Sp,fo),fo|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,kn(Sp,fo),fo|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,kn(Sp,fo),fo|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,kn(Sp,fo),fo|=n;return va(r,e,i,t),e.child}function xz(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function W_(r,e,t,n,i){var s=za(t)?Wf:oa.current;return s=om(e,s),Hp(e,i),t=Pk(r,e,t,n,s,i),n=Rk(),r!==null&&!Ha?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,zu(r,e,i)):(Qn&&n&&Sk(e),e.flags|=1,va(r,e,t,i),e.child)}function SM(r,e,t,n,i){if(za(t)){var s=!0;Tw(e)}else s=!1;if(Hp(e,i),e.stateNode===null)Qx(r,e),mz(e,t,n),G_(e,t,n,i),n=!0;else if(r===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=il(c):(c=za(t)?Wf:oa.current,c=om(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&vM(e,a,n,c),zd=!1;var h=e.memoizedState;a.state=h,Ow(e,n,a,i),l=e.memoizedState,o!==n||h!==l||$a.current||zd?(typeof u=="function"&&(V_(e,t,u,n),l=e.memoizedState),(o=zd||gM(e,t,o,n,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,q$(r,e),o=e.memoizedProps,c=e.type===e.elementType?o:kl(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=il(l):(l=za(t)?Wf:oa.current,l=om(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&vM(e,a,n,l),zd=!1,h=e.memoizedState,a.state=h,Ow(e,n,a,i);var p=e.memoizedState;o!==d||h!==p||$a.current||zd?(typeof f=="function"&&(V_(e,t,f,n),p=e.memoizedState),(c=zd||gM(e,t,c,n,h,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),n=!1)}return q_(r,e,t,n,s,i)}function q_(r,e,t,n,i,s){xz(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&cM(e,t,!1),zu(r,e,s);n=e.stateNode,uae.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=cm(e,r.child,null,s),e.child=cm(e,null,o,s)):va(r,e,o,s),e.memoizedState=n.state,i&&cM(e,t,!0),e.child}function wz(r){var e=r.stateNode;e.pendingContext?lM(r,e.pendingContext,e.pendingContext!==e.context):e.context&&lM(r,e.context,!1),Fk(r,e.containerInfo)}function EM(r,e,t,n,i){return lm(),_k(i),e.flags|=256,va(r,e,t,n),e.child}var X_={dehydrated:null,treeContext:null,retryLane:0};function Y_(r){return{baseLanes:r,cachePool:null,transitions:null}}function Cz(r,e,t){var n=e.pendingProps,i=Xn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=r!==null&&r.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),kn(Xn,i&1),r===null)return $_(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=T5(a,n,0,null),r=Df(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=Y_(t),e.memoizedState=X_,r):Uk(e,a));if(i=r.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return dae(r,e,a,n,o,i,t);if(s){s=n.fallback,a=e.mode,i=r.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ah(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ah(o,s):(s=Df(s,a,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=r.child.memoizedState,a=a===null?Y_(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=r.childLanes&~t,e.memoizedState=X_,n}return s=r.child,r=s.sibling,n=Ah(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function Uk(r,e){return e=T5({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function q1(r,e,t,n){return n!==null&&_k(n),cm(e,r.child,null,t),r=Uk(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function dae(r,e,t,n,i,s,a){if(t)return e.flags&256?(e.flags&=-257,n=k3(Error(bt(422))),q1(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=T5({mode:"visible",children:n.children},i,0,null),s=Df(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&cm(e,r.child,null,a),e.child.memoizedState=Y_(a),e.memoizedState=X_,s);if(!(e.mode&1))return q1(r,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(bt(419)),n=k3(s,n,void 0),q1(r,e,a,n)}if(o=(a&r.childLanes)!==0,Ha||o){if(n=gs,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$u(r,i),Dl(n,r,i,-1))}return Gk(),n=k3(Error(bt(421))),q1(r,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=Sae.bind(null,r),i._reactRetry=e,null):(r=s.treeContext,go=uh(i.nextSibling),xo=e,Qn=!0,jl=null,r!==null&&(qo[Xo++]=Bu,qo[Xo++]=ku,qo[Xo++]=qf,Bu=r.id,ku=r.overflow,qf=e),e=Uk(e,n.children),e.flags|=4096,e)}function _M(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),z_(r.return,e,t)}function T3(r,e,t,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function Sz(r,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(va(r,e,n.children,t),n=Xn.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_M(r,t,e);else if(r.tag===19)_M(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(kn(Xn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Pw(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),T3(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Pw(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}T3(e,!0,t,null,s);break;case"together":T3(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qx(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function zu(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),Yf|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(bt(153));if(e.child!==null){for(r=e.child,t=Ah(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Ah(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function hae(r,e,t){switch(e.tag){case 3:wz(e),lm();break;case 5:X$(e);break;case 1:za(e.type)&&Tw(e);break;case 4:Fk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;kn(Iw,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(kn(Xn,Xn.current&1),e.flags|=128,null):t&e.child.childLanes?Cz(r,e,t):(kn(Xn,Xn.current&1),r=zu(r,e,t),r!==null?r.sibling:null);kn(Xn,Xn.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return Sz(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(Xn,Xn.current),n)break;return null;case 22:case 23:return e.lanes=0,bz(r,e,t)}return zu(r,e,t)}var Ez,J_,_z,Nz;Ez=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};J_=function(){};_z=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,kf(Bc.current);var s=null;switch(t){case"input":i=b_(r,i),n=b_(r,n),s=[];break;case"select":i=ti({},i,{value:void 0}),n=ti({},n,{value:void 0}),s=[];break;case"textarea":i=C_(r,i),n=C_(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Bw)}E_(t,n);var a;t=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rv.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i?.[c],n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Mn("scroll",r),s||o===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Nz=function(r,e,t,n){t!==n&&(e.flags|=4)};function j0(r,e){if(!Qn)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function qs(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function fae(r,e,t){var n=e.pendingProps;switch(Ek(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:return za(e.type)&&kw(),qs(e),null;case 3:return n=e.stateNode,um(),Rn($a),Rn(oa),Mk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(K1(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jl!==null&&(aN(jl),jl=null))),J_(r,e),qs(e),null;case 5:Ik(e);var i=kf(Av.current);if(t=e.type,r!==null&&e.stateNode!=null)_z(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(bt(166));return qs(e),null}if(r=kf(Bc.current),K1(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[bc]=e,n[hv]=s,r=(e.mode&1)!==0,t){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(i=0;i<vg.length;i++)Mn(vg[i],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":OI(n,s),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mn("invalid",n);break;case"textarea":RI(n,s),Mn("invalid",n)}E_(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&G1(n.textContent,o,r),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&G1(n.textContent,o,r),i=["children",""+o]):rv.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Mn("scroll",n)}switch(t){case"input":L1(n),PI(n,s,!0);break;case"textarea":L1(n),LI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Bw)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=t$(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[bc]=e,r[hv]=n,Ez(r,e,!1,!1),e.stateNode=r;e:{switch(a=__(t,n),t){case"dialog":Mn("cancel",r),Mn("close",r),i=n;break;case"iframe":case"object":case"embed":Mn("load",r),i=n;break;case"video":case"audio":for(i=0;i<vg.length;i++)Mn(vg[i],r);i=n;break;case"source":Mn("error",r),i=n;break;case"img":case"image":case"link":Mn("error",r),Mn("load",r),i=n;break;case"details":Mn("toggle",r),i=n;break;case"input":OI(r,n),i=b_(r,n),Mn("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=ti({},n,{value:void 0}),Mn("invalid",r);break;case"textarea":RI(r,n),i=C_(r,n),Mn("invalid",r);break;default:i=n}E_(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?i$(r,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r$(r,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&nv(r,l):typeof l=="number"&&nv(r,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rv.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Mn("scroll",r):l!=null&&uk(r,s,l,a))}switch(t){case"input":L1(r),PI(r,n,!1);break;case"textarea":L1(r),LI(r);break;case"option":n.value!=null&&r.setAttribute("value",""+wh(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?Rp(r,!!n.multiple,s,!1):n.defaultValue!=null&&Rp(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=Bw)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(r&&e.stateNode!=null)Nz(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(bt(166));if(t=kf(Av.current),kf(Bc.current),K1(e)){if(n=e.stateNode,t=e.memoizedProps,n[bc]=e,(s=n.nodeValue!==t)&&(r=xo,r!==null))switch(r.tag){case 3:G1(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&G1(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[bc]=e,e.stateNode=n}return qs(e),null;case 13:if(Rn(Xn),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Qn&&go!==null&&e.mode&1&&!(e.flags&128))V$(),lm(),e.flags|=98560,s=!1;else if(s=K1(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(bt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(bt(317));s[bc]=e}else lm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qs(e),s=!1}else jl!==null&&(aN(jl),jl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||Xn.current&1?Yi===0&&(Yi=3):Gk())),e.updateQueue!==null&&(e.flags|=4),qs(e),null);case 4:return um(),J_(r,e),r===null&&uv(e.stateNode.containerInfo),qs(e),null;case 10:return kk(e.type._context),qs(e),null;case 17:return za(e.type)&&kw(),qs(e),null;case 19:if(Rn(Xn),s=e.memoizedState,s===null)return qs(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)j0(s,!1);else{if(Yi!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=Pw(r),a!==null){for(e.flags|=128,j0(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return kn(Xn,Xn.current&1|2),e.child}r=r.sibling}s.tail!==null&&Ci()>hm&&(e.flags|=128,n=!0,j0(s,!1),e.lanes=4194304)}else{if(!n)if(r=Pw(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),j0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qn)return qs(e),null}else 2*Ci()-s.renderingStartTime>hm&&t!==1073741824&&(e.flags|=128,n=!0,j0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ci(),e.sibling=null,t=Xn.current,kn(Xn,n?t&1|2:t&1),e):(qs(e),null);case 22:case 23:return Vk(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?fo&1073741824&&(qs(e),e.subtreeFlags&6&&(e.flags|=8192)):qs(e),null;case 24:return null;case 25:return null}throw Error(bt(156,e.tag))}function Aae(r,e){switch(Ek(e),e.tag){case 1:return za(e.type)&&kw(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return um(),Rn($a),Rn(oa),Mk(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return Ik(e),null;case 13:if(Rn(Xn),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(bt(340));lm()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Rn(Xn),null;case 4:return um(),null;case 10:return kk(e.type._context),null;case 22:case 23:return Vk(),null;case 24:return null;default:return null}}var X1=!1,na=!1,pae=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Cp(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){oi(r,e,n)}else t.current=null}function Z_(r,e,t){try{t()}catch(n){oi(r,e,n)}}var NM=!1;function mae(r,e){if(P_=Ew,r=F$(),Ck(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=r,h=null;t:for(;;){for(var f;d!==t||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===r)break t;if(h===t&&++c===i&&(o=a),h===s&&++u===n&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(R_={focusedElem:r,selectionRange:t},Ew=!1,Rt=e;Rt!==null;)if(e=Rt,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,Rt=r;else for(;Rt!==null;){e=Rt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:kl(e.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(w){oi(e,e.return,w)}if(r=e.sibling,r!==null){r.return=e.return,Rt=r;break}Rt=e.return}return p=NM,NM=!1,p}function Dg(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&Z_(e,t,s)}i=i.next}while(i!==n)}}function B5(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function eN(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function Bz(r){var e=r.alternate;e!==null&&(r.alternate=null,Bz(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[bc],delete e[hv],delete e[U_],delete e[Jse],delete e[Zse])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function kz(r){return r.tag===5||r.tag===3||r.tag===4}function BM(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kz(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tN(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Bw));else if(n!==4&&(r=r.child,r!==null))for(tN(r,e,t),r=r.sibling;r!==null;)tN(r,e,t),r=r.sibling}function rN(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(rN(r,e,t),r=r.sibling;r!==null;)rN(r,e,t),r=r.sibling}var Fs=null,Tl=!1;function Od(r,e,t){for(t=t.child;t!==null;)Tz(r,e,t),t=t.sibling}function Tz(r,e,t){if(Nc&&typeof Nc.onCommitFiberUnmount=="function")try{Nc.onCommitFiberUnmount(b5,t)}catch{}switch(t.tag){case 5:na||Cp(t,e);case 6:var n=Fs,i=Tl;Fs=null,Od(r,e,t),Fs=n,Tl=i,Fs!==null&&(Tl?(r=Fs,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Fs.removeChild(t.stateNode));break;case 18:Fs!==null&&(Tl?(r=Fs,t=t.stateNode,r.nodeType===8?C3(r.parentNode,t):r.nodeType===1&&C3(r,t),ov(r)):C3(Fs,t.stateNode));break;case 4:n=Fs,i=Tl,Fs=t.stateNode.containerInfo,Tl=!0,Od(r,e,t),Fs=n,Tl=i;break;case 0:case 11:case 14:case 15:if(!na&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Z_(t,e,a),i=i.next}while(i!==n)}Od(r,e,t);break;case 1:if(!na&&(Cp(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){oi(t,e,o)}Od(r,e,t);break;case 21:Od(r,e,t);break;case 22:t.mode&1?(na=(n=na)||t.memoizedState!==null,Od(r,e,t),na=n):Od(r,e,t);break;default:Od(r,e,t)}}function kM(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new pae),e.forEach(function(n){var i=Eae.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function wl(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=r,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Fs=o.stateNode,Tl=!1;break e;case 3:Fs=o.stateNode.containerInfo,Tl=!0;break e;case 4:Fs=o.stateNode.containerInfo,Tl=!0;break e}o=o.return}if(Fs===null)throw Error(bt(160));Tz(s,a,i),Fs=null,Tl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){oi(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jz(e,r),e=e.sibling}function jz(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(wl(e,r),ac(r),n&4){try{Dg(3,r,r.return),B5(3,r)}catch(g){oi(r,r.return,g)}try{Dg(5,r,r.return)}catch(g){oi(r,r.return,g)}}break;case 1:wl(e,r),ac(r),n&512&&t!==null&&Cp(t,t.return);break;case 5:if(wl(e,r),ac(r),n&512&&t!==null&&Cp(t,t.return),r.flags&32){var i=r.stateNode;try{nv(i,"")}catch(g){oi(r,r.return,g)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,a=t!==null?t.memoizedProps:s,o=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&ZQ(i,s),__(o,a);var c=__(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?i$(i,d):u==="dangerouslySetInnerHTML"?r$(i,d):u==="children"?nv(i,d):uk(i,u,d,c)}switch(o){case"input":x_(i,s);break;case"textarea":e$(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Rp(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Rp(i,!!s.multiple,s.defaultValue,!0):Rp(i,!!s.multiple,s.multiple?[]:"",!1))}i[hv]=s}catch(g){oi(r,r.return,g)}}break;case 6:if(wl(e,r),ac(r),n&4){if(r.stateNode===null)throw Error(bt(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(g){oi(r,r.return,g)}}break;case 3:if(wl(e,r),ac(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{ov(e.containerInfo)}catch(g){oi(r,r.return,g)}break;case 4:wl(e,r),ac(r);break;case 13:wl(e,r),ac(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($k=Ci())),n&4&&kM(r);break;case 22:if(u=t!==null&&t.memoizedState!==null,r.mode&1?(na=(c=na)||u,wl(e,r),na=c):wl(e,r),ac(r),n&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!u&&r.mode&1)for(Rt=r,u=r.child;u!==null;){for(d=Rt=u;Rt!==null;){switch(h=Rt,f=h.child,h.tag){case 0:case 11:case 14:case 15:Dg(4,h,h.return);break;case 1:Cp(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,t=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){oi(n,t,g)}}break;case 5:Cp(h,h.return);break;case 22:if(h.memoizedState!==null){jM(d);continue}}f!==null?(f.return=h,Rt=f):jM(d)}u=u.sibling}e:for(u=null,d=r;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=n$("display",a))}catch(g){oi(r,r.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){oi(r,r.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===r)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(e,r),ac(r),n&4&&kM(r);break;case 21:break;default:wl(e,r),ac(r)}}function ac(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(kz(t)){var n=t;break e}t=t.return}throw Error(bt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(nv(i,""),n.flags&=-33);var s=BM(r);rN(r,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=BM(r);tN(r,o,a);break;default:throw Error(bt(161))}}catch(l){oi(r,r.return,l)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function gae(r,e,t){Rt=r,Fz(r)}function Fz(r,e,t){for(var n=(r.mode&1)!==0;Rt!==null;){var i=Rt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||X1;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||na;o=X1;var c=na;if(X1=a,(na=l)&&!c)for(Rt=i;Rt!==null;)a=Rt,l=a.child,a.tag===22&&a.memoizedState!==null?FM(i):l!==null?(l.return=a,Rt=l):FM(i);for(;s!==null;)Rt=s,Fz(s),s=s.sibling;Rt=i,X1=o,na=c}TM(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Rt=s):TM(r)}}function TM(r){for(;Rt!==null;){var e=Rt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:na||B5(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!na)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:kl(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&AM(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}AM(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ov(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}na||e.flags&512&&eN(e)}catch(h){oi(e,e.return,h)}}if(e===r){Rt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Rt=t;break}Rt=e.return}}function jM(r){for(;Rt!==null;){var e=Rt;if(e===r){Rt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Rt=t;break}Rt=e.return}}function FM(r){for(;Rt!==null;){var e=Rt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{B5(4,e)}catch(l){oi(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){oi(e,i,l)}}var s=e.return;try{eN(e)}catch(l){oi(e,s,l)}break;case 5:var a=e.return;try{eN(e)}catch(l){oi(e,a,l)}}}catch(l){oi(e,e.return,l)}if(e===r){Rt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Rt=o;break}Rt=e.return}}var vae=Math.ceil,Dw=od.ReactCurrentDispatcher,Hk=od.ReactCurrentOwner,rl=od.ReactCurrentBatchConfig,Xr=0,gs=null,Li=null,Ls=0,fo=0,Sp=Dh(0),Yi=0,vv=null,Yf=0,k5=0,Qk=0,Ug=null,Ua=null,$k=0,hm=1/0,xu=null,Uw=!1,nN=null,hh=null,Y1=!1,eh=null,Hw=0,Hg=0,iN=null,$x=-1,zx=0;function Ca(){return Xr&6?Ci():$x!==-1?$x:$x=Ci()}function fh(r){return r.mode&1?Xr&2&&Ls!==0?Ls&-Ls:tae.transition!==null?(zx===0&&(zx=m$()),zx):(r=fn,r!==0||(r=window.event,r=r===void 0?16:C$(r.type)),r):1}function Dl(r,e,t,n){if(50<Hg)throw Hg=0,iN=null,Error(bt(185));ty(r,t,n),(!(Xr&2)||r!==gs)&&(r===gs&&(!(Xr&2)&&(k5|=t),Yi===4&&Xd(r,Ls)),Va(r,n),t===1&&Xr===0&&!(e.mode&1)&&(hm=Ci()+500,E5&&Uh()))}function Va(r,e){var t=r.callbackNode;tse(r,e);var n=Sw(r,r===gs?Ls:0);if(n===0)t!==null&&HI(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&HI(t),e===1)r.tag===0?eae(IM.bind(null,r)):Q$(IM.bind(null,r)),Xse(function(){!(Xr&6)&&Uh()}),t=null;else{switch(g$(n)){case 1:t=pk;break;case 4:t=A$;break;case 16:t=Cw;break;case 536870912:t=p$;break;default:t=Cw}t=Uz(t,Iz.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function Iz(r,e){if($x=-1,zx=0,Xr&6)throw Error(bt(327));var t=r.callbackNode;if(Qp()&&r.callbackNode!==t)return null;var n=Sw(r,r===gs?Ls:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=Qw(r,n);else{e=n;var i=Xr;Xr|=2;var s=Oz();(gs!==r||Ls!==e)&&(xu=null,hm=Ci()+500,Lf(r,e));do try{xae();break}catch(o){Mz(r,o)}while(!0);Bk(),Dw.current=s,Xr=i,Li!==null?e=0:(gs=null,Ls=0,e=Yi)}if(e!==0){if(e===2&&(i=j_(r),i!==0&&(n=i,e=sN(r,i))),e===1)throw t=vv,Lf(r,0),Xd(r,n),Va(r,Ci()),t;if(e===6)Xd(r,n);else{if(i=r.current.alternate,!(n&30)&&!yae(i)&&(e=Qw(r,n),e===2&&(s=j_(r),s!==0&&(n=s,e=sN(r,s))),e===1))throw t=vv,Lf(r,0),Xd(r,n),Va(r,Ci()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(bt(345));case 2:vf(r,Ua,xu);break;case 3:if(Xd(r,n),(n&130023424)===n&&(e=$k+500-Ci(),10<e)){if(Sw(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){Ca(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=D_(vf.bind(null,r,Ua,xu),e);break}vf(r,Ua,xu);break;case 4:if(Xd(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var a=31-Ll(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Ci()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vae(n/1960))-n,10<n){r.timeoutHandle=D_(vf.bind(null,r,Ua,xu),n);break}vf(r,Ua,xu);break;case 5:vf(r,Ua,xu);break;default:throw Error(bt(329))}}}return Va(r,Ci()),r.callbackNode===t?Iz.bind(null,r):null}function sN(r,e){var t=Ug;return r.current.memoizedState.isDehydrated&&(Lf(r,e).flags|=256),r=Qw(r,e),r!==2&&(e=Ua,Ua=t,e!==null&&aN(e)),r}function aN(r){Ua===null?Ua=r:Ua.push.apply(Ua,r)}function yae(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!$l(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xd(r,e){for(e&=~Qk,e&=~k5,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-Ll(e),n=1<<t;r[t]=-1,e&=~n}}function IM(r){if(Xr&6)throw Error(bt(327));Qp();var e=Sw(r,0);if(!(e&1))return Va(r,Ci()),null;var t=Qw(r,e);if(r.tag!==0&&t===2){var n=j_(r);n!==0&&(e=n,t=sN(r,n))}if(t===1)throw t=vv,Lf(r,0),Xd(r,e),Va(r,Ci()),t;if(t===6)throw Error(bt(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,vf(r,Ua,xu),Va(r,Ci()),null}function zk(r,e){var t=Xr;Xr|=1;try{return r(e)}finally{Xr=t,Xr===0&&(hm=Ci()+500,E5&&Uh())}}function Jf(r){eh!==null&&eh.tag===0&&!(Xr&6)&&Qp();var e=Xr;Xr|=1;var t=rl.transition,n=fn;try{if(rl.transition=null,fn=1,r)return r()}finally{fn=n,rl.transition=t,Xr=e,!(Xr&6)&&Uh()}}function Vk(){fo=Sp.current,Rn(Sp)}function Lf(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,qse(t)),Li!==null)for(t=Li.return;t!==null;){var n=t;switch(Ek(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kw();break;case 3:um(),Rn($a),Rn(oa),Mk();break;case 5:Ik(n);break;case 4:um();break;case 13:Rn(Xn);break;case 19:Rn(Xn);break;case 10:kk(n.type._context);break;case 22:case 23:Vk()}t=t.return}if(gs=r,Li=r=Ah(r.current,null),Ls=fo=e,Yi=0,vv=null,Qk=k5=Yf=0,Ua=Ug=null,Bf!==null){for(e=0;e<Bf.length;e++)if(t=Bf[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}t.pending=n}Bf=null}return r}function Mz(r,e){do{var t=Li;try{if(Bk(),Ux.current=Lw,Rw){for(var n=Jn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rw=!1}if(Xf=0,hs=Ki=Jn=null,Lg=!1,pv=0,Hk.current=null,t===null||t.return===null){Yi=1,vv=e,Li=null;break}e:{var s=r,a=t.return,o=t,l=e;if(e=Ls,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=bM(a);if(f!==null){f.flags&=-257,xM(f,a,o,s,e),f.mode&1&&yM(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){yM(s,c,e),Gk();break e}l=Error(bt(426))}}else if(Qn&&o.mode&1){var m=bM(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),xM(m,a,o,s,e),_k(dm(l,o));break e}}s=l=dm(l,o),Yi!==4&&(Yi=2),Ug===null?Ug=[s]:Ug.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=gz(s,l,e);fM(s,v);break e;case 1:o=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hh===null||!hh.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=vz(s,o,e);fM(s,w);break e}}s=s.return}while(s!==null)}Rz(t)}catch(_){e=_,Li===t&&t!==null&&(Li=t=t.return);continue}break}while(!0)}function Oz(){var r=Dw.current;return Dw.current=Lw,r===null?Lw:r}function Gk(){(Yi===0||Yi===3||Yi===2)&&(Yi=4),gs===null||!(Yf&268435455)&&!(k5&268435455)||Xd(gs,Ls)}function Qw(r,e){var t=Xr;Xr|=2;var n=Oz();(gs!==r||Ls!==e)&&(xu=null,Lf(r,e));do try{bae();break}catch(i){Mz(r,i)}while(!0);if(Bk(),Xr=t,Dw.current=n,Li!==null)throw Error(bt(261));return gs=null,Ls=0,Yi}function bae(){for(;Li!==null;)Pz(Li)}function xae(){for(;Li!==null&&!Gie();)Pz(Li)}function Pz(r){var e=Dz(r.alternate,r,fo);r.memoizedProps=r.pendingProps,e===null?Rz(r):Li=e,Hk.current=null}function Rz(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=Aae(t,e),t!==null){t.flags&=32767,Li=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Yi=6,Li=null;return}}else if(t=fae(t,e,fo),t!==null){Li=t;return}if(e=e.sibling,e!==null){Li=e;return}Li=e=r}while(e!==null);Yi===0&&(Yi=5)}function vf(r,e,t){var n=fn,i=rl.transition;try{rl.transition=null,fn=1,wae(r,e,t,n)}finally{rl.transition=i,fn=n}return null}function wae(r,e,t,n){do Qp();while(eh!==null);if(Xr&6)throw Error(bt(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(bt(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(rse(r,s),r===gs&&(Li=gs=null,Ls=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Y1||(Y1=!0,Uz(Cw,function(){return Qp(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=rl.transition,rl.transition=null;var a=fn;fn=1;var o=Xr;Xr|=4,Hk.current=null,mae(r,t),jz(t,r),Qse(R_),Ew=!!P_,R_=P_=null,r.current=t,gae(t),Kie(),Xr=o,fn=a,rl.transition=s}else r.current=t;if(Y1&&(Y1=!1,eh=r,Hw=i),s=r.pendingLanes,s===0&&(hh=null),Xie(t.stateNode),Va(r,Ci()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uw)throw Uw=!1,r=nN,nN=null,r;return Hw&1&&r.tag!==0&&Qp(),s=r.pendingLanes,s&1?r===iN?Hg++:(Hg=0,iN=r):Hg=0,Uh(),null}function Qp(){if(eh!==null){var r=g$(Hw),e=rl.transition,t=fn;try{if(rl.transition=null,fn=16>r?16:r,eh===null)var n=!1;else{if(r=eh,eh=null,Hw=0,Xr&6)throw Error(bt(331));var i=Xr;for(Xr|=4,Rt=r.current;Rt!==null;){var s=Rt,a=s.child;if(Rt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Rt=c;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:Dg(8,u,s)}var d=u.child;if(d!==null)d.return=u,Rt=d;else for(;Rt!==null;){u=Rt;var h=u.sibling,f=u.return;if(Bz(u),u===c){Rt=null;break}if(h!==null){h.return=f,Rt=h;break}Rt=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Rt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Rt=a;else e:for(;Rt!==null;){if(s=Rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dg(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Rt=v;break e}Rt=s.return}}var y=r.current;for(Rt=y;Rt!==null;){a=Rt;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Rt=b;else e:for(a=y;Rt!==null;){if(o=Rt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:B5(9,o)}}catch(_){oi(o,o.return,_)}if(o===a){Rt=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Rt=w;break e}Rt=o.return}}if(Xr=i,Uh(),Nc&&typeof Nc.onPostCommitFiberRoot=="function")try{Nc.onPostCommitFiberRoot(b5,r)}catch{}n=!0}return n}finally{fn=t,rl.transition=e}}return!1}function MM(r,e,t){e=dm(t,e),e=gz(r,e,1),r=dh(r,e,1),e=Ca(),r!==null&&(ty(r,1,e),Va(r,e))}function oi(r,e,t){if(r.tag===3)MM(r,r,t);else for(;e!==null;){if(e.tag===3){MM(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hh===null||!hh.has(n))){r=dm(t,r),r=vz(e,r,1),e=dh(e,r,1),r=Ca(),e!==null&&(ty(e,1,r),Va(e,r));break}}e=e.return}}function Cae(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=Ca(),r.pingedLanes|=r.suspendedLanes&t,gs===r&&(Ls&t)===t&&(Yi===4||Yi===3&&(Ls&130023424)===Ls&&500>Ci()-$k?Lf(r,0):Qk|=t),Va(r,e)}function Lz(r,e){e===0&&(r.mode&1?(e=H1,H1<<=1,!(H1&130023424)&&(H1=4194304)):e=1);var t=Ca();r=$u(r,e),r!==null&&(ty(r,e,t),Va(r,t))}function Sae(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),Lz(r,t)}function Eae(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(bt(314))}n!==null&&n.delete(e),Lz(r,t)}var Dz;Dz=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||$a.current)Ha=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Ha=!1,hae(r,e,t);Ha=!!(r.flags&131072)}else Ha=!1,Qn&&e.flags&1048576&&$$(e,Fw,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qx(r,e),r=e.pendingProps;var i=om(e,oa.current);Hp(e,t),i=Pk(null,e,n,r,i,t);var s=Rk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,za(n)?(s=!0,Tw(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jk(e),i.updater=N5,e.stateNode=i,i._reactInternals=e,G_(e,n,r,t),e=q_(null,e,n,!0,s,t)):(e.tag=0,Qn&&s&&Sk(e),va(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(Qx(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Nae(n),r=kl(n,r),i){case 0:e=W_(null,e,n,r,t);break e;case 1:e=SM(null,e,n,r,t);break e;case 11:e=wM(null,e,n,r,t);break e;case 14:e=CM(null,e,n,kl(n.type,r),t);break e}throw Error(bt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kl(n,i),W_(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kl(n,i),SM(r,e,n,i,t);case 3:e:{if(wz(e),r===null)throw Error(bt(387));n=e.pendingProps,s=e.memoizedState,i=s.element,q$(r,e),Ow(e,n,null,t);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dm(Error(bt(423)),e),e=EM(r,e,n,t,i);break e}else if(n!==i){i=dm(Error(bt(424)),e),e=EM(r,e,n,t,i);break e}else for(go=uh(e.stateNode.containerInfo.firstChild),xo=e,Qn=!0,jl=null,t=K$(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(lm(),n===i){e=zu(r,e,t);break e}va(r,e,n,t)}e=e.child}return e;case 5:return X$(e),r===null&&$_(e),n=e.type,i=e.pendingProps,s=r!==null?r.memoizedProps:null,a=i.children,L_(n,i)?a=null:s!==null&&L_(n,s)&&(e.flags|=32),xz(r,e),va(r,e,a,t),e.child;case 6:return r===null&&$_(e),null;case 13:return Cz(r,e,t);case 4:return Fk(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=cm(e,null,n,t):va(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kl(n,i),wM(r,e,n,i,t);case 7:return va(r,e,e.pendingProps,t),e.child;case 8:return va(r,e,e.pendingProps.children,t),e.child;case 12:return va(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,kn(Iw,n._currentValue),n._currentValue=a,s!==null)if($l(s.value,a)){if(s.children===i.children&&!$a.current){e=zu(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Iu(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),z_(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(bt(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),z_(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}va(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Hp(e,t),i=il(i),n=n(i),e.flags|=1,va(r,e,n,t),e.child;case 14:return n=e.type,i=kl(n,e.pendingProps),i=kl(n.type,i),CM(r,e,n,i,t);case 15:return yz(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kl(n,i),Qx(r,e),e.tag=1,za(n)?(r=!0,Tw(e)):r=!1,Hp(e,t),mz(e,n,i),G_(e,n,i,t),q_(null,e,n,!0,r,t);case 19:return Sz(r,e,t);case 22:return bz(r,e,t)}throw Error(bt(156,e.tag))};function Uz(r,e){return f$(r,e)}function _ae(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(r,e,t,n){return new _ae(r,e,t,n)}function Kk(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Nae(r){if(typeof r=="function")return Kk(r)?1:0;if(r!=null){if(r=r.$$typeof,r===hk)return 11;if(r===fk)return 14}return 2}function Ah(r,e){var t=r.alternate;return t===null?(t=Jo(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function Vx(r,e,t,n,i,s){var a=2;if(n=r,typeof r=="function")Kk(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case Ap:return Df(t.children,i,s,e);case dk:a=8,i|=8;break;case m_:return r=Jo(12,t,e,i|2),r.elementType=m_,r.lanes=s,r;case g_:return r=Jo(13,t,e,i),r.elementType=g_,r.lanes=s,r;case v_:return r=Jo(19,t,e,i),r.elementType=v_,r.lanes=s,r;case XQ:return T5(t,i,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case WQ:a=10;break e;case qQ:a=9;break e;case hk:a=11;break e;case fk:a=14;break e;case $d:a=16,n=null;break e}throw Error(bt(130,r==null?r:typeof r,""))}return e=Jo(a,t,e,i),e.elementType=r,e.type=n,e.lanes=s,e}function Df(r,e,t,n){return r=Jo(7,r,n,e),r.lanes=t,r}function T5(r,e,t,n){return r=Jo(22,r,n,e),r.elementType=XQ,r.lanes=t,r.stateNode={isHidden:!1},r}function j3(r,e,t){return r=Jo(6,r,null,e),r.lanes=t,r}function F3(r,e,t){return e=Jo(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function Bae(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h3(0),this.expirationTimes=h3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h3(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wk(r,e,t,n,i,s,a,o,l){return r=new Bae(r,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jo(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},jk(s),r}function kae(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fp,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function Hz(r){if(!r)return Ch;r=r._reactInternals;e:{if(pA(r)!==r||r.tag!==1)throw Error(bt(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(za(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(bt(171))}if(r.tag===1){var t=r.type;if(za(t))return H$(r,t,e)}return e}function Qz(r,e,t,n,i,s,a,o,l){return r=Wk(t,n,!0,r,i,s,a,o,l),r.context=Hz(null),t=r.current,n=Ca(),i=fh(t),s=Iu(n,i),s.callback=e??null,dh(t,s,i),r.current.lanes=i,ty(r,i,n),Va(r,n),r}function j5(r,e,t,n){var i=e.current,s=Ca(),a=fh(i);return t=Hz(t),e.context===null?e.context=t:e.pendingContext=t,e=Iu(s,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=dh(i,e,a),r!==null&&(Dl(r,i,a,s),Dx(r,i,a)),a}function $w(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function OM(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function qk(r,e){OM(r,e),(r=r.alternate)&&OM(r,e)}function Tae(){return null}var $z=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xk(r){this._internalRoot=r}F5.prototype.render=Xk.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(bt(409));j5(r,e,null,null)};F5.prototype.unmount=Xk.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;Jf(function(){j5(null,r,null,null)}),e[Qu]=null}};function F5(r){this._internalRoot=r}F5.prototype.unstable_scheduleHydration=function(r){if(r){var e=b$();r={blockedOn:null,target:r,priority:e};for(var t=0;t<qd.length&&e!==0&&e<qd[t].priority;t++);qd.splice(t,0,r),t===0&&w$(r)}};function Yk(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function I5(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function PM(){}function jae(r,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=$w(a);s.call(c)}}var a=Qz(e,n,r,0,null,!1,!1,"",PM);return r._reactRootContainer=a,r[Qu]=a.current,uv(r.nodeType===8?r.parentNode:r),Jf(),a}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=$w(l);o.call(c)}}var l=Wk(r,0,!1,null,null,!1,!1,"",PM);return r._reactRootContainer=l,r[Qu]=l.current,uv(r.nodeType===8?r.parentNode:r),Jf(function(){j5(e,l,t,n)}),l}function M5(r,e,t,n,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=$w(a);o.call(l)}}j5(e,a,r,i)}else a=jae(t,e,r,i,n);return $w(a)}v$=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=gg(e.pendingLanes);t!==0&&(mk(e,t|1),Va(e,Ci()),!(Xr&6)&&(hm=Ci()+500,Uh()))}break;case 13:Jf(function(){var n=$u(r,1);if(n!==null){var i=Ca();Dl(n,r,1,i)}}),qk(r,1)}};gk=function(r){if(r.tag===13){var e=$u(r,134217728);if(e!==null){var t=Ca();Dl(e,r,134217728,t)}qk(r,134217728)}};y$=function(r){if(r.tag===13){var e=fh(r),t=$u(r,e);if(t!==null){var n=Ca();Dl(t,r,e,n)}qk(r,e)}};b$=function(){return fn};x$=function(r,e){var t=fn;try{return fn=r,e()}finally{fn=t}};B_=function(r,e,t){switch(e){case"input":if(x_(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=S5(n);if(!i)throw Error(bt(90));JQ(n),x_(n,i)}}}break;case"textarea":e$(r,t);break;case"select":e=t.value,e!=null&&Rp(r,!!t.multiple,e,!1)}};o$=zk;l$=Jf;var Fae={usingClientEntryPoint:!1,Events:[ny,vp,S5,s$,a$,zk]},F0={findFiberByHostInstance:Nf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iae={bundleType:F0.bundleType,version:F0.version,rendererPackageName:F0.rendererPackageName,rendererConfig:F0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:od.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=d$(r),r===null?null:r.stateNode},findFiberByHostInstance:F0.findFiberByHostInstance||Tae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J1.isDisabled&&J1.supportsFiber)try{b5=J1.inject(Iae),Nc=J1}catch{}}Bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fae;Bo.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yk(e))throw Error(bt(200));return kae(r,e,null,t)};Bo.createRoot=function(r,e){if(!Yk(r))throw Error(bt(299));var t=!1,n="",i=$z;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wk(r,1,!1,null,null,t,!1,n,i),r[Qu]=e.current,uv(r.nodeType===8?r.parentNode:r),new Xk(e)};Bo.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(bt(188)):(r=Object.keys(r).join(","),Error(bt(268,r)));return r=d$(e),r=r===null?null:r.stateNode,r};Bo.flushSync=function(r){return Jf(r)};Bo.hydrate=function(r,e,t){if(!I5(e))throw Error(bt(200));return M5(null,r,e,!0,t)};Bo.hydrateRoot=function(r,e,t){if(!Yk(r))throw Error(bt(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",a=$z;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=Qz(e,null,r,1,t??null,i,!1,s,a),r[Qu]=e.current,uv(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new F5(e)};Bo.render=function(r,e,t){if(!I5(e))throw Error(bt(200));return M5(null,r,e,!1,t)};Bo.unmountComponentAtNode=function(r){if(!I5(r))throw Error(bt(40));return r._reactRootContainer?(Jf(function(){M5(null,null,r,!1,function(){r._reactRootContainer=null,r[Qu]=null})}),!0):!1};Bo.unstable_batchedUpdates=zk;Bo.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!I5(t))throw Error(bt(200));if(r==null||r._reactInternals===void 0)throw Error(bt(38));return M5(r,e,t,!1,n)};Bo.version="18.3.1-next-f1338f8080-20240426";function zz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zz)}catch(r){console.error(r)}}zz(),zQ.exports=Bo;var sy=zQ.exports,Vz,RM=sy;Vz=RM.createRoot,RM.hydrateRoot;const Mae="modulepreload",Oae=function(r,e){return new URL(r,e).href},LM={},Ga=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(t.map(c=>{if(c=Oae(c,n),c in LM)return;LM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!n)for(let p=a.length-1;p>=0;p--){const g=a[p];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Mae,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DM="popstate";function Pae(r={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return oN("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:yv(i)}return Lae(e,t,null,r)}function Zn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rae(){return Math.random().toString(36).substring(2,10)}function UM(r,e){return{usr:r.state,key:r.key,idx:e}}function oN(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?jm(e):e,state:t,key:e&&e.key||n||Rae()}}function yv({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function jm(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function Lae(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,c=u();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function u(){return(a.state||{idx:null}).idx}function d(){o="POP";let m=u(),v=m==null?null:m-c;c=m,l&&l({action:o,location:g.location,delta:v})}function h(m,v){o="PUSH";let y=oN(g.location,m,v);c=u()+1;let b=UM(y,c),w=g.createHref(y);try{a.pushState(b,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:g.location,delta:1})}function f(m,v){o="REPLACE";let y=oN(g.location,m,v);c=u();let b=UM(y,c),w=g.createHref(y);a.replaceState(b,"",w),s&&l&&l({action:o,location:g.location,delta:0})}function p(m){return Dae(m)}let g={get action(){return o},get location(){return r(i,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DM,d),l=m,()=>{i.removeEventListener(DM,d),l=null}},createHref(m){return e(i,m)},createURL:p,encodeLocation(m){let v=p(m);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(m){return a.go(m)}};return g}function Dae(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zn(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:yv(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Gz(r,e,t="/"){return Uae(r,e,t,!1)}function Uae(r,e,t,n){let i=typeof e=="string"?jm(e):e,s=Vu(i.pathname||"/",t);if(s==null)return null;let a=Kz(r);Hae(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Jae(s);o=Xae(a[l],c,n)}return o}function Kz(r,e=[],t=[],n="",i=!1){let s=(a,o,l=i,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;Zn(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let d=Mu([n,u.relativePath]),h=t.concat(u);a.children&&a.children.length>0&&(Zn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Kz(a.children,e,h,d,l)),!(a.path==null&&!a.index)&&e.push({path:d,score:Wae(d,a.index),routesMeta:h})};return r.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let l of Wz(a.path))s(a,o,!0,l)}),e}function Wz(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Wz(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function Hae(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:qae(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Qae=/^:[\w-]+$/,$ae=3,zae=2,Vae=1,Gae=10,Kae=-2,HM=r=>r==="*";function Wae(r,e){let t=r.split("/"),n=t.length;return t.some(HM)&&(n+=Kae),e&&(n+=zae),t.filter(i=>!HM(i)).reduce((i,s)=>i+(Qae.test(s)?$ae:s===""?Vae:Gae),n)}function qae(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function Xae(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=zw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&t&&!n[n.length-1].route.index&&(d=zw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Mu([s,d.pathname]),pathnameBase:roe(Mu([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Mu([s,d.pathnameBase]))}return a}function zw(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Yae(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:d},h)=>{if(u==="*"){let p=o[h]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const f=o[h];return d&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:r}}function Yae(r,e=!1,t=!0){zl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Jae(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Vu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var qz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zae=r=>qz.test(r);function eoe(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?jm(r):r,s;if(t)if(Zae(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),zl(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=QM(t.substring(1),"/"):s=QM(t,e)}else s=e;return{pathname:s,search:noe(n),hash:ioe(i)}}function QM(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function I3(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function toe(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xz(r){let e=toe(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Yz(r,e,t,n=!1){let i;typeof r=="string"?i=jm(r):(i={...r},Zn(!i.pathname||!i.pathname.includes("?"),I3("?","pathname","search",i)),Zn(!i.pathname||!i.pathname.includes("#"),I3("#","pathname","hash",i)),Zn(!i.search||!i.search.includes("#"),I3("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=eoe(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Mu=r=>r.join("/").replace(/\/\/+/g,"/"),roe=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),noe=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ioe=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,soe=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function aoe(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ooe(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Jz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zz(r,e){let t=r;if(typeof t!="string"||!qz.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,i=!1;if(Jz)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=Vu(a.pathname,e);a.origin===s.origin&&o!=null?t=o+a.search+a.hash:i=!0}catch{zl(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eV=["POST","PUT","PATCH","DELETE"];new Set(eV);var loe=["GET",...eV];new Set(loe);var Fm=K.createContext(null);Fm.displayName="DataRouter";var O5=K.createContext(null);O5.displayName="DataRouterState";var coe=K.createContext(!1),tV=K.createContext({isTransitioning:!1});tV.displayName="ViewTransition";var uoe=K.createContext(new Map);uoe.displayName="Fetchers";var doe=K.createContext(null);doe.displayName="Await";var Al=K.createContext(null);Al.displayName="Navigation";var ay=K.createContext(null);ay.displayName="Location";var Qc=K.createContext({outlet:null,matches:[],isDataRoute:!1});Qc.displayName="Route";var Jk=K.createContext(null);Jk.displayName="RouteError";var rV="REACT_ROUTER_ERROR",hoe="REDIRECT",foe="ROUTE_ERROR_RESPONSE";function Aoe(r){if(r.startsWith(`${rV}:${hoe}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function poe(r){if(r.startsWith(`${rV}:${foe}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new soe(e.status,e.statusText,e.data)}catch{}}function moe(r,{relative:e}={}){Zn(oy(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=K.useContext(Al),{hash:i,pathname:s,search:a}=ly(r,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Mu([t,s])),n.createHref({pathname:o,search:a,hash:i})}function oy(){return K.useContext(ay)!=null}function mA(){return Zn(oy(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(ay).location}var nV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iV(r){K.useContext(Al).static||K.useLayoutEffect(r)}function Hh(){let{isDataRoute:r}=K.useContext(Qc);return r?Toe():goe()}function goe(){Zn(oy(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Fm),{basename:e,navigator:t}=K.useContext(Al),{matches:n}=K.useContext(Qc),{pathname:i}=mA(),s=JSON.stringify(Xz(n)),a=K.useRef(!1);return iV(()=>{a.current=!0}),K.useCallback((l,c={})=>{if(zl(a.current,nV),!a.current)return;if(typeof l=="number"){t.go(l);return}let u=Yz(l,JSON.parse(s),i,c.relative==="path");r==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Mu([e,u.pathname])),(c.replace?t.replace:t.push)(u,c.state,c)},[e,t,s,i,r])}K.createContext(null);function voe(){let{matches:r}=K.useContext(Qc),e=r[r.length-1];return e?e.params:{}}function ly(r,{relative:e}={}){let{matches:t}=K.useContext(Qc),{pathname:n}=mA(),i=JSON.stringify(Xz(t));return K.useMemo(()=>Yz(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function yoe(r,e){return sV(r,e)}function sV(r,e,t,n,i){Zn(oy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=K.useContext(Al),{matches:a}=K.useContext(Qc),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";oV(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=mA(),f;if(e){let y=typeof e=="string"?jm(e):e;Zn(u==="/"||y.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=h;let p=f.pathname||"/",g=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=Gz(r,{pathname:g});zl(d||m!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),zl(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Soe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Mu([u,s.encodeLocation?s.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Mu([u,s.encodeLocation?s.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),a,t,n,i);return e&&v?K.createElement(ay.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function boe(){let r=koe(),e=aoe(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,a)}var xoe=K.createElement(boe,null),aV=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=poe(r.digest);t&&(r=t)}let e=r!==void 0?K.createElement(Qc.Provider,{value:this.props.routeContext},K.createElement(Jk.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?K.createElement(woe,{error:r},e):e}};aV.contextType=coe;var M3=new WeakMap;function woe({children:r,error:e}){let{basename:t}=K.useContext(Al);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=Aoe(e.digest);if(n){let i=M3.get(e);if(i)throw i;let s=Zz(n.location,t);if(Jz&&!M3.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw M3.set(e,a),a}return K.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return r}function Coe({routeContext:r,match:e,children:t}){let n=K.useContext(Fm);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Qc.Provider,{value:r},t)}function Soe(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,a=t?.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Zn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,l=-1;if(t)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=t,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=t&&n?(u,d)=>{n(u,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:ooe(t.matches),errorInfo:d})}:void 0;return s.reduceRight((u,d,h)=>{let f,p=!1,g=null,m=null;t&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||xoe,o&&(l<0&&h===0?(oV("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):l===h&&(p=!0,m=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),y=()=>{let b;return f?b=g:p?b=m:d.route.Component?b=K.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,K.createElement(Coe,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?K.createElement(aV,{location:t.location,revalidation:t.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:c}):y()},null)}function Zk(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eoe(r){let e=K.useContext(Fm);return Zn(e,Zk(r)),e}function _oe(r){let e=K.useContext(O5);return Zn(e,Zk(r)),e}function Noe(r){let e=K.useContext(Qc);return Zn(e,Zk(r)),e}function eT(r){let e=Noe(r),t=e.matches[e.matches.length-1];return Zn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Boe(){return eT("useRouteId")}function koe(){let r=K.useContext(Jk),e=_oe("useRouteError"),t=eT("useRouteError");return r!==void 0?r:e.errors?.[t]}function Toe(){let{router:r}=Eoe("useNavigate"),e=eT("useNavigate"),t=K.useRef(!1);return iV(()=>{t.current=!0}),K.useCallback(async(i,s={})=>{zl(t.current,nV),t.current&&(typeof i=="number"?await r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var $M={};function oV(r,e,t){!e&&!$M[r]&&($M[r]=!0,zl(!1,t))}K.memo(joe);function joe({routes:r,future:e,state:t,onError:n}){return sV(r,void 0,t,n,e)}function $o(r){Zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Foe({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){Zn(!oy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=K.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof t=="string"&&(t=jm(t));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=t,p=K.useMemo(()=>{let g=Vu(c,o);return g==null?null:{location:{pathname:g,search:u,hash:d,state:h,key:f},navigationType:n}},[o,c,u,d,h,f,n]);return zl(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:K.createElement(Al.Provider,{value:l},K.createElement(ay.Provider,{children:e,value:p}))}function zM({children:r,location:e}){return yoe(lN(r),e)}function lN(r,e=[]){let t=[];return K.Children.forEach(r,(n,i)=>{if(!K.isValidElement(n))return;let s=[...e,i];if(n.type===K.Fragment){t.push.apply(t,lN(n.props.children,s));return}Zn(n.type===$o,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=lN(n.props.children,s)),t.push(a)}),t}var Gx="get",Kx="application/x-www-form-urlencoded";function P5(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Ioe(r){return P5(r)&&r.tagName.toLowerCase()==="button"}function Moe(r){return P5(r)&&r.tagName.toLowerCase()==="form"}function Ooe(r){return P5(r)&&r.tagName.toLowerCase()==="input"}function Poe(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Roe(r,e){return r.button===0&&(!e||e==="_self")&&!Poe(r)}var Z1=null;function Loe(){if(Z1===null)try{new FormData(document.createElement("form"),0),Z1=!1}catch{Z1=!0}return Z1}var Doe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function O3(r){return r!=null&&!Doe.has(r)?(zl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kx}"`),null):r}function Uoe(r,e){let t,n,i,s,a;if(Moe(r)){let o=r.getAttribute("action");n=o?Vu(o,e):null,t=r.getAttribute("method")||Gx,i=O3(r.getAttribute("enctype"))||Kx,s=new FormData(r)}else if(Ioe(r)||Ooe(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||o.getAttribute("action");if(n=l?Vu(l,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||Gx,i=O3(r.getAttribute("formenctype"))||O3(o.getAttribute("enctype"))||Kx,s=new FormData(o,r),!Loe()){let{name:c,type:u,value:d}=r;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,d)}}else{if(P5(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gx,n=null,i=Kx,a=r}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tT(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hoe(r,e,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Vu(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function Qoe(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $oe(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zoe(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Qoe(s,t);return a.links?a.links():[]}return[]}));return Woe(n.flat(1).filter($oe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function VM(r,e,t,n,i,s){let a=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,o=(l,c)=>t[c].pathname!==l.pathname||t[c].route.path?.endsWith("*")&&t[c].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Voe(r,e,{includeHydrateFallback:t}={}){return Goe(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Goe(r){return[...new Set(r)]}function Koe(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function Woe(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(Koe(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}function lV(){let r=K.useContext(Fm);return tT(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qoe(){let r=K.useContext(O5);return tT(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rT=K.createContext(void 0);rT.displayName="FrameworkContext";function cV(){let r=K.useContext(rT);return tT(r,"You must render this element inside a <HydratedRouter> element"),r}function Xoe(r,e){let t=K.useContext(rT),[n,i]=K.useState(!1),[s,a]=K.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=e,h=K.useRef(null);K.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let g=v=>{v.forEach(y=>{a(y.isIntersecting)})},m=new IntersectionObserver(g,{threshold:.5});return h.current&&m.observe(h.current),()=>{m.disconnect()}}},[r]),K.useEffect(()=>{if(n){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[n]);let f=()=>{i(!0)},p=()=>{i(!1),a(!1)};return t?r!=="intent"?[s,h,{}]:[s,h,{onFocus:I0(o,f),onBlur:I0(l,p),onMouseEnter:I0(c,f),onMouseLeave:I0(u,p),onTouchStart:I0(d,f)}]:[!1,h,{}]}function I0(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Yoe({page:r,...e}){let{router:t}=lV(),n=K.useMemo(()=>Gz(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?K.createElement(Zoe,{page:r,matches:n,...e}):null}function Joe(r){let{manifest:e,routeModules:t}=cV(),[n,i]=K.useState([]);return K.useEffect(()=>{let s=!1;return zoe(r,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[r,e,t]),n}function Zoe({page:r,matches:e,...t}){let n=mA(),{manifest:i,routeModules:s}=cV(),{basename:a}=lV(),{loaderData:o,matches:l}=qoe(),c=K.useMemo(()=>VM(r,e,l,i,n,"data"),[r,e,l,i,n]),u=K.useMemo(()=>VM(r,e,l,i,n,"assets"),[r,e,l,i,n]),d=K.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let p=new Set,g=!1;if(e.forEach(v=>{let y=i.routes[v.route.id];!y||!y.hasLoader||(!c.some(b=>b.route.id===v.route.id)&&v.route.id in o&&s[v.route.id]?.shouldRevalidate||y.hasClientLoader?g=!0:p.add(v.route.id))}),p.size===0)return[];let m=Hoe(r,a,"data");return g&&p.size>0&&m.searchParams.set("_routes",e.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[m.pathname+m.search]},[a,o,n,i,c,e,r,s]),h=K.useMemo(()=>Voe(u,i),[u,i]),f=Joe(u);return K.createElement(K.Fragment,null,d.map(p=>K.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),h.map(p=>K.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),f.map(({key:p,link:g})=>K.createElement("link",{key:p,nonce:t.nonce,...g})))}function ele(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tle&&(window.__reactRouterVersion="7.11.0")}catch{}function rle({basename:r,children:e,unstable_useTransitions:t,window:n}){let i=K.useRef();i.current==null&&(i.current=Pae({window:n,v5Compat:!0}));let s=i.current,[a,o]=K.useState({action:s.action,location:s.location}),l=K.useCallback(c=>{t===!1?o(c):K.startTransition(()=>o(c))},[t]);return K.useLayoutEffect(()=>s.listen(l),[s,l]),K.createElement(Foe,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var uV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dV=K.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:h,...f},p){let{basename:g,unstable_useTransitions:m}=K.useContext(Al),v=typeof c=="string"&&uV.test(c),y=Zz(c,g);c=y.to;let b=moe(c,{relative:i}),[w,_,B]=Xoe(n,f),R=sle(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m});function j(L){e&&e(L),L.defaultPrevented||R(L)}let k=K.createElement("a",{...f,...B,href:y.absoluteURL||b,onClick:y.isExternal||s?e:j,ref:ele(p,_),target:l,"data-discover":!v&&t==="render"?"true":void 0});return w&&!v?K.createElement(K.Fragment,null,k,K.createElement(Yoe,{page:b})):k});dV.displayName="Link";var cN=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},u){let d=ly(a,{relative:c.relative}),h=mA(),f=K.useContext(O5),{navigator:p,basename:g}=K.useContext(Al),m=f!=null&&ule(d)&&o===!0,v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,y=h.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(y=y.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&g&&(b=Vu(b,g)||b);const w=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=y===v||!i&&y.startsWith(v)&&y.charAt(w)==="/",B=b!=null&&(b===v||!i&&b.startsWith(v)&&b.charAt(v.length)==="/"),R={isActive:_,isPending:B,isTransitioning:m},j=_?e:void 0,k;typeof n=="function"?k=n(R):k=[n,_?"active":null,B?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(R):s;return K.createElement(dV,{...c,"aria-current":j,className:k,ref:u,style:L,to:a,viewTransition:o},typeof l=="function"?l(R):l)});cN.displayName="NavLink";var nle=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:a=Gx,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:h,...f},p)=>{let{unstable_useTransitions:g}=K.useContext(Al),m=lle(),v=cle(o,{relative:c}),y=a.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&uV.test(o),w=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let B=_.nativeEvent.submitter,R=B?.getAttribute("formmethod")||a,j=()=>m(B||_.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:h});g&&t!==!1?K.startTransition(()=>j()):j()};return K.createElement("form",{ref:p,method:y,action:v,onSubmit:n?l:w,...f,"data-discover":!b&&r==="render"?"true":void 0})});nle.displayName="Form";function ile(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hV(r){let e=K.useContext(Fm);return Zn(e,ile(r)),e}function sle(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let c=Hh(),u=mA(),d=ly(r,{relative:s});return K.useCallback(h=>{if(Roe(h,e)){h.preventDefault();let f=t!==void 0?t:yv(u)===yv(d),p=()=>c(r,{replace:f,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o});l?K.startTransition(()=>p()):p()}},[u,c,d,t,n,e,r,i,s,a,o,l])}var ale=0,ole=()=>`__${String(++ale)}__`;function lle(){let{router:r}=hV("useSubmit"),{basename:e}=K.useContext(Al),t=Boe(),n=r.fetch,i=r.navigate;return K.useCallback(async(s,a={})=>{let{action:o,method:l,encType:c,formData:u,body:d}=Uoe(s,e);if(a.navigate===!1){let h=a.fetcherKey||ole();await n(h,t,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:u,body:d,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,i,e,t])}function cle(r,{relative:e}={}){let{basename:t}=K.useContext(Al),n=K.useContext(Qc);Zn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...ly(r||".",{relative:e})},a=mA();if(r==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let u=o.toString();s.search=u?`?${u}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Mu([t,s.pathname])),yv(s)}function ule(r,{relative:e}={}){let t=K.useContext(tV);Zn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=hV("useViewTransitionState"),i=ly(r,{relative:e});if(!t.isTransitioning)return!1;let s=Vu(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Vu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return zw(i.pathname,a)!=null||zw(i.pathname,s)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ge=(r,e)=>{const t=K.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>K.createElement("svg",{ref:u,...dle,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${hle(r)}`,o].join(" "),...c},[...e.map(([d,h])=>K.createElement(d,h)),...Array.isArray(l)?l:[l]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=Ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=Ge("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=Ge("AreaChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M7 12v5h12V8l-5 5-4-4Z",key:"zxz28u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=Ge("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=Ge("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=Ge("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ge("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=Ge("Binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=Ge("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Ge("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=Ge("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=Ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Ge("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ge("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=Ge("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Ge("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Ge("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Ge("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Ge("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Ge("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=Ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ge("FileBarChart",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Ge("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=Ge("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */Ge("FileQuestion",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Ge("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"1vg67v"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=Ge("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=Ge("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Ge("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=Ge("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=Ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Ge("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=Ge("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=Ge("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=Ge("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=Ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=Ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=Ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=Ge("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=Ge("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ge("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=Ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=Ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=Ge("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=Ge("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Ge("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=Ge("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=Ge("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=Ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=Ge("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=Ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=Ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ge("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Ge("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=Ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=Ge("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Ge("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=Ge("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Ge("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=Ge("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=Ge("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=Ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=Ge("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Ge("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=Ge("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Ge("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=Ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ge("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=Ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ge("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=Ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=Ge("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=Ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=Ge("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=Ge("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ge("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Ge("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=Ge("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Ge("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Kle={primary:"bg-primary-900 text-white hover:bg-primary-800 active:bg-primary-950 focus:ring-primary-500",secondary:"bg-primary-100 text-primary-900 border border-primary-200 hover:bg-primary-200 active:bg-primary-300 focus:ring-primary-400",ghost:"bg-transparent text-primary-700 hover:bg-primary-100 active:bg-primary-200 focus:ring-primary-400",danger:"bg-error text-white hover:bg-red-600 active:bg-red-700 focus:ring-red-500"},Wle={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg",icon:"p-2"},Ye=K.forwardRef(({variant:r="primary",size:e="md",isLoading:t=!1,leftIcon:n,rightIcon:i,children:s,className:a="",disabled:o,debounce:l=300,onClick:c,...u},d)=>{const[h,f]=K.useState(!1),p=K.useRef(null);K.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const g=K.useCallback(y=>{h||t||o||c&&(f(!0),c(y),p.current=setTimeout(()=>{f(!1)},l))},[c,h,t,o,l]),m="inline-flex items-center justify-center gap-2 rounded-md font-medium transition-all duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",v=o||t||h;return A.jsxs("button",{ref:d,className:`${m} ${Kle[r]} ${Wle[e]} ${a}`,disabled:v,onClick:g,...u,children:[t?A.jsx(Vl,{className:"h-4 w-4 animate-spin"}):n,s,!t&&i]})});Ye.displayName="Button";function it({children:r,hover:e=!1,className:t="",...n}){const i="bg-white rounded-card shadow-card border border-primary-100 transition-shadow duration-200",s=e?"hover:shadow-card-hover":"";return A.jsx("div",{className:`${i} ${s} ${t}`,...n,children:r})}function or({children:r,action:e,className:t="",...n}){return A.jsxs("div",{className:`px-6 py-4 border-b border-primary-100 flex items-center justify-between ${t}`,...n,children:[A.jsx("div",{children:r}),e&&A.jsx("div",{children:e})]})}function lr({children:r,className:e="",...t}){return A.jsx("h3",{className:`text-lg font-semibold text-primary-900 ${e}`,...t,children:r})}function xa({children:r,className:e="",...t}){return A.jsx("p",{className:`text-sm text-primary-500 mt-1 ${e}`,...t,children:r})}function Ht({children:r,className:e="",...t}){return A.jsx("div",{className:`p-6 ${e}`,...t,children:r})}function Zf({children:r,className:e="",...t}){return A.jsx("div",{className:`px-6 py-4 border-t border-primary-100 bg-primary-50 rounded-b-card ${e}`,...t,children:r})}var Pi=(r=>(r.DEBIT="DEBIT",r.CREDIT="CREDIT",r.FEE="FEE",r.INTEREST="INTEREST",r.TRANSFER="TRANSFER",r.CARD="CARD",r.ATM="ATM",r.CHECK="CHECK",r.OTHER="OTHER",r))(Pi||{}),ke=(r=>(r.DUPLICATE_FEE="DUPLICATE_FEE",r.GHOST_FEE="GHOST_FEE",r.OVERCHARGE="OVERCHARGE",r.INTEREST_ERROR="INTEREST_ERROR",r.UNAUTHORIZED="UNAUTHORIZED",r.ROUNDING_ABUSE="ROUNDING_ABUSE",r.VALUE_DATE_ERROR="VALUE_DATE_ERROR",r.SUSPICIOUS_TRANSACTION="SUSPICIOUS_TRANSACTION",r.COMPLIANCE_VIOLATION="COMPLIANCE_VIOLATION",r.CASHFLOW_ANOMALY="CASHFLOW_ANOMALY",r.RECONCILIATION_GAP="RECONCILIATION_GAP",r.MULTI_BANK_ISSUE="MULTI_BANK_ISSUE",r.OHADA_NON_COMPLIANCE="OHADA_NON_COMPLIANCE",r.AML_ALERT="AML_ALERT",r.FEE_ANOMALY="FEE_ANOMALY",r))(ke||{}),je=(r=>(r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH",r.CRITICAL="CRITICAL",r))(je||{}),Tf=(r=>(r.PENDING="PENDING",r.RUNNING="RUNNING",r.COMPLETED="COMPLETED",r.FAILED="FAILED",r))(Tf||{});const DV={CEMAC:{code:"XAF",name:"Franc CFA BEAC"},UEMOA:{code:"XOF",name:"Franc CFA BCEAO"}},Pm={CM:"Cameroun",CF:"Centrafrique",CG:"Congo",GA:"Gabon",GQ:"Guine quatoriale",TD:"Tchad"},Rm={BJ:"Bnin",BF:"Burkina Faso",CI:"Cte d'Ivoire",GW:"Guine-Bissau",ML:"Mali",NE:"Niger",SN:"Sngal",TG:"Togo"},xc={...Pm,...Rm},Wa={DUPLICATE_FEE:"Frais en double",GHOST_FEE:"Frais fantme",OVERCHARGE:"Surfacturation",INTEREST_ERROR:"Erreur d'intrts",UNAUTHORIZED:"Frais non autoris",ROUNDING_ABUSE:"Abus d'arrondi",VALUE_DATE_ERROR:"Erreur date de valeur",SUSPICIOUS_TRANSACTION:"Opration suspecte",COMPLIANCE_VIOLATION:"Non-conformit",CASHFLOW_ANOMALY:"Anomalie trsorerie",RECONCILIATION_GAP:"cart rapprochement",MULTI_BANK_ISSUE:"Problme multi-banques",OHADA_NON_COMPLIANCE:"Non-conformit OHADA",AML_ALERT:"Alerte anti-blanchiment"},Sv={LOW:"Faible",MEDIUM:"Moyen",HIGH:"lev",CRITICAL:"Critique"},fN={duplicateDetection:{similarityThreshold:.85,timeWindowDays:5,amountTolerance:.01},ghostFeeDetection:{entropyThreshold:2.5,orphanWindowDays:1,minConfidence:.7},overchargeDetection:{tolerancePercentage:.02,useHistoricalBaseline:!0},interestCalculation:{toleranceAmount:1,tolerancePercentage:.01}},qle={default:"bg-primary-100 text-primary-700",secondary:"bg-primary-100 text-primary-600",low:"bg-primary-100 text-primary-700",medium:"bg-amber-100 text-amber-800",high:"bg-red-100 text-red-800",critical:"bg-red-900 text-white",success:"bg-green-100 text-green-800",info:"bg-blue-100 text-blue-800",warning:"bg-amber-100 text-amber-800",error:"bg-red-100 text-red-800"},Xle={default:"bg-primary-500",secondary:"bg-primary-400",low:"bg-primary-500",medium:"bg-amber-500",high:"bg-red-500",critical:"bg-red-100",success:"bg-green-500",info:"bg-blue-500",warning:"bg-amber-500",error:"bg-red-500"};function Ir({variant:r="default",children:e,dot:t=!1,className:n="",...i}){return A.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${qle[r]} ${n}`,...i,children:[t&&A.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Xle[r]}`}),e]})}const Yle={[je.LOW]:"low",[je.MEDIUM]:"medium",[je.HIGH]:"high",[je.CRITICAL]:"critical"};function P3({severity:r,showLabel:e=!0,...t}){return A.jsx(Ir,{variant:Yle[r],dot:!0,...t,children:e?Sv[r]:r})}ke.DUPLICATE_FEE+"",ke.GHOST_FEE+"",ke.OVERCHARGE+"",ke.INTEREST_ERROR+"",ke.UNAUTHORIZED+"",ke.ROUNDING_ABUSE+"";const Jle={algorithm:{icon:Eh,label:"Algorithme",shortLabel:"Algo",color:"bg-blue-100 text-blue-700 border-blue-200",iconColor:"text-blue-600",description:"Detecte par regles mathematiques"},ai:{icon:Wx,label:"Intelligence Artificielle",shortLabel:"IA",color:"bg-purple-100 text-purple-700 border-purple-200",iconColor:"text-purple-600",description:"Detecte par analyse IA (Claude)"},hybrid:{icon:Om,label:"Hybride",shortLabel:"Hybride",color:"bg-amber-100 text-amber-700 border-amber-200",iconColor:"text-amber-600",description:"Detecte par algorithme + confirme par IA"}};function UV({source:r="algorithm",size:e="sm",showLabel:t=!0,className:n=""}){const i=Jle[r],s=i.icon,a={sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-1 text-sm gap-1.5"},o=e==="sm"?"w-3 h-3":"w-4 h-4";return A.jsxs("span",{className:`inline-flex items-center rounded-full border font-medium ${i.color} ${a[e]} ${n}`,title:i.description,children:[A.jsx(s,{className:`${o} ${i.iconColor}`}),t&&A.jsx("span",{children:e==="sm"?i.shortLabel:i.label})]})}const er=K.forwardRef(({label:r,error:e,helperText:t,leftIcon:n,rightIcon:i,className:s="",id:a,...o},l)=>{const c=a||`input-${Math.random().toString(36).substr(2,9)}`,d=`
      w-full px-3 py-2 rounded-md border bg-white
      text-primary-900 placeholder:text-primary-400
      transition-colors duration-200
      hover:border-primary-300
      focus:outline-none focus:ring-2 focus:border-transparent
      disabled:bg-primary-50 disabled:cursor-not-allowed
      ${n?"pl-10":""}
      ${i?"pr-10":""}
      ${!!e?"border-error focus:ring-error":"border-primary-200 focus:ring-primary-900"}
      ${s}
    `;return A.jsxs("div",{className:"w-full",children:[r&&A.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-primary-700 mb-1",children:r}),A.jsxs("div",{className:"relative",children:[n&&A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-primary-400",children:n}),A.jsx("input",{ref:l,id:c,className:d,...o}),i&&A.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-primary-400",children:i})]}),e&&A.jsx("p",{className:"text-sm text-error mt-1",children:e}),!e&&t&&A.jsx("p",{className:"text-sm text-primary-500 mt-1",children:t})]})});er.displayName="Input";const Zle=K.forwardRef(({label:r,error:e,helperText:t,className:n="",id:i,...s},a)=>{const o=i||`textarea-${Math.random().toString(36).substr(2,9)}`,c=`
      w-full px-3 py-2 rounded-md border bg-white
      text-primary-900 placeholder:text-primary-400
      transition-colors duration-200
      hover:border-primary-300
      focus:outline-none focus:ring-2 focus:border-transparent
      disabled:bg-primary-50 disabled:cursor-not-allowed
      resize-none
      ${!!e?"border-error focus:ring-error":"border-primary-200 focus:ring-primary-900"}
      ${n}
    `;return A.jsxs("div",{className:"w-full",children:[r&&A.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-primary-700 mb-1",children:r}),A.jsx("textarea",{ref:a,id:o,className:c,...s}),e&&A.jsx("p",{className:"text-sm text-error mt-1",children:e}),!e&&t&&A.jsx("p",{className:"text-sm text-primary-500 mt-1",children:t})]})});Zle.displayName="Textarea";const Tn=K.forwardRef(({label:r,error:e,helperText:t,options:n,placeholder:i,className:s="",id:a,children:o,...l},c)=>{const u=a||`select-${Math.random().toString(36).substr(2,9)}`,h=`
      w-full px-3 py-2 rounded-md border bg-white
      text-primary-900
      transition-colors duration-200
      hover:border-primary-300
      focus:outline-none focus:ring-2 focus:border-transparent
      disabled:bg-primary-50 disabled:cursor-not-allowed
      appearance-none cursor-pointer pr-10
      ${!!e?"border-error focus:ring-error":"border-primary-200 focus:ring-primary-900"}
      ${s}
    `;return A.jsxs("div",{className:"w-full",children:[r&&A.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-primary-700 mb-1",children:r}),A.jsxs("div",{className:"relative",children:[A.jsxs("select",{ref:c,id:u,className:h,...l,children:[i&&A.jsx("option",{value:"",disabled:!0,children:i}),o,n&&n.map(f=>A.jsx("option",{value:f.value,disabled:f.disabled,children:f.label},f.value))]}),A.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-primary-400",children:A.jsx(gA,{className:"h-4 w-4"})})]}),e&&A.jsx("p",{className:"text-sm text-error mt-1",children:e}),!e&&t&&A.jsx("p",{className:"text-sm text-primary-500 mt-1",children:t})]})});Tn.displayName="Select";const ece={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-[90vw]"};function ld({isOpen:r,onClose:e,title:t,description:n,children:i,footer:s,size:a="md",closeOnOverlayClick:o=!0,closeOnEscape:l=!0}){const c=K.useRef(null);return K.useEffect(()=>{if(!l)return;const u=d=>{d.key==="Escape"&&r&&e()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[r,e,l]),K.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),K.useEffect(()=>{if(!r||!c.current)return;const u=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),d=u[0],h=u[u.length-1],f=p=>{p.key==="Tab"&&(p.shiftKey?document.activeElement===d&&(p.preventDefault(),h?.focus()):document.activeElement===h&&(p.preventDefault(),d?.focus()))};return document.addEventListener("keydown",f),d?.focus(),()=>document.removeEventListener("keydown",f)},[r]),r?A.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[A.jsx("div",{className:"absolute inset-0 bg-primary-950/50 backdrop-blur-sm animate-fade-in",onClick:o?e:void 0,"aria-hidden":"true"}),A.jsxs("div",{ref:c,role:"dialog","aria-modal":"true","aria-labelledby":t?"modal-title":void 0,"aria-describedby":n?"modal-description":void 0,className:`relative w-full ${ece[a]} mx-4 bg-white rounded-card shadow-dropdown animate-slide-up max-h-[90vh] flex flex-col`,children:[(t||n)&&A.jsx("div",{className:"px-6 py-4 border-b border-primary-100 flex-shrink-0",children:A.jsxs("div",{className:"flex items-start justify-between gap-4",children:[A.jsxs("div",{children:[t&&A.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-primary-900",children:t}),n&&A.jsx("p",{id:"modal-description",className:"text-sm text-primary-500 mt-1",children:n})]}),A.jsx(Ye,{variant:"ghost",size:"icon",onClick:e,"aria-label":"Fermer",children:A.jsx(Eo,{className:"h-5 w-5"})})]})}),A.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:i}),s&&A.jsx("div",{className:"px-6 py-4 border-t border-primary-100 bg-primary-50 rounded-b-card flex-shrink-0",children:s})]})]}):null}function HV({isOpen:r,onClose:e,onConfirm:t,title:n,message:i,confirmLabel:s="Confirmer",cancelLabel:a="Annuler",variant:o="primary",isLoading:l=!1}){return A.jsx(ld,{isOpen:r,onClose:e,title:n,size:"sm",footer:A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx(Ye,{variant:"secondary",onClick:e,disabled:l,children:a}),A.jsx(Ye,{variant:o==="danger"?"danger":"primary",onClick:t,isLoading:l,children:s})]}),children:A.jsx("p",{className:"text-primary-600",children:i})})}const XM={sm:"h-1",md:"h-2",lg:"h-3"},tce={default:"bg-primary-900",success:"bg-success",warning:"bg-warning",error:"bg-error"};function rce({value:r,max:e=100,showLabel:t=!1,size:n="md",variant:i="default",className:s="",...a}){const o=Math.min(Math.max(r/e*100,0),100);return A.jsxs("div",{className:`w-full ${s}`,...a,children:[t&&A.jsxs("div",{className:"flex justify-between mb-1",children:[A.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Progression"}),A.jsxs("span",{className:"text-sm text-primary-500",children:[Math.round(o),"%"]})]}),A.jsx("div",{className:`w-full bg-primary-100 rounded-full overflow-hidden ${XM[n]}`,children:A.jsx("div",{className:`${XM[n]} ${tce[i]} rounded-full transition-all duration-500 ease-out`,style:{width:`${o}%`},role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":e})})]})}const nce={info:{containerClass:"bg-blue-50 border-blue-200",iconClass:"text-blue-500",titleClass:"text-blue-800",textClass:"text-blue-700",Icon:uy},success:{containerClass:"bg-green-50 border-green-200",iconClass:"text-green-500",titleClass:"text-green-800",textClass:"text-green-700",Icon:al},warning:{containerClass:"bg-amber-50 border-amber-200",iconClass:"text-amber-500",titleClass:"text-amber-800",textClass:"text-amber-700",Icon:Gu},error:{containerClass:"bg-red-50 border-red-200",iconClass:"text-red-500",titleClass:"text-red-800",textClass:"text-red-700",Icon:Cv}};function kc({variant:r="info",title:e,children:t,onClose:n,className:i=""}){const s=nce[r],a=s.Icon;return A.jsx("div",{className:`rounded-md border p-4 ${s.containerClass} ${i}`,role:"alert",children:A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx(a,{className:`h-5 w-5 ${s.iconClass}`,"aria-hidden":"true"})}),A.jsxs("div",{className:"ml-3 flex-1",children:[e&&A.jsx("h3",{className:`text-sm font-medium ${s.titleClass}`,children:e}),A.jsx("div",{className:`text-sm ${s.textClass} ${e?"mt-1":""}`,children:t})]}),n&&A.jsx("div",{className:"ml-auto pl-3",children:A.jsxs("button",{type:"button",onClick:n,className:`inline-flex rounded-md p-1.5 ${s.textClass} hover:bg-white/50 focus:outline-none focus:ring-2 focus:ring-offset-2`,children:[A.jsx("span",{className:"sr-only",children:"Fermer"}),A.jsx(Eo,{className:"h-5 w-5","aria-hidden":"true"})]})})]})})}const ice={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"},sce={top:"top-full left-1/2 -translate-x-1/2 border-t-primary-900 border-x-transparent border-b-transparent",bottom:"bottom-full left-1/2 -translate-x-1/2 border-b-primary-900 border-x-transparent border-t-transparent",left:"left-full top-1/2 -translate-y-1/2 border-l-primary-900 border-y-transparent border-r-transparent",right:"right-full top-1/2 -translate-y-1/2 border-r-primary-900 border-y-transparent border-l-transparent"};function ace({content:r,children:e,position:t="top",delay:n=200,className:i=""}){const[s,a]=K.useState(!1),o=K.useRef(null),l=()=>{o.current=setTimeout(()=>{a(!0)},n)},c=()=>{o.current&&clearTimeout(o.current),a(!1)};return K.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]),A.jsxs("div",{className:"relative inline-flex",onMouseEnter:l,onMouseLeave:c,onFocus:l,onBlur:c,children:[e,s&&A.jsxs("div",{className:`absolute z-50 ${ice[t]} animate-fade-in`,role:"tooltip",children:[A.jsx("div",{className:`px-2 py-1 text-xs font-medium text-white bg-primary-900 rounded shadow-lg whitespace-nowrap ${i}`,children:r}),A.jsx("div",{className:`absolute w-0 h-0 border-4 ${sce[t]}`,"aria-hidden":"true"})]})]})}function Ep({content:r,position:e="top"}){return A.jsx(ace,{content:r,position:e,children:A.jsx("button",{type:"button",className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-primary-100 text-primary-500 hover:bg-primary-200 focus:outline-none","aria-label":"Plus d'informations",children:A.jsx("span",{className:"text-xs font-bold",children:"?"})})})}const oce={sm:{icon:36,text:"text-3xl"},md:{icon:44,text:"text-4xl"},lg:{icon:52,text:"text-5xl"},xl:{icon:64,text:"text-6xl"}};function QV({size:r="md",showText:e=!0,className:t=""}){const{icon:n,text:i}=oce[r];return A.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[A.jsx("div",{className:"relative flex-shrink-0",style:{width:n,height:n},children:A.jsxs("svg",{viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[A.jsxs("defs",{children:[A.jsxs("linearGradient",{id:"shieldGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#1e3a5f"}),A.jsx("stop",{offset:"100%",stopColor:"#0f2744"})]}),A.jsxs("linearGradient",{id:"accentGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),A.jsx("stop",{offset:"100%",stopColor:"#1d4ed8"})]}),A.jsxs("linearGradient",{id:"barGradient",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[A.jsx("stop",{offset:"0%",stopColor:"#10b981"}),A.jsx("stop",{offset:"100%",stopColor:"#34d399"})]})]}),A.jsx("path",{d:"M32 4L8 14v18c0 14 10.67 26.67 24 30 13.33-3.33 24-16 24-30V14L32 4z",fill:"url(#shieldGradient)"}),A.jsx("path",{d:"M32 8L12 16.5v14.5c0 11.5 8.67 21.83 20 24.5 11.33-2.67 20-13 20-24.5V16.5L32 8z",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"1"}),A.jsx("rect",{x:"18",y:"36",width:"6",height:"12",rx:"1",fill:"url(#barGradient)",opacity:"0.9"}),A.jsx("rect",{x:"26",y:"30",width:"6",height:"18",rx:"1",fill:"url(#barGradient)",opacity:"0.9"}),A.jsx("rect",{x:"34",y:"24",width:"6",height:"24",rx:"1",fill:"url(#barGradient)",opacity:"0.9"}),A.jsx("circle",{cx:"42",cy:"22",r:"10",fill:"url(#accentGradient)",stroke:"white",strokeWidth:"2"}),A.jsx("circle",{cx:"42",cy:"22",r:"5",fill:"none",stroke:"white",strokeWidth:"2",opacity:"0.8"}),A.jsx("line",{x1:"49",y1:"29",x2:"54",y2:"34",stroke:"white",strokeWidth:"3",strokeLinecap:"round"}),A.jsx("path",{d:"M38 22l3 3 5-6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e&&A.jsx("span",{className:`font-display ${i} font-medium text-primary-900 tracking-tight`,children:"Scrutix"})]})}function lce({size:r=32,className:e=""}){return A.jsxs("svg",{viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:{width:r,height:r},children:[A.jsxs("defs",{children:[A.jsxs("linearGradient",{id:"shieldGradientIcon",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#1e3a5f"}),A.jsx("stop",{offset:"100%",stopColor:"#0f2744"})]}),A.jsxs("linearGradient",{id:"accentGradientIcon",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#3b82f6"}),A.jsx("stop",{offset:"100%",stopColor:"#1d4ed8"})]}),A.jsxs("linearGradient",{id:"barGradientIcon",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[A.jsx("stop",{offset:"0%",stopColor:"#10b981"}),A.jsx("stop",{offset:"100%",stopColor:"#34d399"})]})]}),A.jsx("path",{d:"M32 4L8 14v18c0 14 10.67 26.67 24 30 13.33-3.33 24-16 24-30V14L32 4z",fill:"url(#shieldGradientIcon)"}),A.jsx("path",{d:"M32 8L12 16.5v14.5c0 11.5 8.67 21.83 20 24.5 11.33-2.67 20-13 20-24.5V16.5L32 8z",fill:"none",stroke:"rgba(255,255,255,0.15)",strokeWidth:"1"}),A.jsx("rect",{x:"18",y:"36",width:"6",height:"12",rx:"1",fill:"url(#barGradientIcon)",opacity:"0.9"}),A.jsx("rect",{x:"26",y:"30",width:"6",height:"18",rx:"1",fill:"url(#barGradientIcon)",opacity:"0.9"}),A.jsx("rect",{x:"34",y:"24",width:"6",height:"24",rx:"1",fill:"url(#barGradientIcon)",opacity:"0.9"}),A.jsx("circle",{cx:"42",cy:"22",r:"10",fill:"url(#accentGradientIcon)",stroke:"white",strokeWidth:"2"}),A.jsx("circle",{cx:"42",cy:"22",r:"5",fill:"none",stroke:"white",strokeWidth:"2",opacity:"0.8"}),A.jsx("line",{x1:"49",y1:"29",x2:"54",y2:"34",stroke:"white",strokeWidth:"3",strokeLinecap:"round"}),A.jsx("path",{d:"M38 22l3 3 5-6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}class cce extends K.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),console.error("[ErrorBoundary] Caught error:",e,t)}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-white flex items-center justify-center p-6",children:A.jsx("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-xl border border-red-100 p-8",children:A.jsxs("div",{className:"flex flex-col items-center text-center",children:[A.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:A.jsx(As,{className:"w-8 h-8 text-red-600"})}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Une erreur est survenue"}),A.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontr un problme inattendu. Nous nous excusons pour la gne occasionne."}),!1,A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("button",{onClick:this.handleRetry,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[A.jsx(hy,{className:"w-4 h-4"}),"Ressayer"]}),A.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[A.jsx(CV,{className:"w-4 h-4"}),"Accueil"]})]})]})})}):this.props.children}}function DA(r,e,t){let n=t.initialDeps??[],i,s=!0;function a(){var o,l,c;let u;t.key&&((o=t.debug)!=null&&o.call(t))&&(u=Date.now());const d=r();if(!(d.length!==n.length||d.some((p,g)=>n[g]!==p)))return i;n=d;let f;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(f=Date.now()),i=e(...d),t.key&&((c=t.debug)!=null&&c.call(t))){const p=Math.round((Date.now()-u)*100)/100,g=Math.round((Date.now()-f)*100)/100,m=g/16,v=(y,b)=>{for(y=String(y);y.length<b;)y=" "+y;return y};console.info(`%c ${v(g,5)} /${v(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,t?.key)}return t?.onChange&&!(s&&t.skipInitialOnChange)&&t.onChange(i),s=!1,i}return a.updateDeps=o=>{n=o},a}function YM(r,e){if(r===void 0)throw new Error("Unexpected undefined");return r}const uce=(r,e)=>Math.abs(r-e)<1.01,dce=(r,e,t)=>{let n;return function(...i){r.clearTimeout(n),n=r.setTimeout(()=>e.apply(this,i),t)}},JM=r=>{const{offsetWidth:e,offsetHeight:t}=r;return{width:e,height:t}},hce=r=>r,fce=r=>{const e=Math.max(r.startIndex-r.overscan,0),t=Math.min(r.endIndex+r.overscan,r.count-1),n=[];for(let i=e;i<=t;i++)n.push(i);return n},Ace=(r,e)=>{const t=r.scrollElement;if(!t)return;const n=r.targetWindow;if(!n)return;const i=a=>{const{width:o,height:l}=a;e({width:Math.round(o),height:Math.round(l)})};if(i(JM(t)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(a=>{const o=()=>{const l=a[0];if(l?.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(JM(t))};r.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(t,{box:"border-box"}),()=>{s.unobserve(t)}},ZM={passive:!0},eO=typeof window>"u"?!0:"onscrollend"in window,pce=(r,e)=>{const t=r.scrollElement;if(!t)return;const n=r.targetWindow;if(!n)return;let i=0;const s=r.options.useScrollendEvent&&eO?()=>{}:dce(n,()=>{e(i,!1)},r.options.isScrollingResetDelay),a=u=>()=>{const{horizontal:d,isRtl:h}=r.options;i=d?t.scrollLeft*(h&&-1||1):t.scrollTop,s(),e(i,u)},o=a(!0),l=a(!1);l(),t.addEventListener("scroll",o,ZM);const c=r.options.useScrollendEvent&&eO;return c&&t.addEventListener("scrollend",l,ZM),()=>{t.removeEventListener("scroll",o),c&&t.removeEventListener("scrollend",l)}},mce=(r,e,t)=>{if(e?.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[t.options.horizontal?"inlineSize":"blockSize"])}return r[t.options.horizontal?"offsetWidth":"offsetHeight"]},gce=(r,{adjustments:e=0,behavior:t},n)=>{var i,s;const a=r+e;(s=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[n.options.horizontal?"left":"top"]:a,behavior:t})};class vce{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const n=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),t=null},observe:i=>{var s;return(s=n())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=n())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([n,i])=>{typeof i>"u"&&delete t[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:hce,rangeExtractor:fce,onChange:()=>{},measureElement:mce,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,t)},this.maybeNotify=DA(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,n)=>{const i=new Map,s=new Map;for(let a=n-1;a>=0;a--){const o=t[a];if(i.has(o.lane))continue;const l=s.get(o.lane);if(l==null||o.end>l.end?s.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=DA(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(t,n,i,s,a,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:a,lanes:o}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=DA(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:a,lanes:o},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>t)for(const h of this.laneAssignments.keys())h>=t&&this.laneAssignments.delete(h);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const c=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===t&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,c),d=new Array(o).fill(void 0);for(let h=0;h<c;h++){const f=u[h];f&&(d[f.lane]=h)}for(let h=c;h<t;h++){const f=s(h),p=this.laneAssignments.get(h);let g,m;if(p!==void 0&&this.options.lanes>1){g=p;const w=d[g],_=w!==void 0?u[w]:void 0;m=_?_.end+this.options.gap:n+i}else{const w=this.options.lanes===1?u[h-1]:this.getFurthestMeasurement(u,h);m=w?w.end+this.options.gap:n+i,g=w?w.lane:h%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(h,g)}const v=l.get(f),y=typeof v=="number"?v:this.options.estimateSize(h),b=m+y;u[h]={index:h,start:m,size:y,end:b,key:f,lane:g},d[g]=h}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=DA(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,n,i,s)=>this.range=t.length>0&&n>0?yce({measurements:t,outerSize:n,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=DA(()=>{let t=null,n=null;const i=this.calculateRange();return i&&(t=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,n]},(t,n,i,s,a)=>s===null||a===null?[]:t({startIndex:s,endIndex:a,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const n=this.options.indexAttribute,i=t.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(t,n)=>{const i=this.indexFromElement(t),s=this.measurementsCache[i];if(!s)return;const a=s.key,o=this.elementsCache.get(a);o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(a,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,n,this))},this.resizeItem=(t,n)=>{const i=this.measurementsCache[t];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=n-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=DA(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,n)=>{const i=[];for(let s=0,a=t.length;s<a;s++){const o=t[s],l=n[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const n=this.getMeasurements();if(n.length!==0)return YM(n[$V(0,n.length-1,i=>YM(n[i]).start,t)])},this.getOffsetForAlignment=(t,n,i=0)=>{const s=this.getSize(),a=this.getScrollOffset();n==="auto"&&(n=t>=a+s?"end":"start"),n==="center"?t+=(i-s)/2:n==="end"&&(t-=s);const o=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(o,t),0)},this.getOffsetForIndex=(t,n="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(n==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)n="end";else if(i.start<=a+this.options.scrollPaddingStart)n="start";else return[a,n];const o=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:n="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:n="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let s=0;const a=10,o=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(t,c);if(!u){console.warn("Failed to get offset for index:",t);return}const[d,h]=u;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const f=this.getScrollOffset(),p=this.getOffsetForIndex(t,h);if(!p){console.warn("Failed to get offset for index:",t);return}uce(p[0],f)||l(h)})},l=c=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>o(c)):console.warn(`Failed to scroll to index ${t} after ${a} attempts.`))};o(n)},this.scrollBy=(t,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var t;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((t=n[n.length-1])==null?void 0:t.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=n.length-1;for(;a>=0&&s.some(o=>o===null);){const o=n[a];s[o.lane]===null&&(s[o.lane]=o.end),a--}i=Math.max(...s.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:n,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const $V=(r,e,t,n)=>{for(;r<=e;){const i=(r+e)/2|0,s=t(i);if(s<n)r=i+1;else if(s>n)e=i-1;else return i}return r>0?r-1:0};function yce({measurements:r,outerSize:e,scrollOffset:t,lanes:n}){const i=r.length-1,s=l=>r[l].start;if(r.length<=n)return{startIndex:0,endIndex:i};let a=$V(0,i,s,t),o=a;if(n===1)for(;o<i&&r[o].end<t+e;)o++;else if(n>1){const l=Array(n).fill(0);for(;o<i&&l.some(u=>u<t+e);){const u=r[o];l[u.lane]=u.end,o++}const c=Array(n).fill(t+e);for(;a>=0&&c.some(u=>u>=t);){const u=r[a];c[u.lane]=u.start,a--}a=Math.max(0,a-a%n),o=Math.min(i,o+(n-1-o%n))}return{startIndex:a,endIndex:o}}const tO=typeof document<"u"?K.useLayoutEffect:K.useEffect;function bce(r){const e=K.useReducer(()=>({}),{})[1],t={...r,onChange:(i,s)=>{var a;s?sy.flushSync(e):e(),(a=r.onChange)==null||a.call(r,i,s)}},[n]=K.useState(()=>new vce(t));return n.setOptions(t),tO(()=>n._didMount(),[]),tO(()=>n._willUpdate()),n}function xce(r){return bce({observeElementRect:Ace,observeElementOffset:pce,scrollToFn:gce,...r})}function wce({items:r,renderItem:e,estimateSize:t,className:n="",overscan:i=5,getItemKey:s}){const a=K.useRef(null),o=xce({count:r.length,getScrollElement:()=>a.current,estimateSize:()=>t,overscan:i,getItemKey:s?c=>s(r[c],c):void 0}),l=o.getVirtualItems();return A.jsx("div",{ref:a,className:`overflow-auto ${n}`,children:A.jsx("div",{style:{height:`${o.getTotalSize()}px`,width:"100%",position:"relative"},children:l.map(c=>A.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${c.size}px`,transform:`translateY(${c.start}px)`},children:e(r[c.index],c.index)},c.key))})})}const Cce=[{name:"Accueil",href:"/",icon:CV},{name:"Tableau de bord",href:"/dashboard",icon:Tle},{name:"Import",href:"/import",icon:vs},{name:"Analyses",href:"/analyses",icon:So},{name:"Clients",href:"/clients",icon:_h},{name:"Banques & Conditions",href:"/banks",icon:Xi},{name:"Rapports",href:"/reports",icon:xv},{name:"Facturation",href:"/billing",icon:$p},{name:"Paramtres",href:"/settings",icon:vA}];function Sce({isOpen:r,onClose:e}){return A.jsxs(A.Fragment,{children:[r&&A.jsx("div",{className:"fixed inset-0 bg-primary-950/50 z-40 lg:hidden",onClick:e}),A.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-primary-200
          transform transition-transform duration-200 ease-in-out
          lg:translate-x-0
          ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-primary-200",children:[A.jsx(cN,{to:"/",className:"flex items-center",children:A.jsx(QV,{size:"sm"})}),A.jsx(Ye,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden","aria-label":"Fermer le menu",children:A.jsx(Eo,{className:"w-5 h-5"})})]}),A.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:Cce.map(t=>A.jsxs(cN,{to:t.href,onClick:()=>e(),className:({isActive:n})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors
                  ${n?"bg-primary-900 text-white":"text-primary-600 hover:bg-primary-100 hover:text-primary-900"}`,children:[A.jsx(t.icon,{className:"w-5 h-5"}),t.name]},t.name))}),A.jsx("div",{className:"p-4 border-t border-primary-200",children:A.jsxs("div",{className:"px-3 py-2 rounded-lg bg-primary-50",children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Plateforme d'Audit"}),A.jsx("p",{className:"text-sm font-medium text-primary-900 truncate",children:"CEMAC / UEMOA"})]})})]})})]})}const zV=6048e5,Ece=864e5,VV=6e4,hT=36e5,tb=43200,rO=1440,nO=Symbol.for("constructDateFrom");function ol(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&nO in r?r[nO](e):r instanceof Date?new r.constructor(e):new Date(e)}function zn(r,e){return ol(e||r,r)}function _ce(r,e,t){const n=zn(r,t?.in);return isNaN(e)?ol(r,NaN):(e&&n.setDate(n.getDate()+e),n)}function iO(r,e){const t=zn(r,e?.in).getDay();return t===0||t===6}let Nce={};function Ay(){return Nce}function Ev(r,e){const t=Ay(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=zn(r,e?.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function qw(r,e){return Ev(r,{...e,weekStartsOn:1})}function GV(r,e){const t=zn(r,e?.in),n=t.getFullYear(),i=ol(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=qw(i),a=ol(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=qw(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Xw(r){const e=zn(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function yA(r,...e){const t=ol.bind(null,r||e.find(n=>typeof n=="object"));return e.map(t)}function sO(r,e){const t=zn(r,e?.in);return t.setHours(0,0,0,0),t}function KV(r,e,t){const[n,i]=yA(t?.in,r,e),s=sO(n),a=sO(i),o=+s-Xw(s),l=+a-Xw(a);return Math.round((o-l)/Ece)}function Bce(r,e){const t=GV(r,e),n=ol(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),qw(n)}function qx(r,e){const t=+zn(r)-+zn(e);return t<0?-1:t>0?1:t}function kce(r){return ol(r,Date.now())}function Tce(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function WV(r){return!(!Tce(r)&&typeof r!="number"||isNaN(+zn(r)))}function jce(r,e,t){const[n,i]=yA(t?.in,r,e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function Ul(r,e,t){const[n,i]=yA(t?.in,r,e),s=aO(n,i),a=Math.abs(KV(n,i));n.setDate(n.getDate()-s*a);const o=+(aO(n,i)===-s),l=s*(a-o);return l===0?0:l}function aO(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function qV(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function Yw(r,e,t){const[n,i]=yA(t?.in,r,e),s=(+n-+i)/hT;return qV(t?.roundingMethod)(s)}function Fce(r,e){return+zn(r)-+zn(e)}function Ice(r,e){const t=zn(r,e?.in);return t.setHours(23,59,59,999),t}function Mce(r,e){const t=zn(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Oce(r,e){const t=zn(r,e?.in);return+Ice(t,e)==+Mce(t,e)}function XV(r,e,t){const[n,i,s]=yA(t?.in,r,r,e),a=qx(i,s),o=Math.abs(jce(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=qx(i,s)===-a;Oce(n)&&o===1&&qx(n,s)===1&&(l=!1);const c=a*(o-+l);return c===0?0:c}function Pce(r,e,t){const n=Fce(r,e)/1e3;return qV(t?.roundingMethod)(n)}function Rce(r,e){const[t,n]=yA(r,e.start,e.end);return{start:t,end:n}}function Lce(r,e){const{start:t,end:n}=Rce(e?.in,r);let i=+t>+n;const s=i?+t:+n,a=i?n:t;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(ol(t,a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return i?l.reverse():l}function Dce(r,e){const t=zn(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Uce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hce=(r,e,t)=>{let n;const i=Uce[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Vp(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const Qce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$ce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vce={date:Vp({formats:Qce,defaultWidth:"full"}),time:Vp({formats:$ce,defaultWidth:"full"}),dateTime:Vp({formats:zce,defaultWidth:"full"})},Gce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kce=(r,e,t,n)=>Gce[r];function wc(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):a;i=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;i=r.values[o]||r.values[a]}const s=r.argumentCallback?r.argumentCallback(e):e;return i[s]}}const Wce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eue=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},tue={ordinalNumber:eue,era:wc({values:Wce,defaultWidth:"wide"}),quarter:wc({values:qce,defaultWidth:"wide",argumentCallback:r=>r-1}),month:wc({values:Xce,defaultWidth:"wide"}),day:wc({values:Yce,defaultWidth:"wide"}),dayPeriod:wc({values:Jce,defaultWidth:"wide",formattingValues:Zce,defaultFormattingWidth:"wide"})};function Cc(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?nue(o,d=>d.test(a)):rue(o,d=>d.test(a));let c;c=r.valueCallback?r.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function rue(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function nue(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function YV(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],s=e.match(r.parsePattern);if(!s)return null;let a=r.valueCallback?r.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const iue=/^(\d+)(th|st|nd|rd)?/i,sue=/\d+/i,aue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oue={any:[/^b/i,/^(a|c)/i]},lue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cue={any:[/1/i,/2/i,/3/i,/4/i]},uue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},due={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Aue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mue={ordinalNumber:YV({matchPattern:iue,parsePattern:sue,valueCallback:r=>parseInt(r,10)}),era:Cc({matchPatterns:aue,defaultMatchWidth:"wide",parsePatterns:oue,defaultParseWidth:"any"}),quarter:Cc({matchPatterns:lue,defaultMatchWidth:"wide",parsePatterns:cue,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Cc({matchPatterns:uue,defaultMatchWidth:"wide",parsePatterns:due,defaultParseWidth:"any"}),day:Cc({matchPatterns:hue,defaultMatchWidth:"wide",parsePatterns:fue,defaultParseWidth:"any"}),dayPeriod:Cc({matchPatterns:Aue,defaultMatchWidth:"any",parsePatterns:pue,defaultParseWidth:"any"})},JV={code:"en-US",formatDistance:Hce,formatLong:Vce,formatRelative:Kce,localize:tue,match:mue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gue(r,e){const t=zn(r,e?.in);return KV(t,Dce(t))+1}function vue(r,e){const t=zn(r,e?.in),n=+qw(t)-+Bce(t);return Math.round(n/zV)+1}function ZV(r,e){const t=zn(r,e?.in),n=t.getFullYear(),i=Ay(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=ol(e?.in||r,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Ev(a,e),l=ol(e?.in||r,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=Ev(l,e);return+t>=+o?n+1:+t>=+c?n:n-1}function yue(r,e){const t=Ay(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=ZV(r,e),s=ol(e?.in||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Ev(s,e)}function bue(r,e){const t=zn(r,e?.in),n=+Ev(t,e)-+yue(t,e);return Math.round(n/zV)+1}function dn(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Pd={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return dn(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):dn(t+1,2)},d(r,e){return dn(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return dn(r.getHours()%12||12,e.length)},H(r,e){return dn(r.getHours(),e.length)},m(r,e){return dn(r.getMinutes(),e.length)},s(r,e){return dn(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return dn(i,e.length)}},UA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oO={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Pd.y(r,e)},Y:function(r,e,t,n){const i=ZV(r,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return dn(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):dn(s,e.length)},R:function(r,e){const t=GV(r);return dn(t,e.length)},u:function(r,e){const t=r.getFullYear();return dn(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return dn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return dn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Pd.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return dn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=bue(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):dn(i,e.length)},I:function(r,e,t){const n=vue(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):dn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Pd.d(r,e)},D:function(r,e,t){const n=gue(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):dn(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return dn(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return dn(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return dn(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=UA.noon:n===0?i=UA.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=UA.evening:n>=12?i=UA.afternoon:n>=4?i=UA.morning:i=UA.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Pd.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Pd.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):dn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):dn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Pd.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Pd.s(r,e)},S:function(r,e){return Pd.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return cO(n);case"XXXX":case"XX":return yf(n);case"XXXXX":case"XXX":default:return yf(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return cO(n);case"xxxx":case"xx":return yf(n);case"xxxxx":case"xxx":default:return yf(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lO(n,":");case"OOOO":default:return"GMT"+yf(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lO(n,":");case"zzzz":default:return"GMT"+yf(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return dn(n,e.length)},T:function(r,e,t){return dn(+r,e.length)}};function lO(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?t+String(i):t+String(i)+e+dn(s,2)}function cO(r,e){return r%60===0?(r>0?"-":"+")+dn(Math.abs(r)/60,2):yf(r,e)}function yf(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=dn(Math.trunc(n/60),2),s=dn(n%60,2);return t+i+e+s}const uO=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eG=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xue=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return uO(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",uO(n,e)).replace("{{time}}",eG(i,e))},wue={p:eG,P:xue},Cue=/^D+$/,Sue=/^Y+$/,Eue=["D","DD","YY","YYYY"];function _ue(r){return Cue.test(r)}function Nue(r){return Sue.test(r)}function Bue(r,e,t){const n=kue(r,e,t);if(console.warn(n),Eue.includes(r))throw new RangeError(n)}function kue(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fue=/^'([^]*?)'?$/,Iue=/''/g,Mue=/[a-zA-Z]/;function Rr(r,e,t){const n=Ay(),i=t?.locale??n.locale??JV,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=zn(r,t?.in);if(!WV(o))throw new RangeError("Invalid time value");let l=e.match(jue).map(u=>{const d=u[0];if(d==="p"||d==="P"){const h=wue[d];return h(u,i.formatLong)}return u}).join("").match(Tue).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:Oue(u)};if(oO[d])return{isToken:!0,value:u};if(d.match(Mue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!t?.useAdditionalWeekYearTokens&&Nue(d)||!t?.useAdditionalDayOfYearTokens&&_ue(d))&&Bue(d,e,String(r));const h=oO[d[0]];return h(o,d,i.localize,c)}).join("")}function Oue(r){const e=r.match(Fue);return e?e[1].replace(Iue,"'"):r}function Pue(r,e,t){const n=Ay(),i=t?.locale??n.locale??JV,s=2520,a=qx(r,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a}),[l,c]=yA(t?.in,...a>0?[e,r]:[r,e]),u=Pce(c,l),d=(Xw(c)-Xw(l))/1e3,h=Math.round((u-d)/60);let f;if(h<2)return t?.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<rO){const p=Math.round(h/60);return i.formatDistance("aboutXHours",p,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<tb){const p=Math.round(h/rO);return i.formatDistance("xDays",p,o)}else if(h<tb*2)return f=Math.round(h/tb),i.formatDistance("aboutXMonths",f,o)}if(f=XV(c,l),f<12){const p=Math.round(h/tb);return i.formatDistance("xMonths",p,o)}else{const p=f%12,g=Math.trunc(f/12);return p<3?i.formatDistance("aboutXYears",g,o):p<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function Rue(r,e){return Pue(r,kce(r),e)}function Lue(r,e){return zn(r,e?.in).getDay()}function Due(r,e){return zn(r,e?.in).getHours()}function dO(r,e,t){return _ce(r,-e,t)}function Uue(r,e){const t=()=>ol(e?.in,NaN),i=zue(r);let s;if(i.date){const c=Vue(i.date,2);s=Gue(c.restDateString,c.year)}if(!s||isNaN(+s))return t();const a=+s;let o=0,l;if(i.time&&(o=Kue(i.time),isNaN(o)))return t();if(i.timezone){if(l=Wue(i.timezone),isNaN(l))return t()}else{const c=new Date(a+o),u=zn(0,e?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return zn(a+o+l,e?.in)}const rb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Hue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Que=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$ue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zue(r){const e={},t=r.split(rb.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],rb.timeZoneDelimiter.test(e.date)&&(e.date=r.split(rb.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=rb.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Vue(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:r.slice((n[1]||n[2]).length)}}function Gue(r,e){if(e===null)return new Date(NaN);const t=r.match(Hue);if(!t)return new Date(NaN);const n=!!t[4],i=O0(t[1]),s=O0(t[2])-1,a=O0(t[3]),o=O0(t[4]),l=O0(t[5])-1;if(n)return Zue(e,o,l)?que(e,o,l):new Date(NaN);{const c=new Date(0);return!Yue(e,s,a)||!Jue(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function O0(r){return r?parseInt(r):1}function Kue(r){const e=r.match(Que);if(!e)return NaN;const t=R3(e[1]),n=R3(e[2]),i=R3(e[3]);return ede(t,n,i)?t*hT+n*VV+i*1e3:NaN}function R3(r){return r&&parseFloat(r.replace(",","."))||0}function Wue(r){if(r==="Z")return 0;const e=r.match($ue);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return tde(n,i)?t*(n*hT+i*VV):NaN}function que(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Xue=[31,null,31,30,31,30,31,31,30,31,30,31];function tG(r){return r%400===0||r%4===0&&r%100!==0}function Yue(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(Xue[e]||(tG(r)?29:28))}function Jue(r,e){return e>=1&&e<=(tG(r)?366:365)}function Zue(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function ede(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function tde(r,e){return e>=0&&e<=59}const rde={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},nde=(r,e,t)=>{let n;const i=rde[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),t?.addSuffix?t.comparison&&t.comparison>0?"dans "+n:"il y a "+n:n},ide={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},sde={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ade={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ode={date:Vp({formats:ide,defaultWidth:"full"}),time:Vp({formats:sde,defaultWidth:"full"}),dateTime:Vp({formats:ade,defaultWidth:"full"})},lde={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},cde=(r,e,t,n)=>lde[r],ude={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},dde={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},hde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},fde={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Ade={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},pde=(r,e)=>{const t=Number(r),n=e?.unit;if(t===0)return"0";const i=["year","week","hour","minute","second"];let s;return t===1?s=n&&i.includes(n)?"re":"er":s="me",t+s},mde=["MMM","MMMM"],gde={preprocessor:(r,e)=>r.getDate()===1||!e.some(n=>n.isToken&&mde.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:pde,era:wc({values:ude,defaultWidth:"wide"}),quarter:wc({values:dde,defaultWidth:"wide",argumentCallback:r=>r-1}),month:wc({values:hde,defaultWidth:"wide"}),day:wc({values:fde,defaultWidth:"wide"}),dayPeriod:wc({values:Ade,defaultWidth:"wide"})},vde=/^(\d+)(ime|re|me|er|e)?/i,yde=/\d+/i,bde={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},xde={any:[/^av/i,/^ap/i]},wde={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},Cde={any:[/1/i,/2/i,/3/i,/4/i]},Sde={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},Ede={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},_de={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Nde={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Bde={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},kde={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Tde={ordinalNumber:YV({matchPattern:vde,parsePattern:yde,valueCallback:r=>parseInt(r)}),era:Cc({matchPatterns:bde,defaultMatchWidth:"wide",parsePatterns:xde,defaultParseWidth:"any"}),quarter:Cc({matchPatterns:wde,defaultMatchWidth:"wide",parsePatterns:Cde,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Cc({matchPatterns:Sde,defaultMatchWidth:"wide",parsePatterns:Ede,defaultParseWidth:"any"}),day:Cc({matchPatterns:_de,defaultMatchWidth:"wide",parsePatterns:Nde,defaultParseWidth:"any"}),dayPeriod:Cc({matchPatterns:Bde,defaultMatchWidth:"any",parsePatterns:kde,defaultParseWidth:"any"})},rG={code:"fr",formatDistance:nde,formatLong:ode,formatRelative:cde,localize:gde,match:Tde,options:{weekStartsOn:1,firstWeekContainsDate:4}};function jde(){const[r,e]=K.useState(!1),t=K.useRef(null),[n,i]=K.useState([{id:"1",type:"anomaly_critical",title:"Anomalie critique detectee",message:"3 alertes anti-blanchiment necessitent votre attention",isRead:!1,createdAt:new Date(Date.now()-1e3*60*30)},{id:"2",type:"analysis_complete",title:"Analyse terminee",message:"L'analyse du client ABC a identifie 12 anomalies",isRead:!1,createdAt:new Date(Date.now()-1e3*60*60*2)},{id:"3",type:"import_complete",title:"Import reussi",message:"245 transactions importees depuis le fichier bancaire",isRead:!0,createdAt:new Date(Date.now()-1e3*60*60*24)}]),s=n.filter(d=>!d.isRead).length;K.useEffect(()=>{function d(h){t.current&&!t.current.contains(h.target)&&e(!1)}return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const a=d=>{i(h=>h.map(f=>f.id===d?{...f,isRead:!0}:f))},o=()=>{i(d=>d.map(h=>({...h,isRead:!0})))},l=d=>{i(h=>h.filter(f=>f.id!==d))},c=()=>{i([])},u=d=>{switch(d){case"anomaly_critical":return A.jsx(As,{className:"w-4 h-4 text-red-500"});case"anomaly_detected":return A.jsx(As,{className:"w-4 h-4 text-orange-500"});case"analysis_complete":return A.jsx(al,{className:"w-4 h-4 text-green-500"});case"import_complete":return A.jsx(vs,{className:"w-4 h-4 text-blue-500"});default:return A.jsx(Zr,{className:"w-4 h-4 text-primary-500"})}};return A.jsxs("div",{className:"relative",ref:t,children:[A.jsxs(Ye,{variant:"ghost",size:"icon",className:"relative",onClick:()=>e(!r),children:[A.jsx(KM,{className:"w-5 h-5"}),s>0&&A.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:s>9?"9+":s})]}),r&&A.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-xl border border-primary-200 overflow-hidden z-50",children:[A.jsxs("div",{className:"px-4 py-3 border-b border-primary-100 flex items-center justify-between bg-primary-50",children:[A.jsx("h3",{className:"font-semibold text-primary-900",children:"Notifications"}),A.jsxs("div",{className:"flex items-center gap-2",children:[s>0&&A.jsx("button",{onClick:o,className:"text-xs text-primary-600 hover:text-primary-800",children:"Tout marquer comme lu"}),n.length>0&&A.jsx("button",{onClick:c,className:"text-xs text-red-600 hover:text-red-800",children:"Effacer tout"})]})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length===0?A.jsxs("div",{className:"px-4 py-8 text-center",children:[A.jsx(KM,{className:"w-12 h-12 text-primary-200 mx-auto mb-3"}),A.jsx("p",{className:"text-primary-500",children:"Aucune notification"})]}):n.map(d=>A.jsx("div",{className:`px-4 py-3 border-b border-primary-50 hover:bg-primary-50 transition-colors ${d.isRead?"":"bg-blue-50/50"}`,children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u(d.type)}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("p",{className:`text-sm font-medium ${d.isRead?"text-primary-600":"text-primary-900"}`,children:d.title}),A.jsx("button",{onClick:()=>l(d.id),className:"text-primary-400 hover:text-red-500 ml-2",children:A.jsx(Eo,{className:"w-4 h-4"})})]}),A.jsx("p",{className:"text-sm text-primary-500 mt-0.5 line-clamp-2",children:d.message}),A.jsxs("div",{className:"flex items-center justify-between mt-2",children:[A.jsx("span",{className:"text-xs text-primary-400",children:Rue(d.createdAt,{addSuffix:!0,locale:rG})}),!d.isRead&&A.jsx("button",{onClick:()=>a(d.id),className:"text-xs text-blue-600 hover:text-blue-800",children:"Marquer comme lu"})]})]})]})},d.id))}),n.length>0&&A.jsx("div",{className:"px-4 py-2 border-t border-primary-100 bg-primary-50",children:A.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800 w-full text-center",children:"Voir toutes les notifications"})})]})]})}const hO=r=>{let e;const t=new Set,n=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const h=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),t.forEach(f=>f(e,h))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=r(n,i,o);return o},Fde=r=>r?hO(r):hO,Ide=r=>r;function Mde(r,e=Ide){const t=Ag.useSyncExternalStore(r.subscribe,Ag.useCallback(()=>e(r.getState()),[r,e]),Ag.useCallback(()=>e(r.getInitialState()),[r,e]));return Ag.useDebugValue(t),t}const Ode=r=>{const e=Fde(r),t=n=>Mde(e,n);return Object.assign(t,e),t},Qh=r=>Ode;function Pde(r,e){let t;try{t=r()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=t.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const AN=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(n){return AN(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return AN(n)(t)}}}},Rde=(r,e)=>(t,n,i)=>{let s={storage:Pde(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...e},a=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return r((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...g)},n,i);const u=()=>{const g=s.partialize({...n()});return c.setItem(s.name,{state:g,version:s.version})},d=i.setState;i.setState=(g,m)=>(d(g,m),u());const h=r((...g)=>(t(...g),u()),n,i);i.getInitialState=()=>h;let f;const p=()=>{var g,m;if(!c)return;a=!1,o.forEach(y=>{var b;return y((b=n())!=null?b:h)});const v=((m=s.onRehydrateStorage)==null?void 0:m.call(s,(g=n())!=null?g:h))||void 0;return AN(c.getItem.bind(c))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate){const b=s.migrate(y.state,y.version);return b instanceof Promise?b.then(w=>[!0,w]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[w,_]=y;if(f=s.merge(_,(b=n())!=null?b:h),t(f,!0),w)return u()}).then(()=>{v?.(f,void 0),f=n(),a=!0,l.forEach(y=>y(f))}).catch(y=>{v?.(void 0,y)})};return i.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||p(),f||h},$h=Rde,Tc=Qh()($h((r,e)=>({transactions:[],clients:[],accounts:[],isLoading:!1,error:null,addTransactions:t=>r(n=>{const i=new Set(n.transactions.map(a=>a.id)),s=t.filter(a=>!i.has(a.id));return{transactions:[...n.transactions,...s],error:null}}),updateTransaction:(t,n)=>r(i=>({transactions:i.transactions.map(s=>s.id===t?{...s,...n,updatedAt:new Date}:s)})),deleteTransaction:t=>r(n=>({transactions:n.transactions.filter(i=>i.id!==t)})),clearTransactions:()=>r({transactions:[],error:null}),addClient:t=>r(n=>({clients:[...n.clients,t]})),updateClient:(t,n)=>r(i=>({clients:i.clients.map(s=>s.id===t?{...s,...n,updatedAt:new Date}:s)})),deleteClient:t=>r(n=>({clients:n.clients.filter(i=>i.id!==t),transactions:n.transactions.filter(i=>i.clientId!==t),accounts:n.accounts.filter(i=>i.clientId!==t)})),addAccount:t=>r(n=>({accounts:[...n.accounts,t]})),updateAccount:(t,n)=>r(i=>({accounts:i.accounts.map(s=>s.id===t?{...s,...n}:s)})),deleteAccount:t=>r(n=>({accounts:n.accounts.filter(i=>i.id!==t)})),setLoading:t=>r({isLoading:t}),setError:t=>r({error:t}),getTransactionsByClient:t=>e().transactions.filter(n=>n.clientId===t),getTransactionsByAccount:t=>e().transactions.filter(n=>n.accountNumber===t),getTransactionsByDateRange:(t,n)=>e().transactions.filter(i=>{const s=new Date(i.date);return s>=t&&s<=n}),getTransactionById:t=>e().transactions.find(n=>n.id===t),getClientById:t=>e().clients.find(n=>n.id===t),getTotalAmount:()=>e().transactions.reduce((t,n)=>t+Math.abs(n.amount),0),getTransactionCount:()=>e().transactions.length}),{name:"scrutix-transactions",partialize:r=>({transactions:r.transactions,clients:r.clients,accounts:r.accounts})})),fO={search:"",anomalyTypes:[],severities:[],dateRange:{start:null,end:null},amountRange:{min:null,max:null},status:[]},Lde={field:"amount",direction:"desc"},jc=Qh()($h((r,e)=>({currentAnalysis:null,analysisHistory:[],isAnalyzing:!1,progress:0,currentStep:"",filters:fO,sort:Lde,startAnalysis:t=>r({currentAnalysis:{id:`analysis-${Date.now()}`,config:t,status:Tf.RUNNING,progress:0,anomalies:[],statistics:{totalTransactions:0,totalAmount:0,totalAnomalies:0,totalAnomalyAmount:0,anomaliesByType:{},anomaliesBySeverity:{},anomalyRate:0,potentialSavings:0},summary:{status:"OK",message:"",keyFindings:[],recommendations:[],estimatedRecovery:0},startedAt:new Date},isAnalyzing:!0,progress:0,currentStep:"Initialisation..."}),updateProgress:(t,n)=>r(i=>({progress:t,currentStep:n||i.currentStep,currentAnalysis:i.currentAnalysis?{...i.currentAnalysis,progress:t}:null})),completeAnalysis:t=>r(n=>({currentAnalysis:{...t,status:Tf.COMPLETED,completedAt:new Date},analysisHistory:[{...t,status:Tf.COMPLETED,completedAt:new Date},...n.analysisHistory.slice(0,9)],isAnalyzing:!1,progress:100,currentStep:"Analyse termine"})),failAnalysis:t=>r(n=>({currentAnalysis:n.currentAnalysis?{...n.currentAnalysis,status:Tf.FAILED,error:t,completedAt:new Date}:null,isAnalyzing:!1,currentStep:"Erreur"})),resetAnalysis:()=>r({currentAnalysis:null,isAnalyzing:!1,progress:0,currentStep:""}),updateAnomalyStatus:(t,n,i)=>r(s=>s.currentAnalysis?{currentAnalysis:{...s.currentAnalysis,anomalies:s.currentAnalysis.anomalies.map(a=>a.id===t?{...a,status:n,notes:i||a.notes,reviewedAt:new Date}:a)}}:s),dismissAnomaly:t=>e().updateAnomalyStatus(t,"dismissed"),confirmAnomaly:t=>e().updateAnomalyStatus(t,"confirmed"),contestAnomaly:(t,n)=>e().updateAnomalyStatus(t,"contested",n),setFilters:t=>r(n=>({filters:{...n.filters,...t}})),resetFilters:()=>r({filters:fO}),setSort:t=>r({sort:t}),getFilteredAnomalies:()=>{const{currentAnalysis:t,filters:n,sort:i}=e();if(!t)return[];let s=[...t.anomalies];if(n.search){const a=n.search.toLowerCase();s=s.filter(o=>o.recommendation.toLowerCase().includes(a)||o.transactions.some(l=>l.description.toLowerCase().includes(a)))}return n.anomalyTypes.length>0&&(s=s.filter(a=>n.anomalyTypes.includes(a.type))),n.severities.length>0&&(s=s.filter(a=>n.severities.includes(a.severity))),n.status.length>0&&(s=s.filter(a=>n.status.includes(a.status))),n.amountRange.min!==null&&(s=s.filter(a=>a.amount>=n.amountRange.min)),n.amountRange.max!==null&&(s=s.filter(a=>a.amount<=n.amountRange.max)),n.dateRange.start&&(s=s.filter(a=>new Date(a.detectedAt)>=n.dateRange.start)),n.dateRange.end&&(s=s.filter(a=>new Date(a.detectedAt)<=n.dateRange.end)),s.sort((a,o)=>{let l=0;switch(i.field){case"amount":l=a.amount-o.amount;break;case"severity":const c={CRITICAL:4,HIGH:3,MEDIUM:2,LOW:1};l=c[a.severity]-c[o.severity];break;case"confidence":l=a.confidence-o.confidence;break;case"date":l=new Date(a.detectedAt).getTime()-new Date(o.detectedAt).getTime();break;case"type":l=a.type.localeCompare(o.type);break;default:l=0}return i.direction==="asc"?l:-l}),s},getAnomalyById:t=>e().currentAnalysis?.anomalies.find(n=>n.id===t),getAnomaliesByType:t=>e().currentAnalysis?.anomalies.filter(n=>n.type===t)||[],getAnomaliesBySeverity:t=>e().currentAnalysis?.anomalies.filter(n=>n.severity===t)||[],getTotalPotentialSavings:()=>e().currentAnalysis?.statistics.potentialSavings||0,getConfirmedSavings:()=>e().currentAnalysis?.anomalies.filter(t=>t.status==="confirmed").reduce((t,n)=>t+n.amount,0)||0}),{name:"scrutix-analysis",partialize:r=>({analysisHistory:r.analysisHistory,currentAnalysis:r.currentAnalysis})})),AO={name:"",legalName:"",logo:null,address:"",city:"",postalCode:"",country:"CM",phone:"",website:"",siret:"",rccm:"",nif:"",senderEmail:"",senderName:"",smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",smtpSecure:!0,footerText:"",developedBy:"Atlas Studio"},pO={currency:"XAF",locale:"fr-FR",dateFormat:"dd/MM/yyyy",pageSize:25,showConfidenceScores:!0,autoAnalyzeOnImport:!1},mO={duplicateFee:!0,ghostFee:!0,overcharge:!0,interestError:!0,valueDateError:!0,suspiciousTransaction:!0,complianceViolation:!0,cashflowAnomaly:!0,reconciliationGap:!0,multiBankIssue:!0,ohadaCompliance:!0,amlAlert:!0,feeAnomaly:!0},gO={provider:"none",isConnected:!1,userEmail:null,userName:null,autoBackup:!1,backupFrequency:"weekly",lastBackupAt:null,lastBackupStatus:null},Dde={enableReferences:!0,region:"all",sources:{beac:!0,cobac:!0,bceao:!0,cb_umoa:!0},customSources:[],lastSearchAt:null},HA={enabled:!1,apiKey:"",model:"",temperature:.3,maxTokens:4e3},Ude={activeProvider:"none",providers:{claude:{...HA,model:"claude-sonnet-4-20250514"},openai:{...HA,model:"gpt-4-turbo",organization:""},mistral:{...HA,model:"mistral-large-latest"},gemini:{...HA,model:"gemini-1.5-pro",projectId:""},ollama:{...HA,enabled:!1,baseUrl:"http://localhost:11434",model:"llama3.1"},custom:{...HA,baseUrl:"",model:""}}},Hde={apiKey:"",apiKeyIv:"",isEnabled:!1,model:"claude-sonnet-4-20250514",temperature:.3,maxTokens:4e3,enableCategorization:!0,enableFraudDetection:!0,enableReportGeneration:!0,enableChat:!0,aiDetection:{duplicates:!0,ghostFees:!0,overcharges:!0,interestErrors:!0,valueDateErrors:!0,suspiciousTransactions:!0,complianceViolations:!0,cashflowAnomalies:!0,reconciliationGaps:!0,multiBankIssues:!0,ohadaCompliance:!0,amlAlerts:!0,feeAnomalies:!0},usage:{totalTokensUsed:0,totalRequests:0,lastRequestAt:null,monthlyTokens:0,monthlyRequests:0,monthStart:new Date().toISOString().slice(0,7)},connectionStatus:"unknown",connectionError:null,lastConnectionTest:null},Rd={provider:{provider:"claude",model:"claude-sonnet-4-20250514",apiKey:"",temperature:.3,maxTokens:4e3,timeout:6e4},features:{categorization:!0,fraudDetection:!0,reportGeneration:!0,chat:!0,duplicates:!0,ghostFees:!0,overcharges:!0,interestErrors:!0,valueDate:!1,suspicious:!1,compliance:!1,cashflow:!1,reconciliation:!1,multiBank:!1,ohada:!1,amlLcbFt:!1,fees:!1},detection:{enabledTypes:[],temperature:.3,maxTokens:4e3,batchSize:50,includeRegulatoryReferences:!0},usage:{provider:"claude",totalRequests:0,totalTokensInput:0,totalTokensOutput:0,totalCost:0},isConfigured:!1},Qde=[{id:"default-afriland",bankCode:"AFRI",bankName:"Afriland First Bank",country:"CM",currency:"XAF",effectiveDate:new Date("2024-01-01"),fees:[{code:"TDC",name:"Tenue de compte",amount:2500,type:"fixed"},{code:"VIR",name:"Virement national",amount:1500,type:"fixed"},{code:"VIRI",name:"Virement international",amount:15e3,type:"fixed"},{code:"RET",name:"Retrait DAB",amount:500,type:"fixed"}],interestRates:[{type:"overdraft",rate:.18,calculationMethod:"simple",dayCountConvention:"ACT/360"},{type:"unauthorized",rate:.22,calculationMethod:"simple",dayCountConvention:"ACT/360"}],isActive:!0},{id:"default-bicec",bankCode:"BICE",bankName:"BICEC",country:"CM",currency:"XAF",effectiveDate:new Date("2024-01-01"),fees:[{code:"TDC",name:"Tenue de compte",amount:3e3,type:"fixed"},{code:"VIR",name:"Virement national",amount:2e3,type:"fixed"},{code:"VIRI",name:"Virement international",amount:17500,type:"fixed"},{code:"RET",name:"Retrait DAB",amount:600,type:"fixed"}],interestRates:[{type:"overdraft",rate:.17,calculationMethod:"simple",dayCountConvention:"ACT/360"},{type:"unauthorized",rate:.21,calculationMethod:"simple",dayCountConvention:"ACT/360"}],isActive:!0},{id:"default-sgbc",bankCode:"SGBC",bankName:"Socit Gnrale Cameroun",country:"CM",currency:"XAF",effectiveDate:new Date("2024-01-01"),fees:[{code:"TDC",name:"Tenue de compte",amount:3500,type:"fixed"},{code:"VIR",name:"Virement national",amount:2500,type:"fixed"},{code:"VIRI",name:"Virement international",amount:2e4,type:"fixed"},{code:"RET",name:"Retrait DAB",amount:500,type:"fixed"}],interestRates:[{type:"overdraft",rate:.165,calculationMethod:"simple",dayCountConvention:"ACT/360"},{type:"unauthorized",rate:.2,calculationMethod:"simple",dayCountConvention:"ACT/360"}],isActive:!0}],Ps=Qh()($h((r,e)=>({organization:AO,thresholds:fN,bankConditions:Qde,preferences:pO,detectionModules:mO,claudeApi:Hde,cloudBackup:gO,regulatorySources:Dde,aiProviders:Ude,aiSettings:Rd,updateThresholds:t=>r(n=>({thresholds:{...n.thresholds,...t,duplicateDetection:{...n.thresholds.duplicateDetection,...t.duplicateDetection},ghostFeeDetection:{...n.thresholds.ghostFeeDetection,...t.ghostFeeDetection},overchargeDetection:{...n.thresholds.overchargeDetection,...t.overchargeDetection},interestCalculation:{...n.thresholds.interestCalculation,...t.interestCalculation}}})),resetThresholds:()=>r({thresholds:fN}),addBankConditions:t=>r(n=>({bankConditions:[...n.bankConditions,t]})),updateBankConditions:(t,n)=>r(i=>({bankConditions:i.bankConditions.map(s=>s.id===t?{...s,...n}:s)})),deleteBankConditions:t=>r(n=>({bankConditions:n.bankConditions.filter(i=>i.id!==t)})),updatePreferences:t=>r(n=>({preferences:{...n.preferences,...t}})),resetPreferences:()=>r({preferences:pO}),updateDetectionModules:t=>r(n=>({detectionModules:{...n.detectionModules,...t}})),resetDetectionModules:()=>r({detectionModules:mO}),getEnabledDetectors:()=>{const t=e().detectionModules,n=[];return t.duplicateFee&&n.push("DUPLICATE_FEE"),t.ghostFee&&n.push("GHOST_FEE"),t.overcharge&&n.push("OVERCHARGE"),t.interestError&&n.push("INTEREST_ERROR"),t.valueDateError&&n.push("VALUE_DATE_ERROR"),t.suspiciousTransaction&&n.push("SUSPICIOUS_TRANSACTION"),t.complianceViolation&&n.push("COMPLIANCE_VIOLATION"),t.cashflowAnomaly&&n.push("CASHFLOW_ANOMALY"),t.reconciliationGap&&n.push("RECONCILIATION_GAP"),t.multiBankIssue&&n.push("MULTI_BANK_ISSUE"),t.ohadaCompliance&&n.push("OHADA_NON_COMPLIANCE"),t.amlAlert&&n.push("AML_ALERT"),t.feeAnomaly&&n.push("FEE_ANOMALY"),n},updateClaudeApi:t=>r(n=>({claudeApi:{...n.claudeApi,...t}})),clearClaudeApiKey:()=>r(t=>({claudeApi:{...t.claudeApi,apiKey:"",apiKeyIv:"",isEnabled:!1,connectionStatus:"unknown",connectionError:null}})),updateClaudeUsage:t=>r(n=>{const i=new Date().toISOString().slice(0,7),s=n.claudeApi.usage,a=s.monthStart!==i;return{claudeApi:{...n.claudeApi,usage:{totalTokensUsed:s.totalTokensUsed+t,totalRequests:s.totalRequests+1,lastRequestAt:new Date().toISOString(),monthlyTokens:a?t:s.monthlyTokens+t,monthlyRequests:a?1:s.monthlyRequests+1,monthStart:i}}}}),resetMonthlyUsage:()=>r(t=>({claudeApi:{...t.claudeApi,usage:{...t.claudeApi.usage,monthlyTokens:0,monthlyRequests:0,monthStart:new Date().toISOString().slice(0,7)}}})),setConnectionStatus:(t,n)=>r(i=>({claudeApi:{...i.claudeApi,connectionStatus:t,connectionError:n||null,lastConnectionTest:new Date().toISOString()}})),updateCloudBackup:t=>r(n=>({cloudBackup:{...n.cloudBackup,...t}})),disconnectCloud:()=>r(()=>({cloudBackup:gO})),updateRegulatorySources:t=>r(n=>({regulatorySources:{...n.regulatorySources,...t}})),toggleRegulatorySource:(t,n)=>r(i=>({regulatorySources:{...i.regulatorySources,sources:{...i.regulatorySources.sources,[t]:n}}})),addCustomSource:t=>r(n=>({regulatorySources:{...n.regulatorySources,customSources:[...n.regulatorySources.customSources,{...t,id:`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()}]}})),updateCustomSource:(t,n)=>r(i=>({regulatorySources:{...i.regulatorySources,customSources:i.regulatorySources.customSources.map(s=>s.id===t?{...s,...n}:s)}})),deleteCustomSource:t=>r(n=>({regulatorySources:{...n.regulatorySources,customSources:n.regulatorySources.customSources.filter(i=>i.id!==t)}})),toggleCustomSource:(t,n)=>r(i=>({regulatorySources:{...i.regulatorySources,customSources:i.regulatorySources.customSources.map(s=>s.id===t?{...s,enabled:n}:s)}})),updateAIProviders:t=>r(n=>({aiProviders:{...n.aiProviders,...t}})),setActiveAIProvider:t=>r(n=>({aiProviders:{...n.aiProviders,activeProvider:t}})),updateProviderConfig:(t,n)=>r(i=>({aiProviders:{...i.aiProviders,providers:{...i.aiProviders.providers,[t]:{...i.aiProviders.providers[t],...n}}}})),getActiveAIConfig:()=>{const t=e(),n=t.aiProviders.activeProvider;return n==="none"?null:t.aiProviders.providers[n]||null},updateAIProvider:t=>r(n=>{const i=n.aiSettings||Rd;return{aiSettings:{...i,provider:{...i.provider,...t}}}}),updateAIFeatures:t=>r(n=>{const i=n.aiSettings||Rd;return{aiSettings:{...i,features:{...i.features,...t}}}}),updateAIUsage:t=>r(n=>{const i=n.aiSettings||Rd,s=i.usage||Rd.usage;return{aiSettings:{...i,usage:{...s,totalRequests:(s.totalRequests||0)+1,totalTokensOutput:(s.totalTokensOutput||0)+t,lastRequestAt:new Date,monthlyUsed:(s.monthlyUsed||0)+t}}}}),clearAIApiKey:()=>r(t=>{const n=t.aiSettings||Rd;return{aiSettings:{...n,provider:{...n.provider,apiKey:"",apiKeyEncrypted:void 0},isConfigured:!1}}}),resetAIMonthlyUsage:()=>r(t=>{const n=t.aiSettings||Rd;return{aiSettings:{...n,usage:{...n.usage,monthlyUsed:0}}}}),setAIConnectionStatus:(t,n)=>r(i=>{const s=i.aiSettings||Rd;return{aiSettings:{...s,isConfigured:t==="connected",lastTestedAt:new Date,lastError:n?{code:"UNKNOWN",message:n,provider:s.provider.provider,timestamp:new Date,isRetryable:!1}:void 0}}}),updateOrganization:t=>r(n=>({organization:{...n.organization,...t}})),resetOrganization:()=>r(()=>({organization:AO})),getBankConditionsByCode:t=>e().bankConditions.find(n=>n.bankCode===t&&n.isActive),getActiveBankConditions:(t,n)=>e().bankConditions.find(i=>i.bankCode===t&&i.isActive&&new Date(i.effectiveDate)<=n&&(!i.expirationDate||new Date(i.expirationDate)>=n))}),{name:"scrutix-settings"})),Ns=[];for(let r=0;r<256;++r)Ns.push((r+256).toString(16).slice(1));function $de(r,e=0){return(Ns[r[e+0]]+Ns[r[e+1]]+Ns[r[e+2]]+Ns[r[e+3]]+"-"+Ns[r[e+4]]+Ns[r[e+5]]+"-"+Ns[r[e+6]]+Ns[r[e+7]]+"-"+Ns[r[e+8]]+Ns[r[e+9]]+"-"+Ns[r[e+10]]+Ns[r[e+11]]+Ns[r[e+12]]+Ns[r[e+13]]+Ns[r[e+14]]+Ns[r[e+15]]).toLowerCase()}let L3;const zde=new Uint8Array(16);function Vde(){if(!L3){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");L3=crypto.getRandomValues.bind(crypto)}return L3(zde)}const Gde=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vO={randomUUID:Gde};function Kde(r,e,t){r=r||{};const n=r.random??r.rng?.()??Vde();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,$de(n)}function at(r,e,t){return vO.randomUUID&&!r?vO.randomUUID():Kde(r)}const nl=Qh()($h((r,e)=>({clients:[],statements:[],reports:[],selectedClientId:null,addClient:t=>{const n=new Date,i={id:at(),...t,accounts:[],createdAt:n,updatedAt:n};return r(s=>({clients:[...s.clients,i]})),i},updateClient:(t,n)=>{r(i=>({clients:i.clients.map(s=>s.id===t?{...s,...n,updatedAt:new Date}:s)}))},deleteClient:t=>{r(n=>({clients:n.clients.filter(i=>i.id!==t),statements:n.statements.filter(i=>i.clientId!==t),reports:n.reports.filter(i=>i.clientId!==t),selectedClientId:n.selectedClientId===t?null:n.selectedClientId}))},getClient:t=>e().clients.find(n=>n.id===t),addAccount:(t,n)=>{const i={id:at(),clientId:t,...n};r(s=>({clients:s.clients.map(a=>a.id===t?{...a,accounts:[...a.accounts,i],updatedAt:new Date}:a)}))},updateAccount:(t,n,i)=>{r(s=>({clients:s.clients.map(a=>a.id===t?{...a,accounts:a.accounts.map(o=>o.id===n?{...o,...i}:o),updatedAt:new Date}:a)}))},removeAccount:(t,n)=>{r(i=>({clients:i.clients.map(s=>s.id===t?{...s,accounts:s.accounts.filter(a=>a.id!==n),updatedAt:new Date}:s)}))},addStatement:t=>{const n={id:at(),...t,importedAt:new Date};return r(i=>({statements:[...i.statements,n]})),n},updateStatement:(t,n)=>{r(i=>({statements:i.statements.map(s=>s.id===t?{...s,...n}:s)}))},deleteStatement:t=>{r(n=>({statements:n.statements.filter(i=>i.id!==t)}))},getStatementsByClient:t=>e().statements.filter(n=>n.clientId===t),addReport:t=>{const n={id:at(),...t,generatedAt:new Date};return r(i=>({reports:[...i.reports,n]})),n},updateReport:(t,n)=>{r(i=>({reports:i.reports.map(s=>s.id===t?{...s,...n}:s)}))},deleteReport:t=>{r(n=>({reports:n.reports.filter(i=>i.id!==t)}))},getReportsByClient:t=>e().reports.filter(n=>n.clientId===t),getClientStatistics:(t,n,i)=>{const{statements:s,reports:a}=e(),o=s.filter(f=>f.clientId===t),l=n.filter(f=>f.clientId===t),c=i.filter(f=>f.transactions.some(p=>p.clientId===t)),u=a.filter(f=>f.clientId===t),d=c.filter(f=>f.status==="confirmed").reduce((f,p)=>f+p.amount,0),h=o.sort((f,p)=>new Date(p.importedAt).getTime()-new Date(f.importedAt).getTime())[0];return{clientId:t,totalStatements:o.length,totalTransactions:l.length,totalAnalyses:o.filter(f=>f.status==="analyzed").length,totalAnomalies:c.length,totalSavings:d,totalReports:u.length,lastImportDate:h?.importedAt,lastAnalysisDate:o.find(f=>f.status==="analyzed")?.importedAt}},setSelectedClient:t=>{r({selectedClientId:t})}}),{name:"scrutix-clients",partialize:r=>({clients:r.clients,statements:r.statements,reports:r.reports})})),Wde=[{code:"ABORECMX",name:"Afriland First Bank",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"BICCMCMX",name:"BICEC - Banque Internationale du Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"SGCMCMX",name:"Socit Gnrale Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"SCBLCMCX",name:"SCB Cameroun - Standard Chartered",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"ECABORDC",name:"Ecobank Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"UBACMCMX",name:"UBA Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"CBCXCMCX",name:"Commercial Bank Cameroun (CBC)",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"BGFICMCX",name:"BGFIBank Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"ATLNCMCX",name:"Banque Atlantique Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"CITYCMCX",name:"Citibank Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"NSIACMCX",name:"NSIA Banque Cameroun",country:"CM",zone:"CEMAC",conditions:null,isActive:!0},{code:"BGFIGABX",name:"BGFIBank Gabon",country:"GA",zone:"CEMAC",conditions:null,isActive:!0},{code:"BICIGABX",name:"BICIG - Banque Internationale du Commerce",country:"GA",zone:"CEMAC",conditions:null,isActive:!0},{code:"UBGAGABX",name:"UGB - Union Gabonaise de Banque",country:"GA",zone:"CEMAC",conditions:null,isActive:!0},{code:"ECABGABX",name:"Ecobank Gabon",country:"GA",zone:"CEMAC",conditions:null,isActive:!0},{code:"ORAGABX",name:"Orabank Gabon",country:"GA",zone:"CEMAC",conditions:null,isActive:!0},{code:"LCBPCGCX",name:"La Congolaise de Banque (LCB)",country:"CG",zone:"CEMAC",conditions:null,isActive:!0},{code:"BGFICGCX",name:"BGFIBank Congo",country:"CG",zone:"CEMAC",conditions:null,isActive:!0},{code:"ECABCGCX",name:"Ecobank Congo",country:"CG",zone:"CEMAC",conditions:null,isActive:!0},{code:"UBACGCXX",name:"UBA Congo",country:"CG",zone:"CEMAC",conditions:null,isActive:!0},{code:"ECABTDCX",name:"Ecobank Tchad",country:"TD",zone:"CEMAC",conditions:null,isActive:!0},{code:"SGCBTDCX",name:"Socit Gnrale Tchad",country:"TD",zone:"CEMAC",conditions:null,isActive:!0},{code:"UBATDNDJ",name:"UBA Tchad",country:"TD",zone:"CEMAC",conditions:null,isActive:!0},{code:"ECABCFCX",name:"Ecobank Centrafrique",country:"CF",zone:"CEMAC",conditions:null,isActive:!0},{code:"CBCACFCX",name:"CBCA - Commercial Bank Centrafrique",country:"CF",zone:"CEMAC",conditions:null,isActive:!0},{code:"BGFIGQCX",name:"BGFIBank Guine quatoriale",country:"GQ",zone:"CEMAC",conditions:null,isActive:!0},{code:"CCEIGNMG",name:"CCEI Bank GE",country:"GQ",zone:"CEMAC",conditions:null,isActive:!0}],qde=[{code:"SGBCCICI",name:"SGBCI - Socit Gnrale Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"BICICICX",name:"BICICI - Banque Internationale pour le Commerce",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABCICI",name:"Ecobank Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOACICIX",name:"BOA Cte d'Ivoire - Bank of Africa",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"NSIACICI",name:"NSIA Banque Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"COBACICI",name:"Coris Bank International CI",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"ATLNCICI",name:"Banque Atlantique Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"ORACICIX",name:"Orabank Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"UBACICIX",name:"UBA Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"BGFICICI",name:"BGFIBank Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"BRDTCICX",name:"Bridge Bank Cte d'Ivoire",country:"CI",zone:"UEMOA",conditions:null,isActive:!0},{code:"CBAOSNDA",name:"CBAO Groupe Attijariwafa Bank",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"SGBSSNDA",name:"Socit Gnrale Sngal",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABSNDA",name:"Ecobank Sngal",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOASNSND",name:"BOA Sngal - Bank of Africa",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"BICISNDX",name:"BICIS - BNP Paribas Sngal",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"ORASNDA",name:"Orabank Sngal",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"UBASNSND",name:"UBA Sngal",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"CORSSNDA",name:"Coris Bank Sngal",country:"SN",zone:"UEMOA",conditions:null,isActive:!0},{code:"COBABFBF",name:"Coris Bank International Burkina",country:"BF",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABBFBF",name:"Ecobank Burkina Faso",country:"BF",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOABFBFX",name:"BOA Burkina Faso",country:"BF",zone:"UEMOA",conditions:null,isActive:!0},{code:"SGBBBFBF",name:"Socit Gnrale Burkina Faso",country:"BF",zone:"UEMOA",conditions:null,isActive:!0},{code:"UBABFBFX",name:"UBA Burkina Faso",country:"BF",zone:"UEMOA",conditions:null,isActive:!0},{code:"BDMMMLBX",name:"BDM-SA - Banque de Dveloppement du Mali",country:"ML",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABMLBA",name:"Ecobank Mali",country:"ML",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOAMLBAX",name:"BOA Mali",country:"ML",zone:"UEMOA",conditions:null,isActive:!0},{code:"BIMSMLIX",name:"BIM-SA - Banque Internationale du Mali",country:"ML",zone:"UEMOA",conditions:null,isActive:!0},{code:"CORSMLBA",name:"Coris Bank Mali",country:"ML",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABBJBJ",name:"Ecobank Bnin",country:"BJ",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOABJBJX",name:"BOA Bnin",country:"BJ",zone:"UEMOA",conditions:null,isActive:!0},{code:"SGBEBJBJ",name:"Socit Gnrale Bnin",country:"BJ",zone:"UEMOA",conditions:null,isActive:!0},{code:"ORABBJBJ",name:"Orabank Bnin",country:"BJ",zone:"UEMOA",conditions:null,isActive:!0},{code:"UBABJBJX",name:"UBA Bnin",country:"BJ",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABTGTG",name:"Ecobank Togo (Sige)",country:"TG",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOATGTGX",name:"BOA Togo",country:"TG",zone:"UEMOA",conditions:null,isActive:!0},{code:"ORATGTGX",name:"Orabank Togo",country:"TG",zone:"UEMOA",conditions:null,isActive:!0},{code:"SGBTTGTG",name:"Socit Gnrale Togo",country:"TG",zone:"UEMOA",conditions:null,isActive:!0},{code:"UBATGTGX",name:"UBA Togo",country:"TG",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABNENE",name:"Ecobank Niger",country:"NE",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOANENEX",name:"BOA Niger",country:"NE",zone:"UEMOA",conditions:null,isActive:!0},{code:"SONIBNEX",name:"Sonibank Niger",country:"NE",zone:"UEMOA",conditions:null,isActive:!0},{code:"ORANINE",name:"Orabank Niger",country:"NE",zone:"UEMOA",conditions:null,isActive:!0},{code:"ECABGWGW",name:"Ecobank Guine-Bissau",country:"GW",zone:"UEMOA",conditions:null,isActive:!0},{code:"BOAGWGWX",name:"BOA Guine-Bissau",country:"GW",zone:"UEMOA",conditions:null,isActive:!0}],Xde=[...Wde,...qde],Ou=Qh()($h((r,e)=>({banks:[],selectedBankId:null,addBank:t=>{const n=new Date,i={id:at(),...t,createdAt:n,updatedAt:n};return r(s=>({banks:[...s.banks,i]})),i},updateBank:(t,n)=>{r(i=>({banks:i.banks.map(s=>s.id===t?{...s,...n,updatedAt:new Date}:s)}))},deleteBank:t=>{r(n=>({banks:n.banks.filter(i=>i.id!==t),selectedBankId:n.selectedBankId===t?null:n.selectedBankId}))},getBank:t=>e().banks.find(n=>n.id===t),getBankByCode:t=>e().banks.find(n=>n.code===t),setConditions:(t,n)=>{const i={id:at(),...n};r(s=>({banks:s.banks.map(a=>a.id===t?{...a,conditions:i,updatedAt:new Date}:a)}))},updateConditions:(t,n)=>{r(i=>({banks:i.banks.map(s=>s.id===t&&s.conditions?{...s,conditions:{...s.conditions,...n},updatedAt:new Date}:s)}))},addFee:(t,n)=>{r(i=>({banks:i.banks.map(s=>s.id===t&&s.conditions?{...s,conditions:{...s.conditions,fees:[...s.conditions.fees,n]},updatedAt:new Date}:s)}))},updateFee:(t,n,i)=>{r(s=>({banks:s.banks.map(a=>a.id===t&&a.conditions?{...a,conditions:{...a.conditions,fees:a.conditions.fees.map(o=>o.code===n?{...o,...i}:o)},updatedAt:new Date}:a)}))},removeFee:(t,n)=>{r(i=>({banks:i.banks.map(s=>s.id===t&&s.conditions?{...s,conditions:{...s.conditions,fees:s.conditions.fees.filter(a=>a.code!==n)},updatedAt:new Date}:s)}))},addInterestRate:(t,n)=>{r(i=>({banks:i.banks.map(s=>s.id===t&&s.conditions?{...s,conditions:{...s.conditions,interestRates:[...s.conditions.interestRates,n]},updatedAt:new Date}:s)}))},updateInterestRate:(t,n,i)=>{r(s=>({banks:s.banks.map(a=>a.id===t&&a.conditions?{...a,conditions:{...a.conditions,interestRates:a.conditions.interestRates.map(o=>o.type===n?{...o,...i}:o)},updatedAt:new Date}:a)}))},removeInterestRate:(t,n)=>{r(i=>({banks:i.banks.map(s=>s.id===t&&s.conditions?{...s,conditions:{...s.conditions,interestRates:s.conditions.interestRates.filter(a=>a.type!==n)},updatedAt:new Date}:s)}))},addDocument:(t,n)=>{r(i=>({banks:i.banks.map(s=>{if(s.id!==t)return s;const a=s.conditions||{id:at(),bankCode:s.code,bankName:s.name,country:s.country,currency:"XAF",effectiveDate:new Date,fees:[],interestRates:[],isActive:!0,documents:[]};return{...s,conditions:{...a,documents:[...a.documents||[],n]},updatedAt:new Date}})}))},removeDocument:(t,n)=>{r(i=>({banks:i.banks.map(s=>s.id===t&&s.conditions?{...s,conditions:{...s.conditions,documents:(s.conditions.documents||[]).filter(a=>a.id!==n)},updatedAt:new Date}:s)}))},setDocumentActive:(t,n,i)=>{r(s=>({banks:s.banks.map(a=>a.id===t&&a.conditions?{...a,conditions:{...a.conditions,documents:(a.conditions.documents||[]).map(o=>o.id===n?{...o,isActive:i}:o)},updatedAt:new Date}:a)}))},addConditionGrid:(t,n)=>{const i=new Date,s={id:at(),...n,createdAt:i,updatedAt:i};return r(a=>({banks:a.banks.map(o=>{if(o.id!==t)return o;const l=o.conditionGrids||[],c=s.status==="active"&&!l.some(u=>u.status==="active");return{...o,conditionGrids:[...l,s],activeGridId:c?s.id:o.activeGridId,conditions:s.status==="active"&&c?s.conditions:o.conditions,updatedAt:i}})})),s},updateConditionGrid:(t,n,i)=>{const s=new Date;r(a=>({banks:a.banks.map(o=>{if(o.id!==t||!o.conditionGrids)return o;const l=o.conditionGrids.map(d=>d.id===n?{...d,...i,updatedAt:s}:d),c=l.find(d=>d.id===n),u=o.activeGridId===n&&c;return{...o,conditionGrids:l,conditions:u?c.conditions:o.conditions,updatedAt:s}})}))},archiveConditionGrid:(t,n)=>{const i=new Date;r(s=>({banks:s.banks.map(a=>{if(a.id!==t||!a.conditionGrids)return a;const o=a.conditionGrids.map(u=>u.id===n?{...u,status:"archived",updatedAt:i}:u);let l=a.activeGridId,c=a.conditions;if(a.activeGridId===n){const u=o.find(d=>d.status==="active"&&d.id!==n);l=u?.id,c=u?.conditions||null}return{...a,conditionGrids:o,activeGridId:l,conditions:c,updatedAt:i}})}))},deleteConditionGrid:(t,n)=>{const i=new Date;r(s=>({banks:s.banks.map(a=>{if(a.id!==t||!a.conditionGrids)return a;const o=a.conditionGrids.filter(u=>u.id!==n);let l=a.activeGridId,c=a.conditions;if(a.activeGridId===n){const u=o.find(d=>d.status==="active");l=u?.id,c=u?.conditions||null}return{...a,conditionGrids:o,activeGridId:l,conditions:c,updatedAt:i}})}))},setActiveGrid:(t,n)=>{const i=new Date;r(s=>({banks:s.banks.map(a=>{if(a.id!==t||!a.conditionGrids)return a;const o=a.conditionGrids.find(c=>c.id===n);if(!o)return a;const l=a.conditionGrids.map(c=>({...c,status:c.id===n?"active":c.status==="active"?"archived":c.status,updatedAt:c.id===n||c.status==="active"?i:c.updatedAt}));return{...a,conditionGrids:l,activeGridId:n,conditions:o.conditions,updatedAt:i}})}))},getGridForDate:(t,n)=>{const i=e().banks.find(a=>a.id===t);if(!i||!i.conditionGrids)return null;const s=i.conditionGrids.filter(a=>{const o=new Date(a.effectiveDate),l=a.expirationDate?new Date(a.expirationDate):null,c=new Date(n),u=o<=c,d=!l||l>c;return u&&d&&a.status!=="draft"});return s.length===0?null:s.reduce((a,o)=>{const l=new Date(a.effectiveDate);return new Date(o.effectiveDate)>l?o:a})},getActiveGrid:t=>{const n=e().banks.find(i=>i.id===t);return!n||!n.conditionGrids||!n.activeGridId?null:n.conditionGrids.find(i=>i.id===n.activeGridId)||null},getAllGrids:t=>{const n=e().banks.find(i=>i.id===t);return!n||!n.conditionGrids?[]:[...n.conditionGrids].sort((i,s)=>new Date(s.effectiveDate).getTime()-new Date(i.effectiveDate).getTime())},setSelectedBank:t=>{r({selectedBankId:t})},initializeDefaults:()=>{const{banks:t}=e();if(t.length===0){const n=new Date,i=Xde.map(s=>({...s,id:at(),createdAt:n,updatedAt:n}));r({banks:i})}}}),{name:"scrutix-banks",partialize:r=>({banks:r.banks})})),Qg=Qh()($h((r,e)=>({invoices:[],payments:[],billingConfigs:[],addInvoice:t=>{const n=new Date,i={id:at(),...t,createdAt:n,updatedAt:n};return r(s=>({invoices:[...s.invoices,i]})),i},updateInvoice:(t,n)=>{r(i=>({invoices:i.invoices.map(s=>s.id===t?{...s,...n,updatedAt:new Date}:s)}))},deleteInvoice:t=>{r(n=>({invoices:n.invoices.filter(i=>i.id!==t),payments:n.payments.filter(i=>i.invoiceId!==t)}))},getInvoice:t=>e().invoices.find(n=>n.id===t),getInvoicesByClient:t=>e().invoices.filter(n=>n.clientId===t),getInvoicesByStatus:t=>e().invoices.filter(n=>n.status===t),addPayment:t=>{const n={id:at(),...t};r(s=>({payments:[...s.payments,n]}));const i=e().getInvoice(t.invoiceId);return i&&e().getPaymentsByInvoice(t.invoiceId).reduce((a,o)=>a+o.montant,0)+t.montant>=i.total&&e().updateInvoice(t.invoiceId,{status:"paid",datePaiement:t.datePaiement}),n},getPaymentsByInvoice:t=>e().payments.filter(n=>n.invoiceId===t),setBillingConfig:(t,n)=>{r(i=>{const s=i.billingConfigs.findIndex(a=>a.clientId===t);if(s>=0){const a=[...i.billingConfigs];return a[s]={...n,clientId:t},{billingConfigs:a}}return{billingConfigs:[...i.billingConfigs,{...n,clientId:t}]}})},getBillingConfig:t=>e().billingConfigs.find(n=>n.clientId===t),getMonthlyStats:(t,n)=>{const{invoices:i,payments:s}=e(),a=i.filter(d=>{const h=new Date(d.dateEmission);return h.getFullYear()===t&&h.getMonth()===n}),o=a.reduce((d,h)=>d+h.total,0),l=s.filter(d=>{const h=new Date(d.datePaiement);return h.getFullYear()===t&&h.getMonth()===n}).reduce((d,h)=>d+h.montant,0),c=a.filter(d=>d.status==="sent"||d.status==="overdue").reduce((d,h)=>d+h.total,0),u=a.reduce((d,h)=>{const f=h.lignes.filter(p=>p.type==="commission").reduce((p,g)=>p+g.montant,0);return d+f},0);return{facturesEmises:o,encaisse:l,enAttente:c,successFees:u}},generateInvoiceNumber:()=>{const t=new Date().getFullYear(),i=e().invoices.filter(s=>s.numero.startsWith(`${t}-`)).length+1;return`${t}-${String(i).padStart(4,"0")}`}}),{name:"auditech-billing",partialize:r=>({invoices:r.invoices,payments:r.payments,billingConfigs:r.billingConfigs})}));Qh()($h((r,e)=>({currentUser:null,users:[],cabinetSettings:null,notifications:[],theme:"light",setCurrentUser:t=>{r({currentUser:t}),t&&e().updateUser(t.id,{lastLogin:new Date})},addUser:t=>{const n=new Date,i={id:at(),...t,createdAt:n,updatedAt:n};return r(s=>({users:[...s.users,i]})),i},updateUser:(t,n)=>{r(i=>({users:i.users.map(s=>s.id===t?{...s,...n,updatedAt:new Date}:s),currentUser:i.currentUser?.id===t?{...i.currentUser,...n,updatedAt:new Date}:i.currentUser}))},deleteUser:t=>{r(n=>({users:n.users.filter(i=>i.id!==t)}))},getUser:t=>e().users.find(n=>n.id===t),setCabinetSettings:t=>{r({cabinetSettings:{id:at(),...t}})},updateCabinetSettings:t=>{r(n=>({cabinetSettings:n.cabinetSettings?{...n.cabinetSettings,...t}:null}))},addNotification:t=>{const n={id:at(),...t,isRead:!1,createdAt:new Date};r(i=>({notifications:[n,...i.notifications].slice(0,100)}))},markAsRead:t=>{r(n=>({notifications:n.notifications.map(i=>i.id===t?{...i,isRead:!0}:i)}))},markAllAsRead:()=>{r(t=>({notifications:t.notifications.map(n=>({...n,isRead:!0}))}))},deleteNotification:t=>{r(n=>({notifications:n.notifications.filter(i=>i.id!==t)}))},clearNotifications:()=>{r({notifications:[]})},getUnreadCount:()=>e().notifications.filter(t=>!t.isRead).length,setTheme:t=>{r({theme:t}),document.documentElement.classList.toggle("dark",t==="dark")},toggleTheme:()=>{const t=e().theme==="light"?"dark":"light";e().setTheme(t)}}),{name:"auditech-app",partialize:r=>({currentUser:r.currentUser,users:r.users,cabinetSettings:r.cabinetSettings,notifications:r.notifications,theme:r.theme})}));const yO=Qh()($h((r,e)=>({currentDraft:null,generatedReports:[],createDraft:(t,n)=>{const i=new Date,s=new Date(i.getFullYear(),i.getMonth(),1);r({currentDraft:{id:`draft-${Date.now()}`,title:`Rapport d'audit - ${n}`,clientId:t,clientName:n,type:"audit",period:{start:s,end:i},selectedAnomalies:[],confirmedAnomalies:[],dismissedAnomalies:[],contestedAnomalies:[],notes:"",includeAIAnalysis:!0,includeRecommendations:!0,includeTransactionDetails:!0,createdAt:i,updatedAt:i}})},updateDraft:t=>r(n=>({currentDraft:n.currentDraft?{...n.currentDraft,...t,updatedAt:new Date}:null})),clearDraft:()=>r({currentDraft:null}),addAnomalyToDraft:t=>r(n=>{if(!n.currentDraft){const s=new Date;return{currentDraft:{id:`draft-${Date.now()}`,title:"Nouveau rapport d'audit",clientId:t.transactions[0]?.clientId||"default",clientName:"Client",type:"audit",period:{start:s,end:s},selectedAnomalies:[t],confirmedAnomalies:[],dismissedAnomalies:[],contestedAnomalies:[],notes:"",includeAIAnalysis:!0,includeRecommendations:!0,includeTransactionDetails:!0,createdAt:s,updatedAt:s}}}return n.currentDraft.selectedAnomalies.some(s=>s.id===t.id)?n:{currentDraft:{...n.currentDraft,selectedAnomalies:[...n.currentDraft.selectedAnomalies,t],updatedAt:new Date}}}),removeAnomalyFromDraft:t=>r(n=>n.currentDraft?{currentDraft:{...n.currentDraft,selectedAnomalies:n.currentDraft.selectedAnomalies.filter(i=>i.id!==t),confirmedAnomalies:n.currentDraft.confirmedAnomalies.filter(i=>i.id!==t),dismissedAnomalies:n.currentDraft.dismissedAnomalies.filter(i=>i.id!==t),contestedAnomalies:n.currentDraft.contestedAnomalies.filter(i=>i.id!==t),updatedAt:new Date}}:n),confirmAnomaly:t=>r(n=>n.currentDraft?{currentDraft:{...n.currentDraft,selectedAnomalies:n.currentDraft.selectedAnomalies.filter(s=>s.id!==t.id),dismissedAnomalies:n.currentDraft.dismissedAnomalies.filter(s=>s.id!==t.id),contestedAnomalies:n.currentDraft.contestedAnomalies.filter(s=>s.id!==t.id),confirmedAnomalies:[...n.currentDraft.confirmedAnomalies.filter(s=>s.id!==t.id),{...t,status:"confirmed"}],updatedAt:new Date}}:n),dismissAnomaly:t=>r(n=>n.currentDraft?{currentDraft:{...n.currentDraft,selectedAnomalies:n.currentDraft.selectedAnomalies.filter(s=>s.id!==t.id),confirmedAnomalies:n.currentDraft.confirmedAnomalies.filter(s=>s.id!==t.id),contestedAnomalies:n.currentDraft.contestedAnomalies.filter(s=>s.id!==t.id),dismissedAnomalies:[...n.currentDraft.dismissedAnomalies.filter(s=>s.id!==t.id),{...t,status:"dismissed"}],updatedAt:new Date}}:n),contestAnomaly:t=>r(n=>n.currentDraft?{currentDraft:{...n.currentDraft,selectedAnomalies:n.currentDraft.selectedAnomalies.filter(s=>s.id!==t.id),confirmedAnomalies:n.currentDraft.confirmedAnomalies.filter(s=>s.id!==t.id),dismissedAnomalies:n.currentDraft.dismissedAnomalies.filter(s=>s.id!==t.id),contestedAnomalies:[...n.currentDraft.contestedAnomalies.filter(s=>s.id!==t.id),{...t,status:"contested"}],updatedAt:new Date}}:n),addAllAnomaliesToDraft:t=>r(n=>{if(!n.currentDraft){const a=new Date;return{currentDraft:{id:`draft-${Date.now()}`,title:"Nouveau rapport d'audit",clientId:"default",clientName:"Client",type:"audit",period:{start:a,end:a},selectedAnomalies:t,confirmedAnomalies:[],dismissedAnomalies:[],contestedAnomalies:[],notes:"",includeAIAnalysis:!0,includeRecommendations:!0,includeTransactionDetails:!0,createdAt:a,updatedAt:a}}}const i=new Set(n.currentDraft.selectedAnomalies.map(a=>a.id)),s=t.filter(a=>!i.has(a.id));return{currentDraft:{...n.currentDraft,selectedAnomalies:[...n.currentDraft.selectedAnomalies,...s],updatedAt:new Date}}}),confirmAllAnomalies:()=>r(t=>t.currentDraft?{currentDraft:{...t.currentDraft,confirmedAnomalies:[...t.currentDraft.confirmedAnomalies,...t.currentDraft.selectedAnomalies.map(n=>({...n,status:"confirmed"}))],selectedAnomalies:[],updatedAt:new Date}}:t),addGeneratedReport:t=>r(n=>({generatedReports:[t,...n.generatedReports]})),deleteGeneratedReport:t=>r(n=>({generatedReports:n.generatedReports.filter(i=>i.id!==t)})),getSelectedAnomaliesCount:()=>{const t=e().currentDraft;return t?t.selectedAnomalies.length+t.confirmedAnomalies.length+t.contestedAnomalies.length:0},getTotalSelectedAmount:()=>{const t=e().currentDraft;return t?[...t.selectedAnomalies,...t.confirmedAnomalies,...t.contestedAnomalies].reduce((i,s)=>i+s.amount,0):0},isAnomalyInDraft:t=>{const n=e().currentDraft;return n?n.selectedAnomalies.some(i=>i.id===t)||n.confirmedAnomalies.some(i=>i.id===t)||n.dismissedAnomalies.some(i=>i.id===t)||n.contestedAnomalies.some(i=>i.id===t):!1},getAnomalyStatus:t=>{const n=e().currentDraft;return n?n.confirmedAnomalies.some(i=>i.id===t)?"confirmed":n.dismissedAnomalies.some(i=>i.id===t)?"dismissed":n.contestedAnomalies.some(i=>i.id===t)?"contested":n.selectedAnomalies.some(i=>i.id===t)?"selected":null:null}}),{name:"scrutix-reports"}));function Yde(){const[r,e]=K.useState(!1),[t,n]=K.useState(!1),i=K.useRef(null),s=Hh(),{organization:a}=Ps();K.useEffect(()=>{function f(p){i.current&&!i.current.contains(p.target)&&e(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const o=f=>{s(f),e(!1)},l=()=>{n(!t)},c=[{icon:A.jsx(Ji,{className:"w-4 h-4"}),label:"Mon organisation",onClick:()=>o("/settings")},{icon:A.jsx(vA,{className:"w-4 h-4"}),label:"Parametres",onClick:()=>o("/settings")},{icon:A.jsx(Mm,{className:"w-4 h-4"}),label:"Securite",onClick:()=>o("/settings")},{divider:!0},{icon:A.jsx(Zr,{className:"w-4 h-4"}),label:"Documentation",onClick:()=>window.open("https://docs.scrutix.com","_blank")},{icon:A.jsx(wV,{className:"w-4 h-4"}),label:"Aide & Support",onClick:()=>window.open("mailto:support@atlasstudio.com","_blank")},{divider:!0},{icon:t?A.jsx(zle,{className:"w-4 h-4"}):A.jsx(Dle,{className:"w-4 h-4"}),label:t?"Mode clair":"Mode sombre",onClick:l,toggle:!0}],u=a.name||"Mon Cabinet",d="Administrateur",h=u.split(" ").map(f=>f[0]).join("").slice(0,2).toUpperCase()||"AD";return A.jsxs("div",{className:"relative",ref:i,children:[A.jsxs("button",{onClick:()=>e(!r),className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary-100 transition-colors",children:[a.logo?A.jsx("img",{src:a.logo,alt:"Logo",className:"w-8 h-8 rounded-full object-cover border border-primary-200"}):A.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-800 flex items-center justify-center text-white text-sm font-medium",children:h}),A.jsxs("div",{className:"hidden sm:block text-left",children:[A.jsx("p",{className:"text-sm font-medium text-primary-900 max-w-[120px] truncate",children:u}),A.jsx("p",{className:"text-xs text-primary-500",children:d})]}),A.jsx(gA,{className:`w-4 h-4 text-primary-400 transition-transform ${r?"rotate-180":""}`})]}),r&&A.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-primary-200 overflow-hidden z-50",children:[A.jsxs("div",{className:"px-4 py-4 bg-gradient-to-r from-primary-800 to-primary-900 text-white",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[a.logo?A.jsx("img",{src:a.logo,alt:"Logo",className:"w-12 h-12 rounded-full object-cover border-2 border-white/20"}):A.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center text-white text-lg font-semibold",children:h}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"font-semibold truncate",children:u}),A.jsx("p",{className:"text-sm text-white/70 truncate",children:a.senderEmail||"Non configure"})]})]}),a.city&&A.jsxs("p",{className:"text-xs text-white/60 mt-2",children:[a.city,", ",a.country]})]}),A.jsx("div",{className:"py-2",children:c.map((f,p)=>"divider"in f&&f.divider?A.jsx("div",{className:"my-2 border-t border-primary-100"},p):A.jsxs("button",{onClick:f.onClick,className:"w-full px-4 py-2.5 flex items-center gap-3 text-primary-700 hover:bg-primary-50 transition-colors",children:[A.jsx("span",{className:"text-primary-400",children:f.icon}),A.jsx("span",{className:"flex-1 text-left text-sm",children:f.label}),f.toggle&&A.jsx("div",{className:`w-8 h-4 rounded-full transition-colors ${t?"bg-primary-600":"bg-primary-200"}`,children:A.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow transition-transform ${t?"translate-x-4":"translate-x-0"}`})})]},p))}),A.jsx("div",{className:"border-t border-primary-100 py-2",children:A.jsxs("button",{onClick:()=>{e(!1)},className:"w-full px-4 py-2.5 flex items-center gap-3 text-red-600 hover:bg-red-50 transition-colors",children:[A.jsx(Mle,{className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Se deconnecter"})]})}),A.jsx("div",{className:"px-4 py-3 bg-primary-50 border-t border-primary-100",children:A.jsxs("p",{className:"text-xs text-primary-400 text-center",children:[A.jsx("span",{className:"font-display text-sm",children:"Scrutix"})," v1.0 - Developpe par ",A.jsx("span",{className:"font-display text-sm text-primary-600",children:a.developedBy||"Atlas Studio"})]})})]})]})}function Jde({onMenuClick:r}){return A.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-primary-200",children:A.jsx("div",{className:"w-full px-4 sm:px-6",children:A.jsxs("div",{className:"flex items-center justify-between h-16",children:[A.jsx(Ye,{variant:"ghost",size:"icon",onClick:r,className:"lg:hidden","aria-label":"Menu",children:A.jsx(Ple,{className:"w-5 h-5"})}),A.jsx("div",{className:"hidden lg:block"}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(jde,{}),A.jsx(Yde,{})]})]})})})}const pN=[{id:"beac",name:"Banque des Etats de l'Afrique Centrale",shortName:"BEAC",region:"CEMAC",type:"central_bank",baseUrl:"https://www.beac.int",searchUrl:"https://www.beac.int/recherche/",description:"Banque centrale de la CEMAC (Cameroun, Centrafrique, Congo, Gabon, Guinee Equatoriale, Tchad)",enabled:!0},{id:"cobac",name:"Commission Bancaire de l'Afrique Centrale",shortName:"COBAC",region:"CEMAC",type:"regulator",baseUrl:"https://www.sgcobac.org",description:"Autorite de supervision et de controle des etablissements de credit de la CEMAC",enabled:!0},{id:"bceao",name:"Banque Centrale des Etats de l'Afrique de l'Ouest",shortName:"BCEAO",region:"UEMOA",type:"central_bank",baseUrl:"https://www.bceao.int",searchUrl:"https://www.bceao.int/fr/recherche",description:"Banque centrale de l'UEMOA (Benin, Burkina Faso, Cote d'Ivoire, Guinee-Bissau, Mali, Niger, Senegal, Togo)",enabled:!0},{id:"cb_umoa",name:"Commission Bancaire de l'UMOA",shortName:"CB-UMOA",region:"UEMOA",type:"regulator",baseUrl:"https://www.cb.uemoa.int",description:"Autorite de supervision des etablissements de credit de l'UEMOA",enabled:!0}],Zde=[{sourceId:"beac",title:"Reglement COBAC R-2018/01 relatif aux conditions bancaires",url:"https://www.beac.int/reglementation/",type:"regulation",keywords:["frais bancaires","conditions","tarification","commission"],summary:"Reglemente les conditions de banque applicables aux operations de credit et les frais bancaires dans la zone CEMAC."},{sourceId:"beac",title:"Instruction BEAC sur les taux d'interet",url:"https://www.beac.int/politique-monetaire/",type:"circular",keywords:["taux","interet","agios","debiteur"],summary:"Fixe les taux directeurs et les conditions applicables aux operations de refinancement."},{sourceId:"cobac",title:"Reglement COBAC R-2016/04 relatif au traitement des reclamations",url:"https://www.sgcobac.org/reglementation/",type:"regulation",keywords:["reclamation","client","litige","mediation"],summary:"Encadre le traitement des reclamations des clients par les etablissements de credit."},{sourceId:"bceao",title:"Instruction N008-05-2015 relative aux conditions de banque",url:"https://www.bceao.int/fr/reglementation",type:"circular",keywords:["frais","commission","tarif","conditions"],summary:"Definit les regles applicables aux conditions de banque dans l'UEMOA."},{sourceId:"bceao",title:"Avis aux banques relatif aux taux d'interet",url:"https://www.bceao.int/fr/politique-monetaire",type:"circular",keywords:["taux","usure","interet","plafond"],summary:"Fixe les taux de reference et les plafonds des taux d'interet applicables."},{sourceId:"cb_umoa",title:"Circulaire sur la transparence des conditions bancaires",url:"https://www.cb.uemoa.int/circulaires/",type:"circular",keywords:["transparence","information","client","affichage"],summary:"Impose aux etablissements de credit l'affichage et la communication des conditions tarifaires."}];class ehe{sources=pN;async search(e,t){const{region:n="all",sourceIds:i,limit:s=10}=t||{};let a=this.sources.filter(l=>l.enabled);n!=="all"&&(a=a.filter(l=>l.region===n)),i&&i.length>0&&(a=a.filter(l=>i.includes(l.id)));const o=this.searchKnowledgeBase(e,a);return o.sort((l,c)=>c.relevanceScore-l.relevanceScore),o.slice(0,s)}searchKnowledgeBase(e,t){const n=e.toLowerCase(),i=n.split(/\s+/).filter(o=>o.length>2),s=t.map(o=>o.id),a=[];for(const o of Zde){if(!s.includes(o.sourceId))continue;let l=0;o.title.toLowerCase().includes(n)&&(l+=50);for(const c of o.keywords){(n.includes(c)||c.includes(n))&&(l+=20);for(const u of i)c.includes(u)&&(l+=5)}for(const c of i)o.summary.toLowerCase().includes(c)&&(l+=3);if(l>0){const c=t.find(u=>u.id===o.sourceId);a.push({id:`${o.sourceId}-${o.title.slice(0,20).replace(/\s/g,"-")}`,sourceId:o.sourceId,sourceName:c.shortName,title:o.title,snippet:o.summary,url:o.url,type:o.type,relevanceScore:Math.min(100,l)})}}return a}async getReferencesForAnalysis(e){const{anomalyTypes:t=[],keywords:n=[],region:i}=e,s=[],a={DUPLICATE_FEE:["frais","doublon","commission"],GHOST_FEE:["frais","commission","transparence"],OVERCHARGE:["surfacturation","tarif","conditions","plafond"],INTEREST_ERROR:["interet","agios","taux","calcul"],UNAUTHORIZED:["autorisation","prelevement","consentement"]};for(const u of t){const d=a[u];d&&s.push(...d)}s.push(...n);const l=[...new Set(s)].join(" ");return(await this.search(l,{region:i,limit:5})).map(u=>({sourceId:u.sourceId,sourceName:u.sourceName,documentTitle:u.title,documentUrl:u.url,excerpt:u.snippet,citedAt:new Date}))}formatReferencesForAI(e){if(e.length===0)return"";let t=`

---
REFERENCES REGLEMENTAIRES:
`;for(const n of e)t+=`
- [${n.sourceName}] ${n.documentTitle}
`,t+=`  Source: ${n.documentUrl}
`,t+=`  Resume: ${n.excerpt}
`;return t}getSources(){return this.sources}toggleSource(e,t){const n=this.sources.find(i=>i.id===e);n&&(n.enabled=t)}getSourcesByRegion(e){return this.sources.filter(t=>t.region===e)}hasActiveSources(){return this.sources.some(e=>e.enabled)}}const mN=new ehe,the="https://api.anthropic.com/v1/messages",rhe=6e4;let co=class extends Error{constructor(e,t,n,i){super(e),this.code=t,this.statusCode=n,this.retryAfter=i,this.name="ClaudeAPIError"}get isRetryable(){return["NETWORK","RATE_LIMIT","TIMEOUT","SERVER"].includes(this.code)}get userMessage(){switch(this.code){case"NETWORK":return"Erreur de connexion. Vrifiez votre accs internet.";case"AUTH":return"Cl API invalide ou expire. Veuillez vrifier vos paramtres.";case"RATE_LIMIT":return`Limite d'appels API atteinte. Ressayez dans ${this.retryAfter||60} secondes.`;case"TIMEOUT":return"Dlai d'attente dpass. L'opration a pris trop de temps.";case"INVALID_REQUEST":return"Requte invalide. Contactez le support si le problme persiste.";case"SERVER":return"Erreur serveur Claude. Ressayez dans quelques instants.";default:return"Une erreur inattendue s'est produite."}}};class nG{config;lastUsage=null;constructor(e){this.config={...e,temperature:e.temperature??.3,maxTokens:e.maxTokens??4e3}}getLastUsage(){return this.lastUsage}updateConfig(e){this.config={...this.config,...e}}async validateApiKey(){try{return await this.callClaude([{role:"user",content:'Rponds simplement "OK" pour valider la connexion.'}],10),{valid:!0}}catch(e){return e instanceof co?{valid:!1,error:e.userMessage,errorCode:e.code}:{valid:!1,error:e instanceof Error?e.message:"Erreur inconnue"}}}async categorizeTransactions(e,t){const i=[];for(let s=0;s<e.length;s+=50){const a=e.slice(s,s+50),o=await this.categorizeBatch(a,t);i.push(...o)}return i}async categorizeBatch(e,t){const n=e.map(a=>({id:a.id,description:a.description,amount:a.amount,date:a.date})),i=t?.length?`Catgories existantes  privilgier: ${t.join(", ")}`:"Cre des catgories appropries pour une comptabilit bancaire.",s=`Tu es un expert comptable spcialis dans l'audit bancaire africain (CEMAC/UEMOA).

Catgorise ces transactions bancaires:

${JSON.stringify(n,null,2)}

${i}

Rponds UNIQUEMENT avec un JSON valide (sans markdown, sans commentaires) dans ce format:
[
  {
    "transactionId": "id",
    "category": "Nom de la catgorie",
    "confidence": 0.95,
    "type": "DEBIT|CREDIT|FEE|INTEREST|TRANSFER|CARD|ATM|CHECK|OTHER"
  }
]

Catgories suggres: Frais bancaires, Virement entrant, Virement sortant, Prlvement, Carte bancaire, Retrait DAB, Agios/Intrts, Commission, Salaires, Fournisseurs, Clients, Impts/Taxes, Loyer, Tlcom, Assurances, Divers`;try{const a=await this.callClaude([{role:"user",content:s}],4e3),o=this.extractJson(a);return JSON.parse(o)}catch(a){return console.error("Erreur de catgorisation:",a),e.map(o=>({transactionId:o.id,category:"Non catgoris",confidence:0,type:Pi.OTHER}))}}async detectFraudPatterns(e,t){const i=e.slice(-200).map(o=>({id:o.id,date:o.date,amount:o.amount,description:o.description,type:o.type})),s=t.map(o=>({type:o.type,amount:o.amount,severity:o.severity})),a=`Tu es un expert en dtection de fraude bancaire pour les entreprises africaines.

Analyse ces transactions pour dtecter des patterns de fraude potentielle:

TRANSACTIONS:
${JSON.stringify(i,null,2)}

ANOMALIES DJ DTECTES:
${JSON.stringify(s,null,2)}

Cherche ces patterns de fraude:
1. Fractionnement de paiements (structuration)
2. Transactions rondes suspectes
3. Horaires inhabituels
4. Bnficiaires inconnus rcurrents
5. Augmentation soudaine des frais
6. Transactions juste sous les seuils de contrle
7. Double facturation dguise
8. Virements circulaires

Rponds UNIQUEMENT avec un JSON valide:
[
  {
    "transactionId": "id ou 'PATTERN'",
    "isSuspicious": true,
    "riskScore": 0.85,
    "reasons": ["Raison 1", "Raison 2"],
    "recommendation": "Action recommande"
  }
]

Si aucune fraude n'est dtecte, retourne un tableau vide: []`;try{const o=await this.callClaude([{role:"user",content:a}],4e3),l=this.extractJson(o);return JSON.parse(l)}catch(o){return console.error("Erreur de dtection de fraude:",o),[]}}async analyzeAnomalies(e,t,n){const i=Date.now(),{includeReferences:s=!0,region:a}=n||{},o=e.map(h=>({type:h.type,severity:h.severity,amount:h.amount,confidence:h.confidence,transactionCount:h.transactions.length,description:h.transactions[0]?.description||"N/A"})),l=t?`Conditions bancaires de rfrence: ${t.bankName}, Frais: ${t.fees.map(h=>`${h.name}: ${h.amount} FCFA`).join(", ")}`:"Pas de conditions bancaires de rfrence disponibles.";let c="",u=[];if(s){const h=[...new Set(e.map(f=>f.type))];u=await mN.getReferencesForAnalysis({anomalyTypes:h,region:a}),u.length>0&&(c=mN.formatReferencesForAI(u))}const d=`Tu es un auditeur bancaire senior spcialis dans les banques CEMAC/UEMOA.

Analyse en profondeur ces anomalies dtectes:

${JSON.stringify(o,null,2)}

${l}
${c}

Fournis une analyse dtaille avec:
1. valuation du risque global
2. Patterns identifis
3. Impact financier estim
4. Recommandations d'actions prioritaires (cite les references reglementaires si pertinent)
5. Points  vrifier manuellement

IMPORTANT: Si des references reglementaires sont fournies, cite-les dans tes recommandations pour appuyer ton analyse.

Rponds UNIQUEMENT avec un JSON valide:
{
  "summary": "Rsum excutif de l'analyse",
  "findings": [
    {
      "type": "Type d'anomalie",
      "severity": "LOW|MEDIUM|HIGH|CRITICAL",
      "description": "Description dtaille",
      "evidence": ["Preuve 1", "Preuve 2"],
      "suggestedAction": "Action recommande",
      "estimatedImpact": 50000,
      "regulatoryReference": "Reference reglementaire si applicable"
    }
  ],
  "recommendations": ["Recommandation 1 (cf. Reference X)", "Recommandation 2"],
  "riskScore": 0.65,
  "confidence": 0.85
}`;try{const h=await this.callClaude([{role:"user",content:d}],4e3),f=this.extractJson(h),p=JSON.parse(f);return{id:`ai-audit-${Date.now()}`,status:"completed",analysis:{summary:p.summary,findings:p.findings,recommendations:p.recommendations,riskScore:p.riskScore,confidence:p.confidence},references:u.length>0?u:void 0,processingTime:Date.now()-i,createdAt:new Date,completedAt:new Date}}catch(h){return{id:`ai-audit-${Date.now()}`,status:"failed",error:h instanceof Error?h.message:"Erreur inconnue",createdAt:new Date}}}async generateReport(e,t,n,i){const s=`du ${this.formatDate(t.start)} au ${this.formatDate(t.end)}`,a=this.groupAnomalies(n),o=`Tu es un expert-comptable rdigeant un rapport d'audit bancaire professionnel.

CLIENT: ${e}
PRIODE: ${s}

STATISTIQUES:
- Transactions analyses: ${i.totalTransactions}
- Volume total: ${i.totalAmount.toLocaleString("fr-FR")} FCFA
- conomies potentielles: ${i.potentialSavings.toLocaleString("fr-FR")} FCFA

ANOMALIES PAR TYPE:
${a}

Rdige un rapport d'audit professionnel en franais. Le rapport doit tre formel, prcis et actionnable.

Rponds UNIQUEMENT avec un JSON valide:
{
  "title": "Titre du rapport",
  "executiveSummary": "Rsum excutif (2-3 paragraphes)",
  "keyFindings": ["Constatation cl 1", "Constatation cl 2", "..."],
  "detailedAnalysis": "Analyse dtaille (plusieurs paragraphes)",
  "recommendations": ["Recommandation 1 avec justification", "Recommandation 2 avec justification", "..."],
  "conclusion": "Conclusion et prochaines tapes"
}`;try{const l=await this.callClaude([{role:"user",content:o}],4e3),c=this.extractJson(l);return JSON.parse(c)}catch(l){return console.error("Erreur de gnration de rapport:",l),{title:`Rapport d'audit bancaire - ${e}`,executiveSummary:"Erreur lors de la gnration du rapport.",keyFindings:[],detailedAnalysis:"",recommendations:[],conclusion:""}}}async callClaude(e,t){if(!this.config.apiKey||this.config.apiKey.trim()==="")throw new co("Cl API non configure","AUTH");const n=new AbortController,i=setTimeout(()=>n.abort(),rhe);try{const s=await fetch(the,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.config.apiKey,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:this.config.model,max_tokens:t??this.config.maxTokens??4e3,temperature:this.config.temperature??.3,messages:e}),signal:n.signal});if(clearTimeout(i),!s.ok){const l=(await s.json().catch(()=>({})))?.error?.message||s.statusText;switch(s.status){case 401:throw new co(l,"AUTH",s.status);case 429:{const c=parseInt(s.headers.get("retry-after")||"60",10);throw new co(l,"RATE_LIMIT",s.status,c)}case 400:throw new co(l,"INVALID_REQUEST",s.status);case 500:case 502:case 503:case 504:throw new co(l,"SERVER",s.status);default:throw new co(l,"UNKNOWN",s.status)}}const a=await s.json();if(!a.content||!Array.isArray(a.content)||a.content.length===0)throw new co("Rponse API invalide","INVALID_REQUEST");return this.lastUsage={inputTokens:a.usage?.input_tokens||0,outputTokens:a.usage?.output_tokens||0},a.content[0]?.text||""}catch(s){throw clearTimeout(i),s instanceof DOMException&&s.name==="AbortError"?new co("Dlai d'attente dpass","TIMEOUT"):s instanceof TypeError&&s.message.includes("fetch")?new co("Impossible de contacter l'API Claude","NETWORK"):s instanceof co?s:new co(s instanceof Error?s.message:"Erreur inconnue","UNKNOWN")}}async chat(e,t,n){let i=`Tu es un assistant expert en audit bancaire pour les entreprises africaines (CEMAC/UEMOA).
Tu aides les auditeurs a analyser les transactions et anomalies detectees.
Reponds toujours en francais, de maniere professionnelle et concise.`;if(t?.clientName&&(i+=`

Client en cours d'analyse: ${t.clientName}`),t?.transactions&&t.transactions.length>0){const a=t.transactions.slice(0,50).map(o=>({date:o.date,montant:o.amount,description:o.description,type:o.type}));i+=`

Dernieres transactions (${t.transactions.length} total):
${JSON.stringify(a,null,2)}`}if(t?.anomalies&&t.anomalies.length>0){const a=t.anomalies.map(o=>({type:o.type,severite:o.severity,montant:o.amount,confiance:o.confidence}));i+=`

Anomalies detectees (${t.anomalies.length}):
${JSON.stringify(a,null,2)}`}t?.bankConditions&&(i+=`

Conditions bancaires: ${t.bankConditions.bankName}`);const s=[];if(s.push({role:"user",content:`[CONTEXTE SYSTEME]
${i}

[FIN CONTEXTE]`}),s.push({role:"assistant",content:"Compris. Je suis pret a vous aider avec l'analyse de ces donnees bancaires. Que souhaitez-vous savoir?"}),n&&n.length>0)for(const a of n.slice(-10))s.push({role:a.role,content:a.content});s.push({role:"user",content:e});try{const a=await this.callClaude(s),o=this.getLastUsage(),l=(o?.inputTokens||0)+(o?.outputTokens||0);return{response:a,tokensUsed:l}}catch(a){throw console.error("Erreur chat Claude:",a),a}}extractJson(e){const t=e.match(/```(?:json)?\s*([\s\S]*?)```/);if(t)return t[1].trim();const n=e.match(/\[[\s\S]*\]/),i=e.match(/\{[\s\S]*\}/);return n&&(!i||n.index<i.index)?n[0]:i?i[0]:e.trim()}formatDate(e){return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})}groupAnomalies(e){const t={};for(const n of e)t[n.type]||(t[n.type]={count:0,amount:0}),t[n.type].count++,t[n.type].amount+=n.amount;return Object.entries(t).map(([n,i])=>`- ${n}: ${i.count} cas, ${i.amount.toLocaleString("fr-FR")} FCFA`).join(`
`)}}let nhe=null;function iG(r){return nhe}const ihe=Object.freeze(Object.defineProperty({__proto__:null,ClaudeAPIError:co,ClaudeService:nG,getClaudeService:iG},Symbol.toStringTag,{value:"Module"}));function nb({size:r=48,className:e=""}){return A.jsxs("svg",{viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:{width:r,height:r},children:[A.jsxs("defs",{children:[A.jsxs("linearGradient",{id:"skinGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#A0522D"}),A.jsx("stop",{offset:"100%",stopColor:"#8B4513"})]}),A.jsxs("linearGradient",{id:"hairGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#1a1a1a"}),A.jsx("stop",{offset:"100%",stopColor:"#0d0d0d"})]}),A.jsxs("linearGradient",{id:"blazerGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"#1e3a5f"}),A.jsx("stop",{offset:"100%",stopColor:"#152238"})]}),A.jsxs("linearGradient",{id:"glassesGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[A.jsx("stop",{offset:"0%",stopColor:"#4a5568"}),A.jsx("stop",{offset:"100%",stopColor:"#2d3748"})]})]}),A.jsx("ellipse",{cx:"32",cy:"18",rx:"18",ry:"14",fill:"url(#hairGradient)"}),A.jsx("ellipse",{cx:"32",cy:"20",rx:"20",ry:"12",fill:"url(#hairGradient)"}),A.jsx("ellipse",{cx:"14",cy:"26",rx:"6",ry:"10",fill:"#1a1a1a"}),A.jsx("ellipse",{cx:"50",cy:"26",rx:"6",ry:"10",fill:"#1a1a1a"}),A.jsx("path",{d:"M18 12 Q22 8 28 10",stroke:"#2a2a2a",strokeWidth:"2",fill:"none"}),A.jsx("path",{d:"M36 10 Q42 8 46 12",stroke:"#2a2a2a",strokeWidth:"2",fill:"none"}),A.jsx("ellipse",{cx:"32",cy:"34",rx:"14",ry:"16",fill:"url(#skinGradient)"}),A.jsx("ellipse",{cx:"17",cy:"34",rx:"2",ry:"3",fill:"url(#skinGradient)"}),A.jsx("ellipse",{cx:"47",cy:"34",rx:"2",ry:"3",fill:"url(#skinGradient)"}),A.jsx("circle",{cx:"17",cy:"38",r:"2",fill:"#FFD700"}),A.jsx("circle",{cx:"47",cy:"38",r:"2",fill:"#FFD700"}),A.jsx("ellipse",{cx:"26",cy:"32",rx:"4",ry:"3.5",fill:"white"}),A.jsx("ellipse",{cx:"38",cy:"32",rx:"4",ry:"3.5",fill:"white"}),A.jsx("circle",{cx:"26.5",cy:"32",r:"2.5",fill:"#3D2314"}),A.jsx("circle",{cx:"38.5",cy:"32",r:"2.5",fill:"#3D2314"}),A.jsx("circle",{cx:"26.5",cy:"32",r:"1.2",fill:"#1a0f0a"}),A.jsx("circle",{cx:"38.5",cy:"32",r:"1.2",fill:"#1a0f0a"}),A.jsx("circle",{cx:"27.5",cy:"31",r:"0.8",fill:"white"}),A.jsx("circle",{cx:"39.5",cy:"31",r:"0.8",fill:"white"}),A.jsx("rect",{x:"20",y:"28",width:"12",height:"9",rx:"2",stroke:"url(#glassesGradient)",strokeWidth:"1.5",fill:"none"}),A.jsx("rect",{x:"34",y:"28",width:"12",height:"9",rx:"2",stroke:"url(#glassesGradient)",strokeWidth:"1.5",fill:"none"}),A.jsx("path",{d:"M32 31 L34 31",stroke:"url(#glassesGradient)",strokeWidth:"1.5"}),A.jsx("path",{d:"M20 31 L17 30",stroke:"url(#glassesGradient)",strokeWidth:"1.5"}),A.jsx("path",{d:"M46 31 L47 30",stroke:"url(#glassesGradient)",strokeWidth:"1.5"}),A.jsx("path",{d:"M22 26 Q26 24 30 26",stroke:"#1a1a1a",strokeWidth:"1.2",strokeLinecap:"round",fill:"none"}),A.jsx("path",{d:"M34 26 Q38 24 42 26",stroke:"#1a1a1a",strokeWidth:"1.2",strokeLinecap:"round",fill:"none"}),A.jsx("path",{d:"M32 35 L31 39 Q32 40 33 39 L32 35",fill:"#8B4513",opacity:"0.4"}),A.jsx("ellipse",{cx:"22",cy:"38",rx:"2.5",ry:"1.5",fill:"#CD853F",opacity:"0.3"}),A.jsx("ellipse",{cx:"42",cy:"38",rx:"2.5",ry:"1.5",fill:"#CD853F",opacity:"0.3"}),A.jsx("path",{d:"M28 44 Q32 42.5 36 44",stroke:"#A0522D",strokeWidth:"0.8",fill:"none"}),A.jsx("path",{d:"M28 44 Q32 46 36 44",fill:"#B5655D"}),A.jsx("path",{d:"M29.5 44.5 Q32 45.5 34.5 44.5",stroke:"#8B4040",strokeWidth:"0.3",fill:"none"}),A.jsx("path",{d:"M16 52 L20 48 Q32 46 44 48 L48 52 L50 62 L14 62 Z",fill:"url(#blazerGradient)"}),A.jsx("path",{d:"M24 48 L28 54 L32 50 L36 54 L40 48",stroke:"#152238",strokeWidth:"1",fill:"#0f1a2a"}),A.jsx("path",{d:"M28 50 L32 56 L36 50",fill:"white"}),A.jsx("path",{d:"M30 52 L32 55 L34 52",stroke:"#e5e5e5",strokeWidth:"0.5",fill:"none"}),A.jsx("circle",{cx:"32",cy:"58",r:"1",fill:"#FFD700"})]})}function she(){const[r,e]=K.useState(!1),[t,n]=K.useState("help"),[i,s]=K.useState(""),[a,o]=K.useState([]),[l,c]=K.useState(!1),[u,d]=K.useState(null),[h,f]=K.useState("getting-started"),[p,g]=K.useState({x:24,y:24}),[m,v]=K.useState(!1),[y,b]=K.useState({x:0,y:0}),w=K.useRef(null),_=K.useRef(null),B=K.useRef(null),{claudeApi:R}=Ps(),j=K.useCallback(S=>{S.button===0&&(v(!0),b({x:S.clientX+p.x,y:S.clientY+p.y}),S.preventDefault())},[p]),k=K.useCallback(S=>{if(!m)return;const C=y.x-S.clientX,E=y.y-S.clientY,x=window.innerWidth-80,F=window.innerHeight-80;g({x:Math.max(16,Math.min(x,C)),y:Math.max(16,Math.min(F,E))})},[m,y]),L=K.useCallback(()=>{v(!1)},[]);K.useEffect(()=>{if(m)return window.addEventListener("mousemove",k),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",L)}},[m,k,L]);const H=()=>{_.current?.scrollIntoView({behavior:"smooth"})};K.useEffect(()=>{H()},[a]),K.useEffect(()=>{r&&t==="chat"&&B.current&&B.current.focus()},[r,t]);const I=async()=>{if(!i.trim()||l)return;const S={id:`msg-${Date.now()}`,role:"user",content:i.trim(),timestamp:new Date};o(C=>[...C,S]),s(""),c(!0),d(null);try{const C=iG();if(!C){if(!R.apiKey){const F={id:`msg-${Date.now()+1}`,role:"assistant",content:`Pour utiliser le chat IA, veuillez configurer votre cl API Claude dans **Paramtres > Intelligence Artificielle**.

En attendant, voici quelques informations utiles:

**Scrutix** est un outil d'audit bancaire qui vous permet de:
- Importer et analyser vos relevs bancaires
- Dtecter automatiquement les anomalies
- Gnrer des rapports d'audit professionnels
- Rcuprer les frais bancaires injustifis

Consultez l'onglet **Aide** pour plus de dtails sur chaque fonctionnalit.`,timestamp:new Date};o(U=>[...U,F]);return}throw new Error("Service IA non initialis")}const E=await C.chat(S.content,void 0,a),x={id:`msg-${Date.now()+1}`,role:"assistant",content:E.response,timestamp:new Date,tokensUsed:E.tokensUsed};o(F=>[...F,x])}catch(C){d(C instanceof Error?C.message:"Erreur lors de la communication avec l'IA")}finally{c(!1)}},T=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),I())},P=[{id:"getting-started",title:"Prise en main rapide",icon:A.jsx(jle,{className:"w-5 h-5 text-amber-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Bienvenue sur Scrutix !"})," Outil d'audit bancaire pour experts-comptables."]}),A.jsx("p",{className:"font-medium text-primary-900",children:"Workflow recommand :"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Clients"}),"  Crez une fiche client avec ses informations"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Import"}),"  Slectionnez le client, puis importez ses relevs"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Analyse"}),"  Lancez la dtection automatique des anomalies"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Rapports"}),"  Gnrez un rapport d'audit professionnel"]})]}),A.jsxs("div",{className:"mt-3 p-2 bg-amber-50 border border-amber-200 rounded text-xs",children:[A.jsx("strong",{children:"Astuce :"})," Commencez par la page ",A.jsx("em",{children:"Clients"})," pour crer votre premier dossier."]})]})},{id:"clients",title:"tape 1 : Gestion des clients",icon:A.jsx(_h,{className:"w-5 h-5 text-blue-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Crer un nouveau client :"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:["Cliquez sur ",A.jsx("strong",{children:" Nouveau client "})]}),A.jsx("li",{children:"Renseignez : nom, code client, SIRET (optionnel)"}),A.jsx("li",{children:"Ajoutez l'adresse et les coordonnes"}),A.jsx("li",{children:"Enregistrez la fiche"})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Ajouter un compte bancaire :"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[A.jsx("li",{children:"Ouvrez la fiche du client"}),A.jsxs("li",{children:["Dans l'onglet ",A.jsx("strong",{children:" Comptes "}),", cliquez sur ",A.jsx("strong",{children:" + Compte "})]}),A.jsx("li",{children:"Slectionnez la banque (CEMAC ou UEMOA)"}),A.jsx("li",{children:"Saisissez le numro de compte (RIB)"})]}),A.jsx("p",{className:"text-primary-500 italic mt-2",children:" Menu latral  Clients"})]})},{id:"import",title:"tape 2 : Import des relevs",icon:A.jsx(vs,{className:"w-5 h-5 text-green-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Procdure d'import :"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:["Slectionnez le ",A.jsx("strong",{children:"client"})," concern"]}),A.jsxs("li",{children:["Choisissez le ",A.jsx("strong",{children:"compte bancaire"})," (ou crez-en un)"]}),A.jsx("li",{children:"Glissez-dposez vos fichiers dans la zone d'import"}),A.jsx("li",{children:"Attendez la fin du traitement"})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Formats accepts :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"PDF"}),"  Relevs bancaires (OCR automatique)"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"CSV"}),"  Exports banque en ligne"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Excel"}),"  Fichiers .xlsx et .xls"]})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Banques supportes :"}),A.jsx("p",{className:"ml-2",children:"SGBCI, BICICI, Ecobank, BOA, UBA, BGFI, Socit Gnrale, Afriland First Bank..."}),A.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-xs",children:[A.jsx("strong",{children:"Conseil :"})," Importez au minimum 12 mois de relevs pour une analyse optimale."]}),A.jsx("p",{className:"text-primary-500 italic mt-2",children:" Menu latral  Import"})]})},{id:"analysis",title:"tape 3 : Analyse des anomalies",icon:A.jsx(So,{className:"w-5 h-5 text-purple-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Lancer une analyse :"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:["Accdez  la page ",A.jsx("strong",{children:"Analyse"})]}),A.jsx("li",{children:"Slectionnez la priode  analyser"}),A.jsx("li",{children:"Choisissez les dtecteurs  activer"}),A.jsxs("li",{children:["Cliquez sur ",A.jsx("strong",{children:" Lancer l'analyse "})]})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Types d'anomalies dtectes :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Doublons"}),"  Oprations factures plusieurs fois"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Frais fantmes"}),"  Frais sans opration associe"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Surfacturation"}),"  Frais suprieurs aux conditions tarifaires"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Erreurs d'agios"}),"  Calcul d'intrts incorrect (ACT/360)"]})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Niveaux de svrit :"}),A.jsxs("div",{className:"flex gap-2 flex-wrap ml-2",children:[A.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:"Critique >50K"}),A.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded text-xs",children:"Haute >20K"}),A.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:"Moyenne >5K"}),A.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs",children:"Basse <5K"})]}),A.jsx("p",{className:"text-primary-500 italic mt-2",children:" Menu latral  Analyse"})]})},{id:"reports",title:"tape 4 : Gnration de rapports",icon:A.jsx(xv,{className:"w-5 h-5 text-indigo-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Gnrer un rapport :"}),A.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:["Accdez  ",A.jsx("strong",{children:"Rapports  Relevs"})]}),A.jsx("li",{children:"Trouvez le relev analys dans la table"}),A.jsxs("li",{children:["Cliquez sur l'icne ",A.jsx("strong",{children:" Gnrer"})]}),A.jsx("li",{children:"Choisissez le type de rapport"}),A.jsx("li",{children:"Le PDF est tlcharg automatiquement"})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Types de rapports disponibles :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Audit complet"}),"  Rapport dtaill avec toutes les anomalies"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Synthtique"}),"  Rsum excutif pour la direction"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Dtaill"}),"  Analyse approfondie par catgorie"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Recouvrement"}),"  Lettre de rclamation pour la banque"]})]}),A.jsxs("div",{className:"mt-3 p-2 bg-indigo-50 border border-indigo-200 rounded text-xs",children:[A.jsx("strong",{children:"Note :"})," Les rapports gnrs sont consultables dans l'onglet  Rapports gnrs  et dans la fiche client."]}),A.jsx("p",{className:"text-primary-500 italic mt-2",children:" Menu latral  Rapports"})]})},{id:"dashboard",title:"Tableau de bord",icon:A.jsx(Ka,{className:"w-5 h-5 text-cyan-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Indicateurs affichs :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Clients actifs"}),"  Nombre de dossiers en cours"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Anomalies dtectes"}),"  Total et rpartition par svrit"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"conomies potentielles"}),"  Montant rcuprable estim"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"conomies confirmes"}),"  Montant effectivement rcupr"]})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Graphiques disponibles :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[A.jsx("li",{children:"volution mensuelle des analyses"}),A.jsx("li",{children:"Rpartition par type d'anomalie"}),A.jsx("li",{children:"Top clients par conomies gnres"})]}),A.jsx("p",{className:"text-primary-500 italic mt-2",children:" Menu latral  Tableau de bord"})]})},{id:"settings",title:"Paramtres",icon:A.jsx(vA,{className:"w-5 h-5 text-gray-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Sections de configuration :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Organisation"}),"  Nom du cabinet, logo, coordonnes (pour les rapports)"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Intelligence Artificielle"}),"  Cl API Claude pour analyses avances"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Seuils de dtection"}),"  Personnaliser la sensibilit des algorithmes"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Conditions tarifaires"}),"  Barmes des banques pour dtecter la surfacturation"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Sauvegarde"}),"  Exporter/importer toutes les donnes"]})]}),A.jsxs("div",{className:"mt-3 p-2 bg-gray-50 border border-gray-200 rounded text-xs",children:[A.jsx("strong",{children:"Important :"})," Configurez les informations de votre cabinet avant de gnrer des rapports clients."]}),A.jsx("p",{className:"text-primary-500 italic mt-2",children:" Menu latral  Paramtres"})]})},{id:"tips",title:"Bonnes pratiques",icon:A.jsx(al,{className:"w-5 h-5 text-emerald-500"}),content:A.jsxs("div",{className:"space-y-3 text-sm text-primary-700",children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Pour une utilisation optimale :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-2",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"12 mois minimum"}),"  Importez suffisamment de donnes pour dtecter les rcurrences"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Vrifiez les anomalies"}),"  Confirmez ou rejetez chaque dtection avant de gnrer un rapport"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Activez l'IA"}),"  Les analyses Claude offrent des insights supplmentaires"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Sauvegardez rgulirement"}),"  Exportez vos donnes via Paramtres  Sauvegarde"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Ajustez les seuils"}),"  Adaptez la sensibilit selon le profil du client"]})]}),A.jsx("p",{className:"font-medium text-primary-900 mt-3",children:"Raccourcis utiles :"}),A.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[A.jsx("li",{children:"Clic sur une ligne de tableau  Dtail"}),A.jsx("li",{children:"Icne   Prvisualiser"}),A.jsx("li",{children:"Icne   Gnrer rapport"}),A.jsx("li",{children:"Icne   Accder au client"})]})]})}],N=()=>{m||e(!0)};return A.jsxs(A.Fragment,{children:[A.jsx("button",{ref:w,onMouseDown:j,onClick:N,className:`fixed z-50 transition-all duration-300 group ${r?"scale-0 opacity-0 pointer-events-none":"scale-100 opacity-100"} ${m?"cursor-grabbing scale-110":"cursor-grab hover:scale-110"}`,style:{right:p.x,bottom:p.y},children:A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 bg-indigo-400 rounded-full blur-xl opacity-40 group-hover:opacity-60 transition-opacity"}),A.jsx("div",{className:"relative bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl p-2 shadow-lg border-2 border-white/50 hover:shadow-xl transition-shadow",children:A.jsx(nb,{size:52})}),A.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 px-2 py-0.5 bg-indigo-600 text-white text-xs font-medium rounded-full shadow-md whitespace-nowrap",children:"Paloma"}),A.jsx("span",{className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 px-3 py-1.5 bg-indigo-600 text-white text-sm rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:"Aide & Chat IA"})]})}),A.jsxs("div",{className:`fixed bottom-6 right-6 z-50 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col overflow-hidden transition-all duration-300 ${r?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,style:{transformOrigin:"bottom right"},children:[A.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-4 py-3 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(nb,{size:36}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Paloma"}),A.jsx("p",{className:"text-xs text-indigo-200",children:"Assistant Scrutix"})]})]}),A.jsx("button",{onClick:()=>e(!1),className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:A.jsx(Eo,{className:"w-5 h-5"})})]}),A.jsxs("div",{className:"flex border-b border-indigo-100",children:[A.jsxs("button",{onClick:()=>n("help"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${t==="help"?"text-indigo-700 border-b-2 border-indigo-600 bg-indigo-50":"text-primary-500 hover:text-indigo-600 hover:bg-indigo-50"}`,children:[A.jsx(wV,{className:"w-4 h-4"}),"Mode d'emploi"]}),A.jsxs("button",{onClick:()=>n("chat"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${t==="chat"?"text-indigo-700 border-b-2 border-indigo-600 bg-indigo-50":"text-primary-500 hover:text-indigo-600 hover:bg-indigo-50"}`,children:[A.jsx(nb,{size:18}),"Chat Paloma",!R.apiKey&&A.jsx(Ir,{variant:"warning",className:"text-xs px-1.5 py-0.5",children:"!"})]})]}),A.jsx("div",{className:"flex-1 overflow-hidden",children:t==="help"?A.jsx("div",{className:"h-full overflow-y-auto p-4 space-y-2",children:P.map(S=>A.jsxs("div",{className:"border border-primary-100 rounded-lg overflow-hidden",children:[A.jsxs("button",{onClick:()=>f(h===S.id?null:S.id),className:"w-full flex items-center justify-between px-4 py-3 bg-white hover:bg-primary-50 transition-colors",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[S.icon,A.jsx("span",{className:"font-medium text-primary-900",children:S.title})]}),A.jsx(gA,{className:`w-5 h-5 text-primary-400 transition-transform ${h===S.id?"rotate-180":""}`})]}),h===S.id&&A.jsx("div",{className:"px-4 py-3 bg-primary-50 border-t border-primary-100",children:S.content})]},S.id))}):A.jsxs("div",{className:"h-full flex flex-col",children:[A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.length===0&&A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"flex justify-center mb-3",children:A.jsx(nb,{size:64})}),A.jsx("p",{className:"text-indigo-600 font-medium mb-2",children:"Bonjour ! Je suis Paloma"}),A.jsx("p",{className:"text-sm text-primary-400",children:"Posez-moi des questions sur l'audit bancaire, l'analyse des anomalies, ou l'utilisation de Scrutix."}),!R.apiKey&&A.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[A.jsx(As,{className:"w-4 h-4"}),A.jsx("span",{className:"text-sm font-medium",children:"Cl API non configure"})]}),A.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Configurez votre cl Claude dans Paramtres  IA pour des rponses personnalises."})]})]}),a.map(S=>A.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:A.jsxs("div",{className:`max-w-[85%] px-4 py-2 rounded-2xl ${S.role==="user"?"bg-primary-900 text-white rounded-br-md":"bg-primary-100 text-primary-900 rounded-bl-md"}`,children:[A.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content}),A.jsx("p",{className:`text-xs mt-1 ${S.role==="user"?"text-primary-300":"text-primary-400"}`,children:S.timestamp.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})},S.id)),l&&A.jsx("div",{className:"flex justify-start",children:A.jsx("div",{className:"bg-primary-100 px-4 py-3 rounded-2xl rounded-bl-md",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Vl,{className:"w-4 h-4 animate-spin text-primary-600"}),A.jsx("span",{className:"text-sm text-primary-600",children:"Rflexion en cours..."})]})})}),u&&A.jsx("div",{className:"flex justify-center",children:A.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-2 rounded-lg text-sm",children:u})}),A.jsx("div",{ref:_})]}),A.jsxs("div",{className:"border-t border-primary-100 p-3",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsx("textarea",{ref:B,value:i,onChange:S=>s(S.target.value),onKeyDown:T,placeholder:"Posez votre question...",className:"flex-1 resize-none border border-primary-200 rounded-xl px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,style:{maxHeight:"100px"}}),A.jsx(Ye,{onClick:I,disabled:!i.trim()||l,className:"px-3",children:A.jsx(fy,{className:"w-4 h-4"})})]}),A.jsx("p",{className:"text-xs text-primary-400 mt-2 text-center",children:"Appuyez sur Entre pour envoyer"})]})]})})]})]})}function ahe({children:r}){const[e,t]=K.useState(!1);return A.jsxs("div",{className:"min-h-screen bg-primary-50",children:[A.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:z-50 focus:top-4 focus:left-4 focus:px-4 focus:py-2 focus:bg-primary-900 focus:text-white focus:rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Aller au contenu principal"}),A.jsx(Sce,{isOpen:e,onClose:()=>t(!1)}),A.jsxs("div",{className:"lg:pl-64 min-h-screen flex flex-col",children:[A.jsx(Jde,{onMenuClick:()=>t(!0)}),A.jsx("main",{id:"main-content",className:"flex-1 w-full p-4 sm:p-6",tabIndex:-1,children:r})]}),A.jsx(she,{})]})}const ohe="Scrutix2024!",sG="scrutix_authenticated";function lhe({onSuccess:r}){const[e,t]=K.useState(""),[n,i]=K.useState(!1),[s,a]=K.useState(""),[o,l]=K.useState(!1),c=u=>{u.preventDefault(),l(!0),a(""),setTimeout(()=>{e.trim()===ohe?(localStorage.setItem(sG,"true"),r()):(a("Mot de passe incorrect"),t("")),l(!1)},500)};return A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-900 via-primary-800 to-primary-900 flex items-center justify-center p-4",children:A.jsxs("div",{className:"w-full max-w-md",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl mb-4",children:A.jsx("span",{className:"font-display text-5xl text-white",children:"S"})}),A.jsx("h1",{className:"font-display text-4xl text-white",children:"Scrutix"}),A.jsx("p",{className:"font-display text-xl text-primary-200 mt-2",children:"Audit Bancaire Intelligent"})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary-100 rounded-full mb-3",children:A.jsx(wv,{className:"w-6 h-6 text-primary-600"})}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Accs scuris"}),A.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Entrez le mot de passe pour continuer"})]}),A.jsxs("form",{onSubmit:c,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{id:"password",type:n?"text":"password",value:e,onChange:u=>t(u.target.value),placeholder:"Entrez le mot de passe",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pr-12",autoFocus:!0,disabled:o}),A.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?A.jsx(cy,{className:"w-5 h-5"}):A.jsx(ps,{className:"w-5 h-5"})})]})]}),s&&A.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 px-3 py-2 rounded-lg",children:[A.jsx(Gu,{className:"w-4 h-4 flex-shrink-0"}),A.jsx("span",{className:"text-sm",children:s})]}),A.jsx("button",{type:"submit",disabled:!e||o,className:"w-full py-3 px-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:o?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Vrification..."]}):A.jsxs(A.Fragment,{children:[A.jsx(wv,{className:"w-4 h-4"}),"Se connecter"]})})]})]}),A.jsx("p",{className:"text-center text-primary-300 text-sm mt-6",children:"Application rserve aux utilisateurs autoriss"})]})})}function che(){return localStorage.getItem(sG)==="true"}const uhe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>whe),void 0,import.meta.url).then(r=>({default:r.HomePage}))),dhe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>qEe),void 0,import.meta.url).then(r=>({default:r.DashboardPage}))),hhe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>l8e),void 0,import.meta.url).then(r=>({default:r.ImportPage}))),fhe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>u8e),void 0,import.meta.url).then(r=>({default:r.AnalysesPage}))),Ahe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>IZ),void 0,import.meta.url).then(r=>({default:r.ClientsPage}))),phe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>IZ),void 0,import.meta.url).then(r=>({default:r.ClientDetailPage}))),mhe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>B8e),void 0,import.meta.url).then(r=>({default:r.BanksPage}))),ghe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>q8e),void 0,import.meta.url).then(r=>({default:r.ReportsPage}))),vhe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>Z8e),void 0,import.meta.url).then(r=>({default:r.BillingPage}))),yhe=K.lazy(()=>Ga(()=>Promise.resolve().then(()=>CFe),void 0,import.meta.url).then(r=>({default:r.SettingsPage})));function bO(){return A.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:A.jsxs("div",{className:"flex flex-col items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 border-3 border-primary-200 border-t-primary-900 rounded-full animate-spin"}),A.jsx("span",{className:"text-sm text-primary-500",children:"Chargement..."})]})})}function bhe(){const{initializeDefaults:r}=Ou(),[e,t]=K.useState(che());return K.useEffect(()=>{r()},[r]),e?A.jsx(cce,{children:A.jsx(rle,{children:A.jsx(K.Suspense,{fallback:A.jsx(bO,{}),children:A.jsxs(zM,{children:[A.jsx($o,{path:"/",element:A.jsx(uhe,{})}),A.jsx($o,{path:"/*",element:A.jsx(ahe,{children:A.jsx(K.Suspense,{fallback:A.jsx(bO,{}),children:A.jsxs(zM,{children:[A.jsx($o,{path:"dashboard",element:A.jsx(dhe,{})}),A.jsx($o,{path:"import",element:A.jsx(hhe,{})}),A.jsx($o,{path:"analyses",element:A.jsx(fhe,{})}),A.jsx($o,{path:"clients",element:A.jsx(Ahe,{})}),A.jsx($o,{path:"clients/:id",element:A.jsx(phe,{})}),A.jsx($o,{path:"banks",element:A.jsx(mhe,{})}),A.jsx($o,{path:"reports",element:A.jsx(ghe,{})}),A.jsx($o,{path:"billing",element:A.jsx(vhe,{})}),A.jsx($o,{path:"settings",element:A.jsx(yhe,{})})]})})})})]})})})}):A.jsx(lhe,{onSuccess:()=>t(!0)})}Vz(document.getElementById("root")).render(A.jsx(K.StrictMode,{children:A.jsx(bhe,{})}));function xhe(){const r=Hh(),{transactions:e}=Tc(),{clients:t}=nl(),{currentAnalysis:n,getTotalPotentialSavings:i}=jc(),s=t.length>0||e.length>0,a=n?.anomalies||[],o={clients:t.length,transactions:e.length,anomalies:a.length,savings:i()};return A.jsxs("div",{className:"h-[calc(100vh-4rem)] flex flex-col overflow-hidden bg-gradient-to-br from-primary-50 to-white",children:[A.jsxs("div",{className:"flex-1 flex flex-col justify-center p-6 lg:p-10 overflow-auto",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("div",{className:"flex justify-center mb-6",children:A.jsx(QV,{size:"xl"})}),A.jsx("p",{className:"text-xl text-primary-600",children:"Audit bancaire intelligent pour cabinets d'expertise comptable"}),A.jsxs("div",{className:"flex items-center justify-center gap-6 mt-5",children:[A.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 rounded-full text-base text-blue-700 border border-blue-200",children:[A.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),"CEMAC (XAF)"]}),A.jsxs("span",{className:"flex items-center gap-2 px-4 py-2 bg-green-50 rounded-full text-base text-green-700 border border-green-200",children:[A.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),"UEMOA (XOF)"]})]})]}),s&&A.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-12 max-w-4xl mx-auto w-full",children:[A.jsx(ib,{icon:A.jsx(_h,{className:"w-6 h-6"}),value:o.clients,label:"Clients",color:"blue"}),A.jsx(ib,{icon:A.jsx(Zr,{className:"w-6 h-6"}),value:o.transactions,label:"Transactions",color:"green"}),A.jsx(ib,{icon:A.jsx(As,{className:"w-6 h-6"}),value:o.anomalies,label:"Anomalies",color:"amber"}),A.jsx(ib,{icon:A.jsx(qu,{className:"w-6 h-6"}),value:`${(o.savings/1e3).toFixed(0)}K`,label:"conomies",color:"emerald"})]}),A.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-12 max-w-5xl mx-auto w-full",children:[A.jsx(sb,{icon:A.jsx(vs,{className:"w-10 h-10"}),title:"Importer",description:"Relevs bancaires",onClick:()=>r("/import"),color:"blue",primary:!s}),A.jsx(sb,{icon:A.jsx(So,{className:"w-10 h-10"}),title:"Analyser",description:"Dtecter les anomalies",onClick:()=>r("/analyses"),color:"emerald",primary:s}),A.jsx(sb,{icon:A.jsx(Xi,{className:"w-10 h-10"}),title:"Banques",description:"Conditions tarifaires",onClick:()=>r("/banks"),color:"violet"}),A.jsx(sb,{icon:A.jsx(Ka,{className:"w-10 h-10"}),title:"Dashboard",description:"Vue d'ensemble",onClick:()=>r("/dashboard"),color:"orange"})]}),A.jsxs("div",{className:"flex flex-wrap justify-center gap-4 max-w-3xl mx-auto",children:[A.jsx(P0,{icon:A.jsx(ba,{className:"w-5 h-5"}),text:"Doublons"}),A.jsx(P0,{icon:A.jsx(ba,{className:"w-5 h-5"}),text:"Frais fantmes"}),A.jsx(P0,{icon:A.jsx(ba,{className:"w-5 h-5"}),text:"Surfacturation"}),A.jsx(P0,{icon:A.jsx(ba,{className:"w-5 h-5"}),text:"Vrification intrts"}),A.jsx(P0,{icon:A.jsx(ba,{className:"w-5 h-5"}),text:"Rapports PDF"})]})]}),A.jsx("div",{className:"flex-shrink-0 py-4 px-6 border-t border-primary-100 bg-white/80 backdrop-blur-sm",children:A.jsxs("div",{className:"flex items-center justify-between max-w-5xl mx-auto",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(lce,{size:32}),A.jsxs("span",{className:"text-lg text-primary-600",children:[A.jsx("span",{className:"font-display text-xl font-medium",children:"Scrutix"})," v1.1"]})]}),A.jsx("p",{className:"text-lg text-primary-600 font-medium",children:"75 banques  14 pays"}),A.jsx("p",{className:"text-lg text-primary-600",children:A.jsx("span",{className:"font-display text-xl font-medium text-primary-800",children:"Atlas Studio"})})]})})]})}function ib({icon:r,value:e,label:t,color:n}){const i={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",amber:"bg-amber-50 text-amber-600 border-amber-200",emerald:"bg-emerald-50 text-emerald-600 border-emerald-200"};return A.jsxs("div",{className:`rounded-xl border p-5 text-center ${i[n]}`,children:[A.jsx("div",{className:"flex justify-center mb-2",children:r}),A.jsx("p",{className:"text-3xl font-bold",children:e}),A.jsx("p",{className:"text-base opacity-75",children:t})]})}function sb({icon:r,title:e,description:t,onClick:n,color:i,primary:s=!1}){const o={blue:{bg:"bg-blue-600",hover:"hover:bg-blue-700",light:"bg-blue-100",text:"text-blue-600",border:"hover:border-blue-300"},emerald:{bg:"bg-emerald-600",hover:"hover:bg-emerald-700",light:"bg-emerald-100",text:"text-emerald-600",border:"hover:border-emerald-300"},violet:{bg:"bg-violet-600",hover:"hover:bg-violet-700",light:"bg-violet-100",text:"text-violet-600",border:"hover:border-violet-300"},orange:{bg:"bg-orange-600",hover:"hover:bg-orange-700",light:"bg-orange-100",text:"text-orange-600",border:"hover:border-orange-300"}}[i];return s?A.jsxs("button",{onClick:n,className:`group p-6 ${o.bg} ${o.hover} rounded-xl text-left transition-all text-white shadow-lg`,children:[A.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-xl bg-white/20 mb-4",children:r}),A.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[e,A.jsx(uN,{className:"w-5 h-5 opacity-0 -translate-x-1 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]}),A.jsx("p",{className:"text-base text-white/80",children:t})]}):A.jsxs("button",{onClick:n,className:`group p-6 bg-white border border-primary-200 rounded-xl text-left transition-all ${o.border} hover:shadow-lg`,children:[A.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-xl ${o.light} mb-4`,children:A.jsx("span",{className:o.text,children:r})}),A.jsxs("h3",{className:"text-xl font-semibold text-primary-900 flex items-center gap-2",children:[e,A.jsx(uN,{className:"w-5 h-5 text-primary-400 opacity-0 -translate-x-1 group-hover:opacity-100 group-hover:translate-x-0 transition-all"})]}),A.jsx("p",{className:"text-base text-primary-500",children:t})]})}function P0({icon:r,text:e}){return A.jsxs("div",{className:"flex items-center gap-2.5 px-5 py-2.5 bg-white border border-primary-200 rounded-full text-base text-primary-700 shadow-sm hover:shadow-md transition-shadow",children:[A.jsx("span",{className:"text-green-500",children:r}),A.jsx("span",{children:e})]})}const whe=Object.freeze(Object.defineProperty({__proto__:null,HomePage:xhe},Symbol.toStringTag,{value:"Module"}));function aG(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=aG(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Yr(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=aG(r))&&(n&&(n+=" "),n+=e);return n}var Che=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function fT(r){if(typeof r!="string")return!1;var e=Che;return e.includes(r)}var She=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ehe=new Set(She);function oG(r){return typeof r!="string"?!1:Ehe.has(r)}function lG(r){return typeof r=="string"&&r.startsWith("data-")}function Sa(r){if(typeof r!="object"||r===null)return{};var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(oG(t)||lG(t))&&(e[t]=r[t]);return e}function eA(r){if(r==null)return null;if(K.isValidElement(r)&&typeof r.props=="object"&&r.props!==null){var e=r.props;return Sa(e)}return typeof r=="object"&&!Array.isArray(r)?Sa(r):null}function la(r){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(oG(t)||lG(t)||fT(t))&&(e[t]=r[t]);return e}function _he(r){return r==null?null:K.isValidElement(r)?la(r.props):typeof r=="object"&&!Array.isArray(r)?la(r):null}var Nhe=["children","width","height","viewBox","className","style","title","desc"];function gN(){return gN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gN.apply(null,arguments)}function Bhe(r,e){if(r==null)return{};var t,n,i=khe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function khe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var AT=K.forwardRef((r,e)=>{var{children:t,width:n,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=r,u=Bhe(r,Nhe),d=s||{width:n,height:i,x:0,y:0},h=Yr("recharts-surface",a);return K.createElement("svg",gN({},la(u),{className:h,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),K.createElement("title",null,l),K.createElement("desc",null,c),t)}),The=["children","className"];function vN(){return vN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},vN.apply(null,arguments)}function jhe(r,e){if(r==null)return{};var t,n,i=Fhe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Fhe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var di=K.forwardRef((r,e)=>{var{children:t,className:n}=r,i=jhe(r,The),s=Yr("recharts-layer",n);return K.createElement("g",vN({className:s},la(i),{ref:e}),t)}),cG=K.createContext(null),Ihe=()=>K.useContext(cG);function Nn(r){return function(){return r}}const uG=Math.cos,Jw=Math.sin,Wl=Math.sqrt,Zw=Math.PI,U5=2*Zw,yN=Math.PI,bN=2*yN,bf=1e-6,Mhe=bN-bf;function dG(r){this._+=r[0];for(let e=1,t=r.length;e<t;++e)this._+=arguments[e]+r[e]}function Ohe(r){let e=Math.floor(r);if(!(e>=0))throw new Error(`invalid digits: ${r}`);if(e>15)return dG;const t=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+n[i]}}class Phe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dG:Ohe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,i){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,t,n,i,s,a){this._append`C${+e},${+t},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,n,i,s){if(e=+e,t=+t,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,c=i-t,u=a-e,d=o-t,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(h>bf)if(!(Math.abs(d*l-c*u)>bf)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let f=n-a,p=i-o,g=l*l+c*c,m=f*f+p*p,v=Math.sqrt(g),y=Math.sqrt(h),b=s*Math.tan((yN-Math.acos((g+h-m)/(2*v*y)))/2),w=b/y,_=b/v;Math.abs(w-1)>bf&&this._append`L${e+w*u},${t+w*d}`,this._append`A${s},${s},0,0,${+(d*f>u*p)},${this._x1=e+_*l},${this._y1=t+_*c}`}}arc(e,t,n,i,s,a){if(e=+e,t=+t,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=e+o,u=t+l,d=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>bf||Math.abs(this._y1-u)>bf)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%bN+bN),h>Mhe?this._append`A${n},${n},0,1,${d},${e-o},${t-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>bf&&this._append`A${n},${n},0,${+(h>=yN)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(e,t,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function pT(r){let e=3;return r.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);e=n}return r},()=>new Phe(e)}function mT(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function hG(r){this._context=r}hG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:this._context.lineTo(r,e);break}}};function H5(r){return new hG(r)}function fG(r){return r[0]}function AG(r){return r[1]}function pG(r,e){var t=Nn(!0),n=null,i=H5,s=null,a=pT(o);r=typeof r=="function"?r:r===void 0?fG:Nn(r),e=typeof e=="function"?e:e===void 0?AG:Nn(e);function o(l){var c,u=(l=mT(l)).length,d,h=!1,f;for(n==null&&(s=i(f=a())),c=0;c<=u;++c)!(c<u&&t(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+r(d,c,l),+e(d,c,l));if(f)return s=null,f+""||null}return o.x=function(l){return arguments.length?(r=typeof l=="function"?l:Nn(+l),o):r},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nn(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:Nn(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function ab(r,e,t){var n=null,i=Nn(!0),s=null,a=H5,o=null,l=pT(c);r=typeof r=="function"?r:r===void 0?fG:Nn(+r),e=typeof e=="function"?e:Nn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?AG:Nn(+t);function c(d){var h,f,p,g=(d=mT(d)).length,m,v=!1,y,b=new Array(g),w=new Array(g);for(s==null&&(o=a(y=l())),h=0;h<=g;++h){if(!(h<g&&i(m=d[h],h,d))===v)if(v=!v)f=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=f;--p)o.point(b[p],w[p]);o.lineEnd(),o.areaEnd()}v&&(b[h]=+r(m,h,d),w[h]=+e(m,h,d),o.point(n?+n(m,h,d):b[h],t?+t(m,h,d):w[h]))}if(y)return o=null,y+""||null}function u(){return pG().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(r=typeof d=="function"?d:Nn(+d),n=null,c):r},c.x0=function(d){return arguments.length?(r=typeof d=="function"?d:Nn(+d),c):r},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Nn(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Nn(+d),t=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Nn(+d),c):e},c.y1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:Nn(+d),c):t},c.lineX0=c.lineY0=function(){return u().x(r).y(e)},c.lineY1=function(){return u().x(r).y(t)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Nn(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class mG{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Rhe(r){return new mG(r,!0)}function Lhe(r){return new mG(r,!1)}const gT={draw(r,e){const t=Wl(e/Zw);r.moveTo(t,0),r.arc(0,0,t,0,U5)}},Dhe={draw(r,e){const t=Wl(e/5)/2;r.moveTo(-3*t,-t),r.lineTo(-t,-t),r.lineTo(-t,-3*t),r.lineTo(t,-3*t),r.lineTo(t,-t),r.lineTo(3*t,-t),r.lineTo(3*t,t),r.lineTo(t,t),r.lineTo(t,3*t),r.lineTo(-t,3*t),r.lineTo(-t,t),r.lineTo(-3*t,t),r.closePath()}},gG=Wl(1/3),Uhe=gG*2,Hhe={draw(r,e){const t=Wl(e/Uhe),n=t*gG;r.moveTo(0,-t),r.lineTo(n,0),r.lineTo(0,t),r.lineTo(-n,0),r.closePath()}},Qhe={draw(r,e){const t=Wl(e),n=-t/2;r.rect(n,n,t,t)}},$he=.8908130915292852,vG=Jw(Zw/10)/Jw(7*Zw/10),zhe=Jw(U5/10)*vG,Vhe=-uG(U5/10)*vG,Ghe={draw(r,e){const t=Wl(e*$he),n=zhe*t,i=Vhe*t;r.moveTo(0,-t),r.lineTo(n,i);for(let s=1;s<5;++s){const a=U5*s/5,o=uG(a),l=Jw(a);r.lineTo(l*t,-o*t),r.lineTo(o*n-l*i,l*n+o*i)}r.closePath()}},D3=Wl(3),Khe={draw(r,e){const t=-Wl(e/(D3*3));r.moveTo(0,t*2),r.lineTo(-D3*t,-t),r.lineTo(D3*t,-t),r.closePath()}},Ro=-.5,Lo=Wl(3)/2,xN=1/Wl(12),Whe=(xN/2+1)*3,qhe={draw(r,e){const t=Wl(e/Whe),n=t/2,i=t*xN,s=n,a=t*xN+t,o=-s,l=a;r.moveTo(n,i),r.lineTo(s,a),r.lineTo(o,l),r.lineTo(Ro*n-Lo*i,Lo*n+Ro*i),r.lineTo(Ro*s-Lo*a,Lo*s+Ro*a),r.lineTo(Ro*o-Lo*l,Lo*o+Ro*l),r.lineTo(Ro*n+Lo*i,Ro*i-Lo*n),r.lineTo(Ro*s+Lo*a,Ro*a-Lo*s),r.lineTo(Ro*o+Lo*l,Ro*l-Lo*o),r.closePath()}};function Xhe(r,e){let t=null,n=pT(i);r=typeof r=="function"?r:Nn(r||gT),e=typeof e=="function"?e:Nn(e===void 0?64:+e);function i(){let s;if(t||(t=s=n()),r.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return i.type=function(s){return arguments.length?(r=typeof s=="function"?s:Nn(s),i):r},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Nn(+s),i):e},i.context=function(s){return arguments.length?(t=s??null,i):t},i}function e2(){}function t2(r,e,t){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+e)/6,(r._y0+4*r._y1+t)/6)}function yG(r){this._context=r}yG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t2(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Yhe(r){return new yG(r)}function bG(r){this._context=r}bG.prototype={areaStart:e2,areaEnd:e2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._x2=r,this._y2=e;break;case 1:this._point=2,this._x3=r,this._y3=e;break;case 2:this._point=3,this._x4=r,this._y4=e,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+e)/6);break;default:t2(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Jhe(r){return new bG(r)}function xG(r){this._context=r}xG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 3:this._point=4;default:t2(this,r,e);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e}};function Zhe(r){return new xG(r)}function wG(r){this._context=r}wG.prototype={areaStart:e2,areaEnd:e2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,e){r=+r,e=+e,this._point?this._context.lineTo(r,e):(this._point=1,this._context.moveTo(r,e))}};function efe(r){return new wG(r)}function xO(r){return r<0?-1:1}function wO(r,e,t){var n=r._x1-r._x0,i=e-r._x1,s=(r._y1-r._y0)/(n||i<0&&-0),a=(t-r._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(xO(s)+xO(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function CO(r,e){var t=r._x1-r._x0;return t?(3*(r._y1-r._y0)/t-e)/2:e}function U3(r,e,t){var n=r._x0,i=r._y0,s=r._x1,a=r._y1,o=(s-n)/3;r._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*t,s,a)}function r2(r){this._context=r}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:U3(this,this._t0,CO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,e){var t=NaN;if(r=+r,e=+e,!(r===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;break;case 2:this._point=3,U3(this,CO(this,t=wO(this,r,e)),t);break;default:U3(this,this._t0,t=wO(this,r,e));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=e,this._t0=t}}};function CG(r){this._context=new SG(r)}(CG.prototype=Object.create(r2.prototype)).point=function(r,e){r2.prototype.point.call(this,e,r)};function SG(r){this._context=r}SG.prototype={moveTo:function(r,e){this._context.moveTo(e,r)},closePath:function(){this._context.closePath()},lineTo:function(r,e){this._context.lineTo(e,r)},bezierCurveTo:function(r,e,t,n,i,s){this._context.bezierCurveTo(e,r,n,t,s,i)}};function tfe(r){return new r2(r)}function rfe(r){return new CG(r)}function EG(r){this._context=r}EG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,e=this._y,t=r.length;if(t)if(this._line?this._context.lineTo(r[0],e[0]):this._context.moveTo(r[0],e[0]),t===2)this._context.lineTo(r[1],e[1]);else for(var n=SO(r),i=SO(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],r[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,e){this._x.push(+r),this._y.push(+e)}};function SO(r){var e,t=r.length-1,n,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=r[0]+2*r[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*r[e]+2*r[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*r[t-1]+r[t],e=1;e<t;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(r[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*r[e+1]-i[e+1];return[i,s]}function nfe(r){return new EG(r)}function Q5(r,e){this._context=r,this._t=e}Q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,e){switch(r=+r,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,e):this._context.moveTo(r,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(r,e);else{var t=this._x*(1-this._t)+r*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=r,this._y=e}};function ife(r){return new Q5(r,.5)}function sfe(r){return new Q5(r,0)}function afe(r){return new Q5(r,1)}function tA(r,e){if((a=r.length)>1)for(var t=1,n,i,s=r[e[0]],a,o=s.length;t<a;++t)for(i=s,s=r[e[t]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function wN(r){for(var e=r.length,t=new Array(e);--e>=0;)t[e]=e;return t}function ofe(r,e){return r[e]}function lfe(r){const e=[];return e.key=r,e}function cfe(){var r=Nn([]),e=wN,t=tA,n=ofe;function i(s){var a=Array.from(r.apply(this,arguments),lfe),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+n(d,a[o].key,c,s)]).data=d;for(o=0,u=mT(e(a));o<l;++o)a[u[o]].index=o;return t(a,u),a}return i.keys=function(s){return arguments.length?(r=typeof s=="function"?s:Nn(Array.from(s)),i):r},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nn(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?wN:typeof s=="function"?s:Nn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??tA,i):t},i}function ufe(r,e){if((n=r.length)>0){for(var t,n,i=0,s=r[0].length,a;i<s;++i){for(a=t=0;t<n;++t)a+=r[t][i][1]||0;if(a)for(t=0;t<n;++t)r[t][i][1]/=a}tA(r,e)}}function dfe(r,e){if((i=r.length)>0){for(var t=0,n=r[e[0]],i,s=n.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=r[a][t][1]||0;n[t][1]+=n[t][0]=-o/2}tA(r,e)}}function hfe(r,e){if(!(!((a=r.length)>0)||!((s=(i=r[e[0]]).length)>0))){for(var t=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,c=0;o<a;++o){for(var u=r[e[o]],d=u[n][1]||0,h=u[n-1][1]||0,f=(d-h)/2,p=0;p<o;++p){var g=r[e[p]],m=g[n][1]||0,v=g[n-1][1]||0;f+=m-v}l+=d,c+=f*d}i[n-1][1]+=i[n-1][0]=t,l&&(t-=c/l)}i[n-1][1]+=i[n-1][0]=t,tA(r,e)}}var $5={},_G={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}r.isUnsafeProperty=e})(_G);var vT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}r.isDeepKey=e})(vT);var z5={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}r.toKey=e})(z5);var V5={},NG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return n==="0"&&Object.is(Number(t),-0)?"-0":n}r.toString=e})(NG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=NG,t=z5;function n(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const d=i[o];c?d==="\\"&&o+1<a?(o++,l+=i[o]):d===c?c="":l+=d:u?d==='"'||d==="'"?c=d:d==="]"?(u=!1,s.push(l),l=""):l+=d:d==="["?(u=!0,l&&(s.push(l),l="")):d==="."?l&&(s.push(l),l=""):l+=d,o++}return l&&s.push(l),s}r.toPath=n})(V5);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_G,t=vT,n=z5,i=V5;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?t.isDeepKey(l)?s(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function a(o,l,c){if(l.length===0)return c;let u=o;for(let d=0;d<l.length;d++){if(u==null||e.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}r.get=s})($5);var ffe=$5.get;const rA=No(ffe);var Afe=4;function rh(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Afe,t=10**e,n=Math.round(r*t)/t;return Object.is(n,-0)?0:n}function ai(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return r.reduce((i,s,a)=>{var o=t[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+rh(o)+s:i+s},"")}var ms=r=>r===0?0:r>0?1:-1,ll=r=>typeof r=="number"&&r!=+r,Xu=r=>typeof r=="string"&&r.indexOf("%")===r.length-1,It=r=>(typeof r=="number"||r instanceof Number)&&!ll(r),Pc=r=>It(r)||typeof r=="string",pfe=0,_v=r=>{var e=++pfe;return"".concat(r||"").concat(e)},aa=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!It(e)&&typeof e!="string")return n;var s;if(Xu(e)){if(t==null)return n;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return ll(s)&&(s=n),i&&t!=null&&s>t&&(s=t),s},BG=r=>{if(!Array.isArray(r))return!1;for(var e=r.length,t={},n=0;n<e;n++)if(!t[String(r[n])])t[String(r[n])]=!0;else return!0;return!1};function on(r,e,t){return It(r)&&It(e)?rh(r+t*(e-r)):e}function kG(r,e,t){if(!(!r||!r.length))return r.find(n=>n&&(typeof e=="function"?e(n):rA(n,e))===t)}var Ln=r=>r===null||typeof r>"u",py=r=>Ln(r)?r:"".concat(r.charAt(0).toUpperCase()).concat(r.slice(1));function mfe(r){return r!=null}function my(){}var gfe=["type","size","sizeType"];function CN(){return CN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},CN.apply(null,arguments)}function EO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function _O(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(t),!0).forEach(function(n){vfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):EO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function vfe(r,e,t){return(e=yfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function yfe(r){var e=bfe(r,"string");return typeof e=="symbol"?e:e+""}function bfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function xfe(r,e){if(r==null)return{};var t,n,i=wfe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function wfe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var TG={symbolCircle:gT,symbolCross:Dhe,symbolDiamond:Hhe,symbolSquare:Qhe,symbolStar:Ghe,symbolTriangle:Khe,symbolWye:qhe},Cfe=Math.PI/180,Sfe=r=>{var e="symbol".concat(py(r));return TG[e]||gT},Efe=(r,e,t)=>{if(e==="area")return r;switch(t){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*Cfe;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},_fe=(r,e)=>{TG["symbol".concat(py(r))]=e},yT=r=>{var{type:e="circle",size:t=64,sizeType:n="area"}=r,i=xfe(r,gfe),s=_O(_O({},i),{},{type:e,size:t,sizeType:n}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var h=Sfe(a),f=Xhe().type(h).size(Efe(t,n,a)),p=f();if(p!==null)return p},{className:l,cx:c,cy:u}=s,d=la(s);return It(c)&&It(u)&&It(t)?K.createElement("path",CN({},d,{className:Yr("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};yT.registerSymbol=_fe;var jG=r=>"radius"in r&&"startAngle"in r&&"endAngle"in r,bT=(r,e)=>{if(!r||typeof r=="function"||typeof r=="boolean")return null;var t=r;if(K.isValidElement(r)&&(t=r.props),typeof t!="object"&&typeof t!="function")return null;var n={};return Object.keys(t).forEach(i=>{fT(i)&&(n[i]=s=>t[i](t,s))}),n},Nfe=(r,e,t)=>n=>(r(e,t,n),null),gy=(r,e,t)=>{if(r===null||typeof r!="object"&&typeof r!="function")return null;var n=null;return Object.keys(r).forEach(i=>{var s=r[i];fT(i)&&typeof s=="function"&&(n||(n={}),n[i]=Nfe(s,e,t))}),n};function NO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Bfe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(t),!0).forEach(function(n){kfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):NO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kfe(r,e,t){return(e=Tfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Tfe(r){var e=jfe(r,"string");return typeof e=="symbol"?e:e+""}function jfe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function hi(r,e){var t=Bfe({},r),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),t);return s}function n2(){return n2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},n2.apply(null,arguments)}function BO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ffe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(t),!0).forEach(function(n){Ife(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ife(r,e,t){return(e=Mfe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mfe(r){var e=Ofe(r,"string");return typeof e=="symbol"?e:e+""}function Ofe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Vo=32,Pfe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Rfe(r){var{data:e,iconType:t,inactiveColor:n}=r,i=Vo/2,s=Vo/6,a=Vo/3,o=e.inactive?n:e.color,l=t??e.type;if(l==="none")return null;if(l==="plainline"){var c;return K.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=e.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Vo,y2:i,className:"recharts-legend-icon"})}if(l==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Vo,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return K.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Vo/8,"h").concat(Vo,"v").concat(Vo*3/4,"h").concat(-Vo,"z"),className:"recharts-legend-icon"});if(K.isValidElement(e.legendIcon)){var u=Ffe({},e);return delete u.legendIcon,K.cloneElement(e.legendIcon,u)}return K.createElement(yT,{fill:o,cx:i,cy:i,size:Vo,sizeType:"diameter",type:l})}function Lfe(r){var{payload:e,iconSize:t,layout:n,formatter:i,inactiveColor:s,iconType:a}=r,o={x:0,y:0,width:Vo,height:Vo},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var h=u.formatter||i,f=Yr({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?s:u.color,g=h?h(u.value,u,d):u.value;return K.createElement("li",n2({className:f,style:l,key:"legend-item-".concat(d)},gy(r,u,d)),K.createElement(AT,{width:t,height:t,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},K.createElement(Rfe,{data:u,iconType:a,inactiveColor:s})),K.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var Dfe=r=>{var e=hi(r,Pfe),{payload:t,layout:n,align:i}=e;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:s},K.createElement(Lfe,n2({},e,{payload:t})))},FG={},IG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){const i=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}r.uniqBy=e})(IG);var xT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t}r.identity=e})(xT);var MG={},G5={},OG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}r.isLength=e})(OG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=OG;function t(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}r.isArrayLike=t})(G5);var PG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}r.isObjectLike=e})(PG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=G5,t=PG;function n(i){return t.isObjectLike(i)&&e.isArrayLike(i)}r.isArrayLikeObject=n})(MG);var RG={},LG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=$5;function t(n){return function(i){return e.get(i,n)}}r.property=t})(LG);var DG={},wT={},UG={},CT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}r.isObject=e})(CT);var ST={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}r.isPrimitive=e})(ST);var ET={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}r.eq=e})(ET);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=CT,t=ST,n=ET;function i(u,d,h){return typeof h!="function"?i(u,d,()=>{}):s(u,d,function f(p,g,m,v,y,b){const w=h(p,g,m,v,y,b);return w!==void 0?!!w:s(p,g,f,b)},new Map)}function s(u,d,h,f){if(d===u)return!0;switch(typeof d){case"object":return a(u,d,h,f);case"function":return Object.keys(d).length>0?s(u,{...d},h,f):n.eq(u,d);default:return e.isObject(u)?typeof d=="string"?d==="":!0:n.eq(u,d)}}function a(u,d,h,f){if(d==null)return!0;if(Array.isArray(d))return l(u,d,h,f);if(d instanceof Map)return o(u,d,h,f);if(d instanceof Set)return c(u,d,h,f);const p=Object.keys(d);if(u==null||t.isPrimitive(u))return p.length===0;if(p.length===0)return!0;if(f?.has(d))return f.get(d)===u;f?.set(d,u);try{for(let g=0;g<p.length;g++){const m=p[g];if(!t.isPrimitive(u)&&!(m in u)||d[m]===void 0&&u[m]!==void 0||d[m]===null&&u[m]!==null||!h(u[m],d[m],m,u,d,f))return!1}return!0}finally{f?.delete(d)}}function o(u,d,h,f){if(d.size===0)return!0;if(!(u instanceof Map))return!1;for(const[p,g]of d.entries()){const m=u.get(p);if(h(m,g,p,u,d,f)===!1)return!1}return!0}function l(u,d,h,f){if(d.length===0)return!0;if(!Array.isArray(u))return!1;const p=new Set;for(let g=0;g<d.length;g++){const m=d[g];let v=!1;for(let y=0;y<u.length;y++){if(p.has(y))continue;const b=u[y];let w=!1;if(h(b,m,g,u,d,f)&&(w=!0),w){p.add(y),v=!0;break}}if(!v)return!1}return!0}function c(u,d,h,f){return d.size===0?!0:u instanceof Set?l([...u],[...d],h,f):!1}r.isMatchWith=i,r.isSetMatch=c})(UG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=UG;function t(n,i){return e.isMatchWith(n,i,()=>{})}r.isMatch=t})(wT);var HG={},_T={},QG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(n=>Object.prototype.propertyIsEnumerable.call(t,n))}r.getSymbols=e})(QG);var NT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}r.getTag=e})(NT);var BT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",f="[object Object]",p="[object Error]",g="[object DataView]",m="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",b="[object Uint32Array]",w="[object BigUint64Array]",_="[object Int8Array]",B="[object Int16Array]",R="[object Int32Array]",j="[object BigInt64Array]",k="[object Float32Array]",L="[object Float64Array]";r.argumentsTag=s,r.arrayBufferTag=h,r.arrayTag=u,r.bigInt64ArrayTag=j,r.bigUint64ArrayTag=w,r.booleanTag=i,r.dataViewTag=g,r.dateTag=o,r.errorTag=p,r.float32ArrayTag=k,r.float64ArrayTag=L,r.functionTag=d,r.int16ArrayTag=B,r.int32ArrayTag=R,r.int8ArrayTag=_,r.mapTag=l,r.numberTag=n,r.objectTag=f,r.regexpTag=e,r.setTag=c,r.stringTag=t,r.symbolTag=a,r.uint16ArrayTag=y,r.uint32ArrayTag=b,r.uint8ArrayTag=m,r.uint8ClampedArrayTag=v})(BT);var $G={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}r.isTypedArray=e})($G);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=QG,t=NT,n=BT,i=ST,s=$G;function a(u,d){return o(u,void 0,u,new Map,d)}function o(u,d,h,f=new Map,p=void 0){const g=p?.(u,d,h,f);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(f.has(u))return f.get(u);if(Array.isArray(u)){const m=new Array(u.length);f.set(u,m);for(let v=0;v<u.length;v++)m[v]=o(u[v],v,h,f,p);return Object.hasOwn(u,"index")&&(m.index=u.index),Object.hasOwn(u,"input")&&(m.input=u.input),m}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const m=new RegExp(u.source,u.flags);return m.lastIndex=u.lastIndex,m}if(u instanceof Map){const m=new Map;f.set(u,m);for(const[v,y]of u)m.set(v,o(y,v,h,f,p));return m}if(u instanceof Set){const m=new Set;f.set(u,m);for(const v of u)m.add(o(v,void 0,h,f,p));return m}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const m=new(Object.getPrototypeOf(u)).constructor(u.length);f.set(u,m);for(let v=0;v<u.length;v++)m[v]=o(u[v],v,h,f,p);return m}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const m=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return f.set(u,m),l(m,u,h,f,p),m}if(typeof File<"u"&&u instanceof File){const m=new File([u],u.name,{type:u.type});return f.set(u,m),l(m,u,h,f,p),m}if(typeof Blob<"u"&&u instanceof Blob){const m=new Blob([u],{type:u.type});return f.set(u,m),l(m,u,h,f,p),m}if(u instanceof Error){const m=new u.constructor;return f.set(u,m),m.message=u.message,m.name=u.name,m.stack=u.stack,m.cause=u.cause,l(m,u,h,f,p),m}if(u instanceof Boolean){const m=new Boolean(u.valueOf());return f.set(u,m),l(m,u,h,f,p),m}if(u instanceof Number){const m=new Number(u.valueOf());return f.set(u,m),l(m,u,h,f,p),m}if(u instanceof String){const m=new String(u.valueOf());return f.set(u,m),l(m,u,h,f,p),m}if(typeof u=="object"&&c(u)){const m=Object.create(Object.getPrototypeOf(u));return f.set(u,m),l(m,u,h,f,p),m}return u}function l(u,d,h=u,f,p){const g=[...Object.keys(d),...e.getSymbols(d)];for(let m=0;m<g.length;m++){const v=g[m],y=Object.getOwnPropertyDescriptor(u,v);(y==null||y.writable)&&(u[v]=o(d[v],v,h,f,p))}}function c(u){switch(t.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}r.cloneDeepWith=a,r.cloneDeepWithImpl=o,r.copyProperties=l})(_T);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_T;function t(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}r.cloneDeep=t})(HG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=wT,t=HG;function n(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}r.matches=n})(DG);var zG={},VG={},GG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=_T,t=BT;function n(i,s){return e.cloneDeepWith(i,(a,o,l,c)=>{const u=s?.(a,o,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case t.numberTag:case t.stringTag:case t.booleanTag:{const d=new i.constructor(i?.valueOf());return e.copyProperties(d,i),d}case t.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}r.cloneDeepWith=n})(GG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=GG;function t(n){return e.cloneDeepWith(n)}r.cloneDeep=t})(VG);var KG={},kT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}r.isIndex=t})(kT);var WG={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=NT;function t(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}r.isArguments=t})(WG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=vT,t=kT,n=WG,i=V5;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&a?.[o]==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&t.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}r.has=s})(KG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=wT,t=z5,n=VG,i=$5,s=KG;function a(o,l){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}r.matchesProperty=a})(zG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=xT,t=LG,n=DG,i=zG;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return t.property(a)}}r.iteratee=s})(RG);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=IG,t=xT,n=MG,i=RG;function s(a,o=t.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}r.uniqBy=s})(FG);var Ufe=FG.uniqBy;const kO=No(Ufe);function qG(r,e,t){return e===!0?kO(r,t):typeof e=="function"?kO(r,e):r}var XG={exports:{}},YG={},JG={exports:{}},ZG={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=K;function Hfe(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Qfe=typeof Object.is=="function"?Object.is:Hfe,$fe=pm.useState,zfe=pm.useEffect,Vfe=pm.useLayoutEffect,Gfe=pm.useDebugValue;function Kfe(r,e){var t=e(),n=$fe({inst:{value:t,getSnapshot:e}}),i=n[0].inst,s=n[1];return Vfe(function(){i.value=t,i.getSnapshot=e,H3(i)&&s({inst:i})},[r,t,e]),zfe(function(){return H3(i)&&s({inst:i}),r(function(){H3(i)&&s({inst:i})})},[r]),Gfe(t),t}function H3(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!Qfe(r,t)}catch{return!0}}function Wfe(r,e){return e()}var qfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wfe:Kfe;ZG.useSyncExternalStore=pm.useSyncExternalStore!==void 0?pm.useSyncExternalStore:qfe;JG.exports=ZG;var Xfe=JG.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5=K,Yfe=Xfe;function Jfe(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Zfe=typeof Object.is=="function"?Object.is:Jfe,eAe=Yfe.useSyncExternalStore,tAe=K5.useRef,rAe=K5.useEffect,nAe=K5.useMemo,iAe=K5.useDebugValue;YG.useSyncExternalStoreWithSelector=function(r,e,t,n,i){var s=tAe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=nAe(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&a.hasValue){var p=a.value;if(i(p,f))return d=p}return d=f}if(p=d,Zfe(u,f))return p;var g=n(f);return i!==void 0&&i(p,g)?(u=f,p):(u=f,d=g)}var c=!1,u,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,n,i]);var o=eAe(r,s[0],s[1]);return rAe(function(){a.hasValue=!0,a.value=o},[o]),iAe(o),o};XG.exports=YG;var sAe=XG.exports,TT=K.createContext(null),aAe=r=>r,Fn=()=>{var r=K.useContext(TT);return r?r.store.dispatch:aAe},Xx=()=>{},oAe=()=>Xx,lAe=(r,e)=>r===e;function Qt(r){var e=K.useContext(TT);return sAe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:oAe,e?e.store.getState:Xx,e?e.store.getState:Xx,e?r:Xx,lAe)}function cAe(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function uAe(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function dAe(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var TO=r=>Array.isArray(r)?r:[r];function hAe(r){const e=Array.isArray(r[0])?r[0]:r;return dAe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function fAe(r,e){const t=[],{length:n}=r;for(let i=0;i<n;i++)t.push(r[i].apply(null,e));return t}var AAe=class{constructor(r){this.value=r}deref(){return this.value}},pAe=typeof WeakRef<"u"?WeakRef:AAe,mAe=0,jO=1;function ob(){return{s:mAe,v:void 0,o:null,p:null}}function eK(r,e={}){let t=ob();const{resultEqualityCheck:n}=e;let i,s=0;function a(){let o=t;const{length:l}=arguments;for(let d=0,h=l;d<h;d++){const f=arguments[d];if(typeof f=="function"||typeof f=="object"&&f!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const g=p.get(f);g===void 0?(o=ob(),p.set(f,o)):o=g}else{let p=o.p;p===null&&(o.p=p=new Map);const g=p.get(f);g===void 0?(o=ob(),p.set(f,o)):o=g}}const c=o;let u;if(o.s===jO)u=o.v;else if(u=r.apply(null,arguments),s++,n){const d=i?.deref?.()??i;d!=null&&n(d,u)&&(u=d,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new pAe(u):u}return c.s=jO,c.v=u,u}return a.clearCache=()=>{t=ob(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function gAe(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),cAe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...t,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:f=eK,argsMemoizeOptions:p=[]}=u,g=TO(h),m=TO(p),v=hAe(i),y=d(function(){return s++,c.apply(null,arguments)},...g),b=f(function(){a++;const _=fAe(v,arguments);return o=y.apply(null,_),o},...m);return Object.assign(b,{resultFunc:c,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var Oe=gAe(eK),vAe=Object.assign((r,e=Oe)=>{uAe(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(s=>r[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>vAe}),tK={},rK={},nK={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const t=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};r.compareValues=t})(nK);var iK={},jT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}r.isSymbol=e})(jT);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=jT,t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}r.isKey=i})(iK);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=nK,t=iK,n=V5;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(f=>String(f));const c=(f,p)=>{let g=f;for(let m=0;m<p.length&&g!=null;++m)g=g[p[m]];return g},u=(f,p)=>p==null||f==null?p:typeof f=="object"&&"key"in f?Object.hasOwn(p,f.key)?p[f.key]:c(p,f.path):typeof f=="function"?f(p):Array.isArray(f)?c(p,f):typeof p=="object"?p[f]:p,d=a.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||t.isKey(f)?f:{key:f,path:n.toPath(f)}));return s.map(f=>({original:f,criteria:d.map(p=>u(p,f))})).slice().sort((f,p)=>{for(let g=0;g<d.length;g++){const m=e.compareValues(f.criteria[g],p.criteria[g],o[g]);if(m!==0)return m}return 0}).map(f=>f.original)}r.orderBy=i})(rK);var sK={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n=1){const i=[],s=Math.floor(n),a=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?a(u,l+1):i.push(u)}};return a(t,0),i}r.flatten=e})(sK);var FT={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=kT,t=G5,n=CT,i=ET;function s(a,o,l){return n.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}r.isIterateeCall=s})(FT);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=rK,t=sK,n=FT;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}r.sortBy=i})(tK);var yAe=tK.sortBy;const W5=No(yAe);var aK=r=>r.legend.settings,bAe=r=>r.legend.size,xAe=r=>r.legend.payload,wAe=Oe([xAe,aK],(r,e)=>{var{itemSorter:t}=e,n=r.flat(1);return t?W5(n,t):n});function CAe(){return Qt(wAe)}var lb=1;function oK(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=K.useState({height:0,left:0,top:0,width:0}),n=K.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>lb||Math.abs(a.left-e.left)>lb||Math.abs(a.top-e.top)>lb||Math.abs(a.width-e.width)>lb)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...r]);return[e,n]}function Ts(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var SAe=typeof Symbol=="function"&&Symbol.observable||"@@observable",FO=SAe,Q3=()=>Math.random().toString(36).substring(7).split("").join("."),EAe={INIT:`@@redux/INIT${Q3()}`,REPLACE:`@@redux/REPLACE${Q3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Q3()}`},i2=EAe;function IT(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function lK(r,e,t){if(typeof r!="function")throw new Error(Ts(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ts(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ts(1));return t(lK)(r,e)}let n=r,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((m,v)=>{a.set(v,m)}))}function u(){if(l)throw new Error(Ts(3));return i}function d(m){if(typeof m!="function")throw new Error(Ts(4));if(l)throw new Error(Ts(5));let v=!0;c();const y=o++;return a.set(y,m),function(){if(v){if(l)throw new Error(Ts(6));v=!1,c(),a.delete(y),s=null}}}function h(m){if(!IT(m))throw new Error(Ts(7));if(typeof m.type>"u")throw new Error(Ts(8));if(typeof m.type!="string")throw new Error(Ts(17));if(l)throw new Error(Ts(9));try{l=!0,i=n(i,m)}finally{l=!1}return(s=a).forEach(y=>{y()}),m}function f(m){if(typeof m!="function")throw new Error(Ts(10));n=m,h({type:i2.REPLACE})}function p(){const m=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ts(11));function y(){const w=v;w.next&&w.next(u())}return y(),{unsubscribe:m(y)}},[FO](){return this}}}return h({type:i2.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:f,[FO]:p}}function _Ae(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:i2.INIT})>"u")throw new Error(Ts(12));if(typeof t(void 0,{type:i2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ts(13))})}function cK(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof r[a]=="function"&&(t[a]=r[a])}const n=Object.keys(t);let i;try{_Ae(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],h=t[d],f=a[d],p=h(f,o);if(typeof p>"u")throw o&&o.type,new Error(Ts(14));c[d]=p,l=l||p!==f}return l=l||n.length!==Object.keys(a).length,l?c:a}}function s2(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function NAe(...r){return e=>(t,n)=>{const i=e(t,n);let s=()=>{throw new Error(Ts(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=r.map(l=>l(a));return s=s2(...o)(i.dispatch),{...i,dispatch:s}}}function uK(r){return IT(r)&&"type"in r&&typeof r.type=="string"}var dK=Symbol.for("immer-nothing"),IO=Symbol.for("immer-draftable"),Ea=Symbol.for("immer-state");function Il(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var vo=Object,mm=vo.getPrototypeOf,a2="constructor",q5="prototype",SN="configurable",o2="enumerable",Yx="writable",Nv="value",Yu=r=>!!r&&!!r[Ea];function Gl(r){return r?hK(r)||X5(r)||!!r[IO]||!!r[a2]?.[IO]||Y5(r)||J5(r):!1}var BAe=vo[q5][a2].toString(),MO=new WeakMap;function hK(r){if(!r||!MT(r))return!1;const e=mm(r);if(e===null||e===vo[q5])return!0;const t=vo.hasOwnProperty.call(e,a2)&&e[a2];if(t===Object)return!0;if(!ip(t))return!1;let n=MO.get(t);return n===void 0&&(n=Function.toString.call(t),MO.set(t,n)),n===BAe}function vy(r,e,t=!0){yy(r)===0?(t?Reflect.ownKeys(r):vo.keys(r)).forEach(i=>{e(i,r[i],r)}):r.forEach((n,i)=>e(i,n,r))}function yy(r){const e=r[Ea];return e?e.type_:X5(r)?1:Y5(r)?2:J5(r)?3:0}var OO=(r,e,t=yy(r))=>t===2?r.has(e):vo[q5].hasOwnProperty.call(r,e),EN=(r,e,t=yy(r))=>t===2?r.get(e):r[e],l2=(r,e,t,n=yy(r))=>{n===2?r.set(e,t):n===3?r.add(t):r[e]=t};function kAe(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}var X5=Array.isArray,Y5=r=>r instanceof Map,J5=r=>r instanceof Set,MT=r=>typeof r=="object",ip=r=>typeof r=="function",$3=r=>typeof r=="boolean";function TAe(r){const e=+r;return Number.isInteger(e)&&String(e)===r}var Su=r=>r.copy_||r.base_,OT=r=>r.modified_?r.copy_:r.base_;function _N(r,e){if(Y5(r))return new Map(r);if(J5(r))return new Set(r);if(X5(r))return Array[q5].slice.call(r);const t=hK(r);if(e===!0||e==="class_only"&&!t){const n=vo.getOwnPropertyDescriptors(r);delete n[Ea];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o[Yx]===!1&&(o[Yx]=!0,o[SN]=!0),(o.get||o.set)&&(n[a]={[SN]:!0,[Yx]:!0,[o2]:o[o2],[Nv]:r[a]})}return vo.create(mm(r),n)}else{const n=mm(r);if(n!==null&&t)return{...r};const i=vo.create(n);return vo.assign(i,r)}}function PT(r,e=!1){return Z5(r)||Yu(r)||!Gl(r)||(yy(r)>1&&vo.defineProperties(r,{set:cb,add:cb,clear:cb,delete:cb}),vo.freeze(r),e&&vy(r,(t,n)=>{PT(n,!0)},!1)),r}function jAe(){Il(2)}var cb={[Nv]:jAe};function Z5(r){return r===null||!MT(r)?!0:vo.isFrozen(r)}var c2="MapSet",NN="Patches",PO="ArrayMethods",fK={};function nA(r){const e=fK[r];return e||Il(0,r),e}var RO=r=>!!fK[r],Bv,AK=()=>Bv,FAe=(r,e)=>({drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RO(c2)?nA(c2):void 0,arrayMethodsPlugin_:RO(PO)?nA(PO):void 0});function LO(r,e){e&&(r.patchPlugin_=nA(NN),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function BN(r){kN(r),r.drafts_.forEach(IAe),r.drafts_=null}function kN(r){r===Bv&&(Bv=r.parent_)}var DO=r=>Bv=FAe(Bv,r);function IAe(r){const e=r[Ea];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UO(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(r!==void 0&&r!==t){t[Ea].modified_&&(BN(e),Il(4)),Gl(r)&&(r=HO(e,r));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[Ea].base_,r,e)}else r=HO(e,t);return MAe(e,r,!0),BN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==dK?r:void 0}function HO(r,e){if(Z5(e))return e;const t=e[Ea];if(!t)return RT(e,r.handledSet_,r);if(!eC(t,r))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:n}=t;if(n)for(;n.length>0;)n.pop()(r);gK(t,r)}return t.copy_}function MAe(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&PT(e,t)}function pK(r){r.finalized_=!0,r.scope_.unfinalizedDrafts_--}var eC=(r,e)=>r.scope_===e,OAe=[];function mK(r,e,t,n){const i=Su(r),s=r.type_;if(n!==void 0&&EN(i,n,s)===e){l2(i,n,t,s);return}if(!r.draftLocations_){const o=r.draftLocations_=new Map;vy(i,(l,c)=>{if(Yu(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const a=r.draftLocations_.get(e)??OAe;for(const o of a)l2(i,o,t,s)}function PAe(r,e,t){r.callbacks_.push(function(i){const s=e;if(!s||!eC(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=OT(s);mK(r,s.draft_??s,a,t),gK(s,i)})}function gK(r,e){if(r.modified_&&!r.finalized_&&(r.type_===3||r.type_===1&&r.allIndicesReassigned_||(r.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(r);i&&n.generatePatches_(r,i,e)}pK(r)}}function RAe(r,e,t){const{scope_:n}=r;if(Yu(t)){const i=t[Ea];eC(i,n)&&i.callbacks_.push(function(){Jx(r);const a=OT(i);mK(r,t,a,e)})}else Gl(t)&&r.callbacks_.push(function(){const s=Su(r);EN(s,e,r.type_)===t&&n.drafts_.length>1&&(r.assigned_.get(e)??!1)===!0&&r.copy_&&RT(EN(r.copy_,e,r.type_),n.handledSet_,n)})}function RT(r,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Yu(r)||e.has(r)||!Gl(r)||Z5(r)||(e.add(r),vy(r,(n,i)=>{if(Yu(i)){const s=i[Ea];if(eC(s,t)){const a=OT(s);l2(r,n,a,r.type_),pK(s)}}else Gl(i)&&RT(i,e,t)})),r}function LAe(r,e){const t=X5(r),n={type_:t?1:0,scope_:e?e.scope_:AK(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=LT;t&&(i=[n],s=kv);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,[o,n]}var LT={get(r,e){if(e===Ea)return r;let t=r.scope_.arrayMethodsPlugin_;const n=r.type_===1&&typeof e=="string";if(n&&t?.isArrayOperationMethod(e))return t.createMethodInterceptor(r,e);const i=Su(r);if(!OO(i,e,r.type_))return DAe(r,i,e);const s=i[e];if(r.finalized_||!Gl(s)||n&&r.operationMethod&&t?.isMutatingArrayMethod(r.operationMethod)&&TAe(e))return s;if(s===z3(r.base_,e)){Jx(r);const a=r.type_===1?+e:e,o=jN(r.scope_,s,r,a);return r.copy_[a]=o}return s},has(r,e){return e in Su(r)},ownKeys(r){return Reflect.ownKeys(Su(r))},set(r,e,t){const n=vK(Su(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=z3(Su(r),e),s=i?.[Ea];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_.set(e,!1),!0;if(kAe(t,i)&&(t!==void 0||OO(r.base_,e,r.type_)))return!0;Jx(r),TN(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_.set(e,!0),RAe(r,e,t)),!0},deleteProperty(r,e){return Jx(r),z3(r.base_,e)!==void 0||e in r.base_?(r.assigned_.set(e,!1),TN(r)):r.assigned_.delete(e),r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Su(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{[Yx]:!0,[SN]:r.type_!==1||e!=="length",[o2]:n[o2],[Nv]:t[e]}},defineProperty(){Il(11)},getPrototypeOf(r){return mm(r.base_)},setPrototypeOf(){Il(12)}},kv={};vy(LT,(r,e)=>{kv[r]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});kv.deleteProperty=function(r,e){return kv.set.call(this,r,e,void 0)};kv.set=function(r,e,t){return LT.set.call(this,r[0],e,t,r[0])};function z3(r,e){const t=r[Ea];return(t?Su(t):r)[e]}function DAe(r,e,t){const n=vK(e,t);return n?Nv in n?n[Nv]:n.get?.call(r.draft_):void 0}function vK(r,e){if(!(e in r))return;let t=mm(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=mm(t)}}function TN(r){r.modified_||(r.modified_=!0,r.parent_&&TN(r.parent_))}function Jx(r){r.copy_||(r.assigned_=new Map,r.copy_=_N(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var UAe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,i)=>{if(ip(t)&&!ip(n)){const a=n;n=t;const o=this;return function(c=a,...u){return o.produce(c,d=>n.call(this,d,...u))}}ip(n)||Il(6),i!==void 0&&!ip(i)&&Il(7);let s;if(Gl(t)){const a=DO(this),o=jN(a,t,void 0);let l=!0;try{s=n(o),l=!1}finally{l?BN(a):kN(a)}return LO(a,i),UO(s,a)}else if(!t||!MT(t)){if(s=n(t),s===void 0&&(s=t),s===dK&&(s=void 0),this.autoFreeze_&&PT(s,!0),i){const a=[],o=[];nA(NN).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else Il(1,t)},this.produceWithPatches=(t,n)=>{if(ip(t))return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let i,s;return[this.produce(t,n,(o,l)=>{i=o,s=l}),i,s]},$3(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),$3(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),$3(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gl(e)||Il(8),Yu(e)&&(e=Hl(e));const t=DO(this),n=jN(t,e,void 0);return n[Ea].isManual_=!0,kN(t),n}finishDraft(e,t){const n=e&&e[Ea];(!n||!n.isManual_)&&Il(9);const{scope_:i}=n;return LO(i,t),UO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const i=nA(NN).applyPatches_;return Yu(e)?i(e,t):this.produce(e,s=>i(s,t))}};function jN(r,e,t,n){const[i,s]=Y5(e)?nA(c2).proxyMap_(e,t):J5(e)?nA(c2).proxySet_(e,t):LAe(e,t);return(t?.scope_??AK()).drafts_.push(i),s.callbacks_=t?.callbacks_??[],s.key_=n,t&&n!==void 0?PAe(t,s,n):s.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function Hl(r){return Yu(r)||Il(10,r),yK(r)}function yK(r){if(!Gl(r)||Z5(r))return r;const e=r[Ea];let t,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=_N(r,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else t=_N(r,!0);return vy(t,(i,s)=>{l2(t,i,yK(s))},n),e&&(e.finalized_=!1),t}var HAe=new UAe,bK=HAe.produce;function xK(r){return({dispatch:t,getState:n})=>i=>s=>typeof s=="function"?s(t,n,r):i(s)}var QAe=xK(),$Ae=xK,zAe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?s2:s2.apply(null,arguments)};function cl(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(wo(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>uK(n)&&n.type===r,t}var wK=class yg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,yg.prototype)}static get[Symbol.species](){return yg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new yg(...e[0].concat(this)):new yg(...e.concat(this))}};function QO(r){return Gl(r)?bK(r,()=>{}):r}function ub(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function VAe(r){return typeof r=="boolean"}var GAe=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new wK;return t&&(VAe(t)?a.push(QAe):a.push($Ae(t.extraArgument))),a},CK="RTK_autoBatch",Hn=()=>r=>({payload:r,meta:{[CK]:!0}}),$O=r=>e=>{setTimeout(e,r)},SK=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$O(10):r.type==="callback"?r.queueNotification:$O(r.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),h=n.subscribe(d);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){try{return i=!u?.meta?.[CK],s=!i,s&&(a||(a=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},KAe=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new wK(r);return n&&i.push(SK(typeof n=="object"?n:void 0)),i};function WAe(r){const e=GAe(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=r||{};let o;if(typeof t=="function")o=t;else if(IT(t))o=cK(t);else throw new Error(wo(1));let l;typeof n=="function"?l=n(e):l=e();let c=s2;i&&(c=zAe({trace:!1,...typeof i=="object"&&i}));const u=NAe(...l),d=KAe(u);let h=typeof a=="function"?a(d):d();const f=c(...h);return lK(o,s,f)}function EK(r){const e={},t=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(wo(28));if(o in e)throw new Error(wo(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return r(i),[e,t,n]}function qAe(r){return typeof r=="function"}function XAe(r,e){let[t,n,i]=EK(e),s;if(qAe(r))s=()=>QO(r());else{const o=QO(r);s=()=>o}function a(o=s(),l){let c=[t[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Yu(u)){const f=d(u,l);return f===void 0?u:f}else{if(Gl(u))return bK(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return a.getInitialState=s,a}var YAe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JAe=(r=21)=>{let e="",t=r;for(;t--;)e+=YAe[Math.random()*64|0];return e},ZAe=Symbol.for("rtk-slice-createasyncthunk");function epe(r,e){return`${r}/${e}`}function tpe({creators:r}={}){const e=r?.asyncThunk?.[ZAe];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(wo(11));const a=(typeof n.reducers=="function"?n.reducers(npe()):n.reducers)||{},o=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,w){const _=typeof b=="string"?b:b.type;if(!_)throw new Error(wo(12));if(_ in l.sliceCaseReducersByType)throw new Error(wo(13));return l.sliceCaseReducersByType[_]=w,c},addMatcher(b,w){return l.sliceMatchers.push({matcher:b,reducer:w}),c},exposeAction(b,w){return l.actionCreators[b]=w,c},exposeCaseReducer(b,w){return l.sliceCaseReducersByName[b]=w,c}};o.forEach(b=>{const w=a[b],_={reducerName:b,type:epe(i,b),createNotation:typeof n.reducers=="function"};spe(w)?ope(_,w,c,e):ipe(_,w,c)});function u(){const[b={},w=[],_=void 0]=typeof n.extraReducers=="function"?EK(n.extraReducers):[n.extraReducers],B={...b,...l.sliceCaseReducersByType};return XAe(n.initialState,R=>{for(let j in B)R.addCase(j,B[j]);for(let j of l.sliceMatchers)R.addMatcher(j.matcher,j.reducer);for(let j of w)R.addMatcher(j.matcher,j.reducer);_&&R.addDefaultCase(_)})}const d=b=>b,h=new Map,f=new WeakMap;let p;function g(b,w){return p||(p=u()),p(b,w)}function m(){return p||(p=u()),p.getInitialState()}function v(b,w=!1){function _(R){let j=R[b];return typeof j>"u"&&w&&(j=ub(f,_,m)),j}function B(R=d){const j=ub(h,w,()=>new WeakMap);return ub(j,R,()=>{const k={};for(const[L,H]of Object.entries(n.selectors??{}))k[L]=rpe(H,R,()=>ub(f,R,m),w);return k})}return{reducerPath:b,getSelectors:B,get selectors(){return B(_)},selectSlice:_}}const y={name:i,reducer:g,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:m,...v(s),injectInto(b,{reducerPath:w,..._}={}){const B=w??s;return b.inject({reducerPath:B,reducer:g},_),{...y,...v(B,!0)}}};return y}}function rpe(r,e,t,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=t()),r(o,...a)}return i.unwrapped=r,i}var Xa=tpe();function npe(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function ipe({type:r,reducerName:e,createNotation:t},n,i){let s,a;if("reducer"in n){if(t&&!ape(n))throw new Error(wo(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,a?cl(r,a):cl(r))}function spe(r){return r._reducerDefinitionType==="asyncThunk"}function ape(r){return r._reducerDefinitionType==="reducerWithPrepare"}function ope({type:r,reducerName:e},t,n,i){if(!i)throw new Error(wo(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=t,d=i(r,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(e,{fulfilled:a||db,pending:o||db,rejected:l||db,settled:c||db})}function db(){}var lpe="task",_K="listener",NK="completed",DT="cancelled",cpe=`task-${DT}`,upe=`task-${NK}`,FN=`${_K}-${DT}`,dpe=`${_K}-${NK}`,tC=class{constructor(r){this.code=r,this.message=`${lpe} ${DT} (reason: ${r})`}name="TaskAbortError";message},UT=(r,e)=>{if(typeof r!="function")throw new TypeError(wo(32))},u2=()=>{},BK=(r,e=u2)=>(r.catch(e),r),kK=(r,e)=>(r.addEventListener("abort",e,{once:!0}),()=>r.removeEventListener("abort",e)),Uf=r=>{if(r.aborted)throw new tC(r.reason)};function TK(r,e){let t=u2;return new Promise((n,i)=>{const s=()=>i(new tC(r.reason));if(r.aborted){s();return}t=kK(r,s),e.finally(()=>t()).then(n,i)}).finally(()=>{t=u2})}var hpe=async(r,e)=>{try{return await Promise.resolve(),{status:"ok",value:await r()}}catch(t){return{status:t instanceof tC?"cancelled":"rejected",error:t}}finally{e?.()}},d2=r=>e=>BK(TK(r,e).then(t=>(Uf(r),t))),jK=r=>{const e=d2(r);return t=>e(new Promise(n=>setTimeout(n,t)))},{assign:Gp}=Object,zO={},rC="listenerMiddleware",fpe=(r,e)=>{const t=n=>kK(r,()=>n.abort(r.reason));return(n,i)=>{UT(n);const s=new AbortController;t(s);const a=hpe(async()=>{Uf(r),Uf(s.signal);const o=await n({pause:d2(s.signal),delay:jK(s.signal),signal:s.signal});return Uf(s.signal),o},()=>s.abort(upe));return i?.autoJoin&&e.push(a.catch(u2)),{result:d2(r)(a),cancel(){s.abort(cpe)}}}},Ape=(r,e)=>{const t=async(n,i)=>{Uf(e);let s=()=>{};const o=[new Promise((l,c)=>{let u=r({predicate:n,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await TK(e,Promise.race(o));return Uf(e),l}finally{s()}};return(n,i)=>BK(t(n,i))},FK=r=>{let{type:e,actionCreator:t,matcher:n,predicate:i,effect:s}=r;if(e)i=cl(e).match;else if(t)e=t.type,i=t.match;else if(n)i=n;else if(!i)throw new Error(wo(21));return UT(s),{predicate:i,type:e,effect:s}},IK=Gp(r=>{const{type:e,predicate:t,effect:n}=FK(r);return{id:JAe(),effect:n,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(wo(22))}}},{withTypes:()=>IK}),VO=(r,e)=>{const{type:t,effect:n,predicate:i}=FK(e);return Array.from(r.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===n)},IN=r=>{r.pending.forEach(e=>{e.abort(FN)})},ppe=(r,e)=>()=>{for(const t of e.keys())IN(t);r.clear()},GO=(r,e,t)=>{try{r(e,t)}catch(n){setTimeout(()=>{throw n},0)}},MK=Gp(cl(`${rC}/add`),{withTypes:()=>MK}),mpe=cl(`${rC}/removeAll`),OK=Gp(cl(`${rC}/remove`),{withTypes:()=>OK}),gpe=(...r)=>{console.error(`${rC}/error`,...r)},by=(r={})=>{const e=new Map,t=new Map,n=f=>{const p=t.get(f)??0;t.set(f,p+1)},i=f=>{const p=t.get(f)??1;p===1?t.delete(f):t.set(f,p-1)},{extra:s,onError:a=gpe}=r;UT(a);const o=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&IN(f)}),l=f=>{const p=VO(e,f)??IK(f);return o(p)};Gp(l,{withTypes:()=>l});const c=f=>{const p=VO(e,f);return p&&(p.unsubscribe(),f.cancelActive&&IN(p)),!!p};Gp(c,{withTypes:()=>c});const u=async(f,p,g,m)=>{const v=new AbortController,y=Ape(l,v.signal),b=[];try{f.pending.add(v),n(f),await Promise.resolve(f.effect(p,Gp({},g,{getOriginalState:m,condition:(w,_)=>y(w,_).then(Boolean),take:y,delay:jK(v.signal),pause:d2(v.signal),extra:s,signal:v.signal,fork:fpe(v.signal,b),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((w,_,B)=>{w!==v&&(w.abort(FN),B.delete(w))})},cancel:()=>{v.abort(FN),f.pending.delete(v)},throwIfCancelled:()=>{Uf(v.signal)}})))}catch(w){w instanceof tC||GO(a,w,{raisedBy:"effect"})}finally{await Promise.all(b),v.abort(dpe),i(f),f.pending.delete(v)}},d=ppe(e,t);return{middleware:f=>p=>g=>{if(!uK(g))return p(g);if(MK.match(g))return l(g.payload);if(mpe.match(g)){d();return}if(OK.match(g))return c(g.payload);let m=f.getState();const v=()=>{if(m===zO)throw new Error(wo(23));return m};let y;try{if(y=p(g),e.size>0){const b=f.getState(),w=Array.from(e.values());for(const _ of w){let B=!1;try{B=_.predicate(g,b,m)}catch(R){B=!1,GO(a,R,{raisedBy:"predicate"})}B&&u(_,g,f,v)}}}finally{m=zO}return y},startListening:l,stopListening:c,clearListeners:d}};function wo(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var vpe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PK=Xa({name:"chartLayout",initialState:vpe,reducers:{setLayout(r,e){r.layoutType=e.payload},setChartSize(r,e){r.width=e.payload.width,r.height=e.payload.height},setMargin(r,e){var t,n,i,s;r.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,r.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,r.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,r.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(r,e){r.scale=e.payload}}}),{setMargin:ype,setLayout:bpe,setChartSize:xpe,setScale:wpe}=PK.actions,Cpe=PK.reducer;function RK(r,e,t){return Array.isArray(r)&&r&&e+t!==0?r.slice(e,t+1):r}function xn(r){return Number.isFinite(r)}function Rc(r){return typeof r=="number"&&r>0&&Number.isFinite(r)}function KO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function _p(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(t),!0).forEach(function(n){Spe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):KO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Spe(r,e,t){return(e=Epe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Epe(r){var e=_pe(r,"string");return typeof e=="symbol"?e:e+""}function _pe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ln(r,e,t){return Ln(r)||Ln(e)?t:Pc(e)?rA(r,e,t):typeof e=="function"?e(r):t}var Npe=(r,e,t)=>{if(e&&t){var{width:n,height:i}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&It(r[s]))return _p(_p({},r),{},{[s]:r[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&It(r[a]))return _p(_p({},r),{},{[a]:r[a]+(i||0)})}return r},$c=(r,e)=>r==="horizontal"&&e==="xAxis"||r==="vertical"&&e==="yAxis"||r==="centric"&&e==="angleAxis"||r==="radial"&&e==="radiusAxis",LK=(r,e,t,n)=>{if(n)return r.map(o=>o.coordinate);var i,s,a=r.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===t&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(t),a},DK=(r,e,t)=>{if(!r)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=r;if(!a)return null;var p=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(g=f==="angleAxis"&&s&&s.length>=2?ms(s[0]-s[1])*2*g:g,d||h){var m=(d||h||[]).map((v,y)=>{var b=n?n.indexOf(v):v;return{coordinate:a(b)+g,value:v,offset:g,index:y}});return m.filter(v=>!ll(v.coordinate))}return l&&c?c.map((v,y)=>({coordinate:a(v)+g,value:v,index:y,offset:g})):a.ticks&&u!=null?a.ticks(u).map((v,y)=>({coordinate:a(v)+g,value:v,offset:g,index:y})):a.domain().map((v,y)=>({coordinate:a(v)+g,value:n?n[v]:v,index:y,offset:g}))},WO=1e-4,Bpe=r=>{var e=r.domain();if(!(!e||e.length<=2)){var t=e.length,n=r.range(),i=Math.min(n[0],n[1])-WO,s=Math.max(n[0],n[1])+WO,a=r(e[0]),o=r(e[t-1]);(a<i||a>s||o<i||o>s)&&r.domain([e[0],e[t-1]])}},kpe=(r,e)=>{if(!e||e.length!==2||!It(e[0])||!It(e[1]))return r;var t=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[r[0],r[1]];return(!It(r[0])||r[0]<t)&&(i[0]=t),(!It(r[1])||r[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<t&&(i[1]=t),i},Tpe=r=>{var e,t=r.length;if(!(t<=0)){var n=(e=r[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0,o=0;o<t;++o){var l=r[o],c=l?.[i];if(c!=null){var u=c[1],d=c[0],h=ll(u)?d:u;h>=0?(c[0]=s,c[1]=s+h,s=u):(c[0]=a,c[1]=a+h,a=u)}}}},jpe=r=>{var e,t=r.length;if(!(t<=0)){var n=(e=r[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0;a<t;++a){var o=r[a],l=o?.[i];if(l!=null){var c=ll(l[1])?l[0]:l[1];c>=0?(l[0]=s,l[1]=s+c,s=l[1]):(l[0]=0,l[1]=0)}}}},Fpe={sign:Tpe,expand:ufe,none:tA,silhouette:dfe,wiggle:hfe,positive:jpe},Ipe=(r,e,t)=>{var n,i=(n=Fpe[t])!==null&&n!==void 0?n:tA,s=cfe().keys(e).value((o,l)=>Number(ln(o,l,0))).order(wN).offset(i),a=s(r);return a.forEach((o,l)=>{o.forEach((c,u)=>{var d=ln(r[u],e[l],0);Array.isArray(d)&&d.length===2&&It(d[0])&&It(d[1])&&(c[0]=d[0],c[1]=d[1])})}),a};function UK(r){return r==null?void 0:String(r)}function h2(r){var{axis:e,ticks:t,bandSize:n,entry:i,index:s,dataKey:a}=r;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ln(i[e.dataKey])){var o=kG(t,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return t[s]?t[s].coordinate+n/2:null}var l=ln(i,Ln(a)?e.dataKey:a);return Ln(l)?null:e.scale(l)}var qO=r=>{var{axis:e,ticks:t,offset:n,bandSize:i,entry:s,index:a}=r;if(e.type==="category")return t[a]?t[a].coordinate+n:null;var o=ln(s,e.dataKey,e.scale.domain()[a]);return Ln(o)?null:e.scale(o)-i/2+n},Mpe=r=>{var{numericAxis:e}=r,t=e.scale.domain();if(e.type==="number"){var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return n<=0&&i>=0?0:i<0?i:n}return t[0]},Ope=r=>{var e=r.flat(2).filter(It);return[Math.min(...e),Math.max(...e)]},Ppe=r=>[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]],Rpe=(r,e,t)=>{if(r!=null)return Ppe(Object.keys(r).reduce((n,i)=>{var s=r[i];if(!s)return n;var{stackedData:a}=s,o=a.reduce((l,c)=>{var u=RK(c,e,t),d=Ope(u);return!xn(d[0])||!xn(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},XO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nh=(r,e,t)=>{if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!t||n>0)return n}if(r&&e&&e.length>=2){for(var i=W5(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l?.coordinate||0)-(c?.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function JO(r){var{tooltipEntrySettings:e,dataKey:t,payload:n,value:i,name:s}=r;return _p(_p({},e),{},{dataKey:t,payload:n,value:i,name:s})}function zh(r,e){if(r)return String(r);if(typeof e=="string")return e}var Lpe=(r,e)=>{if(e==="horizontal")return r.chartX;if(e==="vertical")return r.chartY},Dpe=(r,e)=>e==="centric"?r.angle:r.radius,cd=r=>r.layout.width,ud=r=>r.layout.height,Upe=r=>r.layout.scale,HK=r=>r.layout.margin,nC=Oe(r=>r.cartesianAxis.xAxis,r=>Object.values(r)),iC=Oe(r=>r.cartesianAxis.yAxis,r=>Object.values(r)),QK="data-recharts-item-index",$K="data-recharts-item-id",xy=60;function ZO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(t),!0).forEach(function(n){Hpe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hpe(r,e,t){return(e=Qpe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qpe(r){var e=$pe(r,"string");return typeof e=="symbol"?e:e+""}function $pe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var zpe=r=>r.brush.height;function Vpe(r){var e=iC(r);return e.reduce((t,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:xy;return t+i}return t},0)}function Gpe(r){var e=iC(r);return e.reduce((t,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:xy;return t+i}return t},0)}function Kpe(r){var e=nC(r);return e.reduce((t,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?t+n.height:t,0)}function Wpe(r){var e=nC(r);return e.reduce((t,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?t+n.height:t,0)}var Zi=Oe([cd,ud,HK,zpe,Vpe,Gpe,Kpe,Wpe,aK,bAe],(r,e,t,n,i,s,a,o,l,c)=>{var u={left:(t.left||0)+i,right:(t.right||0)+s},d={top:(t.top||0)+a,bottom:(t.bottom||0)+o},h=hb(hb({},d),u),f=h.bottom;h.bottom+=n,h=Npe(h,l,c);var p=r-h.left-h.right,g=e-h.top-h.bottom;return hb(hb({brushBottom:f},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),qpe=Oe(Zi,r=>({x:r.left,y:r.top,width:r.width,height:r.height})),HT=Oe(cd,ud,(r,e)=>({x:0,y:0,width:r,height:e})),Xpe=K.createContext(null),ys=()=>K.useContext(Xpe)!=null,sC=r=>r.brush,aC=Oe([sC,Zi,HK],(r,e,t)=>({height:r.height,x:It(r.x)?r.x:e.left,y:It(r.y)?r.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:It(r.width)?r.width:e.width})),zK={},VK={},GK={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t,n,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),u=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},d=()=>{c&&u(),g()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),a=void 0,o=null},m=()=>{u()},v=function(...y){if(i?.aborted)return;a=this,o=y;const b=h==null;f(),l&&b&&u()};return v.schedule=f,v.cancel=g,v.flush=m,i?.addEventListener("abort",g,{once:!0}),v}r.debounce=e})(GK);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=GK;function t(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let u,d=null;const h=e.debounce(function(...g){u=n.apply(this,g),d=null},i,{edges:c}),f=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=n.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},p=()=>(h.flush(),u);return f.cancel=h.cancel,f.flush=p,f}r.debounce=t})(VK);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=VK;function t(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}r.throttle=t})(zK);var Ype=zK.throttle;const Jpe=No(Ype);var f2=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>i[a++]))}},KK=(r,e,t)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=t,o=Xu(n)?r:Number(n),l=Xu(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},Zpe={width:0,height:0,overflow:"visible"},eme={width:0,overflowX:"visible"},tme={height:0,overflowY:"visible"},rme={},nme=r=>{var{width:e,height:t}=r,n=Xu(e),i=Xu(t);return n&&i?Zpe:n?eme:i?tme:rme};function ime(r){var{width:e,height:t,aspect:n}=r,i=e,s=t;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function MN(){return MN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},MN.apply(null,arguments)}function eP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function tP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(t),!0).forEach(function(n){sme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function sme(r,e,t){return(e=ame(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ame(r){var e=ome(r,"string");return typeof e=="symbol"?e:e+""}function ome(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var WK=K.createContext({width:-1,height:-1});function lme(r){return Rc(r.width)&&Rc(r.height)}function qK(r){var{children:e,width:t,height:n}=r,i=K.useMemo(()=>({width:t,height:n}),[t,n]);return lme(i)?K.createElement(WK.Provider,{value:i},e):null}var QT=()=>K.useContext(WK),cme=K.forwardRef((r,e)=>{var{aspect:t,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:f,style:p={}}=r,g=K.useRef(null),m=K.useRef();m.current=f,K.useImperativeHandle(e,()=>g.current);var[v,y]=K.useState({containerWidth:n.width,containerHeight:n.height}),b=K.useCallback((j,k)=>{y(L=>{var H=Math.round(j),I=Math.round(k);return L.containerWidth===H&&L.containerHeight===I?L:{containerWidth:H,containerHeight:I}})},[]);K.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return my;var j=I=>{var T,{width:P,height:N}=I[0].contentRect;b(P,N),(T=m.current)===null||T===void 0||T.call(m,P,N)};u>0&&(j=Jpe(j,u,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:L,height:H}=g.current.getBoundingClientRect();return b(L,H),k.observe(g.current),()=>{k.disconnect()}},[b,u]);var{containerWidth:w,containerHeight:_}=v;f2(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:B,calculatedHeight:R}=KK(w,_,{width:i,height:s,aspect:t,maxHeight:l});return f2(B!=null&&B>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,R,i,s,a,o,t),K.createElement("div",{id:d?"".concat(d):void 0,className:Yr("recharts-responsive-container",h),style:tP(tP({},p),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:g},K.createElement("div",{style:nme({width:i,height:s})},K.createElement(qK,{width:B,height:R},c)))}),Pl=K.forwardRef((r,e)=>{var t=QT();if(Rc(t.width)&&Rc(t.height))return r.children;var{width:n,height:i}=ime({width:r.width,height:r.height,aspect:r.aspect}),{calculatedWidth:s,calculatedHeight:a}=KK(void 0,void 0,{width:n,height:i,aspect:r.aspect,maxHeight:r.maxHeight});return It(s)&&It(a)?K.createElement(qK,{width:s,height:a},r.children):K.createElement(cme,MN({},r,{width:n,height:i,ref:e}))});function XK(r){if(r)return{x:r.x,y:r.y,upperWidth:"upperWidth"in r?r.upperWidth:r.width,lowerWidth:"lowerWidth"in r?r.lowerWidth:r.width,width:r.width,height:r.height}}var oC=()=>{var r,e=ys(),t=Qt(qpe),n=Qt(aC),i=(r=Qt(sC))===null||r===void 0?void 0:r.padding;return!e||!n||!i?t:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},ume={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YK=()=>{var r;return(r=Qt(Zi))!==null&&r!==void 0?r:ume},$T=()=>Qt(cd),zT=()=>Qt(ud),dme=()=>Qt(r=>r.layout.margin),Dr=r=>r.layout.layoutType,Vh=()=>Qt(Dr),hme=()=>{var r=Vh();if(r==="horizontal"||r==="vertical")return r},fme=()=>{var r=Vh();return r!==void 0},lC=r=>{var e=Fn(),t=ys(),{width:n,height:i}=r,s=QT(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),K.useEffect(()=>{!t&&Rc(a)&&Rc(o)&&e(xpe({width:a,height:o}))},[e,t,a,o]),null},JK=Symbol.for("immer-nothing"),rP=Symbol.for("immer-draftable"),_o=Symbol.for("immer-state");function Ml(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Tv=Object.getPrototypeOf;function gm(r){return!!r&&!!r[_o]}function iA(r){return r?ZK(r)||Array.isArray(r)||!!r[rP]||!!r.constructor?.[rP]||wy(r)||uC(r):!1}var Ame=Object.prototype.constructor.toString(),nP=new WeakMap;function ZK(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let n=nP.get(t);return n===void 0&&(n=Function.toString.call(t),nP.set(t,n)),n===Ame}function A2(r,e,t=!0){cC(r)===0?(t?Reflect.ownKeys(r):Object.keys(r)).forEach(i=>{e(i,r[i],r)}):r.forEach((n,i)=>e(i,n,r))}function cC(r){const e=r[_o];return e?e.type_:Array.isArray(r)?1:wy(r)?2:uC(r)?3:0}function ON(r,e){return cC(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function eW(r,e,t){const n=cC(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function pme(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function wy(r){return r instanceof Map}function uC(r){return r instanceof Set}function xf(r){return r.copy_||r.base_}function PN(r,e){if(wy(r))return new Map(r);if(uC(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=ZK(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[_o];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:r[a]})}return Object.create(Tv(r),n)}else{const n=Tv(r);if(n!==null&&t)return{...r};const i=Object.create(n);return Object.assign(i,r)}}function VT(r,e=!1){return dC(r)||gm(r)||!iA(r)||(cC(r)>1&&Object.defineProperties(r,{set:fb,add:fb,clear:fb,delete:fb}),Object.freeze(r),e&&Object.values(r).forEach(t=>VT(t,!0))),r}function mme(){Ml(2)}var fb={value:mme};function dC(r){return r===null||typeof r!="object"?!0:Object.isFrozen(r)}var gme={};function sA(r){const e=gme[r];return e||Ml(0,r),e}var jv;function tW(){return jv}function vme(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iP(r,e){e&&(sA("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function RN(r){LN(r),r.drafts_.forEach(yme),r.drafts_=null}function LN(r){r===jv&&(jv=r.parent_)}function sP(r){return jv=vme(jv,r)}function yme(r){const e=r[_o];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aP(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[_o].modified_&&(RN(e),Ml(4)),iA(r)&&(r=p2(e,r),e.parent_||m2(e,r)),e.patches_&&sA("Patches").generateReplacementPatches_(t[_o].base_,r,e.patches_,e.inversePatches_)):r=p2(e,t,[]),RN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==JK?r:void 0}function p2(r,e,t){if(dC(e))return e;const n=r.immer_.shouldUseStrictIteration(),i=e[_o];if(!i)return A2(e,(s,a)=>oP(r,i,e,s,a,t),n),e;if(i.scope_!==r)return e;if(!i.modified_)return m2(r,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),A2(a,(l,c)=>oP(r,i,s,l,c,t,o),n),m2(r,s,!1),t&&r.patches_&&sA("Patches").generatePatches_(i,t,r.patches_,r.inversePatches_)}return i.copy_}function oP(r,e,t,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=dC(i);if(!(o&&!a)){if(gm(i)){const l=s&&e&&e.type_!==3&&!ON(e.assigned_,n)?s.concat(n):void 0,c=p2(r,i,l);if(eW(t,n,c),gm(c))r.canAutoFreeze_=!1;else return}else a&&t.add(i);if(iA(i)&&!o){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;p2(r,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(wy(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&m2(r,i)}}}function m2(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&VT(e,t)}function bme(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:tW(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=GT;t&&(i=[n],s=Fv);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var GT={get(r,e){if(e===_o)return r;const t=xf(r);if(!ON(t,e))return xme(r,t,e);const n=t[e];return r.finalized_||!iA(n)?n:n===V3(r.base_,e)?(G3(r),r.copy_[e]=UN(n,r)):n},has(r,e){return e in xf(r)},ownKeys(r){return Reflect.ownKeys(xf(r))},set(r,e,t){const n=rW(xf(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=V3(xf(r),e),s=i?.[_o];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(pme(t,i)&&(t!==void 0||ON(r.base_,e)))return!0;G3(r),DN(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return V3(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,G3(r),DN(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=xf(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Ml(11)},getPrototypeOf(r){return Tv(r.base_)},setPrototypeOf(){Ml(12)}},Fv={};A2(GT,(r,e)=>{Fv[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Fv.deleteProperty=function(r,e){return Fv.set.call(this,r,e,void 0)};Fv.set=function(r,e,t){return GT.set.call(this,r[0],e,t,r[0])};function V3(r,e){const t=r[_o];return(t?xf(t):r)[e]}function xme(r,e,t){const n=rW(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function rW(r,e){if(!(e in r))return;let t=Tv(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Tv(t)}}function DN(r){r.modified_||(r.modified_=!0,r.parent_&&DN(r.parent_))}function G3(r){r.copy_||(r.copy_=PN(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var wme=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...c){return a.produce(l,u=>t.call(this,u,...c))}}typeof t!="function"&&Ml(6),n!==void 0&&typeof n!="function"&&Ml(7);let i;if(iA(e)){const s=sP(this),a=UN(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?RN(s):LN(s)}return iP(s,n),aP(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===JK&&(i=void 0),this.autoFreeze_&&VT(i,!0),n){const s=[],a=[];sA("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Ml(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,t,(a,o)=>{n=a,i=o}),n,i]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy),typeof r?.useStrictIteration=="boolean"&&this.setUseStrictIteration(r.useStrictIteration)}createDraft(r){iA(r)||Ml(8),gm(r)&&(r=Cme(r));const e=sP(this),t=UN(r,void 0);return t[_o].isManual_=!0,LN(e),t}finishDraft(r,e){const t=r&&r[_o];(!t||!t.isManual_)&&Ml(9);const{scope_:n}=t;return iP(n,e),aP(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}setUseStrictIteration(r){this.useStrictIteration_=r}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=sA("Patches").applyPatches_;return gm(r)?n(r,e):this.produce(r,i=>n(i,e))}};function UN(r,e){const t=wy(r)?sA("MapSet").proxyMap_(r,e):uC(r)?sA("MapSet").proxySet_(r,e):bme(r,e);return(e?e.scope_:tW()).drafts_.push(t),t}function Cme(r){return gm(r)||Ml(10,r),nW(r)}function nW(r){if(!iA(r)||dC(r))return r;const e=r[_o];let t,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=PN(r,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else t=PN(r,!0);return A2(t,(i,s)=>{eW(t,i,nW(s))},n),e&&(e.finalized_=!1),t}var Sme=new wme;Sme.produce;var Eme={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iW=Xa({name:"legend",initialState:Eme,reducers:{setLegendSize(r,e){r.size.width=e.payload.width,r.size.height=e.payload.height},setLegendSettings(r,e){r.settings.align=e.payload.align,r.settings.layout=e.payload.layout,r.settings.verticalAlign=e.payload.verticalAlign,r.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(r,e){r.payload.push(e.payload)},prepare:Hn()},replaceLegendPayload:{reducer(r,e){var{prev:t,next:n}=e.payload,i=Hl(r).payload.indexOf(t);i>-1&&(r.payload[i]=n)},prepare:Hn()},removeLegendPayload:{reducer(r,e){var t=Hl(r).payload.indexOf(e.payload);t>-1&&r.payload.splice(t,1)},prepare:Hn()}}}),{setLegendSize:lP,setLegendSettings:_me,addLegendPayload:sW,replaceLegendPayload:aW,removeLegendPayload:oW}=iW.actions,Nme=iW.reducer,Bme=["contextPayload"];function HN(){return HN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},HN.apply(null,arguments)}function cP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function vm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(t),!0).forEach(function(n){kme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kme(r,e,t){return(e=Tme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Tme(r){var e=jme(r,"string");return typeof e=="symbol"?e:e+""}function jme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Fme(r,e){if(r==null)return{};var t,n,i=Ime(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Ime(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Mme(r){return r.value}function Ome(r){var{contextPayload:e}=r,t=Fme(r,Bme),n=qG(e,r.payloadUniqBy,Mme),i=vm(vm({},t),{},{payload:n});return K.isValidElement(r.content)?K.cloneElement(r.content,i):typeof r.content=="function"?K.createElement(r.content,i):K.createElement(Dfe,i)}function Pme(r,e,t,n,i,s){var{layout:a,align:o,verticalAlign:l}=e,c,u;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(o==="center"&&a==="vertical"?c={left:((n||0)-s.width)/2}:c=o==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(l==="middle"?u={top:((i||0)-s.height)/2}:u=l==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),vm(vm({},c),u)}function Rme(r){var e=Fn();return K.useEffect(()=>{e(_me(r))},[e,r]),null}function Lme(r){var e=Fn();return K.useEffect(()=>(e(lP(r)),()=>{e(lP({width:0,height:0}))}),[e,r]),null}function Dme(r,e,t,n){return r==="vertical"&&It(e)?{height:e}:r==="horizontal"?{width:t||n}:null}var Ume={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Sc(r){var e=hi(r,Ume),t=CAe(),n=Ihe(),i=dme(),{width:s,height:a,wrapperStyle:o,portal:l}=e,[c,u]=oK([t]),d=$T(),h=zT();if(d==null||h==null)return null;var f=d-(i?.left||0)-(i?.right||0),p=Dme(e.layout,a,s,f),g=l?o:vm(vm({position:"absolute",width:p?.width||s||"auto",height:p?.height||a||"auto"},Pme(o,e,i,d,h,c)),o),m=l??n;if(m==null||t==null)return null;var v=K.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},K.createElement(Rme,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&K.createElement(Lme,{width:c.width,height:c.height}),K.createElement(Ome,HN({},e,p,{margin:i,chartWidth:d,chartHeight:h,contextPayload:t})));return sy.createPortal(v,m)}Sc.displayName="Legend";function QN(){return QN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},QN.apply(null,arguments)}function uP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function K3(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(t),!0).forEach(function(n){Hme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):uP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hme(r,e,t){return(e=Qme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qme(r){var e=$me(r,"string");return typeof e=="symbol"?e:e+""}function $me(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zme(r){return Array.isArray(r)&&Pc(r[0])&&Pc(r[1])?r.join(" ~ "):r}var Vme=r=>{var{separator:e=" : ",contentStyle:t={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=r,f=()=>{if(s&&s.length){var _={padding:0,margin:0},B=(o?W5(s,o):s).map((R,j)=>{if(R.type==="none")return null;var k=R.formatter||a||zme,{value:L,name:H}=R,I=L,T=H;if(k){var P=k(L,H,R,j,s);if(Array.isArray(P))[I,T]=P;else if(P!=null)I=P;else return null}var N=K3({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},n);return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:N},Pc(T)?K.createElement("span",{className:"recharts-tooltip-item-name"},T):null,Pc(T)?K.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,K.createElement("span",{className:"recharts-tooltip-item-value"},I),K.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:_},B)}return null},p=K3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),g=K3({margin:0},i),m=!Ln(u),v=m?u:"",y=Yr("recharts-default-tooltip",l),b=Yr("recharts-tooltip-label",c);m&&d&&s!==void 0&&s!==null&&(v=d(u,s));var w=h?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",QN({className:y,style:p},w),K.createElement("p",{className:b,style:g},K.isValidElement(v)?v:"".concat(v)),f())},R0="recharts-tooltip-wrapper",Gme={visibility:"hidden"};function Kme(r){var{coordinate:e,translateX:t,translateY:n}=r;return Yr(R0,{["".concat(R0,"-right")]:It(t)&&e&&It(e.x)&&t>=e.x,["".concat(R0,"-left")]:It(t)&&e&&It(e.x)&&t<e.x,["".concat(R0,"-bottom")]:It(n)&&e&&It(e.y)&&n>=e.y,["".concat(R0,"-top")]:It(n)&&e&&It(e.y)&&n<e.y})}function dP(r){var{allowEscapeViewBox:e,coordinate:t,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=r;if(s&&It(s[n]))return s[n];var u=t[n]-o-(i>0?i:0),d=t[n]+i;if(e[n])return a[n]?u:d;var h=l[n];if(h==null)return 0;if(a[n]){var f=u,p=h;return f<p?Math.max(d,h):Math.max(u,h)}if(c==null)return 0;var g=d+o,m=h+c;return g>m?Math.max(u,h):Math.max(d,h)}function Wme(r){var{translateX:e,translateY:t,useTranslate3d:n}=r;return{transform:n?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function qme(r){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=r,c,u,d;return a.height>0&&a.width>0&&t?(u=dP({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=dP({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Wme({translateX:u,translateY:d,useTranslate3d:o})):c=Gme,{cssProperties:c,cssClasses:Kme({translateX:u,translateY:d,coordinate:t})}}function hP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ab(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(t),!0).forEach(function(n){$N(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $N(r,e,t){return(e=Xme(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xme(r){var e=Yme(r,"string");return typeof e=="symbol"?e:e+""}function Yme(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class Jme extends K.PureComponent{constructor(){super(...arguments),$N(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$N(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:g,innerRef:m,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:b}=qme({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:f}),w=v?{}:Ab(Ab({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),_=Ab(Ab({},w),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return K.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:_,ref:m},s)}}var lW=()=>{var r;return(r=Qt(e=>e.rootProps.accessibilityLayer))!==null&&r!==void 0?r:!0};function zN(){return zN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zN.apply(null,arguments)}function fP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function AP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(t),!0).forEach(function(n){Zme(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zme(r,e,t){return(e=e0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function e0e(r){var e=t0e(r,"string");return typeof e=="symbol"?e:e+""}function t0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var pP={curveBasisClosed:Jhe,curveBasisOpen:Zhe,curveBasis:Yhe,curveBumpX:Rhe,curveBumpY:Lhe,curveLinearClosed:efe,curveLinear:H5,curveMonotoneX:tfe,curveMonotoneY:rfe,curveNatural:nfe,curveStep:ife,curveStepAfter:afe,curveStepBefore:sfe},g2=r=>xn(r.x)&&xn(r.y),mP=r=>r.base!=null&&g2(r.base)&&g2(r),L0=r=>r.x,D0=r=>r.y,r0e=(r,e)=>{if(typeof r=="function")return r;var t="curve".concat(py(r));return(t==="curveMonotone"||t==="curveBump")&&e?pP["".concat(t).concat(e==="vertical"?"Y":"X")]:pP[t]||H5},n0e=r=>{var{type:e="linear",points:t=[],baseLine:n,layout:i,connectNulls:s=!1}=r,a=r0e(e,i),o=s?t.filter(g2):t,l;if(Array.isArray(n)){var c=t.map((f,p)=>AP(AP({},f),{},{base:n[p]}));i==="vertical"?l=ab().y(D0).x1(L0).x0(f=>f.base.x):l=ab().x(L0).y1(D0).y0(f=>f.base.y);var u=l.defined(mP).curve(a),d=s?c.filter(mP):c;return u(d)}i==="vertical"&&It(n)?l=ab().y(D0).x1(L0).x0(n):It(n)?l=ab().x(L0).y1(D0).y0(n):l=pG().x(L0).y(D0);var h=l.defined(g2).curve(a);return h(o)},Kp=r=>{var{className:e,points:t,path:n,pathRef:i}=r,s=Vh();if((!t||!t.length)&&!n)return null;var a={type:r.type,points:r.points,baseLine:r.baseLine,layout:r.layout||s,connectNulls:r.connectNulls},o=t&&t.length?n0e(a):n;return K.createElement("path",zN({},Sa(r),bT(r),{className:Yr("recharts-curve",e),d:o===null?void 0:o,ref:i}))},i0e=["x","y","top","left","width","height","className"];function VN(){return VN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},VN.apply(null,arguments)}function gP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function s0e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(t),!0).forEach(function(n){a0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function a0e(r,e,t){return(e=o0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o0e(r){var e=l0e(r,"string");return typeof e=="symbol"?e:e+""}function l0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function c0e(r,e){if(r==null)return{};var t,n,i=u0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function u0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var d0e=(r,e,t,n,i,s)=>"M".concat(r,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(t),h0e=r=>{var{x:e=0,y:t=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=r,l=c0e(r,i0e),c=s0e({x:e,y:t,top:n,left:i,width:s,height:a},l);return!It(e)||!It(t)||!It(s)||!It(a)||!It(n)||!It(i)?null:K.createElement("path",VN({},la(c),{className:Yr("recharts-cross",o),d:d0e(e,t,s,a,n,i)}))};function f0e(r,e,t,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?e.x-i:t.left+.5,y:r==="horizontal"?t.top+.5:e.y-i,width:r==="horizontal"?n:t.width-1,height:r==="horizontal"?t.height-1:n}}function vP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(t),!0).forEach(function(n){A0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function A0e(r,e,t){return(e=p0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function p0e(r){var e=m0e(r,"string");return typeof e=="symbol"?e:e+""}function m0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var g0e=r=>r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),cW=(r,e,t)=>r.map(n=>"".concat(g0e(n)," ").concat(e,"ms ").concat(t)).join(","),v0e=(r,e)=>[Object.keys(r),Object.keys(e)].reduce((t,n)=>t.filter(i=>n.includes(i))),Iv=(r,e)=>Object.keys(e).reduce((t,n)=>yP(yP({},t),{},{[n]:r(n,e[n])}),{});function bP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Wi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(t),!0).forEach(function(n){y0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function y0e(r,e,t){return(e=b0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function b0e(r){var e=x0e(r,"string");return typeof e=="symbol"?e:e+""}function x0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var v2=(r,e,t)=>r+(e-r)*t,GN=r=>{var{from:e,to:t}=r;return e!==t},uW=(r,e,t)=>{var n=Iv((i,s)=>{if(GN(s)){var[a,o]=r(s.from,s.to,s.velocity);return Wi(Wi({},s),{},{from:a,velocity:o})}return s},e);return t<1?Iv((i,s)=>GN(s)&&n[i]!=null?Wi(Wi({},s),{},{velocity:v2(s.velocity,n[i].velocity,t),from:v2(s.from,n[i].from,t)}):s,e):uW(r,n,t-1)};function w0e(r,e,t,n,i,s){var a,o=n.reduce((h,f)=>Wi(Wi({},h),{},{[f]:{from:r[f],velocity:0,to:e[f]}}),{}),l=()=>Iv((h,f)=>f.from,o),c=()=>!Object.values(o).filter(GN).length,u=null,d=h=>{a||(a=h);var f=h-a,p=f/t.dt;o=uW(t,o,p),i(Wi(Wi(Wi({},r),e),l())),a=h,c()||(u=s.setTimeout(d))};return()=>(u=s.setTimeout(d),()=>{var h;(h=u)===null||h===void 0||h()})}function C0e(r,e,t,n,i,s,a){var o=null,l=i.reduce((d,h)=>{var f=r[h],p=e[h];return f==null||p==null?d:Wi(Wi({},d),{},{[h]:[f,p]})},{}),c,u=d=>{c||(c=d);var h=(d-c)/n,f=Iv((g,m)=>v2(...m,t(h)),l);if(s(Wi(Wi(Wi({},r),e),f)),h<1)o=a.setTimeout(u);else{var p=Iv((g,m)=>v2(...m,t(1)),l);s(Wi(Wi(Wi({},r),e),p))}};return()=>(o=a.setTimeout(u),()=>{var d;(d=o)===null||d===void 0||d()})}const S0e=(r,e,t,n,i,s)=>{var a=v0e(r,e);return t==null?()=>(i(Wi(Wi({},r),e)),()=>{}):t.isStepper===!0?w0e(r,e,t,a,i,s):C0e(r,e,t,n,a,i,s)};var y2=1e-4,dW=(r,e)=>[0,3*r,3*e-6*r,3*r-3*e+1],hW=(r,e)=>r.map((t,n)=>t*e**n).reduce((t,n)=>t+n),xP=(r,e)=>t=>{var n=dW(r,e);return hW(n,t)},E0e=(r,e)=>t=>{var n=dW(r,e),i=[...n.map((s,a)=>s*a).slice(1),0];return hW(i,t)},_0e=r=>{var e,t=r.split("(");if(t.length!==2||t[0]!=="cubic-bezier")return null;var n=(e=t[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},N0e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=_0e(t[0]);if(i)return i}}return t.length===4?t:[0,0,1,1]},B0e=(r,e,t,n)=>{var i=xP(r,t),s=xP(e,n),a=E0e(r,t),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,d=u,h=0;h<8;++h){var f=i(d)-u,p=a(d);if(Math.abs(f-u)<y2||p<y2)return s(d);d=o(d-f/p)}return s(d)};return l.isStepper=!1,l},wP=function(){return B0e(...N0e(...arguments))},k0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:i=17}=e,s=(a,o,l)=>{var c=-(a-o)*t,u=l*n,d=l+(c-u)*i/1e3,h=l*i/1e3+a;return Math.abs(h-o)<y2&&Math.abs(d)<y2?[o,0]:[h,d]};return s.isStepper=!0,s.dt=i,s},T0e=r=>{if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wP(r);case"spring":return k0e();default:if(r.split("(")[0]==="cubic-bezier")return wP(r)}return typeof r=="function"?r:null};function j0e(r){var e,t=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=r.setTimeout(s.bind(null,c),l);return}s(l),i=r.setTimeout(s.bind(null,c));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>r}}class F0e{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=t?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function I0e(){return j0e(new F0e)}var M0e=K.createContext(I0e);function O0e(r,e){var t=K.useContext(M0e);return K.useMemo(()=>e??t(r),[r,e,t])}var P0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cy={isSsr:P0e()},R0e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},CP={t:0},W3={t:1};function Lm(r){var e=hi(r,R0e),{isActive:t,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:c}=e,u=t==="auto"?!Cy.isSsr:t,d=O0e(e.animationId,e.animationManager),[h,f]=K.useState(u?CP:W3),p=K.useRef(null);return K.useEffect(()=>{u||f(W3)},[u]),K.useEffect(()=>{if(!u||!n)return my;var g=S0e(CP,W3,T0e(s),i,f,d.getTimeoutController()),m=()=>{p.current=g()};return d.start([l,a,m,i,o]),()=>{d.stop(),p.current&&p.current(),o()}},[u,n,i,s,a,l,o,d]),c(h.t)}function Dm(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=K.useRef(_v(e)),n=K.useRef(r);return n.current!==r&&(t.current=_v(e),n.current=r),t.current}var L0e=["radius"],D0e=["radius"],SP,EP,_P,NP,BP,kP,TP,jP,FP,IP;function MP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function OP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(t),!0).forEach(function(n){U0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):MP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function U0e(r,e,t){return(e=H0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function H0e(r){var e=Q0e(r,"string");return typeof e=="symbol"?e:e+""}function Q0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function b2(){return b2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},b2.apply(null,arguments)}function PP(r,e){if(r==null)return{};var t,n,i=$0e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function $0e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function oc(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}var RP=(r,e,t,n,i)=>{var s=rh(t),a=rh(n),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=i[f]>o?o:i[f];d=ai(SP||(SP=oc(["M",",",""])),r,e+l*h[0]),h[0]>0&&(d+=ai(EP||(EP=oc(["A ",",",",0,0,",",",",",""])),h[0],h[0],u,r+c*h[0],e)),d+=ai(_P||(_P=oc(["L ",",",""])),r+t-c*h[1],e),h[1]>0&&(d+=ai(NP||(NP=oc(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],u,r+t,e+l*h[1])),d+=ai(BP||(BP=oc(["L ",",",""])),r+t,e+n-l*h[2]),h[2]>0&&(d+=ai(kP||(kP=oc(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],u,r+t-c*h[2],e+n)),d+=ai(TP||(TP=oc(["L ",",",""])),r+c*h[3],e+n),h[3]>0&&(d+=ai(jP||(jP=oc(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],u,r,e+n-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d=ai(FP||(FP=oc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),r,e+l*g,g,g,u,r+c*g,e,r+t-c*g,e,g,g,u,r+t,e+l*g,r+t,e+n-l*g,g,g,u,r+t-c*g,e+n,r+c*g,e+n,g,g,u,r,e+n-l*g)}else d=ai(IP||(IP=oc(["M ",","," h "," v "," h "," Z"])),r,e,t,n,-t);return d},LP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fW=r=>{var e=hi(r,LP),t=K.useRef(null),[n,i]=K.useState(-1);K.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var C=t.current.getTotalLength();C&&i(C)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=e,m=K.useRef(o),v=K.useRef(l),y=K.useRef(s),b=K.useRef(a),w=K.useMemo(()=>({x:s,y:a,width:o,height:l,radius:c}),[s,a,o,l,c]),_=Dm(w,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var B=Yr("recharts-rectangle",u);if(!g){var R=la(e),{radius:j}=R,k=PP(R,L0e);return K.createElement("path",b2({},k,{x:rh(s),y:rh(a),width:rh(o),height:rh(l),radius:typeof c=="number"?c:void 0,className:B,d:RP(s,a,o,l,c)}))}var L=m.current,H=v.current,I=y.current,T=b.current,P="0px ".concat(n===-1?1:n,"px"),N="".concat(n,"px 0px"),S=cW(["strokeDasharray"],h,typeof d=="string"?d:LP.animationEasing);return K.createElement(Lm,{animationId:_,key:_,canBegin:n>0,duration:h,easing:d,isActive:g,begin:f},C=>{var E=on(L,o,C),x=on(H,l,C),F=on(I,s,C),U=on(T,a,C);t.current&&(m.current=E,v.current=x,y.current=F,b.current=U);var M;p?C>0?M={transition:S,strokeDasharray:N}:M={strokeDasharray:P}:M={strokeDasharray:N};var z=la(e),{radius:G}=z,Y=PP(z,D0e);return K.createElement("path",b2({},Y,{radius:typeof c=="number"?c:void 0,className:B,d:RP(F,U,E,x,c),ref:t,style:OP(OP({},M),e.style)}))})};function DP(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function UP(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(t),!0).forEach(function(n){z0e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DP(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function z0e(r,e,t){return(e=V0e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function V0e(r){var e=G0e(r,"string");return typeof e=="symbol"?e:e+""}function G0e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var x2=Math.PI/180,K0e=r=>r*180/Math.PI,Di=(r,e,t,n)=>({x:r+Math.cos(-x2*n)*t,y:e+Math.sin(-x2*n)*t}),AW=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},W0e=(r,e)=>{var{x:t,y:n}=r,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(n-s)**2)},q0e=(r,e)=>{var{x:t,y:n}=r,{cx:i,cy:s}=e,a=W0e({x:t,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-i)/a,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:a,angle:K0e(l),angleInRadian:l}},X0e=r=>{var{startAngle:e,endAngle:t}=r,n=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:t-s*360}},Y0e=(r,e)=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),s=Math.floor(n/360),a=Math.min(i,s);return r+a*360},J0e=(r,e)=>{var{chartX:t,chartY:n}=r,{radius:i,angle:s}=q0e({x:t,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=X0e(e),u=s,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?UP(UP({},e),{},{radius:i,angle:Y0e(u,e)}):null};function pW(r){var{cx:e,cy:t,radius:n,startAngle:i,endAngle:s}=r,a=Di(e,t,n,i),o=Di(e,t,n,s);return{points:[a,o],cx:e,cy:t,radius:n,startAngle:i,endAngle:s}}var HP,QP,$P,zP,VP,GP,KP;function KN(){return KN=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},KN.apply(null,arguments)}function jf(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}var Z0e=(r,e)=>{var t=ms(e-r),n=Math.min(Math.abs(e-r),359.999);return t*n},pb=r=>{var{cx:e,cy:t,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=r,c=o*(a?1:-1)+n,u=Math.asin(o/c)/x2,d=l?i:i+s*u,h=Di(e,t,c,d),f=Di(e,t,n,d),p=l?i-s*u:i,g=Di(e,t,c*Math.cos(u*x2),p);return{center:h,circleTangency:f,lineTangency:g,theta:u}},mW=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=r,o=Z0e(s,a),l=s+o,c=Di(e,t,i,s),u=Di(e,t,i,l),d=ai(HP||(HP=jf(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(s>l),u.x,u.y);if(n>0){var h=Di(e,t,n,s),f=Di(e,t,n,l);d+=ai(QP||(QP=jf(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),f.x,f.y,n,n,+(Math.abs(o)>180),+(s<=l),h.x,h.y)}else d+=ai($P||($P=jf(["L ",","," Z"])),e,t);return d},ege=r=>{var{cx:e,cy:t,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=r,u=ms(c-l),{circleTangency:d,lineTangency:h,theta:f}=pb({cx:e,cy:t,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:m}=pb({cx:e,cy:t,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-m;if(v<0)return a?ai(zP||(zP=jf(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,s,s,s*2,s,s,-s*2):mW({cx:e,cy:t,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var y=ai(VP||(VP=jf(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,s,s,+(u<0),d.x,d.y,i,i,+(v>180),+(u<0),p.x,p.y,s,s,+(u<0),g.x,g.y);if(n>0){var{circleTangency:b,lineTangency:w,theta:_}=pb({cx:e,cy:t,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:B,lineTangency:R,theta:j}=pb({cx:e,cy:t,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-_-j;if(k<0&&s===0)return"".concat(y,"L").concat(e,",").concat(t,"Z");y+=ai(GP||(GP=jf(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,s,s,+(u<0),B.x,B.y,n,n,+(k>180),+(u>0),b.x,b.y,s,s,+(u<0),w.x,w.y)}else y+=ai(KP||(KP=jf(["L",",","Z"])),e,t);return y},tge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gW=r=>{var e=hi(r,tge),{cx:t,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=e;if(s<i||c===u)return null;var h=Yr("recharts-sector",d),f=s-i,p=aa(a,f,0,!0),g;return p>0&&Math.abs(c-u)<360?g=ege({cx:t,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,f/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):g=mW({cx:t,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),K.createElement("path",KN({},la(e),{className:h,d:g}))};function rge(r,e,t){if(r==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(r==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(jG(e)){if(r==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=Di(n,i,s,o),c=Di(n,i,a,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return pW(e)}}var vW={},yW={},bW={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=jT;function t(n){return e.isSymbol(n)?NaN:Number(n)}r.toNumber=t})(bW);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=bW;function t(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}r.toFinite=t})(yW);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=FT,t=yW;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),a=a===void 0?i<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}r.range=n})(vW);var nge=vW.range;const xW=No(nge);function mh(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function ige(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function KT(r){let e,t,n;r.length!==2?(e=mh,t=(o,l)=>mh(r(o),l),n=(o,l)=>r(o)-l):(e=r===mh||r===ige?r:sge,t=r,n=r);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;t(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;t(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function sge(){return 0}function wW(r){return r===null?NaN:+r}function*age(r,e){for(let t of r)t!=null&&(t=+t)>=t&&(yield t)}const oge=KT(mh),Sy=oge.right;KT(wW).center;class WP extends Map{constructor(e,t=uge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(qP(this,e))}has(e){return super.has(qP(this,e))}set(e,t){return super.set(lge(this,e),t)}delete(e){return super.delete(cge(this,e))}}function qP({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):t}function lge({_intern:r,_key:e},t){const n=e(t);return r.has(n)?r.get(n):(r.set(n,t),t)}function cge({_intern:r,_key:e},t){const n=e(t);return r.has(n)&&(t=r.get(n),r.delete(n)),t}function uge(r){return r!==null&&typeof r=="object"?r.valueOf():r}function dge(r=mh){if(r===mh)return CW;if(typeof r!="function")throw new TypeError("compare is not a function");return(e,t)=>{const n=r(e,t);return n||n===0?n:(r(t,t)===0)-(r(e,e)===0)}}function CW(r,e){return(r==null||!(r>=r))-(e==null||!(e>=e))||(r<e?-1:r>e?1:0)}const hge=Math.sqrt(50),fge=Math.sqrt(10),Age=Math.sqrt(2);function w2(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=hge?10:s>=fge?5:s>=Age?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(r*c),l=Math.round(e*c),o/c<r&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(r/c),l=Math.round(e/c),o*c<r&&++o,l*c>e&&--l),l<o&&.5<=t&&t<2?w2(r,e,t*2):[o,l,c]}function WN(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,s,a]=n?w2(e,r,t):w2(r,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function qN(r,e,t){return e=+e,r=+r,t=+t,w2(r,e,t)[2]}function XN(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?qN(e,r,t):qN(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function XP(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function YP(r,e){let t;for(const n of r)n!=null&&(t>n||t===void 0&&n>=n)&&(t=n);return t}function SW(r,e,t=0,n=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),n=Math.floor(Math.min(r.length-1,n)),!(t<=e&&e<=n))return r;for(i=i===void 0?CW:dge(i);n>t;){if(n-t>600){const l=n-t+1,c=e-t+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(t,Math.floor(e-c*d/l+h)),p=Math.min(n,Math.floor(e+(l-c)*d/l+h));SW(r,e,f,p,i)}const s=r[e];let a=t,o=n;for(U0(r,t,e),i(r[n],s)>0&&U0(r,t,n);a<o;){for(U0(r,a,o),++a,--o;i(r[a],s)<0;)++a;for(;i(r[o],s)>0;)--o}i(r[t],s)===0?U0(r,t,o):(++o,U0(r,o,n)),o<=e&&(t=o+1),e<=o&&(n=o-1)}return r}function U0(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function pge(r,e,t){if(r=Float64Array.from(age(r)),!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return YP(r);if(e>=1)return XP(r);var n,i=(n-1)*e,s=Math.floor(i),a=XP(SW(r,s).subarray(0,s+1)),o=YP(r.subarray(s+1));return a+(o-a)*(i-s)}}function mge(r,e,t=wW){if(!(!(n=r.length)||isNaN(e=+e))){if(e<=0||n<2)return+t(r[0],0,r);if(e>=1)return+t(r[n-1],n-1,r);var n,i=(n-1)*e,s=Math.floor(i),a=+t(r[s],s,r),o=+t(r[s+1],s+1,r);return a+(o-a)*(i-s)}}function gge(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(i);++n<i;)s[n]=r+n*t;return s}function pl(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function dd(r,e){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const YN=Symbol("implicit");function WT(){var r=new WP,e=[],t=[],n=YN;function i(s){let a=r.get(s);if(a===void 0){if(n!==YN)return n;r.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],r=new WP;for(const a of s)r.has(a)||r.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return WT(e,t).unknown(n)},pl.apply(i,arguments),i}function qT(){var r=WT().unknown(void 0),e=r.domain,t=r.range,n=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete r.unknown;function d(){var h=e().length,f=i<n,p=f?i:n,g=f?n:i;s=(g-p)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),p+=(g-p-s*(h-l))*u,a=s*(1-l),o&&(p=Math.round(p),a=Math.round(a));var m=gge(h).map(function(v){return p+s*v});return t(f?m.reverse():m)}return r.domain=function(h){return arguments.length?(e(h),d()):e()},r.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},r.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,d()},r.bandwidth=function(){return a},r.step=function(){return s},r.round=function(h){return arguments.length?(o=!!h,d()):o},r.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},r.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},r.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},r.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},r.copy=function(){return qT(e(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},pl.apply(d(),arguments)}function EW(r){var e=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return EW(e())},r}function vge(){return EW(qT.apply(null,arguments).paddingInner(1))}function XT(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function _W(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function Ey(){}var Mv=.7,C2=1/Mv,Wp="\\s*([+-]?\\d+)\\s*",Ov="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yge=/^#([0-9a-f]{3,8})$/,bge=new RegExp(`^rgb\\(${Wp},${Wp},${Wp}\\)$`),xge=new RegExp(`^rgb\\(${Fc},${Fc},${Fc}\\)$`),wge=new RegExp(`^rgba\\(${Wp},${Wp},${Wp},${Ov}\\)$`),Cge=new RegExp(`^rgba\\(${Fc},${Fc},${Fc},${Ov}\\)$`),Sge=new RegExp(`^hsl\\(${Ov},${Fc},${Fc}\\)$`),Ege=new RegExp(`^hsla\\(${Ov},${Fc},${Fc},${Ov}\\)$`),JP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XT(Ey,Pv,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:ZP,formatHex:ZP,formatHex8:_ge,formatHsl:Nge,formatRgb:eR,toString:eR});function ZP(){return this.rgb().formatHex()}function _ge(){return this.rgb().formatHex8()}function Nge(){return NW(this).formatHsl()}function eR(){return this.rgb().formatRgb()}function Pv(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=yge.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?tR(e):t===3?new Qa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?mb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?mb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bge.exec(r))?new Qa(e[1],e[2],e[3],1):(e=xge.exec(r))?new Qa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wge.exec(r))?mb(e[1],e[2],e[3],e[4]):(e=Cge.exec(r))?mb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sge.exec(r))?iR(e[1],e[2]/100,e[3]/100,1):(e=Ege.exec(r))?iR(e[1],e[2]/100,e[3]/100,e[4]):JP.hasOwnProperty(r)?tR(JP[r]):r==="transparent"?new Qa(NaN,NaN,NaN,0):null}function tR(r){return new Qa(r>>16&255,r>>8&255,r&255,1)}function mb(r,e,t,n){return n<=0&&(r=e=t=NaN),new Qa(r,e,t,n)}function Bge(r){return r instanceof Ey||(r=Pv(r)),r?(r=r.rgb(),new Qa(r.r,r.g,r.b,r.opacity)):new Qa}function JN(r,e,t,n){return arguments.length===1?Bge(r):new Qa(r,e,t,n??1)}function Qa(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}XT(Qa,JN,_W(Ey,{brighter(r){return r=r==null?C2:Math.pow(C2,r),new Qa(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Mv:Math.pow(Mv,r),new Qa(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Qa(Hf(this.r),Hf(this.g),Hf(this.b),S2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rR,formatHex:rR,formatHex8:kge,formatRgb:nR,toString:nR}));function rR(){return`#${Ff(this.r)}${Ff(this.g)}${Ff(this.b)}`}function kge(){return`#${Ff(this.r)}${Ff(this.g)}${Ff(this.b)}${Ff((isNaN(this.opacity)?1:this.opacity)*255)}`}function nR(){const r=S2(this.opacity);return`${r===1?"rgb(":"rgba("}${Hf(this.r)}, ${Hf(this.g)}, ${Hf(this.b)}${r===1?")":`, ${r})`}`}function S2(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Hf(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Ff(r){return r=Hf(r),(r<16?"0":"")+r.toString(16)}function iR(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Ol(r,e,t,n)}function NW(r){if(r instanceof Ol)return new Ol(r.h,r.s,r.l,r.opacity);if(r instanceof Ey||(r=Pv(r)),!r)return new Ol;if(r instanceof Ol)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),s=Math.max(e,t,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-n)/o+(t<n)*6:t===s?a=(n-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ol(a,o,l,r.opacity)}function Tge(r,e,t,n){return arguments.length===1?NW(r):new Ol(r,e,t,n??1)}function Ol(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}XT(Ol,Tge,_W(Ey,{brighter(r){return r=r==null?C2:Math.pow(C2,r),new Ol(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Mv:Math.pow(Mv,r),new Ol(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new Qa(q3(r>=240?r-240:r+120,i,n),q3(r,i,n),q3(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new Ol(sR(this.h),gb(this.s),gb(this.l),S2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=S2(this.opacity);return`${r===1?"hsl(":"hsla("}${sR(this.h)}, ${gb(this.s)*100}%, ${gb(this.l)*100}%${r===1?")":`, ${r})`}`}}));function sR(r){return r=(r||0)%360,r<0?r+360:r}function gb(r){return Math.max(0,Math.min(1,r||0))}function q3(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const YT=r=>()=>r;function jge(r,e){return function(t){return r+t*e}}function Fge(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function Ige(r){return(r=+r)==1?BW:function(e,t){return t-e?Fge(e,t,r):YT(isNaN(e)?t:e)}}function BW(r,e){var t=e-r;return t?jge(r,t):YT(isNaN(r)?e:r)}const aR=function r(e){var t=Ige(e);function n(i,s){var a=t((i=JN(i)).r,(s=JN(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),c=BW(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=r,n}(1);function Mge(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(s){for(i=0;i<t;++i)n[i]=r[i]*(1-s)+e[i]*s;return n}}function Oge(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Pge(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),s=new Array(t),a;for(a=0;a<n;++a)i[a]=Um(r[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Rge(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function E2(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function Lge(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=Um(r[i],e[i]):n[i]=e[i];return function(s){for(i in t)n[i]=t[i](s);return n}}var ZN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X3=new RegExp(ZN.source,"g");function Dge(r){return function(){return r}}function Uge(r){return function(e){return r(e)+""}}function Hge(r,e){var t=ZN.lastIndex=X3.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(r=r+"",e=e+"";(n=ZN.exec(r))&&(i=X3.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:E2(n,i)})),t=X3.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Uge(l[0].x):Dge(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Um(r,e){var t=typeof e,n;return e==null||t==="boolean"?YT(e):(t==="number"?E2:t==="string"?(n=Pv(e))?(e=n,aR):Hge:e instanceof Pv?aR:e instanceof Date?Rge:Oge(e)?Mge:Array.isArray(e)?Pge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lge:E2)(r,e)}function JT(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function Qge(r,e){e===void 0&&(e=r,r=Um);for(var t=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);t<n;)s[t]=r(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function $ge(r){return function(){return r}}function _2(r){return+r}var oR=[0,1];function wa(r){return r}function eB(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:$ge(isNaN(e)?NaN:.5)}function zge(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function Vge(r,e,t){var n=r[0],i=r[1],s=e[0],a=e[1];return i<n?(n=eB(i,n),s=t(a,s)):(n=eB(n,i),s=t(s,a)),function(o){return s(n(o))}}function Gge(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=eB(r[a],r[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=Sy(r,o,1,n)-1;return s[l](i[l](o))}}function _y(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function hC(){var r=oR,e=oR,t=Um,n,i,s,a=wa,o,l,c;function u(){var h=Math.min(r.length,e.length);return a!==wa&&(a=zge(r[0],r[h-1])),o=h>2?Gge:Vge,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=o(r.map(n),e,t)))(n(a(h)))}return d.invert=function(h){return a(i((c||(c=o(e,r.map(n),E2)))(h)))},d.domain=function(h){return arguments.length?(r=Array.from(h,_2),u()):r.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),t=JT,u()},d.clamp=function(h){return arguments.length?(a=h?!0:wa,u()):a!==wa},d.interpolate=function(h){return arguments.length?(t=h,u()):t},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return n=h,i=f,u()}}function ZT(){return hC()(wa,wa)}function Kge(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function N2(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function ym(r){return r=N2(Math.abs(r)),r?r[1]:NaN}function Wge(r,e){return function(t,n){for(var i=t.length,s=[],a=0,o=r[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>n));)o=r[a=(a+1)%r.length];return s.reverse().join(e)}}function qge(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var Xge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rv(r){if(!(e=Xge.exec(r)))throw new Error("invalid format: "+r);var e;return new ej({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Rv.prototype=ej.prototype;function ej(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}ej.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yge(r){e:for(var e=r.length,t=1,n=-1,i;t<e;++t)switch(r[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var kW;function Jge(r,e){var t=N2(r,e);if(!t)return r+"";var n=t[0],i=t[1],s=i-(kW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+N2(r,Math.max(0,e+s-1))[0]}function lR(r,e){var t=N2(r,e);if(!t)return r+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const cR={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:Kge,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>lR(r*100,e),r:lR,s:Jge,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function uR(r){return r}var dR=Array.prototype.map,hR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zge(r){var e=r.grouping===void 0||r.thousands===void 0?uR:Wge(dR.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?uR:qge(dR.call(r.numerals,String)),a=r.percent===void 0?"%":r.percent+"",o=r.minus===void 0?"":r.minus+"",l=r.nan===void 0?"NaN":r.nan+"";function c(d){d=Rv(d);var h=d.fill,f=d.align,p=d.sign,g=d.symbol,m=d.zero,v=d.width,y=d.comma,b=d.precision,w=d.trim,_=d.type;_==="n"?(y=!0,_="g"):cR[_]||(b===void 0&&(b=12),w=!0,_="g"),(m||h==="0"&&f==="=")&&(m=!0,h="0",f="=");var B=g==="$"?t:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",R=g==="$"?n:/[%p]/.test(_)?a:"",j=cR[_],k=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function L(H){var I=B,T=R,P,N,S;if(_==="c")T=j(H)+T,H="";else{H=+H;var C=H<0||1/H<0;if(H=isNaN(H)?l:j(Math.abs(H),b),w&&(H=Yge(H)),C&&+H==0&&p!=="+"&&(C=!1),I=(C?p==="("?p:o:p==="-"||p==="("?"":p)+I,T=(_==="s"?hR[8+kW/3]:"")+T+(C&&p==="("?")":""),k){for(P=-1,N=H.length;++P<N;)if(S=H.charCodeAt(P),48>S||S>57){T=(S===46?i+H.slice(P+1):H.slice(P))+T,H=H.slice(0,P);break}}}y&&!m&&(H=e(H,1/0));var E=I.length+H.length+T.length,x=E<v?new Array(v-E+1).join(h):"";switch(y&&m&&(H=e(x+H,x.length?v-T.length:1/0),x=""),f){case"<":H=I+H+T+x;break;case"=":H=I+x+H+T;break;case"^":H=x.slice(0,E=x.length>>1)+I+H+T+x.slice(E);break;default:H=x+I+H+T;break}return s(H)}return L.toString=function(){return d+""},L}function u(d,h){var f=c((d=Rv(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(ym(h)/3)))*3,g=Math.pow(10,-p),m=hR[8+p/3];return function(v){return f(g*v)+m}}return{format:c,formatPrefix:u}}var vb,tj,TW;eve({thousands:",",grouping:[3],currency:["$",""]});function eve(r){return vb=Zge(r),tj=vb.format,TW=vb.formatPrefix,vb}function tve(r){return Math.max(0,-ym(Math.abs(r)))}function rve(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ym(e)/3)))*3-ym(Math.abs(r)))}function nve(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,ym(e)-ym(r))+1}function jW(r,e,t,n){var i=XN(r,e,t),s;switch(n=Rv(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(s=rve(i,a))&&(n.precision=s),TW(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=nve(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=tve(i))&&(n.precision=s-(n.type==="%")*2);break}}return tj(n)}function Gh(r){var e=r.domain;return r.ticks=function(t){var n=e();return WN(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return jW(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=qN(a,o,t),c===l)return n[i]=a,n[s]=o,e(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return r},r}function FW(){var r=ZT();return r.copy=function(){return _y(r,FW())},pl.apply(r,arguments),Gh(r)}function IW(r){var e;function t(n){return n==null||isNaN(n=+n)?e:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(r=Array.from(n,_2),t):r.slice()},t.unknown=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return IW(r).unknown(e)},r=arguments.length?Array.from(r,_2):[0,1],Gh(t)}function MW(r,e){r=r.slice();var t=0,n=r.length-1,i=r[t],s=r[n],a;return s<i&&(a=t,t=n,n=a,a=i,i=s,s=a),r[t]=e.floor(i),r[n]=e.ceil(s),r}function fR(r){return Math.log(r)}function AR(r){return Math.exp(r)}function ive(r){return-Math.log(-r)}function sve(r){return-Math.exp(-r)}function ave(r){return isFinite(r)?+("1e"+r):r<0?0:r}function ove(r){return r===10?ave:r===Math.E?Math.exp:e=>Math.pow(r,e)}function lve(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),e=>Math.log(e)/r)}function pR(r){return(e,t)=>-r(-e,t)}function rj(r){const e=r(fR,AR),t=e.domain;let n=10,i,s;function a(){return i=lve(n),s=ove(n),t()[0]<0?(i=pR(i),s=pR(s),r(ive,sve)):r(fR,AR),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),f=i(u),p,g;const m=o==null?10:+o;let v=[];if(!(n%1)&&f-h<m){if(h=Math.floor(h),f=Math.ceil(f),c>0){for(;h<=f;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<c)){if(g>u)break;v.push(g)}}else for(;h<=f;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<c)){if(g>u)break;v.push(g)}v.length*2<m&&(v=WN(c,u,m))}else v=WN(h,f,Math.min(f-h,m)).map(s);return d?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Rv(l)).precision==null&&(l.trim=!0),l=tj(l)),o===1/0)return l;const c=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>t(MW(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function OW(){const r=rj(hC()).domain([1,10]);return r.copy=()=>_y(r,OW()).base(r.base()),pl.apply(r,arguments),r}function mR(r){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/r))}}function gR(r){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*r}}function nj(r){var e=1,t=r(mR(e),gR(e));return t.constant=function(n){return arguments.length?r(mR(e=+n),gR(e)):e},Gh(t)}function PW(){var r=nj(hC());return r.copy=function(){return _y(r,PW()).constant(r.constant())},pl.apply(r,arguments)}function vR(r){return function(e){return e<0?-Math.pow(-e,r):Math.pow(e,r)}}function cve(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function uve(r){return r<0?-r*r:r*r}function ij(r){var e=r(wa,wa),t=1;function n(){return t===1?r(wa,wa):t===.5?r(cve,uve):r(vR(t),vR(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,n()):t},Gh(e)}function sj(){var r=ij(hC());return r.copy=function(){return _y(r,sj()).exponent(r.exponent())},pl.apply(r,arguments),r}function dve(){return sj.apply(null,arguments).exponent(.5)}function yR(r){return Math.sign(r)*r*r}function hve(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function RW(){var r=ZT(),e=[0,1],t=!1,n;function i(s){var a=hve(r(s));return isNaN(a)?n:t?Math.round(a):a}return i.invert=function(s){return r.invert(yR(s))},i.domain=function(s){return arguments.length?(r.domain(s),i):r.domain()},i.range=function(s){return arguments.length?(r.range((e=Array.from(s,_2)).map(yR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(r.clamp(s),i):r.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return RW(r.domain(),e).round(t).clamp(r.clamp()).unknown(n)},pl.apply(i,arguments),Gh(i)}function LW(){var r=[],e=[],t=[],n;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=mge(r,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Sy(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:r[0],o<t.length?t[o]:r[r.length-1]]},s.domain=function(a){if(!arguments.length)return r.slice();r=[];for(let o of a)o!=null&&!isNaN(o=+o)&&r.push(o);return r.sort(mh),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return t.slice()},s.copy=function(){return LW().domain(r).range(e).unknown(n)},pl.apply(s,arguments)}function DW(){var r=0,e=1,t=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Sy(n,l,0,t)]:s}function o(){var l=-1;for(n=new Array(t);++l<t;)n[l]=((l+1)*e-(l-t)*r)/(t+1);return a}return a.domain=function(l){return arguments.length?([r,e]=l,r=+r,e=+e,o()):[r,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[r,n[0]]:c>=t?[n[t-1],e]:[n[c-1],n[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return DW().domain([r,e]).range(i).unknown(s)},pl.apply(Gh(a),arguments)}function UW(){var r=[.5],e=[0,1],t,n=1;function i(s){return s!=null&&s<=s?e[Sy(r,s,0,n)]:t}return i.domain=function(s){return arguments.length?(r=Array.from(s),n=Math.min(r.length,e.length-1),i):r.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(r.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[r[a-1],r[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return UW().domain(r).range(e).unknown(t)},pl.apply(i,arguments)}const Y3=new Date,J3=new Date;function es(r,e,t,n){function i(s){return r(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(r(s=new Date(+s)),s),i.ceil=s=>(r(s=new Date(s-1)),e(s,1),r(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),r(s);while(c<s&&s<a);return l},i.filter=s=>es(a=>{if(a>=a)for(;r(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(Y3.setTime(+s),J3.setTime(+a),r(Y3),r(J3),Math.floor(t(Y3,J3))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const B2=es(()=>{},(r,e)=>{r.setTime(+r+e)},(r,e)=>e-r);B2.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?es(e=>{e.setTime(Math.floor(e/r)*r)},(e,t)=>{e.setTime(+e+t*r)},(e,t)=>(t-e)/r):B2);B2.range;const Tu=1e3,Zo=Tu*60,ju=Zo*60,Ju=ju*24,aj=Ju*7,bR=Ju*30,Z3=Ju*365,If=es(r=>{r.setTime(r-r.getMilliseconds())},(r,e)=>{r.setTime(+r+e*Tu)},(r,e)=>(e-r)/Tu,r=>r.getUTCSeconds());If.range;const oj=es(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Tu)},(r,e)=>{r.setTime(+r+e*Zo)},(r,e)=>(e-r)/Zo,r=>r.getMinutes());oj.range;const lj=es(r=>{r.setUTCSeconds(0,0)},(r,e)=>{r.setTime(+r+e*Zo)},(r,e)=>(e-r)/Zo,r=>r.getUTCMinutes());lj.range;const cj=es(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*Tu-r.getMinutes()*Zo)},(r,e)=>{r.setTime(+r+e*ju)},(r,e)=>(e-r)/ju,r=>r.getHours());cj.range;const uj=es(r=>{r.setUTCMinutes(0,0,0)},(r,e)=>{r.setTime(+r+e*ju)},(r,e)=>(e-r)/ju,r=>r.getUTCHours());uj.range;const Ny=es(r=>r.setHours(0,0,0,0),(r,e)=>r.setDate(r.getDate()+e),(r,e)=>(e-r-(e.getTimezoneOffset()-r.getTimezoneOffset())*Zo)/Ju,r=>r.getDate()-1);Ny.range;const fC=es(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Ju,r=>r.getUTCDate()-1);fC.range;const HW=es(r=>{r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCDate(r.getUTCDate()+e)},(r,e)=>(e-r)/Ju,r=>Math.floor(r/Ju));HW.range;function bA(r){return es(e=>{e.setDate(e.getDate()-(e.getDay()+7-r)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zo)/aj)}const AC=bA(0),k2=bA(1),fve=bA(2),Ave=bA(3),bm=bA(4),pve=bA(5),mve=bA(6);AC.range;k2.range;fve.range;Ave.range;bm.range;pve.range;mve.range;function xA(r){return es(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-r)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/aj)}const pC=xA(0),T2=xA(1),gve=xA(2),vve=xA(3),xm=xA(4),yve=xA(5),bve=xA(6);pC.range;T2.range;gve.range;vve.range;xm.range;yve.range;bve.range;const dj=es(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,e)=>{r.setMonth(r.getMonth()+e)},(r,e)=>e.getMonth()-r.getMonth()+(e.getFullYear()-r.getFullYear())*12,r=>r.getMonth());dj.range;const hj=es(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCMonth(r.getUTCMonth()+e)},(r,e)=>e.getUTCMonth()-r.getUTCMonth()+(e.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());hj.range;const Zu=es(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,e)=>{r.setFullYear(r.getFullYear()+e)},(r,e)=>e.getFullYear()-r.getFullYear(),r=>r.getFullYear());Zu.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:es(e=>{e.setFullYear(Math.floor(e.getFullYear()/r)*r),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*r)});Zu.range;const ed=es(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,e)=>{r.setUTCFullYear(r.getUTCFullYear()+e)},(r,e)=>e.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());ed.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:es(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/r)*r),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*r)});ed.range;function QW(r,e,t,n,i,s){const a=[[If,1,Tu],[If,5,5*Tu],[If,15,15*Tu],[If,30,30*Tu],[s,1,Zo],[s,5,5*Zo],[s,15,15*Zo],[s,30,30*Zo],[i,1,ju],[i,3,3*ju],[i,6,6*ju],[i,12,12*ju],[n,1,Ju],[n,2,2*Ju],[t,1,aj],[e,1,bR],[e,3,3*bR],[r,1,Z3]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p}function l(c,u,d){const h=Math.abs(u-c)/d,f=KT(([,,m])=>m).right(a,h);if(f===a.length)return r.every(XN(c/Z3,u/Z3,d));if(f===0)return B2.every(Math.max(XN(c,u,d),1));const[p,g]=a[h/a[f-1][2]<a[f][2]/h?f-1:f];return p.every(g)}return[o,l]}const[xve,wve]=QW(ed,hj,pC,HW,uj,lj),[Cve,Sve]=QW(Zu,dj,AC,Ny,cj,oj);function eS(r){if(0<=r.y&&r.y<100){var e=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return e.setFullYear(r.y),e}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function tS(r){if(0<=r.y&&r.y<100){var e=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function H0(r,e,t){return{y:r,m:e,d:t,H:0,M:0,S:0,L:0}}function Eve(r){var e=r.dateTime,t=r.date,n=r.time,i=r.periods,s=r.days,a=r.shortDays,o=r.months,l=r.shortMonths,c=Q0(i),u=$0(i),d=Q0(s),h=$0(s),f=Q0(a),p=$0(a),g=Q0(o),m=$0(o),v=Q0(l),y=$0(l),b={a:C,A:E,b:x,B:F,c:null,d:_R,e:_R,f:Wve,g:iye,G:aye,H:Vve,I:Gve,j:Kve,L:$W,m:qve,M:Xve,p:U,q:M,Q:kR,s:TR,S:Yve,u:Jve,U:Zve,V:eye,w:tye,W:rye,x:null,X:null,y:nye,Y:sye,Z:oye,"%":BR},w={a:z,A:G,b:Y,B:Q,c:null,d:NR,e:NR,f:dye,g:xye,G:Cye,H:lye,I:cye,j:uye,L:VW,m:hye,M:fye,p:q,q:D,Q:kR,s:TR,S:Aye,u:pye,U:mye,V:gye,w:vye,W:yye,x:null,X:null,y:bye,Y:wye,Z:Sye,"%":BR},_={a:L,A:H,b:I,B:T,c:P,d:SR,e:SR,f:Hve,g:CR,G:wR,H:ER,I:ER,j:Rve,L:Uve,m:Pve,M:Lve,p:k,q:Ove,Q:$ve,s:zve,S:Dve,u:Tve,U:jve,V:Fve,w:kve,W:Ive,x:N,X:S,y:CR,Y:wR,Z:Mve,"%":Qve};b.x=B(t,b),b.X=B(n,b),b.c=B(e,b),w.x=B(t,w),w.X=B(n,w),w.c=B(e,w);function B(O,V){return function(J){var re=[],ne=-1,se=0,ee=O.length,de,ie,he;for(J instanceof Date||(J=new Date(+J));++ne<ee;)O.charCodeAt(ne)===37&&(re.push(O.slice(se,ne)),(ie=xR[de=O.charAt(++ne)])!=null?de=O.charAt(++ne):ie=de==="e"?" ":"0",(he=V[de])&&(de=he(J,ie)),re.push(de),se=ne+1);return re.push(O.slice(se,ne)),re.join("")}}function R(O,V){return function(J){var re=H0(1900,void 0,1),ne=j(re,O,J+="",0),se,ee;if(ne!=J.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(V&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(se=tS(H0(re.y,0,1)),ee=se.getUTCDay(),se=ee>4||ee===0?T2.ceil(se):T2(se),se=fC.offset(se,(re.V-1)*7),re.y=se.getUTCFullYear(),re.m=se.getUTCMonth(),re.d=se.getUTCDate()+(re.w+6)%7):(se=eS(H0(re.y,0,1)),ee=se.getDay(),se=ee>4||ee===0?k2.ceil(se):k2(se),se=Ny.offset(se,(re.V-1)*7),re.y=se.getFullYear(),re.m=se.getMonth(),re.d=se.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),ee="Z"in re?tS(H0(re.y,0,1)).getUTCDay():eS(H0(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(ee+5)%7:re.w+re.U*7-(ee+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,tS(re)):eS(re)}}function j(O,V,J,re){for(var ne=0,se=V.length,ee=J.length,de,ie;ne<se;){if(re>=ee)return-1;if(de=V.charCodeAt(ne++),de===37){if(de=V.charAt(ne++),ie=_[de in xR?V.charAt(ne++):de],!ie||(re=ie(O,J,re))<0)return-1}else if(de!=J.charCodeAt(re++))return-1}return re}function k(O,V,J){var re=c.exec(V.slice(J));return re?(O.p=u.get(re[0].toLowerCase()),J+re[0].length):-1}function L(O,V,J){var re=f.exec(V.slice(J));return re?(O.w=p.get(re[0].toLowerCase()),J+re[0].length):-1}function H(O,V,J){var re=d.exec(V.slice(J));return re?(O.w=h.get(re[0].toLowerCase()),J+re[0].length):-1}function I(O,V,J){var re=v.exec(V.slice(J));return re?(O.m=y.get(re[0].toLowerCase()),J+re[0].length):-1}function T(O,V,J){var re=g.exec(V.slice(J));return re?(O.m=m.get(re[0].toLowerCase()),J+re[0].length):-1}function P(O,V,J){return j(O,e,V,J)}function N(O,V,J){return j(O,t,V,J)}function S(O,V,J){return j(O,n,V,J)}function C(O){return a[O.getDay()]}function E(O){return s[O.getDay()]}function x(O){return l[O.getMonth()]}function F(O){return o[O.getMonth()]}function U(O){return i[+(O.getHours()>=12)]}function M(O){return 1+~~(O.getMonth()/3)}function z(O){return a[O.getUTCDay()]}function G(O){return s[O.getUTCDay()]}function Y(O){return l[O.getUTCMonth()]}function Q(O){return o[O.getUTCMonth()]}function q(O){return i[+(O.getUTCHours()>=12)]}function D(O){return 1+~~(O.getUTCMonth()/3)}return{format:function(O){var V=B(O+="",b);return V.toString=function(){return O},V},parse:function(O){var V=R(O+="",!1);return V.toString=function(){return O},V},utcFormat:function(O){var V=B(O+="",w);return V.toString=function(){return O},V},utcParse:function(O){var V=R(O+="",!0);return V.toString=function(){return O},V}}}var xR={"-":"",_:" ",0:"0"},bs=/^\s*\d+/,_ve=/^%/,Nve=/[\\^$*+?|[\]().{}]/g;function en(r,e,t){var n=r<0?"-":"",i=(n?-r:r)+"",s=i.length;return n+(s<t?new Array(t-s+1).join(e)+i:i)}function Bve(r){return r.replace(Nve,"\\$&")}function Q0(r){return new RegExp("^(?:"+r.map(Bve).join("|")+")","i")}function $0(r){return new Map(r.map((e,t)=>[e.toLowerCase(),t]))}function kve(r,e,t){var n=bs.exec(e.slice(t,t+1));return n?(r.w=+n[0],t+n[0].length):-1}function Tve(r,e,t){var n=bs.exec(e.slice(t,t+1));return n?(r.u=+n[0],t+n[0].length):-1}function jve(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.U=+n[0],t+n[0].length):-1}function Fve(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.V=+n[0],t+n[0].length):-1}function Ive(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.W=+n[0],t+n[0].length):-1}function wR(r,e,t){var n=bs.exec(e.slice(t,t+4));return n?(r.y=+n[0],t+n[0].length):-1}function CR(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function Mve(r,e,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function Ove(r,e,t){var n=bs.exec(e.slice(t,t+1));return n?(r.q=n[0]*3-3,t+n[0].length):-1}function Pve(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.m=n[0]-1,t+n[0].length):-1}function SR(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.d=+n[0],t+n[0].length):-1}function Rve(r,e,t){var n=bs.exec(e.slice(t,t+3));return n?(r.m=0,r.d=+n[0],t+n[0].length):-1}function ER(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.H=+n[0],t+n[0].length):-1}function Lve(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.M=+n[0],t+n[0].length):-1}function Dve(r,e,t){var n=bs.exec(e.slice(t,t+2));return n?(r.S=+n[0],t+n[0].length):-1}function Uve(r,e,t){var n=bs.exec(e.slice(t,t+3));return n?(r.L=+n[0],t+n[0].length):-1}function Hve(r,e,t){var n=bs.exec(e.slice(t,t+6));return n?(r.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function Qve(r,e,t){var n=_ve.exec(e.slice(t,t+1));return n?t+n[0].length:-1}function $ve(r,e,t){var n=bs.exec(e.slice(t));return n?(r.Q=+n[0],t+n[0].length):-1}function zve(r,e,t){var n=bs.exec(e.slice(t));return n?(r.s=+n[0],t+n[0].length):-1}function _R(r,e){return en(r.getDate(),e,2)}function Vve(r,e){return en(r.getHours(),e,2)}function Gve(r,e){return en(r.getHours()%12||12,e,2)}function Kve(r,e){return en(1+Ny.count(Zu(r),r),e,3)}function $W(r,e){return en(r.getMilliseconds(),e,3)}function Wve(r,e){return $W(r,e)+"000"}function qve(r,e){return en(r.getMonth()+1,e,2)}function Xve(r,e){return en(r.getMinutes(),e,2)}function Yve(r,e){return en(r.getSeconds(),e,2)}function Jve(r){var e=r.getDay();return e===0?7:e}function Zve(r,e){return en(AC.count(Zu(r)-1,r),e,2)}function zW(r){var e=r.getDay();return e>=4||e===0?bm(r):bm.ceil(r)}function eye(r,e){return r=zW(r),en(bm.count(Zu(r),r)+(Zu(r).getDay()===4),e,2)}function tye(r){return r.getDay()}function rye(r,e){return en(k2.count(Zu(r)-1,r),e,2)}function nye(r,e){return en(r.getFullYear()%100,e,2)}function iye(r,e){return r=zW(r),en(r.getFullYear()%100,e,2)}function sye(r,e){return en(r.getFullYear()%1e4,e,4)}function aye(r,e){var t=r.getDay();return r=t>=4||t===0?bm(r):bm.ceil(r),en(r.getFullYear()%1e4,e,4)}function oye(r){var e=r.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+en(e/60|0,"0",2)+en(e%60,"0",2)}function NR(r,e){return en(r.getUTCDate(),e,2)}function lye(r,e){return en(r.getUTCHours(),e,2)}function cye(r,e){return en(r.getUTCHours()%12||12,e,2)}function uye(r,e){return en(1+fC.count(ed(r),r),e,3)}function VW(r,e){return en(r.getUTCMilliseconds(),e,3)}function dye(r,e){return VW(r,e)+"000"}function hye(r,e){return en(r.getUTCMonth()+1,e,2)}function fye(r,e){return en(r.getUTCMinutes(),e,2)}function Aye(r,e){return en(r.getUTCSeconds(),e,2)}function pye(r){var e=r.getUTCDay();return e===0?7:e}function mye(r,e){return en(pC.count(ed(r)-1,r),e,2)}function GW(r){var e=r.getUTCDay();return e>=4||e===0?xm(r):xm.ceil(r)}function gye(r,e){return r=GW(r),en(xm.count(ed(r),r)+(ed(r).getUTCDay()===4),e,2)}function vye(r){return r.getUTCDay()}function yye(r,e){return en(T2.count(ed(r)-1,r),e,2)}function bye(r,e){return en(r.getUTCFullYear()%100,e,2)}function xye(r,e){return r=GW(r),en(r.getUTCFullYear()%100,e,2)}function wye(r,e){return en(r.getUTCFullYear()%1e4,e,4)}function Cye(r,e){var t=r.getUTCDay();return r=t>=4||t===0?xm(r):xm.ceil(r),en(r.getUTCFullYear()%1e4,e,4)}function Sye(){return"+0000"}function BR(){return"%"}function kR(r){return+r}function TR(r){return Math.floor(+r/1e3)}var QA,KW,WW;Eye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eye(r){return QA=Eve(r),KW=QA.format,QA.parse,WW=QA.utcFormat,QA.utcParse,QA}function _ye(r){return new Date(r)}function Nye(r){return r instanceof Date?+r:+new Date(+r)}function fj(r,e,t,n,i,s,a,o,l,c){var u=ZT(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function _(B){return(l(B)<B?f:o(B)<B?p:a(B)<B?g:s(B)<B?m:n(B)<B?i(B)<B?v:y:t(B)<B?b:w)(B)}return u.invert=function(B){return new Date(d(B))},u.domain=function(B){return arguments.length?h(Array.from(B,Nye)):h().map(_ye)},u.ticks=function(B){var R=h();return r(R[0],R[R.length-1],B??10)},u.tickFormat=function(B,R){return R==null?_:c(R)},u.nice=function(B){var R=h();return(!B||typeof B.range!="function")&&(B=e(R[0],R[R.length-1],B??10)),B?h(MW(R,B)):u},u.copy=function(){return _y(u,fj(r,e,t,n,i,s,a,o,l,c))},u}function Bye(){return pl.apply(fj(Cve,Sve,Zu,dj,AC,Ny,cj,oj,If,KW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kye(){return pl.apply(fj(xve,wve,ed,hj,pC,fC,uj,lj,If,WW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mC(){var r=0,e=1,t,n,i,s,a=wa,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-t)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([r,e]=d,t=s(r=+r),n=s(e=+e),i=t===n?0:1/(n-t),c):[r,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(h){var f,p;return arguments.length?([f,p]=h,a=d(f,p),c):[a(0),a(1)]}}return c.range=u(Um),c.rangeRound=u(JT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,t=d(r),n=d(e),i=t===n?0:1/(n-t),c}}function Kh(r,e){return e.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function qW(){var r=Gh(mC()(wa));return r.copy=function(){return Kh(r,qW())},dd.apply(r,arguments)}function XW(){var r=rj(mC()).domain([1,10]);return r.copy=function(){return Kh(r,XW()).base(r.base())},dd.apply(r,arguments)}function YW(){var r=nj(mC());return r.copy=function(){return Kh(r,YW()).constant(r.constant())},dd.apply(r,arguments)}function Aj(){var r=ij(mC());return r.copy=function(){return Kh(r,Aj()).exponent(r.exponent())},dd.apply(r,arguments)}function Tye(){return Aj.apply(null,arguments).exponent(.5)}function JW(){var r=[],e=wa;function t(n){if(n!=null&&!isNaN(n=+n))return e((Sy(r,n,1)-1)/(r.length-1))}return t.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let i of n)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(mh),t},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.range=function(){return r.map((n,i)=>e(i/(r.length-1)))},t.quantiles=function(n){return Array.from({length:n+1},(i,s)=>pge(r,s/n))},t.copy=function(){return JW(e).domain(r)},dd.apply(t,arguments)}function gC(){var r=0,e=.5,t=1,n=1,i,s,a,o,l,c=wa,u,d=!1,h;function f(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-s)*(n*g<n*s?o:l),c(d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([r,e,t]=g,i=u(r=+r),s=u(e=+e),a=u(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f):[r,e,t]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function p(g){return function(m){var v,y,b;return arguments.length?([v,y,b]=m,c=Qge(g,[v,y,b]),f):[c(0),c(.5),c(1)]}}return f.range=p(Um),f.rangeRound=p(JT),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return u=g,i=g(r),s=g(e),a=g(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,f}}function ZW(){var r=Gh(gC()(wa));return r.copy=function(){return Kh(r,ZW())},dd.apply(r,arguments)}function eq(){var r=rj(gC()).domain([.1,1,10]);return r.copy=function(){return Kh(r,eq()).base(r.base())},dd.apply(r,arguments)}function tq(){var r=nj(gC());return r.copy=function(){return Kh(r,tq()).constant(r.constant())},dd.apply(r,arguments)}function pj(){var r=ij(gC());return r.copy=function(){return Kh(r,pj()).exponent(r.exponent())},dd.apply(r,arguments)}function jye(){return pj.apply(null,arguments).exponent(.5)}const bg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qT,scaleDiverging:ZW,scaleDivergingLog:eq,scaleDivergingPow:pj,scaleDivergingSqrt:jye,scaleDivergingSymlog:tq,scaleIdentity:IW,scaleImplicit:YN,scaleLinear:FW,scaleLog:OW,scaleOrdinal:WT,scalePoint:vge,scalePow:sj,scaleQuantile:LW,scaleQuantize:DW,scaleRadial:RW,scaleSequential:qW,scaleSequentialLog:XW,scaleSequentialPow:Aj,scaleSequentialQuantile:JW,scaleSequentialSqrt:Tye,scaleSequentialSymlog:YW,scaleSqrt:dve,scaleSymlog:PW,scaleThreshold:UW,scaleTime:Bye,scaleUtc:kye,tickFormat:jW},Symbol.toStringTag,{value:"Module"}));var hd=r=>r.chartData,vC=Oe([hd],r=>{var e=r.chartData!=null?r.chartData.length-1:0;return{chartData:r.chartData,computedData:r.computedData,dataEndIndex:e,dataStartIndex:0}}),mj=(r,e,t,n)=>n?vC(r):hd(r),rq=(r,e,t)=>t?vC(r):hd(r);function Bh(r){if(Array.isArray(r)&&r.length===2){var[e,t]=r;if(xn(e)&&xn(t))return!0}return!1}function jR(r,e,t){return t?r:[Math.min(r[0],e[0]),Math.max(r[1],e[1])]}function nq(r,e){if(e&&typeof r!="function"&&Array.isArray(r)&&r.length===2){var[t,n]=r,i,s;if(xn(t))i=t;else if(typeof t=="function")return;if(xn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Bh(a))return a}}function Fye(r,e,t){if(!(!t&&e==null)){if(typeof r=="function"&&e!=null)try{var n=r(e,t);if(Bh(n))return jR(n,e,t)}catch{}if(Array.isArray(r)&&r.length===2){var[i,s]=r,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(It(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&XO.test(i)){var l=XO.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e?.[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(It(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e?.[1]))}catch{}else if(typeof s=="string"&&YO.test(s)){var u=YO.exec(s);if(u==null||u[1]==null||e==null)o=void 0;else{var d=+u[1];o=e[1]+d}}else o=e?.[1];var h=[a,o];if(Bh(h))return e==null?h:jR(h,e,t)}}}var Hm=1e9,Iye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vj,$n=!0,ul="[DecimalError] ",Qf=ul+"Invalid argument: ",gj=ul+"Exponent out of range: ",Qm=Math.floor,wf=Math.pow,Mye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mo,ds=1e7,On=7,iq=9007199254740991,j2=Qm(iq/On),Lt={};Lt.absoluteValue=Lt.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};Lt.comparedTo=Lt.cmp=function(r){var e,t,n,i,s=this;if(r=new s.constructor(r),s.s!==r.s)return s.s||-r.s;if(s.e!==r.e)return s.e>r.e^s.s<0?1:-1;for(n=s.d.length,i=r.d.length,e=0,t=n<i?n:i;e<t;++e)if(s.d[e]!==r.d[e])return s.d[e]>r.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Lt.decimalPlaces=Lt.dp=function(){var r=this,e=r.d.length-1,t=(e-r.e)*On;if(e=r.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Lt.dividedBy=Lt.div=function(r){return Pu(this,new this.constructor(r))};Lt.dividedToIntegerBy=Lt.idiv=function(r){var e=this,t=e.constructor;return yn(Pu(e,new t(r),0,1),t.precision)};Lt.equals=Lt.eq=function(r){return!this.cmp(r)};Lt.exponent=function(){return Ui(this)};Lt.greaterThan=Lt.gt=function(r){return this.cmp(r)>0};Lt.greaterThanOrEqualTo=Lt.gte=function(r){return this.cmp(r)>=0};Lt.isInteger=Lt.isint=function(){return this.e>this.d.length-2};Lt.isNegative=Lt.isneg=function(){return this.s<0};Lt.isPositive=Lt.ispos=function(){return this.s>0};Lt.isZero=function(){return this.s===0};Lt.lessThan=Lt.lt=function(r){return this.cmp(r)<0};Lt.lessThanOrEqualTo=Lt.lte=function(r){return this.cmp(r)<1};Lt.logarithm=Lt.log=function(r){var e,t=this,n=t.constructor,i=n.precision,s=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(mo))throw Error(ul+"NaN");if(t.s<1)throw Error(ul+(t.s?"NaN":"-Infinity"));return t.eq(mo)?new n(0):($n=!1,e=Pu(Lv(t,s),Lv(r,s),s),$n=!0,yn(e,i))};Lt.minus=Lt.sub=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?oq(e,r):sq(e,(r.s=-r.s,r))};Lt.modulo=Lt.mod=function(r){var e,t=this,n=t.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(ul+"NaN");return t.s?($n=!1,e=Pu(t,r,0,1).times(r),$n=!0,t.minus(e)):yn(new n(t),i)};Lt.naturalExponential=Lt.exp=function(){return aq(this)};Lt.naturalLogarithm=Lt.ln=function(){return Lv(this)};Lt.negated=Lt.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};Lt.plus=Lt.add=function(r){var e=this;return r=new e.constructor(r),e.s==r.s?sq(e,r):oq(e,(r.s=-r.s,r))};Lt.precision=Lt.sd=function(r){var e,t,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Qf+r);if(e=Ui(i)+1,n=i.d.length-1,t=n*On+1,n=i.d[n],n){for(;n%10==0;n/=10)t--;for(n=i.d[0];n>=10;n/=10)t++}return r&&e>t?e:t};Lt.squareRoot=Lt.sqrt=function(){var r,e,t,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ul+"NaN")}for(r=Ui(o),$n=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ec(o.d),(e.length+r)%2==0&&(e+="0"),i=Math.sqrt(e),r=Qm((r+1)/2)-(r<0||r%2),i==1/0?e="5e"+r:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new l(e)):n=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=n,n=s.plus(Pu(o,s,a+2)).times(.5),Ec(s.d).slice(0,a)===(e=Ec(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(yn(s,t+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return $n=!0,yn(n,t)};Lt.times=Lt.mul=function(r){var e,t,n,i,s,a,o,l,c,u=this,d=u.constructor,h=u.d,f=(r=new d(r)).d;if(!u.s||!r.s)return new d(0);for(r.s*=u.s,t=u.e+r.e,l=h.length,c=f.length,l<c&&(s=h,h=f,f=s,a=l,l=c,c=a),s=[],a=l+c,n=a;n--;)s.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+f[n]*h[i-n-1]+e,s[i--]=o%ds|0,e=o/ds|0;s[i]=(s[i]+e)%ds|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),r.d=s,r.e=t,$n?yn(r,d.precision):r};Lt.toDecimalPlaces=Lt.todp=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Lc(r,0,Hm),e===void 0?e=n.rounding:Lc(e,0,8),yn(t,r+Ui(t)+1,e))};Lt.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=aA(n,!0):(Lc(r,0,Hm),e===void 0?e=i.rounding:Lc(e,0,8),n=yn(new i(n),r+1,e),t=aA(n,!0,r+1)),t};Lt.toFixed=function(r,e){var t,n,i=this,s=i.constructor;return r===void 0?aA(i):(Lc(r,0,Hm),e===void 0?e=s.rounding:Lc(e,0,8),n=yn(new s(i),r+Ui(i)+1,e),t=aA(n.abs(),!1,r+Ui(n)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Lt.toInteger=Lt.toint=function(){var r=this,e=r.constructor;return yn(new e(r),Ui(r)+1,e.rounding)};Lt.toNumber=function(){return+this};Lt.toPower=Lt.pow=function(r){var e,t,n,i,s,a,o=this,l=o.constructor,c=12,u=+(r=new l(r));if(!r.s)return new l(mo);if(o=new l(o),!o.s){if(r.s<1)throw Error(ul+"Infinity");return o}if(o.eq(mo))return o;if(n=l.precision,r.eq(mo))return yn(o,n);if(e=r.e,t=r.d.length-1,a=e>=t,s=o.s,a){if((t=u<0?-u:u)<=iq){for(i=new l(mo),e=Math.ceil(n/On+4),$n=!1;t%2&&(i=i.times(o),IR(i.d,e)),t=Qm(t/2),t!==0;)o=o.times(o),IR(o.d,e);return $n=!0,r.s<0?new l(mo).div(i):yn(i,n)}}else if(s<0)throw Error(ul+"NaN");return s=s<0&&r.d[Math.max(e,t)]&1?-1:1,o.s=1,$n=!1,i=r.times(Lv(o,n+c)),$n=!0,i=aq(i),i.s=s,i};Lt.toPrecision=function(r,e){var t,n,i=this,s=i.constructor;return r===void 0?(t=Ui(i),n=aA(i,t<=s.toExpNeg||t>=s.toExpPos)):(Lc(r,1,Hm),e===void 0?e=s.rounding:Lc(e,0,8),i=yn(new s(i),r,e),t=Ui(i),n=aA(i,r<=t||t<=s.toExpNeg,r)),n};Lt.toSignificantDigits=Lt.tosd=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Lc(r,1,Hm),e===void 0?e=n.rounding:Lc(e,0,8)),yn(new n(t),r,e)};Lt.toString=Lt.valueOf=Lt.val=Lt.toJSON=Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,e=Ui(r),t=r.constructor;return aA(r,e<=t.toExpNeg||e>=t.toExpPos)};function sq(r,e){var t,n,i,s,a,o,l,c,u=r.constructor,d=u.precision;if(!r.s||!e.s)return e.s||(e=new u(r)),$n?yn(e,d):e;if(l=r.d,c=e.d,a=r.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,i=a,o=l.length),a=Math.ceil(d/On),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),t=0;s;)t=(l[--s]=l[s]+c[s]+t)/ds|0,l[s]%=ds;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,$n?yn(e,d):e}function Lc(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Qf+r)}function Ec(r){var e,t,n,i=r.length-1,s="",a=r[0];if(i>0){for(s+=a,e=1;e<i;e++)n=r[e]+"",t=On-n.length,t&&(s+=Vd(t)),s+=n;a=r[e],n=a+"",t=On-n.length,t&&(s+=Vd(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Pu=function(){function r(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%ds|0,a=s/ds|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function t(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*ds+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,c,u,d,h,f,p,g,m,v,y,b,w,_,B,R,j,k=n.constructor,L=n.s==i.s?1:-1,H=n.d,I=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(ul+"Division by zero");for(l=n.e-i.e,R=I.length,_=H.length,f=new k(L),p=f.d=[],c=0;I[c]==(H[c]||0);)++c;if(I[c]>(H[c]||0)&&--l,s==null?y=s=k.precision:a?y=s+(Ui(n)-Ui(i))+1:y=s,y<0)return new k(0);if(y=y/On+2|0,c=0,R==1)for(u=0,I=I[0],y++;(c<_||u)&&y--;c++)b=u*ds+(H[c]||0),p[c]=b/I|0,u=b%I|0;else{for(u=ds/(I[0]+1)|0,u>1&&(I=r(I,u),H=r(H,u),R=I.length,_=H.length),w=R,g=H.slice(0,R),m=g.length;m<R;)g[m++]=0;j=I.slice(),j.unshift(0),B=I[0],I[1]>=ds/2&&++B;do u=0,o=e(I,g,R,m),o<0?(v=g[0],R!=m&&(v=v*ds+(g[1]||0)),u=v/B|0,u>1?(u>=ds&&(u=ds-1),d=r(I,u),h=d.length,m=g.length,o=e(d,g,h,m),o==1&&(u--,t(d,R<h?j:I,h))):(u==0&&(o=u=1),d=I.slice()),h=d.length,h<m&&d.unshift(0),t(g,d,m),o==-1&&(m=g.length,o=e(I,g,R,m),o<1&&(u++,t(g,R<m?j:I,m))),m=g.length):o===0&&(u++,g=[0]),p[c++]=u,o&&g[0]?g[m++]=H[w]||0:(g=[H[w]],m=1);while((w++<_||g[0]!==void 0)&&y--)}return p[0]||p.shift(),f.e=l,yn(f,a?s+Ui(f)+1:s)}}();function aq(r,e){var t,n,i,s,a,o,l=0,c=0,u=r.constructor,d=u.precision;if(Ui(r)>16)throw Error(gj+Ui(r));if(!r.s)return new u(mo);for($n=!1,o=d,a=new u(.03125);r.abs().gte(.1);)r=r.times(a),c+=5;for(n=Math.log(wf(2,c))/Math.LN10*2+5|0,o+=n,t=i=s=new u(mo),u.precision=o;;){if(i=yn(i.times(r),o),t=t.times(++l),a=s.plus(Pu(i,t,o)),Ec(a.d).slice(0,o)===Ec(s.d).slice(0,o)){for(;c--;)s=yn(s.times(s),o);return u.precision=d,e==null?($n=!0,yn(s,d)):s}s=a}}function Ui(r){for(var e=r.e*On,t=r.d[0];t>=10;t/=10)e++;return e}function rS(r,e,t){if(e>r.LN10.sd())throw $n=!0,t&&(r.precision=t),Error(ul+"LN10 precision limit exceeded");return yn(new r(r.LN10),e)}function Vd(r){for(var e="";r--;)e+="0";return e}function Lv(r,e){var t,n,i,s,a,o,l,c,u,d=1,h=10,f=r,p=f.d,g=f.constructor,m=g.precision;if(f.s<1)throw Error(ul+(f.s?"NaN":"-Infinity"));if(f.eq(mo))return new g(0);if(e==null?($n=!1,c=m):c=e,f.eq(10))return e==null&&($n=!0),rS(g,c);if(c+=h,g.precision=c,t=Ec(p),n=t.charAt(0),s=Ui(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)f=f.times(r),t=Ec(f.d),n=t.charAt(0),d++;s=Ui(f),n>1?(f=new g("0."+t),s++):f=new g(n+"."+t.slice(1))}else return l=rS(g,c+2,m).times(s+""),f=Lv(new g(n+"."+t.slice(1)),c-h).plus(l),g.precision=m,e==null?($n=!0,yn(f,m)):f;for(o=a=f=Pu(f.minus(mo),f.plus(mo),c),u=yn(f.times(f),c),i=3;;){if(a=yn(a.times(u),c),l=o.plus(Pu(a,new g(i),c)),Ec(l.d).slice(0,c)===Ec(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(rS(g,c+2,m).times(s+""))),o=Pu(o,new g(d),c),g.precision=m,e==null?($n=!0,yn(o,m)):o;o=l,i+=2}}function FR(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,t=t-n-1,r.e=Qm(t/On),r.d=[],n=(t+1)%On,t<0&&(n+=On),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=On;n<i;)r.d.push(+e.slice(n,n+=On));e=e.slice(n),n=On-e.length}else n-=i;for(;n--;)e+="0";if(r.d.push(+e),$n&&(r.e>j2||r.e<-j2))throw Error(gj+t)}else r.s=0,r.e=0,r.d=[0];return r}function yn(r,e,t){var n,i,s,a,o,l,c,u,d=r.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=On,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/On),s=d.length,u>=s)return r;for(c=s=d[u],a=1;s>=10;s/=10)a++;n%=On,i=n-On+a}if(t!==void 0&&(s=wf(10,a-i-1),o=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=t<4?(o||l)&&(t==0||t==(r.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(n>0?i>0?c/wf(10,a-i):0:d[u-1])%10&1||t==(r.s<0?8:7))),e<1||!d[0])return l?(s=Ui(r),d.length=1,e=e-s-1,d[0]=wf(10,(On-e%On)%On),r.e=Qm(-e/On)||0):(d.length=1,d[0]=r.e=r.s=0),r;if(n==0?(d.length=u,s=1,u--):(d.length=u+1,s=wf(10,On-n),d[u]=i>0?(c/wf(10,a-i)%wf(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==ds&&(d[0]=1,++r.e);break}else{if(d[u]+=s,d[u]!=ds)break;d[u--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if($n&&(r.e>j2||r.e<-j2))throw Error(gj+Ui(r));return r}function oq(r,e){var t,n,i,s,a,o,l,c,u,d,h=r.constructor,f=h.precision;if(!r.s||!e.s)return e.s?e.s=-e.s:e=new h(r),$n?yn(e,f):e;if(l=r.d,d=e.d,n=e.e,c=r.e,l=l.slice(),a=c-n,a){for(u=a<0,u?(t=l,a=-a,o=d.length):(t=d,n=c,o=l.length),i=Math.max(Math.ceil(f/On),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(t=l,l=d,d=t,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=ds-1;--l[s],l[i]+=ds}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,$n?yn(e,f):e):new h(0)}function aA(r,e,t){var n,i=Ui(r),s=Ec(r.d),a=s.length;return e?(t&&(n=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+Vd(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Vd(-i-1)+s,t&&(n=t-a)>0&&(s+=Vd(n))):i>=a?(s+=Vd(i+1-a),t&&(n=t-i-1)>0&&(s=s+"."+Vd(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),t&&(n=t-a)>0&&(i+1===a&&(s+="."),s+=Vd(n))),r.s<0?"-"+s:s}function IR(r,e){if(r.length>e)return r.length=e,!0}function lq(r){var e,t,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Qf+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return FR(a,s.toString())}else if(typeof s!="string")throw Error(Qf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Mye.test(s))FR(a,s);else throw Error(Qf+s)}if(i.prototype=Lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lq,i.config=i.set=Oye,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function Oye(r){if(!r||typeof r!="object")throw Error(ul+"Object expected");var e,t,n,i=["precision",1,Hm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=r[t=i[e]])!==void 0)if(Qm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[t]=n;else throw Error(Qf+t+": "+n);if((n=r[t="LN10"])!==void 0)if(n==Math.LN10)this[t]=new this(n);else throw Error(Qf+t+": "+n);return this}var vj=lq(Iye);mo=new vj(1);const hn=vj;var Pye=r=>r,cq={},uq=r=>r===cq,MR=r=>function e(){return arguments.length===0||arguments.length===1&&uq(arguments.length<=0?void 0:arguments[0])?e:r(...arguments)},dq=(r,e)=>r===1?e:MR(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=n.filter(a=>a!==cq).length;return s>=r?e(...n):dq(r-s,MR(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=n.map(u=>uq(u)?o.shift():u);return e(...c,...o)}))}),Rye=r=>dq(r.length,r),tB=(r,e)=>{for(var t=[],n=r;n<e;++n)t[n-r]=n;return t},Lye=Rye((r,e)=>Array.isArray(e)?e.map(r):Object.keys(e).map(t=>e[t]).map(r)),Dye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Pye;var i=t.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}};function hq(r){var e;return r===0?e=1:e=Math.floor(new hn(r).abs().log(10).toNumber())+1,e}function fq(r,e,t){for(var n=new hn(r),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(t),i++;return s}var Aq=r=>{var[e,t]=r,[n,i]=[e,t];return e>t&&([n,i]=[t,e]),[n,i]},pq=(r,e,t)=>{if(r.lte(0))return new hn(0);var n=hq(r.toNumber()),i=new hn(10).pow(n),s=r.div(i),a=n!==1?.05:.1,o=new hn(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?new hn(l.toNumber()):new hn(Math.ceil(l.toNumber()))},Uye=(r,e,t)=>{var n=new hn(1),i=new hn(r);if(!i.isint()&&t){var s=Math.abs(r);s<1?(n=new hn(10).pow(hq(r)-1),i=new hn(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new hn(Math.floor(r)))}else r===0?i=new hn(Math.floor((e-1)/2)):t||(i=new hn(Math.floor(r)));var a=Math.floor((e-1)/2),o=Dye(Lye(l=>i.add(new hn(l-a).mul(n)).toNumber()),tB);return o(0,e)},mq=function(e,t,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new hn(0),tickMin:new hn(0),tickMax:new hn(0)};var a=pq(new hn(t).sub(e).div(n-1),i,s),o;e<=0&&t>=0?o=new hn(0):(o=new hn(e).add(t).div(2),o=o.sub(new hn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new hn(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?mq(e,t,n,i,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new hn(l).mul(a)),tickMax:o.add(new hn(c).mul(a))})},Hye=function(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=Aq([t,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...tB(0,i-1).map(()=>1/0)]:[...tB(0,i-1).map(()=>-1/0),l];return t>n?c.reverse():c}if(o===l)return Uye(o,i,s);var{step:u,tickMin:d,tickMax:h}=mq(o,l,a,s,0),f=fq(d,h.add(new hn(.1).mul(u)),u);return t>n?f.reverse():f},Qye=function(e,t){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=Aq([n,i]);if(a===-1/0||o===1/0)return[n,i];if(a===o)return[a];var l=Math.max(t,2),c=pq(new hn(o).sub(a).div(l-1),s,0),u=[...fq(new hn(a),new hn(o),c),o];return s===!1&&(u=u.map(d=>Math.round(d))),n>i?u.reverse():u},gq=r=>r.rootProps.maxBarSize,$ye=r=>r.rootProps.barGap,vq=r=>r.rootProps.barCategoryGap,zye=r=>r.rootProps.barSize,By=r=>r.rootProps.stackOffset,yq=r=>r.rootProps.reverseStackOrder,yj=r=>r.options.chartName,bj=r=>r.rootProps.syncId,bq=r=>r.rootProps.syncMethod,xj=r=>r.options.eventEmitter,Vye=r=>r.rootProps.baseValue,Ni={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_u={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ao={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},yC=(r,e)=>{if(!(!r||!e))return r!=null&&r.reversed?[e[1],e[0]]:e},Gye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_u.angleAxisId,includeHidden:!1,name:void 0,reversed:_u.reversed,scale:_u.scale,tick:_u.tick,tickCount:void 0,ticks:void 0,type:_u.type,unit:void 0},Kye={allowDataOverflow:Ao.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ao.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ao.scale,tick:Ao.tick,tickCount:Ao.tickCount,ticks:void 0,type:Ao.type,unit:void 0},Wye={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_u.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_u.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_u.scale,tick:_u.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},qye={allowDataOverflow:Ao.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ao.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ao.scale,tick:Ao.tick,tickCount:Ao.tickCount,ticks:void 0,type:"category",unit:void 0},wj=(r,e)=>r.polarAxis.angleAxis[e]!=null?r.polarAxis.angleAxis[e]:r.layout.layoutType==="radial"?Wye:Gye,Cj=(r,e)=>r.polarAxis.radiusAxis[e]!=null?r.polarAxis.radiusAxis[e]:r.layout.layoutType==="radial"?qye:Kye,bC=r=>r.polarOptions,Sj=Oe([cd,ud,Zi],AW),xq=Oe([bC,Sj],(r,e)=>{if(r!=null)return aa(r.innerRadius,e,0)}),wq=Oe([bC,Sj],(r,e)=>{if(r!=null)return aa(r.outerRadius,e,e*.8)}),Xye=r=>{if(r==null)return[0,0];var{startAngle:e,endAngle:t}=r;return[e,t]},Cq=Oe([bC],Xye);Oe([wj,Cq],yC);var Sq=Oe([Sj,xq,wq],(r,e,t)=>{if(!(r==null||e==null||t==null))return[e,t]});Oe([Cj,Sq],yC);var Eq=Oe([Dr,bC,xq,wq,cd,ud],(r,e,t,n,i,s)=>{if(!(r!=="centric"&&r!=="radial"||e==null||t==null||n==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=e;return{cx:aa(a,i,i/2),cy:aa(o,s,s/2),innerRadius:t,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Vn=(r,e)=>e,ky=(r,e,t)=>t;function xC(r){return r?.id}function _q(r,e,t){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,a=new Map;return r.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=xC(o);c.forEach((d,h)=>{var f=s==null||i?h:String(ln(d,s,null)),p=ln(d,o.dataKey,0),g;a.has(f)?g=a.get(f):g={},Object.assign(g,{[u]:p}),a.set(f,g)})}}),Array.from(a.values())}function wC(r){return"stackId"in r&&r.stackId!=null&&r.dataKey!=null}var CC=(r,e)=>r===e?!0:r==null||e==null?!1:r[0]===e[0]&&r[1]===e[1];function SC(r,e){return Array.isArray(r)&&Array.isArray(e)&&r.length===0&&e.length===0?!0:r===e}function Yye(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}return!1}var ts=r=>{var e=Dr(r);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$m=r=>r.tooltip.settings.axisId;function OR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function F2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(t),!0).forEach(function(n){Jye(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Jye(r,e,t){return(e=Zye(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zye(r){var e=e1e(r,"string");return typeof e=="symbol"?e:e+""}function e1e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var rB=[0,"auto"],os={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Nq=(r,e)=>r.cartesianAxis.xAxis[e],fd=(r,e)=>{var t=Nq(r,e);return t??os},ls={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xy},Bq=(r,e)=>r.cartesianAxis.yAxis[e],Ad=(r,e)=>{var t=Bq(r,e);return t??ls},t1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ej=(r,e)=>{var t=r.cartesianAxis.zAxis[e];return t??t1e},ri=(r,e,t)=>{switch(e){case"xAxis":return fd(r,t);case"yAxis":return Ad(r,t);case"zAxis":return Ej(r,t);case"angleAxis":return wj(r,t);case"radiusAxis":return Cj(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},r1e=(r,e,t)=>{switch(e){case"xAxis":return fd(r,t);case"yAxis":return Ad(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},Ty=(r,e,t)=>{switch(e){case"xAxis":return fd(r,t);case"yAxis":return Ad(r,t);case"angleAxis":return wj(r,t);case"radiusAxis":return Cj(r,t);default:throw new Error("Unexpected axis type: ".concat(e))}},kq=r=>r.graphicalItems.cartesianItems.some(e=>e.type==="bar")||r.graphicalItems.polarItems.some(e=>e.type==="radialBar");function _j(r,e){return t=>{switch(r){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var jy=r=>r.graphicalItems.cartesianItems,n1e=Oe([Vn,ky],_j),Nj=(r,e,t)=>r.filter(t).filter(n=>e?.includeHidden===!0?!0:!n.hide),Fy=Oe([jy,ri,n1e],Nj,{memoizeOptions:{resultEqualityCheck:SC}}),Tq=Oe([Fy],r=>r.filter(e=>e.type==="area"||e.type==="bar").filter(wC)),jq=r=>r.filter(e=>!("stackId"in e)||e.stackId===void 0),i1e=Oe([Fy],jq),Bj=r=>r.map(e=>e.data).filter(Boolean).flat(1),s1e=Oe([Fy],Bj,{memoizeOptions:{resultEqualityCheck:SC}}),kj=(r,e)=>{var{chartData:t=[],dataStartIndex:n,dataEndIndex:i}=e;return r.length>0?r:t.slice(n,i+1)},Tj=Oe([s1e,mj],kj),jj=(r,e,t)=>e?.dataKey!=null?r.map(n=>({value:ln(n,e.dataKey)})):t.length>0?t.map(n=>n.dataKey).flatMap(n=>r.map(i=>({value:ln(i,n)}))):r.map(n=>({value:n})),EC=Oe([Tj,ri,Fy],jj);function Fq(r,e){switch(r){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Zx(r){if(Pc(r)||r instanceof Date){var e=Number(r);if(xn(e))return e}}function PR(r){if(Array.isArray(r)){var e=[Zx(r[0]),Zx(r[1])];return Bh(e)?e:void 0}var t=Zx(r);if(t!=null)return[t,t]}function td(r){return r.map(Zx).filter(mfe)}function a1e(r,e,t){return!t||typeof e!="number"||ll(e)?[]:t.length?td(t.flatMap(n=>{var i=ln(r,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!xn(s)||!xn(a)))return[e-s,e+a]})):[]}var rs=r=>{var e=ts(r),t=$m(r);return Ty(r,e,t)},Iy=Oe([rs],r=>r?.dataKey),o1e=Oe([Tq,mj,rs],_q),Iq=(r,e,t,n)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,c=n?[...l].reverse():l,u=c.map(xC);return[o,{stackedData:Ipe(r,u,t),graphicalItems:c}]}))},I2=Oe([o1e,Tq,By,yq],Iq),Mq=(r,e,t,n)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(n==null&&t!=="zAxis"){var a=Rpe(r,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},l1e=Oe([ri],r=>r.allowDataOverflow),Fj=r=>{var e;if(r==null||!("domain"in r))return rB;if(r.domain!=null)return r.domain;if("ticks"in r&&r.ticks!=null){if(r.type==="number"){var t=td(r.ticks);return[Math.min(...t),Math.max(...t)]}if(r.type==="category")return r.ticks.map(String)}return(e=r?.domain)!==null&&e!==void 0?e:rB},Ij=Oe([ri],Fj),Mj=Oe([Ij,l1e],nq),c1e=Oe([I2,hd,Vn,Mj],Mq,{memoizeOptions:{resultEqualityCheck:CC}}),_C=r=>r.errorBars,u1e=(r,e,t)=>r.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>Fq(t,n)),M2=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},Oj=(r,e,t,n,i)=>{var s,a;if(t.length>0&&r.forEach(o=>{t.forEach(l=>{var c,u,d=(c=n[l.id])===null||c===void 0?void 0:c.filter(v=>Fq(i,v)),h=ln(o,(u=e.dataKey)!==null&&u!==void 0?u:l.dataKey),f=a1e(o,h,d);if(f.length>=2){var p=Math.min(...f),g=Math.max(...f);(s==null||p<s)&&(s=p),(a==null||g>a)&&(a=g)}var m=PR(h);m!=null&&(s=s==null?m[0]:Math.min(s,m[0]),a=a==null?m[1]:Math.max(a,m[1]))})}),e?.dataKey!=null&&r.forEach(o=>{var l=PR(ln(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),xn(s)&&xn(a))return[s,a]},d1e=Oe([Tj,ri,i1e,_C,Vn],Oj,{memoizeOptions:{resultEqualityCheck:CC}});function h1e(r){var{value:e}=r;if(Pc(e)||e instanceof Date)return e}var f1e=(r,e,t)=>{var n=r.map(h1e).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&BG(n))?xW(0,r.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},Oq=r=>r.referenceElements.dots,zm=(r,e,t)=>r.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===t:n.yAxisId===t),A1e=Oe([Oq,Vn,ky],zm),Pq=r=>r.referenceElements.areas,p1e=Oe([Pq,Vn,ky],zm),Rq=r=>r.referenceElements.lines,m1e=Oe([Rq,Vn,ky],zm),Lq=(r,e)=>{if(r!=null){var t=td(r.map(n=>e==="xAxis"?n.x:n.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},g1e=Oe(A1e,Vn,Lq),Dq=(r,e)=>{if(r!=null){var t=td(r.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},v1e=Oe([p1e,Vn],Dq);function y1e(r){var e;if(r.x!=null)return td([r.x]);var t=(e=r.segment)===null||e===void 0?void 0:e.map(n=>n.x);return t==null||t.length===0?[]:td(t)}function b1e(r){var e;if(r.y!=null)return td([r.y]);var t=(e=r.segment)===null||e===void 0?void 0:e.map(n=>n.y);return t==null||t.length===0?[]:td(t)}var Uq=(r,e)=>{if(r!=null){var t=r.flatMap(n=>e==="xAxis"?y1e(n):b1e(n));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},x1e=Oe([m1e,Vn],Uq),w1e=Oe(g1e,x1e,v1e,(r,e,t)=>M2(r,t,e)),Pj=(r,e,t,n,i,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?M2(n,s,i):M2(s,i);return Fye(e,c,r.allowDataOverflow)},C1e=Oe([ri,Ij,Mj,c1e,d1e,w1e,Dr,Vn],Pj,{memoizeOptions:{resultEqualityCheck:CC}}),S1e=[0,1],Rj=(r,e,t,n,i,s,a)=>{if(!((r==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=r,c=$c(e,s);if(c&&o==null){var u;return xW(0,(u=t?.length)!==null&&u!==void 0?u:0)}return l==="category"?f1e(n,r,c):i==="expand"?S1e:a}},Lj=Oe([ri,Dr,Tj,EC,By,Vn,C1e],Rj),Hq=(r,e,t,n,i)=>{if(r!=null){var{scale:s,type:a}=r;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(py(s));return o in bg?o:"point"}}},Vm=Oe([ri,Dr,kq,yj,Vn],Hq);function E1e(r){if(r!=null){if(r in bg)return bg[r]();var e="scale".concat(py(r));if(e in bg)return bg[e]()}}function Dj(r,e,t,n){if(!(t==null||n==null)){if(typeof r.scale=="function")return r.scale.copy().domain(t).range(n);var i=E1e(e);if(i!=null){var s=i.domain(t).range(n);return Bpe(s),s}}}var Uj=(r,e,t)=>{var n=Fj(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Bh(r))return Hye(r,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Bh(r))return Qye(r,e.tickCount,e.allowDecimals)}},Hj=Oe([Lj,Ty,Vm],Uj),Qj=(r,e,t,n)=>{if(n!=="angleAxis"&&r?.type==="number"&&Bh(e)&&Array.isArray(t)&&t.length>0){var i=e[0],s=t[0],a=e[1],o=t[t.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},_1e=Oe([ri,Lj,Hj,Vn],Qj),N1e=Oe(EC,ri,(r,e)=>{if(!(!e||e.type!=="number")){var t=1/0,n=Array.from(td(r.map(d=>d.value))).sort((d,h)=>d-h),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],c=n[o+1];if(!(l==null||c==null)){var u=c-l;t=Math.min(t,u)}}return t/a}}),Qq=Oe(N1e,Dr,vq,Zi,(r,e,t,n,i)=>i,(r,e,t,n,i)=>{if(!xn(r))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return r*s/2;if(i==="no-gap"){var a=aa(t,r*s),o=r*s/2;return o-a-(o-a)/s*a}return 0}),B1e=(r,e,t)=>{var n=fd(r,e);return n==null||typeof n.padding!="string"?0:Qq(r,"xAxis",e,t,n.padding)},k1e=(r,e,t)=>{var n=Ad(r,e);return n==null||typeof n.padding!="string"?0:Qq(r,"yAxis",e,t,n.padding)},T1e=Oe(fd,B1e,(r,e)=>{var t,n;if(r==null)return{left:0,right:0};var{padding:i}=r;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),j1e=Oe(Ad,k1e,(r,e)=>{var t,n;if(r==null)return{top:0,bottom:0};var{padding:i}=r;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),F1e=Oe([Zi,T1e,aC,sC,(r,e,t)=>t],(r,e,t,n,i)=>{var{padding:s}=n;return i?[s.left,t.width-s.right]:[r.left+e.left,r.left+r.width-e.right]}),I1e=Oe([Zi,Dr,j1e,aC,sC,(r,e,t)=>t],(r,e,t,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[r.top+r.height-t.bottom,r.top+t.top]:[r.top+t.top,r.top+r.height-t.bottom]}),My=(r,e,t,n)=>{var i;switch(e){case"xAxis":return F1e(r,t,n);case"yAxis":return I1e(r,t,n);case"zAxis":return(i=Ej(r,t))===null||i===void 0?void 0:i.range;case"angleAxis":return Cq(r);case"radiusAxis":return Sq(r,t);default:return}},$q=Oe([ri,My],yC),NC=Oe([ri,Vm,_1e,$q],Dj);Oe([Fy,_C,Vn],u1e);function zq(r,e){return r.id<e.id?-1:r.id>e.id?1:0}var BC=(r,e)=>e,kC=(r,e,t)=>t,M1e=Oe(nC,BC,kC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(zq)),O1e=Oe(iC,BC,kC,(r,e,t)=>r.filter(n=>n.orientation===e).filter(n=>n.mirror===t).sort(zq)),Vq=(r,e)=>({width:r.width,height:e.height}),P1e=(r,e)=>{var t=typeof e.width=="number"?e.width:xy;return{width:t,height:r.height}},Gq=Oe(Zi,fd,Vq),R1e=(r,e,t)=>{switch(e){case"top":return r.top;case"bottom":return t-r.bottom;default:return 0}},L1e=(r,e,t)=>{switch(e){case"left":return r.left;case"right":return t-r.right;default:return 0}},D1e=Oe(ud,Zi,M1e,BC,kC,(r,e,t,n,i)=>{var s={},a;return t.forEach(o=>{var l=Vq(e,o);a==null&&(a=R1e(e,n,r));var c=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),U1e=Oe(cd,Zi,O1e,BC,kC,(r,e,t,n,i)=>{var s={},a;return t.forEach(o=>{var l=P1e(e,o);a==null&&(a=L1e(e,n,r));var c=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),H1e=(r,e)=>{var t=fd(r,e);if(t!=null)return D1e(r,t.orientation,t.mirror)},Q1e=Oe([Zi,fd,H1e,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var i=t?.[n];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}}),$1e=(r,e)=>{var t=Ad(r,e);if(t!=null)return U1e(r,t.orientation,t.mirror)},z1e=Oe([Zi,Ad,$1e,(r,e)=>e],(r,e,t,n)=>{if(e!=null){var i=t?.[n];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}}),Kq=Oe(Zi,Ad,(r,e)=>{var t=typeof e.width=="number"?e.width:xy;return{width:t,height:r.height}}),RR=(r,e,t)=>{switch(e){case"xAxis":return Gq(r,t).width;case"yAxis":return Kq(r,t).height;default:return}},Wq=(r,e,t,n)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=t,o=$c(r,n),l=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&BG(l))return l}},$j=Oe([Dr,EC,ri,Vn],Wq),qq=(r,e,t,n)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,a=$c(r,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},zj=Oe([Dr,EC,Ty,Vn],qq),LR=Oe([Dr,r1e,Vm,NC,$j,zj,My,Hj,Vn],(r,e,t,n,i,s,a,o,l)=>{if(e!=null){var c=$c(r,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:t,scale:n}}}),V1e=(r,e,t,n,i,s,a,o,l)=>{if(!(e==null||n==null)){var c=$c(r,l),{type:u,ticks:d,tickCount:h}=e,f=t==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/f:0;p=l==="angleAxis"&&s!=null&&s.length>=2?ms(s[0]-s[1])*2*p:p;var g=d||i;if(g){var m=g.map((v,y)=>{var b=a?a.indexOf(v):v;return{index:y,coordinate:n(b)+p,value:v,offset:p}});return m.filter(v=>xn(v.coordinate))}return c&&o?o.map((v,y)=>({coordinate:n(v)+p,value:v,index:y,offset:p})).filter(v=>xn(v.coordinate)):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,y)=>({coordinate:n(v)+p,value:a?a[v]:v,index:y,offset:p}))}},Xq=Oe([Dr,Ty,Vm,NC,Hj,My,$j,zj,Vn],V1e),G1e=(r,e,t,n,i,s,a)=>{if(!(e==null||t==null||n==null||n[0]===n[1])){var o=$c(r,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&n?.length>=2?ms(n[0]-n[1])*2*c:c,o&&s?s.map((u,d)=>({coordinate:t(u)+c,value:u,index:d,offset:c})):t.ticks?t.ticks(l).map(u=>({coordinate:t(u)+c,value:u,offset:c})):t.domain().map((u,d)=>({coordinate:t(u)+c,value:i?i[u]:u,index:d,offset:c}))}},Dc=Oe([Dr,Ty,NC,My,$j,zj,Vn],G1e),Uc=Oe(ri,NC,(r,e)=>{if(!(r==null||e==null))return F2(F2({},r),{},{scale:e})}),K1e=Oe([ri,Vm,Lj,$q],Dj);Oe((r,e,t)=>Ej(r,t),K1e,(r,e)=>{if(!(r==null||e==null))return F2(F2({},r),{},{scale:e})});var W1e=Oe([Dr,nC,iC],(r,e,t)=>{switch(r){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Yq=r=>r.options.defaultTooltipEventType,Jq=r=>r.options.validateTooltipEventTypes;function Zq(r,e,t){if(r==null)return e;var n=r?"axis":"item";return t==null?e:t.includes(n)?n:e}function Vj(r,e){var t=Yq(r),n=Jq(r);return Zq(e,t,n)}function q1e(r){return Qt(e=>Vj(e,r))}var eX=(r,e)=>{var t,n=Number(e);if(!(ll(n)||e==null))return n>=0?r==null||(t=r[n])===null||t===void 0?void 0:t.value:void 0},X1e=r=>r.tooltip.settings,Yd={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Y1e={itemInteraction:{click:Yd,hover:Yd},axisInteraction:{click:Yd,hover:Yd},keyboardInteraction:Yd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tX=Xa({name:"tooltip",initialState:Y1e,reducers:{addTooltipEntrySettings:{reducer(r,e){r.tooltipItemPayloads.push(e.payload)},prepare:Hn()},replaceTooltipEntrySettings:{reducer(r,e){var{prev:t,next:n}=e.payload,i=Hl(r).tooltipItemPayloads.indexOf(t);i>-1&&(r.tooltipItemPayloads[i]=n)},prepare:Hn()},removeTooltipEntrySettings:{reducer(r,e){var t=Hl(r).tooltipItemPayloads.indexOf(e.payload);t>-1&&r.tooltipItemPayloads.splice(t,1)},prepare:Hn()},setTooltipSettingsState(r,e){r.settings=e.payload},setActiveMouseOverItemIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.itemInteraction.hover.active=!0,r.itemInteraction.hover.index=e.payload.activeIndex,r.itemInteraction.hover.dataKey=e.payload.activeDataKey,r.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,r.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(r){r.itemInteraction.hover.active=!1,r.axisInteraction.hover.active=!1},mouseLeaveItem(r){r.itemInteraction.hover.active=!1},setActiveClickItemIndex(r,e){r.syncInteraction.active=!1,r.itemInteraction.click.active=!0,r.keyboardInteraction.active=!1,r.itemInteraction.click.index=e.payload.activeIndex,r.itemInteraction.click.dataKey=e.payload.activeDataKey,r.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,r.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(r,e){r.syncInteraction.active=!1,r.axisInteraction.hover.active=!0,r.keyboardInteraction.active=!1,r.axisInteraction.hover.index=e.payload.activeIndex,r.axisInteraction.hover.dataKey=e.payload.activeDataKey,r.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(r,e){r.syncInteraction.active=!1,r.keyboardInteraction.active=!1,r.axisInteraction.click.active=!0,r.axisInteraction.click.index=e.payload.activeIndex,r.axisInteraction.click.dataKey=e.payload.activeDataKey,r.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(r,e){r.syncInteraction=e.payload},setKeyboardInteraction(r,e){r.keyboardInteraction.active=e.payload.active,r.keyboardInteraction.index=e.payload.activeIndex,r.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:J1e,replaceTooltipEntrySettings:Z1e,removeTooltipEntrySettings:ebe,setTooltipSettingsState:tbe,setActiveMouseOverItemIndex:rX,mouseLeaveItem:rbe,mouseLeaveChart:nX,setActiveClickItemIndex:nbe,setMouseOverAxisIndex:iX,setMouseClickAxisIndex:ibe,setSyncInteraction:nB,setKeyboardInteraction:iB}=tX.actions,sbe=tX.reducer;function DR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(t),!0).forEach(function(n){abe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):DR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function abe(r,e,t){return(e=obe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function obe(r){var e=lbe(r,"string");return typeof e=="symbol"?e:e+""}function lbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function cbe(r,e,t){return e==="axis"?t==="click"?r.axisInteraction.click:r.axisInteraction.hover:t==="click"?r.itemInteraction.click:r.itemInteraction.hover}function ube(r){return r.index!=null}var sX=(r,e,t,n)=>{if(e==null)return Yd;var i=cbe(r,e,t);if(i==null)return Yd;if(i.active)return i;if(r.keyboardInteraction.active)return r.keyboardInteraction;if(r.syncInteraction.active&&r.syncInteraction.index!=null)return r.syncInteraction;var s=r.settings.active===!0;if(ube(i)){if(s)return yb(yb({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return yb(yb({},Yd),{},{coordinate:i.coordinate})};function dbe(r){if(typeof r=="number")return Number.isFinite(r)?r:void 0;if(r instanceof Date){var e=r.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(r);return Number.isFinite(t)?t:void 0}function hbe(r,e){var t=dbe(r),n=e[0],i=e[1];if(t===void 0)return!1;var s=Math.min(n,i),a=Math.max(n,i);return t>=s&&t<=a}function fbe(r,e,t){if(t==null||e==null)return!0;var n=ln(r,e);return n==null||!Bh(t)?!0:hbe(n,t)}var Gj=(r,e,t,n)=>{var i=r?.index;if(i==null)return null;var s=Number(i);if(!xn(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),c=e[l];return c==null||fbe(c,t,n)?String(l):null},aX=(r,e,t,n,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=i?.[Number(s)];if(u)switch(t){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+r)/2,y:u.coordinate}}}},oX=(r,e,t,n)=>{if(e==="axis")return r.tooltipItemPayloads;if(r.tooltipItemPayloads.length===0)return[];var i;if(t==="hover"?i=r.itemInteraction.hover.graphicalItemId:i=r.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=r.tooltipItemPayloads[0];return s!=null?[s]:[]}return r.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Oy=r=>r.options.tooltipPayloadSearcher,Gm=r=>r.tooltip;function UR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function HR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(t),!0).forEach(function(n){Abe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):UR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Abe(r,e,t){return(e=pbe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pbe(r){var e=mbe(r,"string");return typeof e=="symbol"?e:e+""}function mbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gbe(r,e){return r??e}var lX=(r,e,t,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=t,d=[];return r.reduce((h,f)=>{var p,{dataDefinedOnItem:g,settings:m}=f,v=gbe(g,o),y=Array.isArray(v)?RK(v,c,u):v,b=(p=m?.dataKey)!==null&&p!==void 0?p:n,w=m?.nameKey,_;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&a==="axis"?_=kG(y,n,i):_=s(y,e,l,w),Array.isArray(_))_.forEach(R=>{var j=HR(HR({},m),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});h.push(JO({tooltipEntrySettings:j,dataKey:R.dataKey,payload:R.payload,value:ln(R.payload,R.dataKey),name:R.name}))});else{var B;h.push(JO({tooltipEntrySettings:m,dataKey:b,payload:_,value:ln(_,b),name:(B=ln(_,w))!==null&&B!==void 0?B:m?.name}))}return h},d)}},Kj=Oe([rs,Dr,kq,yj,ts],Hq),vbe=Oe([r=>r.graphicalItems.cartesianItems,r=>r.graphicalItems.polarItems],(r,e)=>[...r,...e]),ybe=Oe([ts,$m],_j),Km=Oe([vbe,rs,ybe],Nj,{memoizeOptions:{resultEqualityCheck:SC}}),bbe=Oe([Km],r=>r.filter(wC)),xbe=Oe([Km],Bj,{memoizeOptions:{resultEqualityCheck:SC}}),Wm=Oe([xbe,hd],kj),wbe=Oe([bbe,hd,rs],_q),Wj=Oe([Wm,rs,Km],jj),cX=Oe([rs],Fj),Cbe=Oe([rs],r=>r.allowDataOverflow),uX=Oe([cX,Cbe],nq),Sbe=Oe([Km],r=>r.filter(wC)),Ebe=Oe([wbe,Sbe,By,yq],Iq),_be=Oe([Ebe,hd,ts,uX],Mq),Nbe=Oe([Km],jq),Bbe=Oe([Wm,rs,Nbe,_C,ts],Oj,{memoizeOptions:{resultEqualityCheck:CC}}),kbe=Oe([Oq,ts,$m],zm),Tbe=Oe([kbe,ts],Lq),jbe=Oe([Pq,ts,$m],zm),Fbe=Oe([jbe,ts],Dq),Ibe=Oe([Rq,ts,$m],zm),Mbe=Oe([Ibe,ts],Uq),Obe=Oe([Tbe,Mbe,Fbe],M2),Pbe=Oe([rs,cX,uX,_be,Bbe,Obe,Dr,ts],Pj),Py=Oe([rs,Dr,Wm,Wj,By,ts,Pbe],Rj),Rbe=Oe([Py,rs,Kj],Uj),Lbe=Oe([rs,Py,Rbe,ts],Qj),dX=r=>{var e=ts(r),t=$m(r),n=!1;return My(r,e,t,n)},hX=Oe([rs,dX],yC),fX=Oe([rs,Kj,Lbe,hX],Dj),Dbe=Oe([Dr,Wj,rs,ts],Wq),Ube=Oe([Dr,Wj,rs,ts],qq),Hbe=(r,e,t,n,i,s,a,o)=>{if(e){var{type:l}=e,c=$c(r,o);if(n){var u=t==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=o==="angleAxis"&&i!=null&&i?.length>=2?ms(i[0]-i[1])*2*d:d,c&&a?a.map((h,f)=>({coordinate:n(h)+d,value:h,index:f,offset:d})):n.domain().map((h,f)=>({coordinate:n(h)+d,value:s?s[h]:h,index:f,offset:d}))}}},pd=Oe([Dr,rs,Kj,fX,dX,Dbe,Ube,ts],Hbe),qj=Oe([Yq,Jq,X1e],(r,e,t)=>Zq(t.shared,r,e)),AX=r=>r.tooltip.settings.trigger,Xj=r=>r.tooltip.settings.defaultIndex,Ry=Oe([Gm,qj,AX,Xj],sX),kh=Oe([Ry,Wm,Iy,Py],Gj),pX=Oe([pd,kh],eX),Yj=Oe([Ry],r=>{if(r)return r.dataKey}),Qbe=Oe([Ry],r=>{if(r)return r.graphicalItemId}),mX=Oe([Gm,qj,AX,Xj],oX),$be=Oe([cd,ud,Dr,Zi,pd,Xj,mX,Oy],aX),zbe=Oe([Ry,$be],(r,e)=>r!=null&&r.coordinate?r.coordinate:e),Vbe=Oe([Ry],r=>{var e;return(e=r?.active)!==null&&e!==void 0?e:!1}),Gbe=Oe([mX,kh,hd,Iy,pX,Oy,qj],lX),Kbe=Oe([Gbe],r=>{if(r!=null){var e=r.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function QR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $R(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(t),!0).forEach(function(n){Wbe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):QR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wbe(r,e,t){return(e=qbe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qbe(r){var e=Xbe(r,"string");return typeof e=="symbol"?e:e+""}function Xbe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ybe=()=>Qt(rs),Jbe=()=>{var r=Ybe(),e=Qt(pd),t=Qt(fX);return Nh(!r||!t?void 0:$R($R({},r),{},{scale:t}),e)};function zR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $A(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(t),!0).forEach(function(n){Zbe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zbe(r,e,t){return(e=exe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function exe(r){var e=txe(r,"string");return typeof e=="symbol"?e:e+""}function txe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var rxe=(r,e,t,n)=>{var i=e.find(s=>s&&s.index===t);if(i){if(r==="horizontal")return{x:i.coordinate,y:n.chartY};if(r==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},nxe=(r,e,t,n)=>{var i=e.find(c=>c&&c.index===t);if(i){if(r==="centric"){var s=i.coordinate,{radius:a}=n;return $A($A($A({},n),Di(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=n;return $A($A($A({},n),Di(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ixe(r,e){var{chartX:t,chartY:n}=r;return t>=e.left&&t<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var gX=(r,e,t,n,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||r==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,c,u,d,h,f=o>0?(l=t[o-1])===null||l===void 0?void 0:l.coordinate:(c=t[a-1])===null||c===void 0?void 0:c.coordinate,p=(u=t[o])===null||u===void 0?void 0:u.coordinate,g=o>=a-1?(d=t[0])===null||d===void 0?void 0:d.coordinate:(h=t[o+1])===null||h===void 0?void 0:h.coordinate,m=void 0;if(!(f==null||p==null||g==null))if(ms(p-f)!==ms(g-p)){var v=[];if(ms(g-p)===ms(i[1]-i[0])){m=g;var y=p+i[1]-i[0];v[0]=Math.min(y,(y+f)/2),v[1]=Math.max(y,(y+f)/2)}else{m=f;var b=g+i[1]-i[0];v[0]=Math.min(p,(b+p)/2),v[1]=Math.max(p,(b+p)/2)}var w=[Math.min(p,(m+p)/2),Math.max(p,(m+p)/2)];if(r>w[0]&&r<=w[1]||r>=v[0]&&r<=v[1]){var _;return(_=t[o])===null||_===void 0?void 0:_.index}}else{var B=Math.min(f,g),R=Math.max(f,g);if(r>(B+p)/2&&r<=(R+p)/2){var j;return(j=t[o])===null||j===void 0?void 0:j.index}}}else if(e)for(var k=0;k<a;k++){var L=e[k];if(L!=null){var H=e[k+1],I=e[k-1];if(k===0&&H!=null&&r<=(L.coordinate+H.coordinate)/2||k===a-1&&I!=null&&r>(L.coordinate+I.coordinate)/2||k>0&&k<a-1&&I!=null&&H!=null&&r>(L.coordinate+I.coordinate)/2&&r<=(L.coordinate+H.coordinate)/2)return L.index}}return-1},vX=()=>Qt(yj),Jj=(r,e)=>e,yX=(r,e,t)=>t,Zj=(r,e,t,n)=>n,sxe=Oe(pd,r=>W5(r,e=>e.coordinate)),e8=Oe([Gm,Jj,yX,Zj],sX),t8=Oe([e8,Wm,Iy,Py],Gj),axe=(r,e,t)=>{if(e!=null){var n=Gm(r);return e==="axis"?t==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:t==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},bX=Oe([Gm,Jj,yX,Zj],oX),O2=Oe([cd,ud,Dr,Zi,pd,Zj,bX,Oy],aX),oxe=Oe([e8,O2],(r,e)=>{var t;return(t=r.coordinate)!==null&&t!==void 0?t:e}),xX=Oe([pd,t8],eX),lxe=Oe([bX,t8,hd,Iy,xX,Oy,Jj],lX),cxe=Oe([e8,t8],(r,e)=>({isActive:r.active&&e!=null,activeIndex:e})),uxe=(r,e,t,n,i,s,a)=>{if(!(!r||!t||!n||!i)&&ixe(r,a)){var o=Lpe(r,e),l=gX(o,s,i,t,n),c=rxe(e,i,l,r);return{activeIndex:String(l),activeCoordinate:c}}},dxe=(r,e,t,n,i,s,a)=>{if(!(!r||!n||!i||!s||!t)){var o=J0e(r,t);if(o){var l=Dpe(o,e),c=gX(l,a,s,n,i),u=nxe(e,s,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},hxe=(r,e,t,n,i,s,a,o)=>{if(!(!r||!e||!n||!i||!s))return e==="horizontal"||e==="vertical"?uxe(r,e,n,i,s,a,o):dxe(r,e,t,n,i,s,a)},fxe=Oe(r=>r.zIndex.zIndexMap,(r,e)=>e,(r,e,t)=>t,(r,e,t)=>{if(e!=null){var n=r[e];if(n!=null)return t?n.panoramaElement:n.element}}),Axe=Oe(r=>r.zIndex.zIndexMap,r=>{var e=Object.keys(r).map(n=>parseInt(n,10)).concat(Object.values(Ni)),t=Array.from(new Set(e));return t.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:Yye}});function VR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function GR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(t),!0).forEach(function(n){pxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):VR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pxe(r,e,t){return(e=mxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mxe(r){var e=gxe(r,"string");return typeof e=="symbol"?e:e+""}function gxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var vxe={},yxe={zIndexMap:Object.values(Ni).reduce((r,e)=>GR(GR({},r),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),vxe)},bxe=new Set(Object.values(Ni));function xxe(r){return bxe.has(r)}var wX=Xa({name:"zIndex",initialState:yxe,reducers:{registerZIndexPortal:{reducer:(r,e)=>{var{zIndex:t}=e.payload;r.zIndexMap[t]?r.zIndexMap[t].consumers+=1:r.zIndexMap[t]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Hn()},unregisterZIndexPortal:{reducer:(r,e)=>{var{zIndex:t}=e.payload;r.zIndexMap[t]&&(r.zIndexMap[t].consumers-=1,r.zIndexMap[t].consumers<=0&&!xxe(t)&&delete r.zIndexMap[t])},prepare:Hn()},registerZIndexPortalElement:{reducer:(r,e)=>{var{zIndex:t,element:n,isPanorama:i}=e.payload;r.zIndexMap[t]?i?r.zIndexMap[t].panoramaElement=n:r.zIndexMap[t].element=n:r.zIndexMap[t]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Hn()},unregisterZIndexPortalElement:{reducer:(r,e)=>{var{zIndex:t}=e.payload;r.zIndexMap[t]&&(e.payload.isPanorama?r.zIndexMap[t].panoramaElement=void 0:r.zIndexMap[t].element=void 0)},prepare:Hn()}}}),{registerZIndexPortal:wxe,unregisterZIndexPortal:Cxe,registerZIndexPortalElement:Sxe,unregisterZIndexPortalElement:Exe}=wX.actions,_xe=wX.reducer;function Ta(r){var{zIndex:e,children:t}=r,n=fme(),i=n&&e!==void 0&&e!==0,s=ys(),a=Fn();K.useLayoutEffect(()=>i?(a(wxe({zIndex:e})),()=>{a(Cxe({zIndex:e}))}):my,[a,e,i]);var o=Qt(l=>fxe(l,e,s));return i?o?sy.createPortal(t,o):null:t}function sB(){return sB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},sB.apply(null,arguments)}function KR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function bb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(t),!0).forEach(function(n){Nxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):KR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Nxe(r,e,t){return(e=Bxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Bxe(r){var e=kxe(r,"string");return typeof e=="symbol"?e:e+""}function kxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Txe(r){var{cursor:e,cursorComp:t,cursorProps:n}=r;return K.isValidElement(e)?K.cloneElement(e,n):K.createElement(t,n)}function jxe(r){var e,{coordinate:t,payload:n,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:u}=r,d=t,h=n,f=i;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,g,m;if(u==="ScatterChart")p=d,g=h0e,m=Ni.cursorLine;else if(u==="BarChart")p=f0e(o,d,s,a),g=fW,m=Ni.cursorRectangle;else if(o==="radial"&&jG(d)){var{cx:v,cy:y,radius:b,startAngle:w,endAngle:_}=pW(d);p={cx:v,cy:y,startAngle:w,endAngle:_,innerRadius:b,outerRadius:b},g=gW,m=Ni.cursorLine}else p={points:rge(o,d,s)},g=Kp,m=Ni.cursorLine;var B=typeof l=="object"&&"className"in l?l.className:void 0,R=bb(bb(bb(bb({stroke:"#ccc",pointerEvents:"none"},s),p),eA(l)),{},{payload:h,payloadIndex:f,className:Yr("recharts-tooltip-cursor",B)});return K.createElement(Ta,{zIndex:(e=r.zIndex)!==null&&e!==void 0?e:m},K.createElement(Txe,{cursor:l,cursorComp:g,cursorProps:R}))}function Fxe(r){var e=Jbe(),t=YK(),n=Vh(),i=vX();return e==null||t==null||n==null||i==null?null:K.createElement(jxe,sB({},r,{offset:t,layout:n,tooltipAxisBandSize:e,chartName:i}))}var CX=K.createContext(null),Ixe=()=>K.useContext(CX),SX={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),p=t?t+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=t?t+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},o.prototype.listenerCount=function(c){var u=t?t+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,f,p){var g=t?t+c:c;if(!this._events[g])return!1;var m=this._events[g],v=arguments.length,y,b;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,u),!0;case 3:return m.fn.call(m.context,u,d),!0;case 4:return m.fn.call(m.context,u,d,h),!0;case 5:return m.fn.call(m.context,u,d,h,f),!0;case 6:return m.fn.call(m.context,u,d,h,f,p),!0}for(b=1,y=new Array(v-1);b<v;b++)y[b-1]=arguments[b];m.fn.apply(m.context,y)}else{var w=m.length,_;for(b=0;b<w;b++)switch(m[b].once&&this.removeListener(c,m[b].fn,void 0,!0),v){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,u);break;case 3:m[b].fn.call(m[b].context,u,d);break;case 4:m[b].fn.call(m[b].context,u,d,h);break;default:if(!y)for(_=1,y=new Array(v-1);_<v;_++)y[_-1]=arguments[_];m[b].fn.apply(m[b].context,y)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&a(this,f);else{for(var g=0,m=[],v=p.length;g<v;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[f]=m.length===1?m[0]:m:a(this,f)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,r.exports=o})(SX);var Mxe=SX.exports;const Oxe=No(Mxe);var Dv=new Oxe,aB="recharts.syncEvent.tooltip",WR="recharts.syncEvent.brush";function Ly(r,e){if(e){var t=Number.parseInt(e,10);if(!ll(t))return r?.[t]}}var Pxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EX=Xa({name:"options",initialState:Pxe,reducers:{createEventEmitter:r=>{r.eventEmitter==null&&(r.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Rxe=EX.reducer,{createEventEmitter:Lxe}=EX.actions;function Dxe(r){return r.tooltip.syncInteraction}var Uxe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_X=Xa({name:"chartData",initialState:Uxe,reducers:{setChartData(r,e){if(r.chartData=e.payload,e.payload==null){r.dataStartIndex=0,r.dataEndIndex=0;return}e.payload.length>0&&r.dataEndIndex!==e.payload.length-1&&(r.dataEndIndex=e.payload.length-1)},setComputedData(r,e){r.computedData=e.payload},setDataStartEndIndexes(r,e){var{startIndex:t,endIndex:n}=e.payload;t!=null&&(r.dataStartIndex=t),n!=null&&(r.dataEndIndex=n)}}}),{setChartData:qR,setDataStartEndIndexes:Hxe,setComputedData:SWe}=_X.actions,Qxe=_X.reducer,$xe=["x","y"];function XR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zA(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(t),!0).forEach(function(n){zxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):XR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zxe(r,e,t){return(e=Vxe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Vxe(r){var e=Gxe(r,"string");return typeof e=="symbol"?e:e+""}function Gxe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Kxe(r,e){if(r==null)return{};var t,n,i=Wxe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Wxe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function qxe(){var r=Qt(bj),e=Qt(xj),t=Fn(),n=Qt(bq),i=Qt(pd),s=Vh(),a=oC(),o=Qt(l=>l.rootProps.className);K.useEffect(()=>{if(r==null)return my;var l=(c,u,d)=>{if(e!==d&&r===c){if(n==="index"){var h;if(a&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var f=u.payload.coordinate,{x:p,y:g}=f,m=Kxe(f,$xe),{x:v,y,width:b,height:w}=u.payload.sourceViewBox,_=zA(zA({},m),{},{x:a.x+(b?(p-v)/b:0)*a.width,y:a.y+(w?(g-y)/w:0)*a.height});t(zA(zA({},u),{},{payload:zA(zA({},u.payload),{},{coordinate:_})}))}else t(u);return}if(i!=null){var B;if(typeof n=="function"){var R={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},j=n(i,R);B=i[j]}else n==="value"&&(B=i.find(S=>String(S.value)===u.payload.label));var{coordinate:k}=u.payload;if(B==null||u.payload.active===!1||k==null||a==null){t(nB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:H}=k,I=Math.min(L,a.x+a.width),T=Math.min(H,a.y+a.height),P={x:s==="horizontal"?B.coordinate:I,y:s==="horizontal"?T:B.coordinate},N=nB({active:u.payload.active,coordinate:P,dataKey:u.payload.dataKey,index:String(B.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});t(N)}}};return Dv.on(aB,l),()=>{Dv.off(aB,l)}},[o,t,e,r,n,i,s,a])}function Xxe(){var r=Qt(bj),e=Qt(xj),t=Fn();K.useEffect(()=>{if(r==null)return my;var n=(i,s,a)=>{e!==a&&r===i&&t(Hxe(s))};return Dv.on(WR,n),()=>{Dv.off(WR,n)}},[t,e,r])}function Yxe(){var r=Fn();K.useEffect(()=>{r(Lxe())},[r]),qxe(),Xxe()}function Jxe(r,e,t,n,i,s){var a=Qt(f=>axe(f,r,e)),o=Qt(xj),l=Qt(bj),c=Qt(bq),u=Qt(Dxe),d=u?.active,h=oC();K.useEffect(()=>{if(!d&&l!=null&&o!=null){var f=nB({active:s,coordinate:t,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Dv.emit(aB,l,f,o)}},[d,t,a,i,n,o,l,c,s,h])}function YR(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function JR(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(t),!0).forEach(function(n){Zxe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):YR(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zxe(r,e,t){return(e=ewe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ewe(r){var e=twe(r,"string");return typeof e=="symbol"?e:e+""}function twe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function rwe(r){return r.dataKey}function nwe(r,e){return K.isValidElement(r)?K.cloneElement(r,e):typeof r=="function"?K.createElement(r,e):K.createElement(Vme,e)}var ZR=[],iwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rl(r){var e,t,n=hi(r,iwe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:h,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:m,cursor:v,shared:y,trigger:b,defaultIndex:w,portal:_,axisId:B}=n,R=Fn(),j=typeof w=="number"?String(w):w;K.useEffect(()=>{R(tbe({shared:y,trigger:b,axisId:B,active:i,defaultIndex:j}))},[R,y,b,B,i,j]);var k=oC(),L=lW(),H=q1e(y),{activeIndex:I,isActive:T}=(e=Qt(q=>cxe(q,H,b,j)))!==null&&e!==void 0?e:{},P=Qt(q=>lxe(q,H,b,j)),N=Qt(q=>xX(q,H,b,j)),S=Qt(q=>oxe(q,H,b,j)),C=P,E=Ixe(),x=(t=i??T)!==null&&t!==void 0?t:!1,[F,U]=oK([C,x]),M=H==="axis"?N:void 0;Jxe(H,b,S,M,I,x);var z=_??E;if(z==null||k==null||H==null)return null;var G=C??ZR;x||(G=ZR),c&&G.length&&(G=qG(G.filter(q=>q.value!=null&&(q.hide!==!0||n.includeHidden)),h,rwe));var Y=G.length>0,Q=K.createElement(Jme,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:u,active:x,coordinate:S,hasPayload:Y,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:k,wrapperStyle:m,lastBoundingBox:F,innerRef:U,hasPortalFromProps:!!_},nwe(l,JR(JR({},n),{},{payload:G,label:M,active:x,activeIndex:I,coordinate:S,accessibilityLayer:L})));return K.createElement(K.Fragment,null,sy.createPortal(Q,z),x&&K.createElement(Fxe,{cursor:v,tooltipEventType:H,coordinate:S,payload:G,index:I}))}var Ql=r=>null;Ql.displayName="Cell";function swe(r,e,t){return(e=awe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function awe(r){var e=owe(r,"string");return typeof e=="symbol"?e:e+""}function owe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class lwe{constructor(e){swe(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function eL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function cwe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(t),!0).forEach(function(n){uwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function uwe(r,e,t){return(e=dwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function dwe(r){var e=hwe(r,"string");return typeof e=="symbol"?e:e+""}function hwe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var fwe={cacheSize:2e3,enableCache:!0},NX=cwe({},fwe),tL=new lwe(NX.cacheSize),Awe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rL="recharts_measurement_span";function pwe(r,e){var t=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(r,"|").concat(t,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var nL=(r,e)=>{try{var t=document.getElementById(rL);t||(t=document.createElement("span"),t.setAttribute("id",rL),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,Awe,e),t.textContent="".concat(r);var n=t.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$g=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cy.isSsr)return{width:0,height:0};if(!NX.enableCache)return nL(e,t);var n=pwe(e,t),i=tL.get(n);if(i)return i;var s=nL(e,t);return tL.set(n,s),s},BX;function mwe(r,e,t){return(e=gwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gwe(r){var e=vwe(r,"string");return typeof e=="symbol"?e:e+""}function vwe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var iL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ywe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xwe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wwe=["cm","mm","pt","pc","in","Q","px"];function Cwe(r){return wwe.includes(r)}var Np="NaN";function Swe(r,e){return r*xwe[e]}class Is{static parse(e){var t,[,n,i]=(t=bwe.exec(e))!==null&&t!==void 0?t:[];return n==null?Is.NaN:new Is(parseFloat(n),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ll(e)&&(this.unit=""),t!==""&&!ywe.test(t)&&(this.num=NaN,this.unit=""),Cwe(t)&&(this.num=Swe(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Is(NaN,""):new Is(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Is(NaN,""):new Is(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Is(NaN,""):new Is(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Is(NaN,""):new Is(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ll(this.num)}}BX=Is;mwe(Is,"NaN",new BX(NaN,""));function kX(r){if(r==null||r.includes(Np))return Np;for(var e=r;e.includes("*")||e.includes("/");){var t,[,n,i,s]=(t=iL.exec(e))!==null&&t!==void 0?t:[],a=Is.parse(n??""),o=Is.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Np;e=e.replace(iL,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,d,h]=(c=sL.exec(e))!==null&&c!==void 0?c:[],f=Is.parse(u??""),p=Is.parse(h??""),g=d==="+"?f.add(p):f.subtract(p);if(g.isNaN())return Np;e=e.replace(sL,g.toString())}return e}var aL=/\(([^()]*)\)/;function Ewe(r){for(var e=r,t;(t=aL.exec(e))!=null;){var[,n]=t;e=e.replace(aL,kX(n))}return e}function _we(r){var e=r.replace(/\s+/g,"");return e=Ewe(e),e=kX(e),e}function Nwe(r){try{return _we(r)}catch{return Np}}function nS(r){var e=Nwe(r.slice(5,-1));return e===Np?"":e}var Bwe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kwe=["dx","dy","angle","className","breakAll"];function oB(){return oB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},oB.apply(null,arguments)}function oL(r,e){if(r==null)return{};var t,n,i=Twe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Twe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var TX=/[ \f\n\r\t\v\u2028\u2029]+/,jX=r=>{var{children:e,breakAll:t,style:n}=r;try{var i=[];Ln(e)||(t?i=e.toString().split(""):i=e.toString().split(TX));var s=i.map(o=>({word:o,width:$g(o,n).width})),a=t?0:$g("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function jwe(r){return r==="start"||r==="middle"||r==="end"||r==="inherit"}var FX=(r,e,t,n)=>r.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||n||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var c={words:[a],width:o};i.push(c)}return i},[]),IX=r=>r.reduce((e,t)=>e.width>t.width?e:t),Fwe="",lL=(r,e,t,n,i,s,a,o)=>{var l=r.slice(0,e),c=jX({breakAll:t,style:n,children:l+Fwe});if(!c)return[!1,[]];var u=FX(c.wordsWithComputedWidth,s,a,o),d=u.length>i||IX(u).width>Number(s);return[d,u]},Iwe=(r,e,t,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=r,c=It(s),u=String(a),d=FX(e,n,t,i);if(!c||i)return d;var h=d.length>s||IX(d).width>Number(n);if(!h)return d;for(var f=0,p=u.length-1,g=0,m;f<=p&&g<=u.length-1;){var v=Math.floor((f+p)/2),y=v-1,[b,w]=lL(u,y,l,o,s,n,t,i),[_]=lL(u,v,l,o,s,n,t,i);if(!b&&!_&&(f=v+1),b&&_&&(p=v-1),!b&&_){m=w;break}g++}return m||d},cL=r=>{var e=Ln(r)?[]:r.toString().split(TX);return[{words:e,width:void 0}]},Mwe=r=>{var{width:e,scaleToFit:t,children:n,style:i,breakAll:s,maxLines:a}=r;if((e||t)&&!Cy.isSsr){var o,l,c=jX({breakAll:s,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;o=u,l=d}else return cL(n);return Iwe({breakAll:s,children:n,maxLines:a,style:i},o,l,e,!!t)}return cL(n)},MX="#808080",Owe={angle:0,breakAll:!1,capHeight:"0.71em",fill:MX,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},TC=K.forwardRef((r,e)=>{var t=hi(r,Owe),{x:n,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=t,d=oL(t,Bwe),h=K.useMemo(()=>Mwe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:f,dy:p,angle:g,className:m,breakAll:v}=d,y=oL(d,kwe);if(!Pc(n)||!Pc(i)||h.length===0)return null;var b=Number(n)+(It(f)?f:0),w=Number(i)+(It(p)?p:0);if(!xn(b)||!xn(w))return null;var _;switch(u){case"start":_=nS("calc(".concat(a,")"));break;case"middle":_=nS("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:_=nS("calc(".concat(h.length-1," * -").concat(s,")"));break}var B=[];if(l){var R=h[0].width,{width:j}=d;B.push("scale(".concat(It(j)&&It(R)?j/R:1,")"))}return g&&B.push("rotate(".concat(g,", ").concat(b,", ").concat(w,")")),B.length&&(y.transform=B.join(" ")),K.createElement("text",oB({},la(y),{ref:e,x:b,y:w,className:Yr("recharts-text",m),textAnchor:c,fill:o.includes("url")?MX:o}),h.map((k,L)=>{var H=k.words.join(v?"":" ");return K.createElement("tspan",{x:b,dy:L===0?_:s,key:"".concat(H,"-").concat(L)},H)}))});TC.displayName="Text";var Pwe=["labelRef"],Rwe=["content"];function uL(r,e){if(r==null)return{};var t,n,i=Lwe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function Lwe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function dL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function bi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(t),!0).forEach(function(n){Dwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Dwe(r,e,t){return(e=Uwe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Uwe(r){var e=Hwe(r,"string");return typeof e=="symbol"?e:e+""}function Hwe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Nu.apply(null,arguments)}var OX=K.createContext(null),Qwe=r=>{var{x:e,y:t,upperWidth:n,lowerWidth:i,width:s,height:a,children:o}=r,l=K.useMemo(()=>({x:e,y:t,upperWidth:n,lowerWidth:i,width:s,height:a}),[e,t,n,i,s,a]);return K.createElement(OX.Provider,{value:l},o)},PX=()=>{var r=K.useContext(OX),e=oC();return r||XK(e)},$we=K.createContext(null),zwe=()=>{var r=K.useContext($we),e=Qt(Eq);return r||e},Vwe=r=>{var{value:e,formatter:t}=r,n=Ln(r.children)?e:r.children;return typeof t=="function"?t(n):n},r8=r=>r!=null&&typeof r=="function",Gwe=(r,e)=>{var t=ms(e-r),n=Math.min(Math.abs(e-r),360);return t*n},Kwe=(r,e,t,n,i)=>{var{offset:s,className:a}=r,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:h,clockWise:f}=i,p=(c+u)/2,g=Gwe(d,h),m=g>=0?1:-1,v,y;switch(e){case"insideStart":v=d+m*s,y=f;break;case"insideEnd":v=h-m*s,y=!f;break;case"end":v=h+m*s,y=f;break;default:throw new Error("Unsupported position ".concat(e))}y=g<=0?y:!y;var b=Di(o,l,p,v),w=Di(o,l,p,v+(y?1:-1)*359),_="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(w.x,",").concat(w.y),B=Ln(r.id)?_v("recharts-radial-line-"):r.id;return K.createElement("text",Nu({},n,{dominantBaseline:"central",className:Yr("recharts-radial-bar-label",a)}),K.createElement("defs",null,K.createElement("path",{id:B,d:_})),K.createElement("textPath",{xlinkHref:"#".concat(B)},t))},Wwe=(r,e,t)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=r,c=(o+l)/2;if(t==="outside"){var{x:u,y:d}=Di(n,i,a+e,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:f,y:p}=Di(n,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}},lB=r=>"cx"in r&&It(r.cx),qwe=(r,e)=>{var{parentViewBox:t,offset:n,position:i}=r,s;t!=null&&!lB(t)&&(s=t);var{x:a,y:o,upperWidth:l,lowerWidth:c,height:u}=e,d=a,h=a+(l-c)/2,f=(d+h)/2,p=(l+c)/2,g=d+l/2,m=u>=0?1:-1,v=m*n,y=m>0?"end":"start",b=m>0?"start":"end",w=l>=0?1:-1,_=w*n,B=w>0?"end":"start",R=w>0?"start":"end";if(i==="top"){var j={x:d+l/2,y:o-v,textAnchor:"middle",verticalAnchor:y};return bi(bi({},j),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var k={x:h+c/2,y:o+u+v,textAnchor:"middle",verticalAnchor:b};return bi(bi({},k),s?{height:Math.max(s.y+s.height-(o+u),0),width:c}:{})}if(i==="left"){var L={x:f-_,y:o+u/2,textAnchor:B,verticalAnchor:"middle"};return bi(bi({},L),s?{width:Math.max(L.x-s.x,0),height:u}:{})}if(i==="right"){var H={x:f+p+_,y:o+u/2,textAnchor:R,verticalAnchor:"middle"};return bi(bi({},H),s?{width:Math.max(s.x+s.width-H.x,0),height:u}:{})}var I=s?{width:p,height:u}:{};return i==="insideLeft"?bi({x:f+_,y:o+u/2,textAnchor:R,verticalAnchor:"middle"},I):i==="insideRight"?bi({x:f+p-_,y:o+u/2,textAnchor:B,verticalAnchor:"middle"},I):i==="insideTop"?bi({x:d+l/2,y:o+v,textAnchor:"middle",verticalAnchor:b},I):i==="insideBottom"?bi({x:h+c/2,y:o+u-v,textAnchor:"middle",verticalAnchor:y},I):i==="insideTopLeft"?bi({x:d+_,y:o+v,textAnchor:R,verticalAnchor:b},I):i==="insideTopRight"?bi({x:d+l-_,y:o+v,textAnchor:B,verticalAnchor:b},I):i==="insideBottomLeft"?bi({x:h+_,y:o+u-v,textAnchor:R,verticalAnchor:y},I):i==="insideBottomRight"?bi({x:h+c-_,y:o+u-v,textAnchor:B,verticalAnchor:y},I):i&&typeof i=="object"&&(It(i.x)||Xu(i.x))&&(It(i.y)||Xu(i.y))?bi({x:a+aa(i.x,p),y:o+aa(i.y,u),textAnchor:"end",verticalAnchor:"end"},I):bi({x:g,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Xwe={angle:0,offset:5,zIndex:Ni.label,position:"middle",textBreakAll:!1};function Gd(r){var e=hi(r,Xwe),{viewBox:t,position:n,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:c}=e,u=zwe(),d=PX(),h=n==="center"?d:u??d,f,p,g;if(t==null?f=h:lB(t)?f=t:f=XK(t),!f||Ln(i)&&Ln(s)&&!K.isValidElement(a)&&typeof a!="function")return null;var m=bi(bi({},e),{},{viewBox:f});if(K.isValidElement(a)){var{labelRef:v}=m,y=uL(m,Pwe);return K.cloneElement(a,y)}if(typeof a=="function"){var{content:b}=m,w=uL(m,Rwe);if(p=K.createElement(a,w),K.isValidElement(p))return p}else p=Vwe(e);var _=la(e);if(lB(f)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Kwe(e,n,p,_,f);g=Wwe(f,e.offset,e.position)}else g=qwe(e,f);return K.createElement(Ta,{zIndex:e.zIndex},K.createElement(TC,Nu({ref:c,className:Yr("recharts-label",o)},_,g,{textAnchor:jwe(_.textAnchor)?_.textAnchor:g.textAnchor,breakAll:l}),p))}Gd.displayName="Label";var Ywe=(r,e,t)=>{if(!r)return null;var n={viewBox:e,labelRef:t};return r===!0?K.createElement(Gd,Nu({key:"label-implicit"},n)):Pc(r)?K.createElement(Gd,Nu({key:"label-implicit",value:r},n)):K.isValidElement(r)?r.type===Gd?K.cloneElement(r,bi({key:"label-implicit"},n)):K.createElement(Gd,Nu({key:"label-implicit",content:r},n)):r8(r)?K.createElement(Gd,Nu({key:"label-implicit",content:r},n)):r&&typeof r=="object"?K.createElement(Gd,Nu({},r,{key:"label-implicit"},n)):null};function Jwe(r){var{label:e,labelRef:t}=r,n=PX();return Ywe(e,n,t)||null}var RX={},LX={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}r.last=e})(LX);var DX={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}r.toArray=e})(DX);(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});const e=LX,t=DX,n=G5;function i(s){if(n.isArrayLike(s))return e.last(t.toArray(s))}r.last=i})(RX);var Zwe=RX.last;const e2e=No(Zwe);var t2e=["valueAccessor"],r2e=["dataKey","clockWise","id","textBreakAll","zIndex"];function P2(){return P2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},P2.apply(null,arguments)}function hL(r,e){if(r==null)return{};var t,n,i=n2e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function n2e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var i2e=r=>Array.isArray(r.value)?e2e(r.value):r.value,UX=K.createContext(void 0),n8=UX.Provider,HX=K.createContext(void 0),s2e=HX.Provider;function a2e(){return K.useContext(UX)}function o2e(){return K.useContext(HX)}function ew(r){var{valueAccessor:e=i2e}=r,t=hL(r,t2e),{dataKey:n,clockWise:i,id:s,textBreakAll:a,zIndex:o}=t,l=hL(t,r2e),c=a2e(),u=o2e(),d=c||u;return!d||!d.length?null:K.createElement(Ta,{zIndex:o??Ni.label},K.createElement(di,{className:"recharts-label-list"},d.map((h,f)=>{var p,g=Ln(n)?e(h,f):ln(h&&h.payload,n),m=Ln(s)?{}:{id:"".concat(s,"-").concat(f)};return K.createElement(Gd,P2({key:"label-".concat(f)},la(h),l,m,{fill:(p=t.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:a,viewBox:h.viewBox,index:f,zIndex:0}))})))}ew.displayName="LabelList";function jC(r){var{label:e}=r;return e?e===!0?K.createElement(ew,{key:"labelList-implicit"}):K.isValidElement(e)||r8(e)?K.createElement(ew,{key:"labelList-implicit",content:e}):typeof e=="object"?K.createElement(ew,P2({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function cB(){return cB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},cB.apply(null,arguments)}var QX=r=>{var{cx:e,cy:t,r:n,className:i}=r,s=Yr("recharts-dot",i);return It(e)&&It(t)&&It(n)?K.createElement("circle",cB({},Sa(r),bT(r),{className:s,cx:e,cy:t,r:n})):null},$X=r=>r.graphicalItems.polarItems,l2e=Oe([Vn,ky],_j),FC=Oe([$X,ri,l2e],Nj),c2e=Oe([FC],Bj),IC=Oe([c2e,vC],kj),u2e=Oe([IC,ri,FC],jj);Oe([IC,ri,FC],(r,e,t)=>t.length>0?r.flatMap(n=>t.flatMap(i=>{var s,a=ln(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?r.map(n=>({value:ln(n,e.dataKey),errorDomain:[]})):r.map(n=>({value:n,errorDomain:[]})));var fL=()=>{},d2e=Oe([IC,ri,FC,_C,Vn],Oj),h2e=Oe([ri,Ij,Mj,fL,d2e,fL,Dr,Vn],Pj),zX=Oe([ri,Dr,IC,u2e,By,Vn,h2e],Rj),f2e=Oe([zX,ri,Vm],Uj);Oe([ri,zX,f2e,Vn],Qj);var A2e={radiusAxis:{},angleAxis:{}},VX=Xa({name:"polarAxis",initialState:A2e,reducers:{addRadiusAxis(r,e){r.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(r,e){delete r.radiusAxis[e.payload.id]},addAngleAxis(r,e){r.angleAxis[e.payload.id]=e.payload},removeAngleAxis(r,e){delete r.angleAxis[e.payload.id]}}}),{addRadiusAxis:EWe,removeRadiusAxis:_We,addAngleAxis:NWe,removeAngleAxis:BWe}=VX.actions,p2e=VX.reducer;function AL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function pL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(t),!0).forEach(function(n){m2e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function m2e(r,e,t){return(e=g2e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function g2e(r){var e=v2e(r,"string");return typeof e=="symbol"?e:e+""}function v2e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var y2e=(r,e)=>e,i8=Oe([$X,y2e],(r,e)=>r.filter(t=>t.type==="pie").find(t=>t.id===e)),b2e=[],s8=(r,e,t)=>t?.length===0?b2e:t,GX=Oe([vC,i8,s8],(r,e,t)=>{var{chartData:n}=r;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&t!=null&&(i=t.map(s=>pL(pL({},e.presentationProps),s.props))),i!=null)return i}}),x2e=Oe([GX,i8,s8],(r,e,t)=>{if(!(r==null||e==null))return r.map((n,i)=>{var s,a=ln(n,e.nameKey,e.name),o;return t!=null&&(s=t[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=t[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:zh(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),w2e=Oe([GX,i8,s8,Zi],(r,e,t,n)=>{if(!(e==null||r==null))return w5e({offset:n,pieSettings:e,displayedData:r,cells:t})}),KX={exports:{}},wn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8=Symbol.for("react.transitional.element"),o8=Symbol.for("react.portal"),MC=Symbol.for("react.fragment"),OC=Symbol.for("react.strict_mode"),PC=Symbol.for("react.profiler"),RC=Symbol.for("react.consumer"),LC=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),UC=Symbol.for("react.suspense"),HC=Symbol.for("react.suspense_list"),QC=Symbol.for("react.memo"),$C=Symbol.for("react.lazy"),C2e=Symbol.for("react.view_transition"),S2e=Symbol.for("react.client.reference");function ml(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case a8:switch(r=r.type,r){case MC:case PC:case OC:case UC:case HC:case C2e:return r;default:switch(r=r&&r.$$typeof,r){case LC:case DC:case $C:case QC:return r;case RC:return r;default:return e}}case o8:return e}}}wn.ContextConsumer=RC;wn.ContextProvider=LC;wn.Element=a8;wn.ForwardRef=DC;wn.Fragment=MC;wn.Lazy=$C;wn.Memo=QC;wn.Portal=o8;wn.Profiler=PC;wn.StrictMode=OC;wn.Suspense=UC;wn.SuspenseList=HC;wn.isContextConsumer=function(r){return ml(r)===RC};wn.isContextProvider=function(r){return ml(r)===LC};wn.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===a8};wn.isForwardRef=function(r){return ml(r)===DC};wn.isFragment=function(r){return ml(r)===MC};wn.isLazy=function(r){return ml(r)===$C};wn.isMemo=function(r){return ml(r)===QC};wn.isPortal=function(r){return ml(r)===o8};wn.isProfiler=function(r){return ml(r)===PC};wn.isStrictMode=function(r){return ml(r)===OC};wn.isSuspense=function(r){return ml(r)===UC};wn.isSuspenseList=function(r){return ml(r)===HC};wn.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===MC||r===PC||r===OC||r===UC||r===HC||typeof r=="object"&&r!==null&&(r.$$typeof===$C||r.$$typeof===QC||r.$$typeof===LC||r.$$typeof===RC||r.$$typeof===DC||r.$$typeof===S2e||r.getModuleId!==void 0)};wn.typeOf=ml;KX.exports=wn;var E2e=KX.exports,mL=r=>typeof r=="string"?r:r?r.displayName||r.name||"Component":"",gL=null,iS=null,WX=r=>{if(r===gL&&Array.isArray(iS))return iS;var e=[];return K.Children.forEach(r,t=>{Ln(t)||(E2e.isFragment(t)?e=e.concat(WX(t.props.children)):e.push(t))}),iS=e,gL=r,e};function l8(r,e){var t=[],n=[];return Array.isArray(e)?n=e.map(i=>mL(i)):n=[mL(e)],WX(r).forEach(i=>{var s=rA(i,"type.displayName")||rA(i,"type.name");s&&n.indexOf(s)!==-1&&t.push(i)}),t}var c8=r=>r&&typeof r=="object"&&"clipDot"in r?!!r.clipDot:!0,qX={};(function(r){Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const i=t[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${i}]`}let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}r.isPlainObject=e})(qX);var _2e=qX.isPlainObject;const N2e=No(_2e);var vL,yL,bL,xL,wL;function CL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function SL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(t),!0).forEach(function(n){B2e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):CL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function B2e(r,e,t){return(e=k2e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function k2e(r){var e=T2e(r,"string");return typeof e=="symbol"?e:e+""}function T2e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function R2(){return R2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},R2.apply(null,arguments)}function z0(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}var EL=(r,e,t,n,i)=>{var s=t-n,a;return a=ai(vL||(vL=z0(["M ",",",""])),r,e),a+=ai(yL||(yL=z0(["L ",",",""])),r+t,e),a+=ai(bL||(bL=z0(["L ",",",""])),r+t-s/2,e+i),a+=ai(xL||(xL=z0(["L ",",",""])),r+t-s/2-n,e+i),a+=ai(wL||(wL=z0(["L ",","," Z"])),r,e),a},j2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F2e=r=>{var e=hi(r,j2e),{x:t,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=e,h=K.useRef(null),[f,p]=K.useState(-1),g=K.useRef(i),m=K.useRef(s),v=K.useRef(a),y=K.useRef(t),b=K.useRef(n),w=Dm(r,"trapezoid-");if(K.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var P=h.current.getTotalLength();P&&p(P)}catch{}},[]),t!==+t||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var _=Yr("recharts-trapezoid",o);if(!d)return K.createElement("g",null,K.createElement("path",R2({},la(e),{className:_,d:EL(t,n,i,s,a)})));var B=g.current,R=m.current,j=v.current,k=y.current,L=b.current,H="0px ".concat(f===-1?1:f,"px"),I="".concat(f,"px 0px"),T=cW(["strokeDasharray"],c,l);return K.createElement(Lm,{animationId:w,key:w,canBegin:f>0,duration:c,easing:l,isActive:d,begin:u},P=>{var N=on(B,i,P),S=on(R,s,P),C=on(j,a,P),E=on(k,t,P),x=on(L,n,P);h.current&&(g.current=N,m.current=S,v.current=C,y.current=E,b.current=x);var F=P>0?{transition:T,strokeDasharray:I}:{strokeDasharray:H};return K.createElement("path",R2({},la(e),{className:_,d:EL(E,x,N,S,C),ref:h,style:SL(SL({},F),e.style)}))})},I2e=["option","shapeType","activeClassName"];function M2e(r,e){if(r==null)return{};var t,n,i=O2e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function O2e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function _L(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function L2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(t),!0).forEach(function(n){P2e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):_L(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function P2e(r,e,t){return(e=R2e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function R2e(r){var e=L2e(r,"string");return typeof e=="symbol"?e:e+""}function L2e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function D2e(r,e){return L2(L2({},e),r)}function U2e(r,e){return r==="symbols"}function NL(r){var{shapeType:e,elementProps:t}=r;switch(e){case"rectangle":return K.createElement(fW,t);case"trapezoid":return K.createElement(F2e,t);case"sector":return K.createElement(gW,t);case"symbols":if(U2e(e))return K.createElement(yT,t);break;case"curve":return K.createElement(Kp,t);default:return null}}function H2e(r){return K.isValidElement(r)?r.props:r}function u8(r){var{option:e,shapeType:t,activeClassName:n="recharts-active-shape"}=r,i=M2e(r,I2e),s;if(K.isValidElement(e))s=K.cloneElement(e,L2(L2({},i),H2e(e)));else if(typeof e=="function")s=e(i,i.index);else if(N2e(e)&&typeof e!="boolean"){var a=D2e(e,i);s=K.createElement(NL,{shapeType:t,elementProps:a})}else{var o=i;s=K.createElement(NL,{shapeType:t,elementProps:o})}return i.isActive?K.createElement(di,{className:n},s):s}var d8=(r,e,t)=>{var n=Fn();return(i,s)=>a=>{r?.(i,s,a),n(rX({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}},h8=r=>{var e=Fn();return(t,n)=>i=>{r?.(t,n,i),e(rbe())}},f8=(r,e,t)=>{var n=Fn();return(i,s)=>a=>{r?.(i,s,a),n(nbe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:t}))}};function zC(r){var{tooltipEntrySettings:e}=r,t=Fn(),n=ys(),i=K.useRef(null);return K.useLayoutEffect(()=>{n||(i.current===null?t(J1e(e)):i.current!==e&&t(Z1e({prev:i.current,next:e})),i.current=e)},[e,t,n]),K.useLayoutEffect(()=>()=>{i.current&&(t(ebe(i.current)),i.current=null)},[t]),null}function A8(r){var{legendPayload:e}=r,t=Fn(),n=ys(),i=K.useRef(null);return K.useLayoutEffect(()=>{n||(i.current===null?t(sW(e)):i.current!==e&&t(aW({prev:i.current,next:e})),i.current=e)},[t,n,e]),K.useLayoutEffect(()=>()=>{i.current&&(t(oW(i.current)),i.current=null)},[t]),null}function Q2e(r){var{legendPayload:e}=r,t=Fn(),n=Qt(Dr),i=K.useRef(null);return K.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?t(sW(e)):i.current!==e&&t(aW({prev:i.current,next:e})),i.current=e)},[t,n,e]),K.useLayoutEffect(()=>()=>{i.current&&(t(oW(i.current)),i.current=null)},[t]),null}var sS,$2e=()=>{var[r]=K.useState(()=>_v("uid-"));return r},z2e=(sS=Cie.useId)!==null&&sS!==void 0?sS:$2e;function V2e(r,e){var t=z2e();return e||(r?"".concat(r,"-").concat(t):t)}var G2e=K.createContext(void 0),VC=r=>{var{id:e,type:t,children:n}=r,i=V2e("recharts-".concat(t),e);return K.createElement(G2e.Provider,{value:i},n(i))},K2e={cartesianItems:[],polarItems:[]},XX=Xa({name:"graphicalItems",initialState:K2e,reducers:{addCartesianGraphicalItem:{reducer(r,e){r.cartesianItems.push(e.payload)},prepare:Hn()},replaceCartesianGraphicalItem:{reducer(r,e){var{prev:t,next:n}=e.payload,i=Hl(r).cartesianItems.indexOf(t);i>-1&&(r.cartesianItems[i]=n)},prepare:Hn()},removeCartesianGraphicalItem:{reducer(r,e){var t=Hl(r).cartesianItems.indexOf(e.payload);t>-1&&r.cartesianItems.splice(t,1)},prepare:Hn()},addPolarGraphicalItem:{reducer(r,e){r.polarItems.push(e.payload)},prepare:Hn()},removePolarGraphicalItem:{reducer(r,e){var t=Hl(r).polarItems.indexOf(e.payload);t>-1&&r.polarItems.splice(t,1)},prepare:Hn()}}}),{addCartesianGraphicalItem:W2e,replaceCartesianGraphicalItem:q2e,removeCartesianGraphicalItem:X2e,addPolarGraphicalItem:Y2e,removePolarGraphicalItem:J2e}=XX.actions,Z2e=XX.reducer,e5e=r=>{var e=Fn(),t=K.useRef(null);return K.useLayoutEffect(()=>{t.current===null?e(W2e(r)):t.current!==r&&e(q2e({prev:t.current,next:r})),t.current=r},[e,r]),K.useLayoutEffect(()=>()=>{t.current&&(e(X2e(t.current)),t.current=null)},[e]),null},p8=K.memo(e5e);function t5e(r){var e=Fn();return K.useLayoutEffect(()=>(e(Y2e(r)),()=>{e(J2e(r))}),[e,r]),null}var r5e=["key"],n5e=["onMouseEnter","onClick","onMouseLeave"],i5e=["id"],s5e=["id"];function BL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function li(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(t),!0).forEach(function(n){a5e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function a5e(r,e,t){return(e=o5e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o5e(r){var e=l5e(r,"string");return typeof e=="symbol"?e:e+""}function l5e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Th(){return Th=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Th.apply(null,arguments)}function GC(r,e){if(r==null)return{};var t,n,i=c5e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function c5e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function u5e(r){var e=K.useMemo(()=>l8(r.children,Ql),[r.children]),t=Qt(n=>x2e(n,r.id,e));return t==null?null:K.createElement(Q2e,{legendPayload:t})}var d5e=K.memo(r=>{var{dataKey:e,nameKey:t,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:c,id:u}=r,d={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:t,name:zh(o,e),hide:l,type:c,color:a,unit:"",graphicalItemId:u}};return K.createElement(zC,{tooltipEntrySettings:d})}),h5e=(r,e)=>r>e?"start":r<e?"end":"middle",f5e=(r,e,t)=>aa(typeof e=="function"?e(r):e,t,t*.8),A5e=(r,e,t)=>{var{top:n,left:i,width:s,height:a}=e,o=AW(s,a),l=i+aa(r.cx,s,s/2),c=n+aa(r.cy,a,a/2),u=aa(r.innerRadius,o,0),d=f5e(t,r.outerRadius,o),h=r.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}},p5e=(r,e)=>{var t=ms(e-r),n=Math.min(Math.abs(e-r),360);return t*n};function m5e(r){return r&&typeof r=="object"&&"className"in r&&typeof r.className=="string"?r.className:""}var g5e=(r,e)=>{if(K.isValidElement(r))return K.cloneElement(r,e);if(typeof r=="function")return r(e);var t=Yr("recharts-pie-label-line",typeof r!="boolean"?r.className:""),{key:n}=e,i=GC(e,r5e);return K.createElement(Kp,Th({},i,{type:"linear",className:t}))},v5e=(r,e,t)=>{if(K.isValidElement(r))return K.cloneElement(r,e);var n=t;if(typeof r=="function"&&(n=r(e),K.isValidElement(n)))return n;var i=Yr("recharts-pie-label-text",m5e(r));return K.createElement(TC,Th({},e,{alignmentBaseline:"middle",className:i}),n)};function y5e(r){var{sectors:e,props:t,showLabels:n}=r,{label:i,labelLine:s,dataKey:a}=t;if(!n||!i||!e)return null;var o=Sa(t),l=eA(i),c=eA(s),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=e.map((h,f)=>{var p=(h.startAngle+h.endAngle)/2,g=Di(h.cx,h.cy,h.outerRadius+u,p),m=li(li(li(li({},o),h),{},{stroke:"none"},l),{},{index:f,textAnchor:h5e(g.x,h.cx)},g),v=li(li(li(li({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:f,points:[Di(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return K.createElement(Ta,{zIndex:Ni.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(f)},K.createElement(di,null,s&&g5e(s,v),v5e(i,m,ln(h,a))))});return K.createElement(di,{className:"recharts-pie-labels"},d)}function b5e(r){var{sectors:e,props:t,showLabels:n}=r,{label:i}=t;return typeof i=="object"&&i!=null&&"position"in i?K.createElement(jC,{label:i}):K.createElement(y5e,{sectors:e,props:t,showLabels:n})}function x5e(r){var{sectors:e,activeShape:t,inactiveShape:n,allOtherPieProps:i,shape:s,id:a}=r,o=Qt(kh),l=Qt(Yj),c=Qt(Qbe),{onMouseEnter:u,onClick:d,onMouseLeave:h}=i,f=GC(i,n5e),p=d8(u,i.dataKey,a),g=h8(h),m=f8(d,i.dataKey,a);return e==null||e.length===0?null:K.createElement(K.Fragment,null,e.map((v,y)=>{if(v?.startAngle===0&&v?.endAngle===0&&e.length!==1)return null;var b=c==null||c===a,w=String(y)===o&&(l==null||i.dataKey===l)&&b,_=o?n:null,B=t&&w?t:_,R=li(li({},v),{},{stroke:v.stroke,tabIndex:-1,[QK]:y,[$K]:a});return K.createElement(di,Th({key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},gy(f,v,y),{onMouseEnter:p(v,y),onMouseLeave:g(v,y),onClick:m(v,y)}),K.createElement(u8,Th({option:s??B,index:y,shapeType:"sector",isActive:w},R)))}))}function w5e(r){var e,{pieSettings:t,displayedData:n,cells:i,offset:s}=r,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:d}=t,h=Math.abs(t.minAngle),f=p5e(o,l),p=Math.abs(f),g=n.length<=1?0:(e=t.paddingAngle)!==null&&e!==void 0?e:0,m=n.filter(B=>ln(B,c,0)!==0).length,v=(p>=360?m:m-1)*g,y=p-m*h-v,b=n.reduce((B,R)=>{var j=ln(R,c,0);return B+(It(j)?j:0)},0),w;if(b>0){var _;w=n.map((B,R)=>{var j=ln(B,c,0),k=ln(B,u,R),L=A5e(t,s,B),H=(It(j)?j:0)/b,I,T=li(li({},B),i&&i[R]&&i[R].props);R?I=_.endAngle+ms(f)*g*(j!==0?1:0):I=o;var P=I+ms(f)*((j!==0?h:0)+H*y),N=(I+P)/2,S=(L.innerRadius+L.outerRadius)/2,C=[{name:k,value:j,payload:T,dataKey:c,type:d,graphicalItemId:t.id}],E=Di(L.cx,L.cy,S,N);return _=li(li(li(li({},t.presentationProps),{},{percent:H,cornerRadius:typeof a=="string"?parseFloat(a):a,name:k,tooltipPayload:C,midAngle:N,middleRadius:S,tooltipPosition:E},T),L),{},{value:j,dataKey:c,startAngle:I,endAngle:P,payload:T,paddingAngle:ms(f)*g}),_})}return w}function C5e(r){var{showLabels:e,sectors:t,children:n}=r,i=K.useMemo(()=>!e||!t?[]:t.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[t,e]);return K.createElement(s2e,{value:e?i:void 0},n)}function S5e(r){var{props:e,previousSectorsRef:t,id:n}=r,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,f=Dm(e,"recharts-pie-"),p=t.current,[g,m]=K.useState(!1),v=K.useCallback(()=>{typeof h=="function"&&h(),m(!1)},[h]),y=K.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return K.createElement(C5e,{showLabels:!g,sectors:i},K.createElement(Lm,{animationId:f,begin:a,duration:o,isActive:s,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},b=>{var w=[],_=i&&i[0],B=_?.startAngle;return i?.forEach((R,j)=>{var k=p&&p[j],L=j>0?rA(R,"paddingAngle",0):0;if(k){var H=on(k.endAngle-k.startAngle,R.endAngle-R.startAngle,b),I=li(li({},R),{},{startAngle:B+L,endAngle:B+H+L});w.push(I),B=I.endAngle}else{var{endAngle:T,startAngle:P}=R,N=on(0,T-P,b),S=li(li({},R),{},{startAngle:B+L,endAngle:B+N+L});w.push(S),B=S.endAngle}}),t.current=w,K.createElement(di,null,K.createElement(x5e,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:e,shape:e.shape,id:n}))}),K.createElement(b5e,{showLabels:!g,sectors:i,props:e}),e.children)}var E5e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ni.area};function _5e(r){var{id:e}=r,t=GC(r,i5e),{hide:n,className:i,rootTabIndex:s}=r,a=K.useMemo(()=>l8(r.children,Ql),[r.children]),o=Qt(u=>w2e(u,e,a)),l=K.useRef(null),c=Yr("recharts-pie",i);return n||o==null?(l.current=null,K.createElement(di,{tabIndex:s,className:c})):K.createElement(Ta,{zIndex:r.zIndex},K.createElement(d5e,{dataKey:r.dataKey,nameKey:r.nameKey,sectors:o,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,tooltipType:r.tooltipType,id:e}),K.createElement(di,{tabIndex:s,className:c},K.createElement(S5e,{props:li(li({},t),{},{sectors:o}),previousSectorsRef:l,id:e})))}function Dy(r){var e=hi(r,E5e),{id:t}=e,n=GC(e,s5e),i=Sa(n);return K.createElement(VC,{id:t,type:"pie"},s=>K.createElement(K.Fragment,null,K.createElement(t5e,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),K.createElement(u5e,Th({},n,{id:s})),K.createElement(_5e,Th({},n,{id:s}))))}Dy.displayName="Pie";var N5e=["points"];function kL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function aS(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(t),!0).forEach(function(n){B5e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function B5e(r,e,t){return(e=k5e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function k5e(r){var e=T5e(r,"string");return typeof e=="symbol"?e:e+""}function T5e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function D2(){return D2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},D2.apply(null,arguments)}function j5e(r,e){if(r==null)return{};var t,n,i=F5e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function F5e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function I5e(r){var{option:e,dotProps:t,className:n}=r;if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return e(t);var i=Yr(n,typeof e!="boolean"?e.className:""),s=t??{},{points:a}=s,o=j5e(s,N5e);return K.createElement(QX,D2({},o,{className:i}))}function M5e(r,e){return r==null?!1:e?!0:r.length===1}function YX(r){var{points:e,dot:t,className:n,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:c=Ni.scatter}=r;if(!M5e(e,t))return null;var u=c8(t),d=_he(t),h=e.map((p,g)=>{var m,v,y=aS(aS(aS({r:3},a),d),{},{index:g,cx:(m=p.x)!==null&&m!==void 0?m:void 0,cy:(v=p.y)!==null&&v!==void 0?v:void 0,dataKey:s,value:p.value,payload:p.payload,points:e});return K.createElement(I5e,{key:"dot-".concat(g),option:t,dotProps:y,className:i})}),f={};return o&&l!=null&&(f.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),K.createElement(Ta,{zIndex:c},K.createElement(di,D2({className:n},f),h))}function TL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(t),!0).forEach(function(n){O5e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function O5e(r,e,t){return(e=P5e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function P5e(r){var e=R5e(r,"string");return typeof e=="symbol"?e:e+""}function R5e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var JX=0,L5e={xAxis:{},yAxis:{},zAxis:{}},ZX=Xa({name:"cartesianAxis",initialState:L5e,reducers:{addXAxis:{reducer(r,e){r.xAxis[e.payload.id]=e.payload},prepare:Hn()},replaceXAxis:{reducer(r,e){var{prev:t,next:n}=e.payload;r.xAxis[t.id]!==void 0&&(t.id!==n.id&&delete r.xAxis[t.id],r.xAxis[n.id]=n)},prepare:Hn()},removeXAxis:{reducer(r,e){delete r.xAxis[e.payload.id]},prepare:Hn()},addYAxis:{reducer(r,e){r.yAxis[e.payload.id]=e.payload},prepare:Hn()},replaceYAxis:{reducer(r,e){var{prev:t,next:n}=e.payload;r.yAxis[t.id]!==void 0&&(t.id!==n.id&&delete r.yAxis[t.id],r.yAxis[n.id]=n)},prepare:Hn()},removeYAxis:{reducer(r,e){delete r.yAxis[e.payload.id]},prepare:Hn()},addZAxis:{reducer(r,e){r.zAxis[e.payload.id]=e.payload},prepare:Hn()},replaceZAxis:{reducer(r,e){var{prev:t,next:n}=e.payload;r.zAxis[t.id]!==void 0&&(t.id!==n.id&&delete r.zAxis[t.id],r.zAxis[n.id]=n)},prepare:Hn()},removeZAxis:{reducer(r,e){delete r.zAxis[e.payload.id]},prepare:Hn()},updateYAxisWidth(r,e){var{id:t,width:n}=e.payload,i=r.yAxis[t];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);r.yAxis[t]=jL(jL({},r.yAxis[t]),{},{width:n,widthHistory:a})}}}}),{addXAxis:D5e,replaceXAxis:U5e,removeXAxis:H5e,addYAxis:Q5e,replaceYAxis:$5e,removeYAxis:z5e,addZAxis:kWe,replaceZAxis:TWe,removeZAxis:jWe,updateYAxisWidth:V5e}=ZX.actions,G5e=ZX.reducer,K5e=Oe([Zi],r=>({top:r.top,bottom:r.bottom,left:r.left,right:r.right})),W5e=Oe([K5e,cd,ud],(r,e,t)=>{if(!(!r||e==null||t==null))return{x:r.left,y:r.top,width:Math.max(0,e-r.left-r.right),height:Math.max(0,t-r.top-r.bottom)}}),KC=()=>Qt(W5e),q5e=()=>Qt(Kbe);function FL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function oS(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(t),!0).forEach(function(n){X5e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function X5e(r,e,t){return(e=Y5e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Y5e(r){var e=J5e(r,"string");return typeof e=="symbol"?e:e+""}function J5e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Z5e=r=>{var{point:e,childIndex:t,mainColor:n,activeDot:i,dataKey:s,clipPath:a}=r;if(i===!1||e.x==null||e.y==null)return null;var o={index:t,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=oS(oS(oS({},o),eA(i)),bT(i)),c;return K.isValidElement(i)?c=K.cloneElement(i,l):typeof i=="function"?c=i(l):c=K.createElement(QX,l),K.createElement(di,{className:"recharts-active-dot",clipPath:a},c)};function uB(r){var{points:e,mainColor:t,activeDot:n,itemDataKey:i,clipPath:s,zIndex:a=Ni.activeDot}=r,o=Qt(kh),l=q5e();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return Ln(c)?null:K.createElement(Ta,{zIndex:a},K.createElement(Z5e,{point:c,childIndex:Number(o),mainColor:t,dataKey:i,activeDot:n,clipPath:s}))}var IL=(r,e,t)=>{var n=t??r;if(!Ln(n))return aa(n,e,0)},eCe=(r,e,t)=>{var n={},i=r.filter(wC),s=r.filter(c=>c.stackId==null),a=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(a).map(c=>{var[u,d]=c,h=d.map(p=>p.dataKey),f=IL(e,t,d[0].barSize);return{stackId:u,dataKeys:h,barSize:f}}),l=s.map(c=>{var u=[c.dataKey].filter(h=>h!=null),d=IL(e,t,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...o,...l]};function ML(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function xb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(t),!0).forEach(function(n){tCe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ML(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tCe(r,e,t){return(e=rCe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rCe(r){var e=nCe(r,"string");return typeof e=="symbol"?e:e+""}function nCe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function iCe(r,e,t,n,i){var s=n.length;if(!(s<1)){var a=aa(r,t,0,!0),o,l=[];if(xn(n[0].barSize)){var c=!1,u=t/s,d=n.reduce((v,y)=>v+(y.barSize||0),0);d+=(s-1)*a,d>=t&&(d-=(s-1)*a,a=0),d>=t&&u>0&&(c=!0,u*=.9,d=s*u);var h=(t-d)/2>>0,f={offset:h-a,size:0};o=n.reduce((v,y)=>{var b,w={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:f.offset+f.size+a,size:c?u:(b=y.barSize)!==null&&b!==void 0?b:0}},_=[...v,w];return f=_[_.length-1].position,_},l)}else{var p=aa(e,t,0,!0);t-2*p-(s-1)*a<=0&&(a=0);var g=(t-2*p-(s-1)*a)/s;g>1&&(g>>=0);var m=xn(i)?Math.min(g,i):g;o=n.reduce((v,y,b)=>[...v,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p+(g+a)*b+(g-m)/2,size:m}}],l)}return o}}var sCe=(r,e,t,n,i,s,a)=>{var o=Ln(a)?e:a,l=iCe(t,n,i!==s?i:s,r,o);return i!==s&&l!=null&&(l=l.map(c=>xb(xb({},c),{},{position:xb(xb({},c.position),{},{offset:c.position.offset-i/2})}))),l},aCe=(r,e)=>{var t=xC(e);if(!(!r||t==null||e==null)){var{stackId:n}=e;if(n!=null){var i=r[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===t)}}}};function oCe(r,e){return r&&typeof r=="object"&&"zIndex"in r&&typeof r.zIndex=="number"&&xn(r.zIndex)?r.zIndex:e}var eY=r=>{var{chartData:e}=r,t=Fn(),n=ys();return K.useEffect(()=>n?()=>{}:(t(qR(e)),()=>{t(qR(void 0))}),[e,t,n]),null},OL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tY=Xa({name:"brush",initialState:OL,reducers:{setBrushSettings(r,e){return e.payload==null?OL:e.payload}}}),{setBrushSettings:FWe}=tY.actions,lCe=tY.reducer;function cCe(r,e,t){return(e=uCe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function uCe(r){var e=dCe(r,"string");return typeof e=="symbol"?e:e+""}function dCe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}class m8{static create(e){return new m8(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],i=t[t.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}cCe(m8,"EPS",1e-4);function hCe(r){return(r%180+180)%180}var fCe=function(e){var{width:t,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hCe(i),a=s*Math.PI/180,o=Math.atan(n/t),l=a>o&&a<Math.PI-o?n/Math.sin(a):t/Math.cos(a);return Math.abs(l)},ACe={dots:[],areas:[],lines:[]},rY=Xa({name:"referenceElements",initialState:ACe,reducers:{addDot:(r,e)=>{r.dots.push(e.payload)},removeDot:(r,e)=>{var t=Hl(r).dots.findIndex(n=>n===e.payload);t!==-1&&r.dots.splice(t,1)},addArea:(r,e)=>{r.areas.push(e.payload)},removeArea:(r,e)=>{var t=Hl(r).areas.findIndex(n=>n===e.payload);t!==-1&&r.areas.splice(t,1)},addLine:(r,e)=>{r.lines.push(e.payload)},removeLine:(r,e)=>{var t=Hl(r).lines.findIndex(n=>n===e.payload);t!==-1&&r.lines.splice(t,1)}}}),{addDot:IWe,removeDot:MWe,addArea:OWe,removeArea:PWe,addLine:RWe,removeLine:LWe}=rY.actions,pCe=rY.reducer,mCe=K.createContext(void 0),gCe=r=>{var{children:e}=r,[t]=K.useState("".concat(_v("recharts"),"-clip")),n=KC();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return K.createElement(mCe.Provider,{value:t},K.createElement("defs",null,K.createElement("clipPath",{id:t},K.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function nY(r,e){if(e<1)return[];if(e===1)return r;for(var t=[],n=0;n<r.length;n+=e){var i=r[n];i!==void 0&&t.push(i)}return t}function vCe(r,e,t){var n={width:r.width+e.width,height:r.height+e.height};return fCe(n,t)}function yCe(r,e,t){var n=t==="width",{x:i,y:s,width:a,height:o}=r;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Uv(r,e,t,n,i){if(r*e<r*n||r*e>r*i)return!1;var s=t();return r*(e-r*s/2-n)>=0&&r*(e+r*s/2-i)<=0}function bCe(r,e){return nY(r,e+1)}function xCe(r,e,t,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,l=0,c=1,u=a,d=function(){var p=n?.[l];if(p===void 0)return{v:nY(n,c)};var g=l,m,v=()=>(m===void 0&&(m=t(p,g)),m),y=p.coordinate,b=l===0||Uv(r,y,v,u,o);b||(l=0,u=a,c+=1),b&&(u=y+r*(v()/2+i),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function wCe(r,e,t,n,i){var s=(n||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=e,c=1;c<=a;c++){for(var u=(a-1)%c,d=o,h=!0,f=function(){var y=n[p],b=p,w,_=()=>(w===void 0&&(w=t(y,b)),w),B=y.coordinate,R=p===u||Uv(r,B,_,d,l);if(!R)return h=!1,1;R&&(d=B+r*(_()/2+i))},p=u;p<a&&!f();p+=c);if(h){for(var g=[],m=u;m<a;m+=c)g.push(n[m]);return g}}return[]}function PL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ta(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(t),!0).forEach(function(n){CCe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):PL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function CCe(r,e,t){return(e=SCe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function SCe(r){var e=ECe(r,"string");return typeof e=="symbol"?e:e+""}function ECe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _Ce(r,e,t,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,c=function(h){var f=s[h],p,g=()=>(p===void 0&&(p=t(f,h)),p);if(h===a-1){var m=r*(f.coordinate+r*g()/2-l);s[h]=f=ta(ta({},f),{},{tickCoord:m>0?f.coordinate-m*r:f.coordinate})}else s[h]=f=ta(ta({},f),{},{tickCoord:f.coordinate});if(f.tickCoord!=null){var v=Uv(r,f.tickCoord,g,o,l);v&&(l=f.tickCoord-r*(g()/2+i),s[h]=ta(ta({},f),{},{isShow:!0}))}},u=a-1;u>=0;u--)c(u);return s}function NCe(r,e,t,n,i,s){var a=(n||[]).slice(),o=a.length,{start:l,end:c}=e;if(s){var u=n[o-1],d=t(u,o-1),h=r*(u.coordinate+r*d/2-c);if(a[o-1]=u=ta(ta({},u),{},{tickCoord:h>0?u.coordinate-h*r:u.coordinate}),u.tickCoord!=null){var f=Uv(r,u.tickCoord,()=>d,l,c);f&&(c=u.tickCoord-r*(d/2+i),a[o-1]=ta(ta({},u),{},{isShow:!0}))}}for(var p=s?o-1:o,g=function(y){var b=a[y],w,_=()=>(w===void 0&&(w=t(b,y)),w);if(y===0){var B=r*(b.coordinate-r*_()/2-l);a[y]=b=ta(ta({},b),{},{tickCoord:B<0?b.coordinate-B*r:b.coordinate})}else a[y]=b=ta(ta({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var R=Uv(r,b.tickCoord,_,l,c);R&&(l=b.tickCoord+r*(_()/2+i),a[y]=ta(ta({},b),{},{isShow:!0}))}},m=0;m<p;m++)g(m);return a}function g8(r,e,t){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:u,angle:d}=r;if(!i||!i.length||!n)return[];if(It(l)||Cy.isSsr){var h;return(h=bCe(i,It(l)?l:0))!==null&&h!==void 0?h:[]}var f=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?$g(u,{fontSize:e,letterSpacing:t}):{width:0,height:0},m=(b,w)=>{var _=typeof c=="function"?c(b.value,w):b.value;return p==="width"?vCe($g(_,{fontSize:e,letterSpacing:t}),g,d):$g(_,{fontSize:e,letterSpacing:t})[p]},v=i.length>=2?ms(i[1].coordinate-i[0].coordinate):1,y=yCe(s,v,p);return l==="equidistantPreserveStart"?xCe(v,y,m,i,a):l==="equidistantPreserveEnd"?wCe(v,y,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=NCe(v,y,m,i,a,l==="preserveStartEnd"):f=_Ce(v,y,m,i,a),f.filter(b=>b.isShow))}var BCe=r=>{var{ticks:e,label:t,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=r,a=0;if(e){Array.from(e).forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=t?t.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(t?n:0);return Math.round(c)}return 0},kCe=["axisLine","width","height","className","hide","ticks","axisType"];function TCe(r,e){if(r==null)return{};var t,n,i=jCe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function jCe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function oA(){return oA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},oA.apply(null,arguments)}function RL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Oi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(t),!0).forEach(function(n){FCe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):RL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function FCe(r,e,t){return(e=ICe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ICe(r){var e=MCe(r,"string");return typeof e=="symbol"?e:e+""}function MCe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var Ru={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ni.axis};function OCe(r){var{x:e,y:t,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=r;if(!o)return null;var c=Oi(Oi(Oi({},l),Sa(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=Oi(Oi({},c),{},{x1:e,y1:t+u*i,x2:e+n,y2:t+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=Oi(Oi({},c),{},{x1:e+d*n,y1:t,x2:e+d*n,y2:t+i})}return K.createElement("line",oA({},c,{className:Yr("recharts-cartesian-axis-line",rA(o,"className"))}))}function PCe(r,e,t,n,i,s,a,o,l){var c,u,d,h,f,p,g=o?-1:1,m=r.tickSize||a,v=It(r.tickCoord)?r.tickCoord:r.coordinate;switch(s){case"top":c=u=r.coordinate,h=t+ +!o*i,d=h-g*m,p=d-g*l,f=v;break;case"left":d=h=r.coordinate,u=e+ +!o*n,c=u-g*m,f=c-g*l,p=v;break;case"right":d=h=r.coordinate,u=e+ +o*n,c=u+g*m,f=c+g*l,p=v;break;default:c=u=r.coordinate,h=t+ +o*i,d=h+g*m,p=d+g*l,f=v;break}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}function RCe(r,e){switch(r){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function LCe(r,e){switch(r){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function DCe(r){var{option:e,tickProps:t,value:n}=r,i,s=Yr(t.className,"recharts-cartesian-axis-tick-value");if(K.isValidElement(e))i=K.cloneElement(e,Oi(Oi({},t),{},{className:s}));else if(typeof e=="function")i=e(Oi(Oi({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Yr(a,e?.className)),i=K.createElement(TC,oA({},t,{className:a}),n)}return i}var UCe=K.forwardRef((r,e)=>{var{ticks:t=[],tick:n,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:f,width:p,height:g,tickSize:m,tickMargin:v,fontSize:y,letterSpacing:b,getTicksConfig:w,events:_,axisType:B}=r,R=g8(Oi(Oi({},w),{},{ticks:t}),y,b),j=RCe(u,d),k=LCe(u,d),L=Sa(w),H=eA(n),I={};typeof i=="object"&&(I=i);var T=Oi(Oi({},L),{},{fill:"none"},I),P=R.map(C=>Oi({entry:C},PCe(C,h,f,p,g,u,m,d,v))),N=P.map(C=>{var{entry:E,line:x}=C;return K.createElement(di,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},i&&K.createElement("line",oA({},T,x,{className:Yr("recharts-cartesian-axis-tick-line",rA(i,"className"))})))}),S=P.map((C,E)=>{var{entry:x,tick:F}=C,U=Oi(Oi(Oi(Oi({textAnchor:j,verticalAnchor:k},L),{},{stroke:"none",fill:s},H),F),{},{index:E,payload:x,visibleTicksCount:R.length,tickFormatter:a,padding:l},c);return K.createElement(di,oA({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},gy(_,x,E)),n&&K.createElement(DCe,{option:n,tickProps:U,value:"".concat(typeof a=="function"?a(x.value,E):x.value).concat(o||"")}))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(B,"-ticks")},S.length>0&&K.createElement(Ta,{zIndex:Ni.label},K.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(B,"-tick-labels"),ref:e},S)),N.length>0&&K.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(B,"-tick-lines")},N))}),HCe=K.forwardRef((r,e)=>{var{axisLine:t,width:n,height:i,className:s,hide:a,ticks:o,axisType:l}=r,c=TCe(r,kCe),[u,d]=K.useState(""),[h,f]=K.useState(""),p=K.useRef(null);K.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var m;return BCe({ticks:p.current,label:(m=r.labelRef)===null||m===void 0?void 0:m.current,labelGapWithTick:5,tickSize:r.tickSize,tickMargin:r.tickMargin})}}));var g=K.useCallback(m=>{if(m){var v=m.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var y=v[0];if(y){var b=window.getComputedStyle(y),w=b.fontSize,_=b.letterSpacing;(w!==u||_!==h)&&(d(w),f(_))}}},[u,h]);return a||n!=null&&n<=0||i!=null&&i<=0?null:K.createElement(Ta,{zIndex:r.zIndex},K.createElement(di,{className:Yr("recharts-cartesian-axis",s)},K.createElement(OCe,{x:r.x,y:r.y,width:n,height:i,orientation:r.orientation,mirror:r.mirror,axisLine:t,otherSvgProps:Sa(r)}),K.createElement(UCe,{ref:g,axisType:l,events:c,fontSize:u,getTicksConfig:r,height:r.height,letterSpacing:h,mirror:r.mirror,orientation:r.orientation,padding:r.padding,stroke:r.stroke,tick:r.tick,tickFormatter:r.tickFormatter,tickLine:r.tickLine,tickMargin:r.tickMargin,tickSize:r.tickSize,tickTextProps:r.tickTextProps,ticks:o,unit:r.unit,width:r.width,x:r.x,y:r.y}),K.createElement(Qwe,{x:r.x,y:r.y,width:r.width,height:r.height,lowerWidth:r.width,upperWidth:r.width},K.createElement(Jwe,{label:r.label,labelRef:r.labelRef}),r.children)))}),v8=K.forwardRef((r,e)=>{var t=hi(r,Ru);return K.createElement(HCe,oA({},t,{ref:e}))});v8.displayName="CartesianAxis";var QCe=["x1","y1","x2","y2","key"],$Ce=["offset"],zCe=["xAxisId","yAxisId"],VCe=["xAxisId","yAxisId"];function LL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ia(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(t),!0).forEach(function(n){GCe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function GCe(r,e,t){return(e=KCe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KCe(r){var e=WCe(r,"string");return typeof e=="symbol"?e:e+""}function WCe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Mf.apply(null,arguments)}function U2(r,e){if(r==null)return{};var t,n,i=qCe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function qCe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var XCe=r=>{var{fill:e}=r;if(!e||e==="none")return null;var{fillOpacity:t,x:n,y:i,width:s,height:a,ry:o}=r;return K.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function iY(r){var{option:e,lineItemProps:t}=r,n;if(K.isValidElement(e))n=K.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i,{x1:s,y1:a,x2:o,y2:l,key:c}=t,u=U2(t,QCe),d=(i=Sa(u))!==null&&i!==void 0?i:{},{offset:h}=d,f=U2(d,$Ce);n=K.createElement("line",Mf({},f,{x1:s,y1:a,x2:o,y2:l,fill:"none",key:c}))}return n}function YCe(r){var{x:e,width:t,horizontal:n=!0,horizontalPoints:i}=r;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=r,o=U2(r,zCe),l=i.map((c,u)=>{var d=ia(ia({},o),{},{x1:e,y1:c,x2:e+t,y2:c,key:"line-".concat(u),index:u});return K.createElement(iY,{key:"line-".concat(u),option:n,lineItemProps:d})});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function JCe(r){var{y:e,height:t,vertical:n=!0,verticalPoints:i}=r;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=r,o=U2(r,VCe),l=i.map((c,u)=>{var d=ia(ia({},o),{},{x1:c,y1:e,x2:c,y2:e+t,key:"line-".concat(u),index:u});return K.createElement(iY,{option:n,lineItemProps:d,key:"line-".concat(u)})});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function ZCe(r){var{horizontalFill:e,fillOpacity:t,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=r;if(!l||!e||!e.length||o==null)return null;var c=o.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var f=!c[h+1],p=f?i+a-d:c[h+1]-d;if(p<=0)return null;var g=h%e.length;return K.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:p,width:s,stroke:"none",fill:e[g],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function e4e(r){var{vertical:e=!0,verticalFill:t,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:l}=r;if(!e||!t||!t.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var f=!c[h+1],p=f?i+a-d:c[h+1]-d;if(p<=0)return null;var g=h%t.length;return K.createElement("rect",{key:"react-".concat(h),x:d,y:s,width:p,height:o,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var t4e=(r,e)=>{var{xAxis:t,width:n,height:i,offset:s}=r;return LK(g8(ia(ia(ia({},Ru),t),{},{ticks:DK(t),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},r4e=(r,e)=>{var{yAxis:t,width:n,height:i,offset:s}=r;return LK(g8(ia(ia(ia({},Ru),t),{},{ticks:DK(t),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},n4e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ni.grid};function gh(r){var e=$T(),t=zT(),n=YK(),i=ia(ia({},hi(r,n4e)),{},{x:It(r.x)?r.x:n.left,y:It(r.y)?r.y:n.top,width:It(r.width)?r.width:n.width,height:It(r.height)?r.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:f}=i,p=ys(),g=Qt(k=>LR(k,"xAxis",s,p)),m=Qt(k=>LR(k,"yAxis",a,p));if(!Rc(c)||!Rc(u)||!It(o)||!It(l))return null;var v=i.verticalCoordinatesGenerator||t4e,y=i.horizontalCoordinatesGenerator||r4e,{horizontalPoints:b,verticalPoints:w}=i;if((!b||!b.length)&&typeof y=="function"){var _=h&&h.length,B=y({yAxis:m?ia(ia({},m),{},{ticks:_?h:m.ticks}):void 0,width:e??c,height:t??u,offset:n},_?!0:d);f2(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(b=B)}if((!w||!w.length)&&typeof v=="function"){var R=f&&f.length,j=v({xAxis:g?ia(ia({},g),{},{ticks:R?f:g.ticks}):void 0,width:e??c,height:t??u,offset:n},R?!0:d);f2(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(w=j)}return K.createElement(Ta,{zIndex:i.zIndex},K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(XCe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),K.createElement(ZCe,Mf({},i,{horizontalPoints:b})),K.createElement(e4e,Mf({},i,{verticalPoints:w})),K.createElement(YCe,Mf({},i,{offset:n,horizontalPoints:b,xAxis:g,yAxis:m})),K.createElement(JCe,Mf({},i,{offset:n,verticalPoints:w,xAxis:g,yAxis:m}))))}gh.displayName="CartesianGrid";var i4e={},sY=Xa({name:"errorBars",initialState:i4e,reducers:{addErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]||(r[t]=[]),r[t].push(n)},replaceErrorBar:(r,e)=>{var{itemId:t,prev:n,next:i}=e.payload;r[t]&&(r[t]=r[t].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(r,e)=>{var{itemId:t,errorBar:n}=e.payload;r[t]&&(r[t]=r[t].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:DWe,replaceErrorBar:UWe,removeErrorBar:HWe}=sY.actions,s4e=sY.reducer,a4e=["children"];function o4e(r,e){if(r==null)return{};var t,n,i=l4e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function l4e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var c4e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},u4e=K.createContext(c4e);function aY(r){var{children:e}=r,t=o4e(r,a4e);return K.createElement(u4e.Provider,{value:t},e)}function WC(r,e){var t,n,i=Qt(c=>fd(c,r)),s=Qt(c=>Ad(c,e)),a=(t=i?.allowDataOverflow)!==null&&t!==void 0?t:os.allowDataOverflow,o=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:ls.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function y8(r){var{xAxisId:e,yAxisId:t,clipPathId:n}=r,i=KC(),{needClipX:s,needClipY:a,needClip:o}=WC(e,t);if(!o||!i)return null;var{x:l,y:c,width:u,height:d}=i;return K.createElement("clipPath",{id:"clipPath-".concat(n)},K.createElement("rect",{x:s?l:l-u/2,y:a?c:c-d/2,width:s?u:u*2,height:a?d:d*2}))}var oY=(r,e,t,n)=>Uc(r,"xAxis",e,n),lY=(r,e,t,n)=>Dc(r,"xAxis",e,n),cY=(r,e,t,n)=>Uc(r,"yAxis",t,n),uY=(r,e,t,n)=>Dc(r,"yAxis",t,n),d4e=Oe([Dr,oY,cY,lY,uY],(r,e,t,n,i)=>$c(r,"xAxis")?Nh(e,n,!1):Nh(t,i,!1)),h4e=(r,e,t,n,i)=>i;function f4e(r){return r.type==="line"}var A4e=Oe([jy,h4e],(r,e)=>r.filter(f4e).find(t=>t.id===e)),p4e=Oe([Dr,oY,cY,lY,uY,A4e,d4e,mj],(r,e,t,n,i,s,a,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(s==null||e==null||t==null||n==null||i==null||n.length===0||i.length===0||a==null||r!=="horizontal"&&r!=="vertical")){var{dataKey:d,data:h}=s,f;if(h!=null&&h.length>0?f=h:f=l?.slice(c,u+1),f!=null)return o3e({layout:r,xAxis:e,yAxis:t,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:f})}});function dY(r){var e=eA(r),t=3,n=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=t),(Number.isNaN(o)||o<0)&&(o=n),{r:a,strokeWidth:o}}return{r:t,strokeWidth:n}}var m4e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=K;function g4e(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var v4e=typeof Object.is=="function"?Object.is:g4e,y4e=Uy.useSyncExternalStore,b4e=Uy.useRef,x4e=Uy.useEffect,w4e=Uy.useMemo,C4e=Uy.useDebugValue;m4e.useSyncExternalStoreWithSelector=function(r,e,t,n,i){var s=b4e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=w4e(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&a.hasValue){var p=a.value;if(i(p,f))return d=p}return d=f}if(p=d,v4e(u,f))return p;var g=n(f);return i!==void 0&&i(p,g)?(u=f,p):(u=f,d=g)}var c=!1,u,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,n,i]);var o=y4e(r,s[0],s[1]);return x4e(function(){a.hasValue=!0,a.value=o},[o]),C4e(o),o};function S4e(r){r()}function E4e(){let r=null,e=null;return{clear(){r=null,e=null},notify(){S4e(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var DL={notify(){},get:()=>[]};function _4e(r,e){let t,n=DL,i=0,s=!1;function a(g){u();const m=n.subscribe(g);let v=!1;return()=>{v||(v=!0,m(),d())}}function o(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,t||(t=r.subscribe(l),n=E4e())}function d(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=DL)}function h(){s||(s=!0,u())}function f(){s&&(s=!1,d())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return p}var N4e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B4e=N4e(),k4e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",T4e=k4e(),j4e=()=>B4e||T4e?K.useLayoutEffect:K.useEffect,F4e=j4e();function UL(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function I4e(r,e){if(UL(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!UL(r[t[i]],e[t[i]]))return!1;return!0}var M4e=Symbol.for("react-redux-context"),O4e=typeof globalThis<"u"?globalThis:{};function P4e(){if(!K.createContext)return{};const r=O4e[M4e]??=new Map;let e=r.get(K.createContext);return e||(e=K.createContext(null),r.set(K.createContext,e)),e}var R4e=P4e();function L4e(r){const{children:e,context:t,serverState:n,store:i}=r,s=K.useMemo(()=>{const l=_4e(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=K.useMemo(()=>i.getState(),[i]);F4e(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||R4e;return K.createElement(o.Provider,{value:s},e)}var D4e=L4e,U4e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function H4e(r,e){return r==null&&e==null?!0:typeof r=="number"&&typeof e=="number"?r===e||r!==r&&e!==e:r===e}function Hy(r,e){var t=new Set([...Object.keys(r),...Object.keys(e)]);for(var n of t)if(U4e.has(n)){if(r[n]==null&&e[n]==null)continue;if(!I4e(r[n],e[n]))return!1}else if(!H4e(r[n],e[n]))return!1;return!0}var Q4e=["id"],$4e=["type","layout","connectNulls","needClip","shape"],z4e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Hv.apply(null,arguments)}function HL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(t),!0).forEach(function(n){V4e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function V4e(r,e,t){return(e=G4e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function G4e(r){var e=K4e(r,"string");return typeof e=="symbol"?e:e+""}function K4e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function b8(r,e){if(r==null)return{};var t,n,i=W4e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function W4e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var q4e=r=>{var{dataKey:e,name:t,stroke:n,legendType:i,hide:s}=r;return[{inactive:s,dataKey:e,type:i,color:n,value:zh(t,e),payload:r}]},X4e=K.memo(r=>{var{dataKey:e,data:t,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:c,id:u}=r,d={dataDefinedOnItem:t,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:zh(a,e),hide:o,type:c,color:n,unit:l,graphicalItemId:u}};return K.createElement(zC,{tooltipEntrySettings:d})}),hY=(r,e)=>"".concat(e,"px ").concat(r-e,"px");function Y4e(r,e){for(var t=r.length%2!==0?[...r,0]:r,n=[],i=0;i<e;++i)n=[...n,...t];return n}var J4e=(r,e,t)=>{var n=t.reduce((d,h)=>d+h);if(!n)return hY(e,r);for(var i=Math.floor(r/n),s=r%n,a=e-r,o=[],l=0,c=0;l<t.length;c+=t[l],++l)if(c+t[l]>s){o=[...t.slice(0,l),s-c];break}var u=o.length%2===0?[0,a]:[a];return[...Y4e(t,i),...o,...u].map(d=>"".concat(d,"px")).join(", ")};function Z4e(r){var{clipPathId:e,points:t,props:n}=r,{dot:i,dataKey:s,needClip:a}=n,{id:o}=n,l=b8(n,Q4e),c=Sa(l);return K.createElement(YX,{points:t,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:a,clipPathId:e})}function e3e(r){var{showLabels:e,children:t,points:n}=r,i=K.useMemo(()=>n?.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return yc(yc({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return K.createElement(n8,{value:e?i:void 0},t)}function QL(r){var{clipPathId:e,pathRef:t,points:n,strokeDasharray:i,props:s}=r,{type:a,layout:o,connectNulls:l,needClip:c,shape:u}=s,d=b8(s,$4e),h=yc(yc({},la(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:n,type:a,layout:o,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return K.createElement(K.Fragment,null,n?.length>1&&K.createElement(u8,Hv({shapeType:"curve",option:u},h,{pathRef:t})),K.createElement(Z4e,{points:n,clipPathId:e,props:s}))}function t3e(r){try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}function r3e(r){var{clipPathId:e,props:t,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=r,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:f,height:p,onAnimationEnd:g,onAnimationStart:m}=t,v=i.current,y=Dm(a,"recharts-line-"),b=K.useRef(y),[w,_]=K.useState(!1),B=!w,R=K.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),j=K.useCallback(()=>{typeof m=="function"&&m(),_(!0)},[m]),k=t3e(n.current),L=K.useRef(0);b.current!==y&&(L.current=s.current,b.current=y);var H=L.current;return K.createElement(e3e,{points:a,showLabels:B},t.children,K.createElement(Lm,{animationId:y,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:R,onAnimationStart:j,key:y},I=>{var T=on(H,k+H,I),P=Math.min(T,k),N;if(l)if(o){var S="".concat(o).split(/[,\s]+/gim).map(x=>parseFloat(x));N=J4e(P,k,S)}else N=hY(k,P);else N=o==null?void 0:String(o);if(I>0&&k>0&&(i.current=a,s.current=Math.max(s.current,P)),v){var C=v.length/a.length,E=I===1?a:a.map((x,F)=>{var U=Math.floor(F*C);if(v[U]){var M=v[U];return yc(yc({},x),{},{x:on(M.x,x.x,I),y:on(M.y,x.y,I)})}return h?yc(yc({},x),{},{x:on(f*2,x.x,I),y:on(p/2,x.y,I)}):yc(yc({},x),{},{x:x.x,y:x.y})});return i.current=E,K.createElement(QL,{props:t,points:E,clipPathId:e,pathRef:n,strokeDasharray:N})}return K.createElement(QL,{props:t,points:a,clipPathId:e,pathRef:n,strokeDasharray:N})}),K.createElement(jC,{label:t.label}))}function n3e(r){var{clipPathId:e,props:t}=r,n=K.useRef(null),i=K.useRef(0),s=K.useRef(null);return K.createElement(r3e,{props:t,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var i3e=(r,e)=>{var t,n;return{x:(t=r.x)!==null&&t!==void 0?t:void 0,y:(n=r.y)!==null&&n!==void 0?n:void 0,value:r.value,errorVal:ln(r.payload,e)}};class s3e extends K.Component{render(){var{hide:e,dot:t,points:n,className:i,xAxisId:s,yAxisId:a,top:o,left:l,width:c,height:u,id:d,needClip:h,zIndex:f}=this.props;if(e)return null;var p=Yr("recharts-line",i),g=d,{r:m,strokeWidth:v}=dY(t),y=c8(t),b=m*2+v,w=h?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return K.createElement(Ta,{zIndex:f},K.createElement(di,{className:p},h&&K.createElement("defs",null,K.createElement(y8,{clipPathId:g,xAxisId:s,yAxisId:a}),!y&&K.createElement("clipPath",{id:"clipPath-dots-".concat(g)},K.createElement("rect",{x:l-b/2,y:o-b/2,width:c+b,height:u+b}))),K.createElement(aY,{xAxisId:s,yAxisId:a,data:n,dataPointFormatter:i3e,errorBarOffset:0},K.createElement(n3e,{props:this.props,clipPathId:g}))),K.createElement(uB,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:w}))}}var fY={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ni.line,type:"linear"};function a3e(r){var e=hi(r,fY),{activeDot:t,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:f,yAxisId:p,id:g}=e,m=b8(e,z4e),{needClip:v}=WC(f,p),y=KC(),b=Vh(),w=ys(),_=Qt(L=>p4e(L,f,p,w,g));if(b!=="horizontal"&&b!=="vertical"||_==null||y==null)return null;var{height:B,width:R,x:j,y:k}=y;return K.createElement(s3e,Hv({},m,{id:g,connectNulls:o,dot:l,activeDot:t,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:f,yAxisId:p,points:_,layout:b,height:B,width:R,left:j,top:k,needClip:v}))}function o3e(r){var{layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=r;return l.map((c,u)=>{var d=ln(c,a);if(e==="horizontal"){var h=h2({axis:t,ticks:i,bandSize:o,entry:c,index:u}),f=Ln(d)?null:n.scale(d);return{x:h,y:f,value:d,payload:c}}var p=Ln(d)?null:t.scale(d),g=h2({axis:n,ticks:s,bandSize:o,entry:c,index:u});return p==null||g==null?null:{x:p,y:g,value:d,payload:c}}).filter(Boolean)}function l3e(r){var e=hi(r,fY),t=ys();return K.createElement(VC,{id:e.id,type:"line"},n=>K.createElement(K.Fragment,null,K.createElement(A8,{legendPayload:q4e(e)}),K.createElement(X4e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),K.createElement(p8,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:t}),K.createElement(a3e,Hv({},e,{id:n}))))}var Qy=K.memo(l3e,Hy);Qy.displayName="Line";function zc(r,e){var t,n;return(t=(n=r.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&t!==void 0?t:JX}function Vc(r,e){var t,n;return(t=(n=r.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&t!==void 0?t:JX}var AY=(r,e,t)=>Uc(r,"xAxis",zc(r,e),t),pY=(r,e,t)=>Dc(r,"xAxis",zc(r,e),t),mY=(r,e,t)=>Uc(r,"yAxis",Vc(r,e),t),gY=(r,e,t)=>Dc(r,"yAxis",Vc(r,e),t),c3e=Oe([Dr,AY,mY,pY,gY],(r,e,t,n,i)=>$c(r,"xAxis")?Nh(e,n,!1):Nh(t,i,!1)),u3e=(r,e)=>e,vY=Oe([jy,u3e],(r,e)=>r.filter(t=>t.type==="area").find(t=>t.id===e)),yY=r=>{var e=Dr(r),t=$c(e,"xAxis");return t?"yAxis":"xAxis"},d3e=(r,e)=>{var t=yY(r);return t==="yAxis"?Vc(r,e):zc(r,e)},h3e=(r,e,t)=>I2(r,yY(r),d3e(r,e),t),f3e=Oe([vY,h3e],(r,e)=>{var t;if(!(r==null||e==null)){var{stackId:n}=r,i=xC(r);if(!(n==null||i==null)){var s=(t=e[n])===null||t===void 0?void 0:t.stackedData,a=s?.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),A3e=Oe([Dr,AY,mY,pY,gY,f3e,rq,c3e,vY,Vye],(r,e,t,n,i,s,a,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=a;if(!(l==null||r!=="horizontal"&&r!=="vertical"||e==null||t==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:f}=l,p;if(f&&f.length>0?p=f:p=u?.slice(d,h+1),p!=null)return I3e({layout:r,xAxis:e,yAxis:t,xAxisTicks:n,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:s,displayedData:p,chartBaseValue:c,bandSize:o})}}),p3e=["id"],m3e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function $f(){return $f=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},$f.apply(null,arguments)}function bY(r,e){if(r==null)return{};var t,n,i=g3e(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function g3e(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function $L(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Bp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(t),!0).forEach(function(n){v3e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$L(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function v3e(r,e,t){return(e=y3e(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function y3e(r){var e=b3e(r,"string");return typeof e=="symbol"?e:e+""}function b3e(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function H2(r,e){return r&&r!=="none"?r:e}var x3e=r=>{var{dataKey:e,name:t,stroke:n,fill:i,legendType:s,hide:a}=r;return[{inactive:a,dataKey:e,type:s,color:H2(n,i),value:zh(t,e),payload:r}]},w3e=K.memo(r=>{var{dataKey:e,data:t,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:c,id:u}=r,d={dataDefinedOnItem:t,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:zh(a,e),hide:o,type:c,color:H2(n,s),unit:l,graphicalItemId:u}};return K.createElement(zC,{tooltipEntrySettings:d})});function C3e(r){var{clipPathId:e,points:t,props:n}=r,{needClip:i,dot:s,dataKey:a}=n,o=Sa(n);return K.createElement(YX,{points:t,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function S3e(r){var{showLabels:e,children:t,points:n}=r,i=n.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bp(Bp({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return K.createElement(n8,{value:e?i:void 0},t)}function zL(r){var{points:e,baseLine:t,needClip:n,clipPathId:i,props:s}=r,{layout:a,type:o,stroke:l,connectNulls:c,isRange:u}=s,{id:d}=s,h=bY(s,p3e),f=Sa(h),p=la(h);return K.createElement(K.Fragment,null,e?.length>1&&K.createElement(di,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},K.createElement(Kp,$f({},p,{id:d,points:e,connectNulls:c,type:o,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&K.createElement(Kp,$f({},f,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:e})),l!=="none"&&u&&K.createElement(Kp,$f({},f,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:t}))),K.createElement(C3e,{points:e,props:h,clipPathId:i}))}function E3e(r){var e,t,{alpha:n,baseLine:i,points:s,strokeWidth:a}=r,o=(e=s[0])===null||e===void 0?void 0:e.y,l=(t=s[s.length-1])===null||t===void 0?void 0:t.y;if(!xn(o)||!xn(l))return null;var c=n*Math.abs(o-l),u=Math.max(...s.map(d=>d.x||0));return It(i)?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(...i.map(d=>d.x||0),u)),It(u)?K.createElement("rect",{x:0,y:o<l?o:o-c,width:u+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function _3e(r){var e,t,{alpha:n,baseLine:i,points:s,strokeWidth:a}=r,o=(e=s[0])===null||e===void 0?void 0:e.x,l=(t=s[s.length-1])===null||t===void 0?void 0:t.x;if(!xn(o)||!xn(l))return null;var c=n*Math.abs(o-l),u=Math.max(...s.map(d=>d.y||0));return It(i)?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(...i.map(d=>d.y||0),u)),It(u)?K.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(u+(a?parseInt("".concat(a),10):1))}):null}function N3e(r){var{alpha:e,layout:t,points:n,baseLine:i,strokeWidth:s}=r;return t==="vertical"?K.createElement(E3e,{alpha:e,points:n,baseLine:i,strokeWidth:s}):K.createElement(_3e,{alpha:e,points:n,baseLine:i,strokeWidth:s})}function B3e(r){var{needClip:e,clipPathId:t,props:n,previousPointsRef:i,previousBaselineRef:s}=r,{points:a,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,onAnimationStart:h,onAnimationEnd:f}=n,p=K.useMemo(()=>({points:a,baseLine:o}),[a,o]),g=Dm(p,"recharts-area-"),m=hme(),[v,y]=K.useState(!1),b=!v,w=K.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),_=K.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);if(m==null)return null;var B=i.current,R=s.current;return K.createElement(S3e,{showLabels:b,points:a},n.children,K.createElement(Lm,{animationId:g,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:w,onAnimationStart:_,key:g},j=>{if(B){var k=B.length/a.length,L=j===1?a:a.map((I,T)=>{var P=Math.floor(T*k);if(B[P]){var N=B[P];return Bp(Bp({},I),{},{x:on(N.x,I.x,j),y:on(N.y,I.y,j)})}return I}),H;return It(o)?H=on(R,o,j):Ln(o)||ll(o)?H=on(R,0,j):H=o.map((I,T)=>{var P=Math.floor(T*k);if(Array.isArray(R)&&R[P]){var N=R[P];return Bp(Bp({},I),{},{x:on(N.x,I.x,j),y:on(N.y,I.y,j)})}return I}),j>0&&(i.current=L,s.current=H),K.createElement(zL,{points:L,baseLine:H,needClip:e,clipPathId:t,props:n})}return j>0&&(i.current=a,s.current=o),K.createElement(di,null,l&&K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(t)},K.createElement(N3e,{alpha:j,points:a,baseLine:o,layout:m,strokeWidth:n.strokeWidth}))),K.createElement(di,{clipPath:"url(#animationClipPath-".concat(t,")")},K.createElement(zL,{points:a,baseLine:o,needClip:e,clipPathId:t,props:n})))}),K.createElement(jC,{label:n.label}))}function k3e(r){var{needClip:e,clipPathId:t,props:n}=r,i=K.useRef(null),s=K.useRef();return K.createElement(B3e,{needClip:e,clipPathId:t,props:n,previousPointsRef:i,previousBaselineRef:s})}class T3e extends K.PureComponent{render(){var{hide:e,dot:t,points:n,className:i,top:s,left:a,needClip:o,xAxisId:l,yAxisId:c,width:u,height:d,id:h,baseLine:f,zIndex:p}=this.props;if(e)return null;var g=Yr("recharts-area",i),m=h,{r:v,strokeWidth:y}=dY(t),b=c8(t),w=v*2+y,_=o?"url(#clipPath-".concat(b?"":"dots-").concat(m,")"):void 0;return K.createElement(Ta,{zIndex:p},K.createElement(di,{className:g},o&&K.createElement("defs",null,K.createElement(y8,{clipPathId:m,xAxisId:l,yAxisId:c}),!b&&K.createElement("clipPath",{id:"clipPath-dots-".concat(m)},K.createElement("rect",{x:a-w/2,y:s-w/2,width:u+w,height:d+w}))),K.createElement(k3e,{needClip:o,clipPathId:m,props:this.props})),K.createElement(uB,{points:n,mainColor:H2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}),this.props.isRange&&Array.isArray(f)&&K.createElement(uB,{points:f,mainColor:H2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}))}}var xY={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ni.area};function j3e(r){var e,t=hi(r,xY),{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:d,isAnimationActive:h,legendType:f,stroke:p,xAxisId:g,yAxisId:m}=t,v=bY(t,m3e),y=Vh(),b=vX(),{needClip:w}=WC(g,m),_=ys(),{points:B,isRange:R,baseLine:j}=(e=Qt(P=>A3e(P,r.id,_)))!==null&&e!==void 0?e:{},k=KC();if(y!=="horizontal"&&y!=="vertical"||k==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:L,width:H,x:I,y:T}=k;return!B||!B.length?null:K.createElement(T3e,$f({},v,{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:j,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:L,hide:d,layout:y,isAnimationActive:h==="auto"?!Cy.isSsr:h,isRange:R,legendType:f,needClip:w,points:B,stroke:p,width:H,left:I,top:T,xAxisId:g,yAxisId:m}))}var F3e=(r,e,t,n,i)=>{var s=t??e;if(It(s))return s;var a=r==="horizontal"?i:n,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function I3e(r){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:n},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:d,yAxisTicks:h,bandSize:f}=r,p=i&&i.length,g=F3e(s,a,t,o,l),m=s==="horizontal",v=!1,y=c.map((w,_)=>{var B,R,j;if(p)j=i[u+_];else{var k=ln(w,n);Array.isArray(k)?(j=k,v=!0):j=[g,k]}var L=(B=(R=j)===null||R===void 0?void 0:R[1])!==null&&B!==void 0?B:null,H=L==null||p&&!e&&ln(w,n)==null;return m?{x:h2({axis:o,ticks:d,bandSize:f,entry:w,index:_}),y:H?null:l.scale(L),value:j,payload:w}:{x:H?null:o.scale(L),y:h2({axis:l,ticks:h,bandSize:f,entry:w,index:_}),value:j,payload:w}}),b;return p||v?b=y.map(w=>{var _=Array.isArray(w.value)?w.value[0]:null;return m?{x:w.x,y:_!=null&&w.y!=null?l.scale(_):null,payload:w.payload}:{x:_!=null?o.scale(_):null,y:w.y,payload:w.payload}}):b=m?l.scale(g):o.scale(g),{points:y,baseLine:b,isRange:v}}function M3e(r){var e=hi(r,xY),t=ys();return K.createElement(VC,{id:e.id,type:"area"},n=>K.createElement(K.Fragment,null,K.createElement(A8,{legendPayload:x3e(e)}),K.createElement(w3e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),K.createElement(p8,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:UK(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),K.createElement(j3e,$f({},e,{id:n}))))}var jh=K.memo(M3e,Hy);jh.displayName="Area";var O3e="Invariant failed";function P3e(r,e){throw new Error(O3e)}function dB(){return dB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},dB.apply(null,arguments)}function Q2(r){return K.createElement(u8,dB({shapeType:"rectangle",activeClassName:"recharts-active-bar"},r))}var R3e=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(It(e))return e;var s=It(n)||Ln(n);return s?e(n,i):(s||P3e(),t)}},L3e=(r,e,t)=>t,D3e=(r,e)=>e,$y=Oe([jy,D3e],(r,e)=>r.filter(t=>t.type==="bar").find(t=>t.id===e)),U3e=Oe([$y],r=>r?.maxBarSize),H3e=(r,e,t,n)=>n,Q3e=Oe([Dr,jy,zc,Vc,L3e],(r,e,t,n,i)=>e.filter(s=>r==="horizontal"?s.xAxisId===t:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),$3e=(r,e,t)=>{var n=Dr(r),i=zc(r,e),s=Vc(r,e);if(!(i==null||s==null))return n==="horizontal"?I2(r,"yAxis",s,t):I2(r,"xAxis",i,t)},z3e=(r,e)=>{var t=Dr(r),n=zc(r,e),i=Vc(r,e);if(!(n==null||i==null))return t==="horizontal"?RR(r,"xAxis",n):RR(r,"yAxis",i)},V3e=Oe([Q3e,zye,z3e],eCe),G3e=(r,e,t)=>{var n,i,s=$y(r,e);if(s!=null){var a=zc(r,e),o=Vc(r,e);if(!(a==null||o==null)){var l=Dr(r),c=gq(r),{maxBarSize:u}=s,d=Ln(u)?c:u,h,f;return l==="horizontal"?(h=Uc(r,"xAxis",a,t),f=Dc(r,"xAxis",a,t)):(h=Uc(r,"yAxis",o,t),f=Dc(r,"yAxis",o,t)),(n=(i=Nh(h,f,!0))!==null&&i!==void 0?i:d)!==null&&n!==void 0?n:0}}},wY=(r,e,t)=>{var n=Dr(r),i=zc(r,e),s=Vc(r,e);if(!(i==null||s==null)){var a,o;return n==="horizontal"?(a=Uc(r,"xAxis",i,t),o=Dc(r,"xAxis",i,t)):(a=Uc(r,"yAxis",s,t),o=Dc(r,"yAxis",s,t)),Nh(a,o)}},K3e=Oe([V3e,gq,$ye,vq,G3e,wY,U3e],sCe),W3e=(r,e,t)=>{var n=zc(r,e);if(n!=null)return Uc(r,"xAxis",n,t)},q3e=(r,e,t)=>{var n=Vc(r,e);if(n!=null)return Uc(r,"yAxis",n,t)},X3e=(r,e,t)=>{var n=zc(r,e);if(n!=null)return Dc(r,"xAxis",n,t)},Y3e=(r,e,t)=>{var n=Vc(r,e);if(n!=null)return Dc(r,"yAxis",n,t)},J3e=Oe([K3e,$y],(r,e)=>{if(!(r==null||e==null)){var t=r.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),Z3e=Oe([$3e,$y],aCe),eSe=Oe([Zi,HT,W3e,q3e,X3e,Y3e,J3e,Dr,rq,wY,Z3e,$y,H3e],(r,e,t,n,i,s,a,o,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=l;if(!(d==null||a==null||e==null||o!=="horizontal"&&o!=="vertical"||t==null||n==null||i==null||s==null||c==null)){var{data:m}=d,v;if(m!=null&&m.length>0?v=m:v=f?.slice(p,g+1),v!=null)return kSe({layout:o,barSettings:d,pos:a,parentViewBox:e,bandSize:c,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:u,displayedData:v,offset:r,cells:h,dataStartIndex:p})}}),tSe=["index"];function hB(){return hB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hB.apply(null,arguments)}function rSe(r,e){if(r==null)return{};var t,n,i=nSe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function nSe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var CY=K.createContext(void 0),iSe=r=>{var e=K.useContext(CY);if(e!=null)return e.stackId;if(r!=null)return UK(r)},sSe=(r,e)=>"recharts-bar-stack-clip-path-".concat(r,"-").concat(e),aSe=r=>{var e=K.useContext(CY);if(e!=null){var{stackId:t}=e;return"url(#".concat(sSe(t,r),")")}},oSe=r=>{var{index:e}=r,t=rSe(r,tSe),n=aSe(e);return K.createElement(di,hB({className:"recharts-bar-stack-layer",clipPath:n},t))},lSe=["onMouseEnter","onMouseLeave","onClick"],cSe=["value","background","tooltipPosition"],uSe=["id"],dSe=["onMouseEnter","onClick","onMouseLeave"];function rd(){return rd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},rd.apply(null,arguments)}function VL(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ya(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(t),!0).forEach(function(n){hSe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):VL(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hSe(r,e,t){return(e=fSe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fSe(r){var e=ASe(r,"string");return typeof e=="symbol"?e:e+""}function ASe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $2(r,e){if(r==null)return{};var t,n,i=pSe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function pSe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var mSe=r=>{var{dataKey:e,name:t,fill:n,legendType:i,hide:s}=r;return[{inactive:s,dataKey:e,type:i,color:n,value:zh(t,e),payload:r}]},gSe=K.memo(r=>{var{dataKey:e,stroke:t,strokeWidth:n,fill:i,name:s,hide:a,unit:o,tooltipType:l,id:c}=r,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:zh(s,e),hide:a,type:l,color:i,unit:o,graphicalItemId:c}};return K.createElement(zC,{tooltipEntrySettings:u})});function vSe(r){var e=Qt(kh),{data:t,dataKey:n,background:i,allOtherBarProps:s}=r,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,c=$2(s,lSe),u=d8(a,n,s.id),d=h8(o),h=f8(l,n,s.id);if(!i||t==null)return null;var f=eA(i);return K.createElement(Ta,{zIndex:oCe(i,Ni.barBackground)},t.map((p,g)=>{var{value:m,background:v,tooltipPosition:y}=p,b=$2(p,cSe);if(!v)return null;var w=u(p,g),_=d(p,g),B=h(p,g),R=ya(ya(ya(ya(ya({option:i,isActive:String(g)===e},b),{},{fill:"#eee"},v),f),gy(c,p,g)),{},{onMouseEnter:w,onMouseLeave:_,onClick:B,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return K.createElement(Q2,rd({key:"background-bar-".concat(g)},R))}))}function ySe(r){var{showLabels:e,children:t,rects:n}=r,i=n?.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ya(ya({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return K.createElement(n8,{value:e?i:void 0},t)}function bSe(r){var{shape:e,activeBar:t,baseProps:n,entry:i,index:s,dataKey:a}=r,o=Qt(kh),l=Qt(Yj),c=t&&String(s)===o&&(l==null||a===l),u=c?t:e;return c?K.createElement(Ta,{zIndex:Ni.activeBar},K.createElement(Q2,rd({},n,{name:String(n.name)},i,{isActive:c,option:u,index:s,dataKey:a}))):K.createElement(Q2,rd({},n,{name:String(n.name)},i,{isActive:c,option:u,index:s,dataKey:a}))}function xSe(r){var{shape:e,baseProps:t,entry:n,index:i,dataKey:s}=r;return K.createElement(Q2,rd({},t,{name:String(t.name)},n,{isActive:!1,option:e,index:i,dataKey:s}))}function wSe(r){var e,{data:t,props:n}=r,i=(e=Sa(n))!==null&&e!==void 0?e:{},{id:s}=i,a=$2(i,uSe),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,f=$2(n,dSe),p=d8(u,l,s),g=h8(h),m=f8(d,l,s);return t?K.createElement(K.Fragment,null,t.map((v,y)=>K.createElement(oSe,rd({index:y,key:"rectangle-".concat(v?.x,"-").concat(v?.y,"-").concat(v?.value,"-").concat(y),className:"recharts-bar-rectangle"},gy(f,v,y),{onMouseEnter:p(v,y),onMouseLeave:g(v,y),onClick:m(v,y)}),c?K.createElement(bSe,{shape:o,activeBar:c,baseProps:a,entry:v,index:y,dataKey:l}):K.createElement(xSe,{shape:o,baseProps:a,entry:v,index:y,dataKey:l})))):null}function CSe(r){var{props:e,previousRectanglesRef:t}=r,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,d=t.current,h=Dm(e,"recharts-bar-"),[f,p]=K.useState(!1),g=!f,m=K.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),v=K.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return K.createElement(ySe,{showLabels:g,rects:n},K.createElement(Lm,{animationId:h,begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:m,onAnimationStart:v,key:h},y=>{var b=y===1?n:n?.map((w,_)=>{var B=d&&d[_];if(B)return ya(ya({},w),{},{x:on(B.x,w.x,y),y:on(B.y,w.y,y),width:on(B.width,w.width,y),height:on(B.height,w.height,y)});if(i==="horizontal"){var R=on(0,w.height,y),j=on(w.stackedBarStart,w.y,y);return ya(ya({},w),{},{y:j,height:R})}var k=on(0,w.width,y),L=on(w.stackedBarStart,w.x,y);return ya(ya({},w),{},{width:k,x:L})});return y>0&&(t.current=b??null),b==null?null:K.createElement(di,null,K.createElement(wSe,{props:e,data:b}))}),K.createElement(jC,{label:e.label}),e.children)}function SSe(r){var e=K.useRef(null);return K.createElement(CSe,{previousRectanglesRef:e,props:r})}var SY=0,ESe=(r,e)=>{var t=Array.isArray(r.value)?r.value[1]:r.value;return{x:r.x,y:r.y,value:t,errorVal:ln(r,e)}};class _Se extends K.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:c}=this.props;if(e||t==null)return null;var u=Yr("recharts-bar",i),d=c;return K.createElement(di,{className:u,id:c},o&&K.createElement("defs",null,K.createElement(y8,{clipPathId:d,xAxisId:s,yAxisId:a})),K.createElement(di,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},K.createElement(vSe,{data:t,dataKey:n,background:l,allOtherBarProps:this.props}),K.createElement(SSe,this.props)))}}var NSe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:SY,xAxisId:0,yAxisId:0,zIndex:Ni.bar};function BSe(r){var{xAxisId:e,yAxisId:t,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=r,{needClip:d}=WC(e,t),h=Vh(),f=ys(),p=l8(r.children,Ql),g=Qt(y=>eSe(y,r.id,f,p));if(h!=="vertical"&&h!=="horizontal")return null;var m,v=g?.[0];return v==null||v.height==null||v.width==null?m=0:m=h==="vertical"?v.height/2:v.width/2,K.createElement(aY,{xAxisId:e,yAxisId:t,data:g,dataPointFormatter:ESe,errorBarOffset:m},K.createElement(_Se,rd({},r,{layout:h,needClip:d,data:g,xAxisId:e,yAxisId:t,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function kSe(r){var{layout:e,barSettings:{dataKey:t,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p,dataStartIndex:g}=r,m=e==="horizontal"?o:a,v=u?m.scale.domain():null,y=Mpe({numericAxis:m}),b=m.scale(y);return d.map((w,_)=>{var B,R,j,k,L,H;if(u){var I=u[_+g];if(I==null)return null;B=kpe(I,v)}else B=ln(w,t),Array.isArray(B)||(B=[y,B]);var T=R3e(n,SY)(B[1],_);if(e==="horizontal"){var P,[N,S]=[o.scale(B[0]),o.scale(B[1])];R=qO({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:w,index:_}),j=(P=S??N)!==null&&P!==void 0?P:void 0,k=i.size;var C=N-S;if(L=ll(C)?0:C,H={x:R,y:h.top,width:k,height:h.height},Math.abs(T)>0&&Math.abs(L)<Math.abs(T)){var E=ms(L||T)*(Math.abs(T)-Math.abs(L));j-=E,L+=E}}else{var[x,F]=[a.scale(B[0]),a.scale(B[1])];if(R=x,j=qO({axis:o,ticks:c,bandSize:s,offset:i.offset,entry:w,index:_}),k=F-x,L=i.size,H={x:h.left,y:j,width:h.width,height:L},Math.abs(T)>0&&Math.abs(k)<Math.abs(T)){var U=ms(k||T)*(Math.abs(T)-Math.abs(k));k+=U}}if(R==null||j==null||k==null||L==null)return null;var M=ya(ya({},w),{},{stackedBarStart:b,x:R,y:j,width:k,height:L,value:u?B:B[1],payload:w,background:H,tooltipPosition:{x:R+k/2,y:j+L/2},parentViewBox:p},f&&f[_]&&f[_].props);return M}).filter(Boolean)}function TSe(r){var e=hi(r,NSe),t=iSe(e.stackId),n=ys();return K.createElement(VC,{id:e.id,type:"bar"},i=>K.createElement(K.Fragment,null,K.createElement(A8,{legendPayload:mSe(e)}),K.createElement(gSe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),K.createElement(p8,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:t,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),K.createElement(Ta,{zIndex:e.zIndex},K.createElement(BSe,rd({},e,{id:i})))))}var x8=K.memo(TSe,Hy);x8.displayName="Bar";var jSe=["domain","range"],FSe=["domain","range"];function GL(r,e){if(r==null)return{};var t,n,i=ISe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function ISe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function KL(r,e){return r===e?!0:Array.isArray(r)&&r.length===2&&Array.isArray(e)&&e.length===2?r[0]===e[0]&&r[1]===e[1]:!1}function EY(r,e){if(r===e)return!0;var{domain:t,range:n}=r,i=GL(r,jSe),{domain:s,range:a}=e,o=GL(e,FSe);return!KL(t,s)||!KL(n,a)?!1:Hy(i,o)}var MSe=["dangerouslySetInnerHTML","ticks","scale"],OSe=["id","scale"];function fB(){return fB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},fB.apply(null,arguments)}function WL(r,e){if(r==null)return{};var t,n,i=PSe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function PSe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function RSe(r){var e=Fn(),t=K.useRef(null);return K.useLayoutEffect(()=>{t.current===null?e(D5e(r)):t.current!==r&&e(U5e({prev:t.current,next:r})),t.current=r},[r,e]),K.useLayoutEffect(()=>()=>{t.current&&(e(H5e(t.current)),t.current=null)},[e]),null}var LSe=r=>{var{xAxisId:e,className:t}=r,n=Qt(HT),i=ys(),s="xAxis",a=Qt(v=>Xq(v,s,e,i)),o=Qt(v=>Gq(v,e)),l=Qt(v=>Q1e(v,e)),c=Qt(v=>Nq(v,e));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:d,scale:h}=r,f=WL(r,MSe),{id:p,scale:g}=c,m=WL(c,OSe);return K.createElement(v8,fB({},f,m,{x:l.x,y:l.y,width:o.width,height:o.height,className:Yr("recharts-".concat(s," ").concat(s),t),viewBox:n,ticks:a,axisType:s}))},DSe={allowDataOverflow:os.allowDataOverflow,allowDecimals:os.allowDecimals,allowDuplicatedCategory:os.allowDuplicatedCategory,angle:os.angle,axisLine:Ru.axisLine,height:os.height,hide:!1,includeHidden:os.includeHidden,interval:os.interval,minTickGap:os.minTickGap,mirror:os.mirror,orientation:os.orientation,padding:os.padding,reversed:os.reversed,scale:os.scale,tick:os.tick,tickCount:os.tickCount,tickLine:Ru.tickLine,tickSize:Ru.tickSize,type:os.type,xAxisId:0},USe=r=>{var e=hi(r,DSe);return K.createElement(K.Fragment,null,K.createElement(RSe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),K.createElement(LSe,e))},vh=K.memo(USe,EY);vh.displayName="XAxis";var HSe=["dangerouslySetInnerHTML","ticks","scale"],QSe=["id","scale"];function AB(){return AB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},AB.apply(null,arguments)}function qL(r,e){if(r==null)return{};var t,n,i=$Se(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function $Se(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function zSe(r){var e=Fn(),t=K.useRef(null);return K.useLayoutEffect(()=>{t.current===null?e(Q5e(r)):t.current!==r&&e($5e({prev:t.current,next:r})),t.current=r},[r,e]),K.useLayoutEffect(()=>()=>{t.current&&(e(z5e(t.current)),t.current=null)},[e]),null}var VSe=r=>{var{yAxisId:e,className:t,width:n,label:i}=r,s=K.useRef(null),a=K.useRef(null),o=Qt(HT),l=ys(),c=Fn(),u="yAxis",d=Qt(B=>Kq(B,e)),h=Qt(B=>z1e(B,e)),f=Qt(B=>Xq(B,u,e,l)),p=Qt(B=>Bq(B,e));if(K.useLayoutEffect(()=>{if(!(n!=="auto"||!d||r8(i)||K.isValidElement(i)||p==null)){var B=s.current;if(B){var R=B.getCalculatedWidth();Math.round(d.width)!==Math.round(R)&&c(V5e({id:e,width:R}))}}},[f,d,c,i,e,n,p]),d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:m,scale:v}=r,y=qL(r,HSe),{id:b,scale:w}=p,_=qL(p,QSe);return K.createElement(v8,AB({},y,_,{ref:s,labelRef:a,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:Yr("recharts-".concat(u," ").concat(u),t),viewBox:o,ticks:f,axisType:u}))},GSe={allowDataOverflow:ls.allowDataOverflow,allowDecimals:ls.allowDecimals,allowDuplicatedCategory:ls.allowDuplicatedCategory,angle:ls.angle,axisLine:Ru.axisLine,hide:!1,includeHidden:ls.includeHidden,interval:ls.interval,minTickGap:ls.minTickGap,mirror:ls.mirror,orientation:ls.orientation,padding:ls.padding,reversed:ls.reversed,scale:ls.scale,tick:ls.tick,tickCount:ls.tickCount,tickLine:Ru.tickLine,tickSize:Ru.tickSize,type:ls.type,width:ls.width,yAxisId:0},KSe=r=>{var e=hi(r,GSe);return K.createElement(K.Fragment,null,K.createElement(zSe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),K.createElement(VSe,e))},Ic=K.memo(KSe,EY);Ic.displayName="YAxis";var WSe=(r,e)=>e,w8=Oe([WSe,Dr,Eq,ts,hX,pd,sxe,Zi],hxe),C8=r=>{var e=r.currentTarget.getBoundingClientRect(),t=e.width/r.currentTarget.offsetWidth,n=e.height/r.currentTarget.offsetHeight;return{chartX:Math.round((r.clientX-e.left)/t),chartY:Math.round((r.clientY-e.top)/n)}},_Y=cl("mouseClick"),NY=by();NY.startListening({actionCreator:_Y,effect:(r,e)=>{var t=r.payload,n=w8(e.getState(),C8(t));n?.activeIndex!=null&&e.dispatch(ibe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var pB=cl("mouseMove"),BY=by(),wb=null;BY.startListening({actionCreator:pB,effect:(r,e)=>{var t=r.payload;wb!==null&&cancelAnimationFrame(wb);var n=C8(t);wb=requestAnimationFrame(()=>{var i=e.getState(),s=Vj(i,i.tooltip.settings.shared);if(s==="axis"){var a=w8(i,n);a?.activeIndex!=null?e.dispatch(iX({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(nX())}wb=null})}});function qSe(r,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":r==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var XL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},kY=Xa({name:"rootProps",initialState:XL,reducers:{updateOptions:(r,e)=>{var t;r.accessibilityLayer=e.payload.accessibilityLayer,r.barCategoryGap=e.payload.barCategoryGap,r.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:XL.barGap,r.barSize=e.payload.barSize,r.maxBarSize=e.payload.maxBarSize,r.stackOffset=e.payload.stackOffset,r.syncId=e.payload.syncId,r.syncMethod=e.payload.syncMethod,r.className=e.payload.className,r.baseValue=e.payload.baseValue,r.reverseStackOrder=e.payload.reverseStackOrder}}}),XSe=kY.reducer,{updateOptions:YSe}=kY.actions,TY=Xa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(r,e)=>e.payload}}),{updatePolarOptions:JSe}=TY.actions,ZSe=TY.reducer,jY=cl("keyDown"),FY=cl("focus"),S8=by();S8.startListening({actionCreator:jY,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=t.tooltip,s=r.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Gj(i,Wm(t),Iy(t),Py(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=pd(t);if(s==="Enter"){var c=O2(t,"axis","hover",String(i.index));e.dispatch(iB({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var u=W1e(t),d=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,f=o+h*d;if(!(l==null||f>=l.length||f<0)){var p=O2(t,"axis","hover",String(f));e.dispatch(iB({active:!0,activeIndex:f.toString(),activeCoordinate:p}))}}}}}});S8.startListening({actionCreator:FY,effect:(r,e)=>{var t=e.getState(),n=t.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",a=O2(t,"axis","hover",String(s));e.dispatch(iB({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var zo=cl("externalEvent"),IY=by(),lS=new Map;IY.startListening({actionCreator:zo,effect:(r,e)=>{var{handler:t,reactEvent:n}=r.payload;if(t!=null){n.persist();var i=n.type,s=lS.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:zbe(o),activeDataKey:Yj(o),activeIndex:kh(o),activeLabel:pX(o),activeTooltipIndex:kh(o),isTooltipActive:Vbe(o)};t(l,n)}finally{lS.delete(i)}});lS.set(i,a)}}});var eEe=Oe([Gm],r=>r.tooltipItemPayloads),tEe=Oe([eEe,Oy,(r,e)=>e,(r,e,t)=>t],(r,e,t,n)=>{var i=r.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,t);return a}}}),MY=cl("touchMove"),OY=by();OY.startListening({actionCreator:MY,effect:(r,e)=>{var t=r.payload;if(!(t.touches==null||t.touches.length===0)){var n=e.getState(),i=Vj(n,n.tooltip.settings.shared);if(i==="axis"){var s=t.touches[0];if(s==null)return;var a=w8(n,C8({clientX:s.clientX,clientY:s.clientY,currentTarget:t.currentTarget}));a?.activeIndex!=null&&e.dispatch(iX({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=t.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(QK),d=(o=c.getAttribute($K))!==null&&o!==void 0?o:void 0,h=Km(n).find(g=>g.id===d);if(u==null||h==null||d==null)return;var{dataKey:f}=h,p=tEe(n,u,d);e.dispatch(rX({activeDataKey:f,activeIndex:u,activeCoordinate:p,activeGraphicalItemId:d}))}}}});var rEe=cK({brush:lCe,cartesianAxis:G5e,chartData:Qxe,errorBars:s4e,graphicalItems:Z2e,layout:Cpe,legend:Nme,options:Rxe,polarAxis:p2e,polarOptions:ZSe,referenceElements:pCe,rootProps:XSe,tooltip:sbe,zIndex:_xe}),nEe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return WAe({reducer:rEe,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([NY.middleware,BY.middleware,S8.middleware,IY.middleware,OY.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(SK({type:"raf"}))},devTools:{serialize:{replacer:qSe},name:"recharts-".concat(t)}})};function PY(r){var{preloadedState:e,children:t,reduxStoreName:n}=r,i=ys(),s=K.useRef(null);if(i)return t;s.current==null&&(s.current=nEe(e,n));var a=TT;return K.createElement(D4e,{context:a,store:s.current},t)}function iEe(r){var{layout:e,margin:t}=r,n=Fn(),i=ys();return K.useEffect(()=>{i||(n(bpe(e)),n(ype(t)))},[n,i,e,t]),null}var RY=K.memo(iEe,Hy);function LY(r){var e=Fn();return K.useEffect(()=>{e(YSe(r))},[e,r]),null}function YL(r){var{zIndex:e,isPanorama:t}=r,n=K.useRef(null),i=Fn();return K.useLayoutEffect(()=>(n.current&&i(Sxe({zIndex:e,element:n.current,isPanorama:t})),()=>{i(Exe({zIndex:e,isPanorama:t}))}),[i,e,t]),K.createElement("g",{tabIndex:-1,ref:n})}function JL(r){var{children:e,isPanorama:t}=r,n=Qt(Axe);if(!n||n.length===0)return e;var i=n.filter(a=>a<0),s=n.filter(a=>a>0);return K.createElement(K.Fragment,null,i.map(a=>K.createElement(YL,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>K.createElement(YL,{key:a,zIndex:a,isPanorama:t})))}var sEe=["children"];function aEe(r,e){if(r==null)return{};var t,n,i=oEe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function oEe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function z2(){return z2=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},z2.apply(null,arguments)}var lEe={width:"100%",height:"100%",display:"block"},cEe=K.forwardRef((r,e)=>{var t=$T(),n=zT(),i=lW();if(!Rc(t)||!Rc(n))return null;var{children:s,otherAttributes:a,title:o,desc:l}=r,c,u;return a!=null&&(typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0),K.createElement(AT,z2({},a,{title:o,desc:l,role:u,tabIndex:c,width:t,height:n,style:lEe,ref:e}),s)}),uEe=r=>{var{children:e}=r,t=Qt(aC);if(!t)return null;var{width:n,height:i,y:s,x:a}=t;return K.createElement(AT,{width:n,height:i,x:a,y:s},e)},ZL=K.forwardRef((r,e)=>{var{children:t}=r,n=aEe(r,sEe),i=ys();return i?K.createElement(uEe,null,K.createElement(JL,{isPanorama:!0},t)):K.createElement(cEe,z2({ref:e},n),K.createElement(JL,{isPanorama:!1},t))});function dEe(){var r=Fn(),[e,t]=K.useState(null),n=Qt(Upe);return K.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;xn(s)&&s!==n&&r(wpe(s))}},[e,r,n]),t}function eD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hEe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(t),!0).forEach(function(n){fEe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eD(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fEe(r,e,t){return(e=AEe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function AEe(r){var e=pEe(r,"string");return typeof e=="symbol"?e:e+""}function pEe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function lA(){return lA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},lA.apply(null,arguments)}var mEe=()=>(Yxe(),null);function V2(r){if(typeof r=="number")return r;if(typeof r=="string"){var e=parseFloat(r);if(!Number.isNaN(e))return e}return 0}var gEe=K.forwardRef((r,e)=>{var t,n,i=K.useRef(null),[s,a]=K.useState({containerWidth:V2((t=r.style)===null||t===void 0?void 0:t.width),containerHeight:V2((n=r.style)===null||n===void 0?void 0:n.height)}),o=K.useCallback((c,u)=>{a(d=>{var h=Math.round(c),f=Math.round(u);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),l=K.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:d}=c.getBoundingClientRect();o(u,d);var h=p=>{var{width:g,height:m}=p[0].contentRect;o(g,m)},f=new ResizeObserver(h);f.observe(c),i.current=f}},[e,o]);return K.useEffect(()=>()=>{var c=i.current;c?.disconnect()},[o]),K.createElement(K.Fragment,null,K.createElement(lC,{width:s.containerWidth,height:s.containerHeight}),K.createElement("div",lA({ref:l},r)))}),vEe=K.forwardRef((r,e)=>{var{width:t,height:n}=r,[i,s]=K.useState({containerWidth:V2(t),containerHeight:V2(n)}),a=K.useCallback((l,c)=>{s(u=>{var d=Math.round(l),h=Math.round(c);return u.containerWidth===d&&u.containerHeight===h?u:{containerWidth:d,containerHeight:h}})},[]),o=K.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();a(c,u)}},[e,a]);return K.createElement(K.Fragment,null,K.createElement(lC,{width:i.containerWidth,height:i.containerHeight}),K.createElement("div",lA({ref:o},r)))}),yEe=K.forwardRef((r,e)=>{var{width:t,height:n}=r;return K.createElement(K.Fragment,null,K.createElement(lC,{width:t,height:n}),K.createElement("div",lA({ref:e},r)))}),bEe=K.forwardRef((r,e)=>{var{width:t,height:n}=r;return Xu(t)||Xu(n)?K.createElement(vEe,lA({},r,{ref:e})):K.createElement(yEe,lA({},r,{ref:e}))});function xEe(r){return r===!0?gEe:bEe}var wEe=K.forwardRef((r,e)=>{var{children:t,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:m,width:v,responsive:y,dispatchTouchEvents:b=!0}=r,w=K.useRef(null),_=Fn(),[B,R]=K.useState(null),[j,k]=K.useState(null),L=dEe(),H=QT(),I=H?.width>0?H.width:v,T=H?.height>0?H.height:i,P=K.useCallback(O=>{L(O),typeof e=="function"&&e(O),R(O),k(O),O!=null&&(w.current=O)},[L,e,R,k]),N=K.useCallback(O=>{_(_Y(O)),_(zo({handler:s,reactEvent:O}))},[_,s]),S=K.useCallback(O=>{_(pB(O)),_(zo({handler:c,reactEvent:O}))},[_,c]),C=K.useCallback(O=>{_(nX()),_(zo({handler:u,reactEvent:O}))},[_,u]),E=K.useCallback(O=>{_(pB(O)),_(zo({handler:d,reactEvent:O}))},[_,d]),x=K.useCallback(()=>{_(FY())},[_]),F=K.useCallback(O=>{_(jY(O.key))},[_]),U=K.useCallback(O=>{_(zo({handler:a,reactEvent:O}))},[_,a]),M=K.useCallback(O=>{_(zo({handler:o,reactEvent:O}))},[_,o]),z=K.useCallback(O=>{_(zo({handler:l,reactEvent:O}))},[_,l]),G=K.useCallback(O=>{_(zo({handler:h,reactEvent:O}))},[_,h]),Y=K.useCallback(O=>{_(zo({handler:g,reactEvent:O}))},[_,g]),Q=K.useCallback(O=>{b&&_(MY(O)),_(zo({handler:p,reactEvent:O}))},[_,b,p]),q=K.useCallback(O=>{_(zo({handler:f,reactEvent:O}))},[_,f]),D=xEe(y);return K.createElement(CX.Provider,{value:B},K.createElement(cG.Provider,{value:j},K.createElement(D,{width:I??m?.width,height:T??m?.height,className:Yr("recharts-wrapper",n),style:hEe({position:"relative",cursor:"default",width:I,height:T},m),onClick:N,onContextMenu:U,onDoubleClick:M,onFocus:x,onKeyDown:F,onMouseDown:z,onMouseEnter:S,onMouseLeave:C,onMouseMove:E,onMouseUp:G,onTouchEnd:q,onTouchMove:Q,onTouchStart:Y,ref:P},K.createElement(mEe,null),t)))}),CEe=["width","height","responsive","children","className","style","compact","title","desc"];function SEe(r,e){if(r==null)return{};var t,n,i=EEe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function EEe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var DY=K.forwardRef((r,e)=>{var{width:t,height:n,responsive:i,children:s,className:a,style:o,compact:l,title:c,desc:u}=r,d=SEe(r,CEe),h=Sa(d);return l?K.createElement(K.Fragment,null,K.createElement(lC,{width:t,height:n}),K.createElement(ZL,{otherAttributes:h,title:c,desc:u},s)):K.createElement(wEe,{className:a,style:o,width:t,height:n,responsive:i??!1,onClick:r.onClick,onMouseLeave:r.onMouseLeave,onMouseEnter:r.onMouseEnter,onMouseMove:r.onMouseMove,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onContextMenu:r.onContextMenu,onDoubleClick:r.onDoubleClick,onTouchStart:r.onTouchStart,onTouchMove:r.onTouchMove,onTouchEnd:r.onTouchEnd},K.createElement(ZL,{otherAttributes:h,title:c,desc:u,ref:e},K.createElement(gCe,null,s)))});function mB(){return mB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},mB.apply(null,arguments)}var _Ee={top:5,right:5,bottom:5,left:5},NEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_Ee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},qC=K.forwardRef(function(e,t){var n,i=hi(e.categoricalChartProps,NEe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return K.createElement(PY,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:s},K.createElement(eY,{chartData:c.data}),K.createElement(RY,{layout:i.layout,margin:i.margin}),K.createElement(LY,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),K.createElement(DY,mB({},i,{ref:t})))}),BEe=["axis"],kEe=K.forwardRef((r,e)=>K.createElement(qC,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BEe,tooltipPayloadSearcher:Ly,categoricalChartProps:r,ref:e})),TEe=["axis","item"],jEe=K.forwardRef((r,e)=>K.createElement(qC,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TEe,tooltipPayloadSearcher:Ly,categoricalChartProps:r,ref:e}));function FEe(r){var e=Fn();return K.useEffect(()=>{e(JSe(r))},[e,r]),null}var IEe=["layout"];function gB(){return gB=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gB.apply(null,arguments)}function MEe(r,e){if(r==null)return{};var t,n,i=OEe(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function OEe(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var PEe={top:5,right:5,bottom:5,left:5},UY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:PEe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},REe=K.forwardRef(function(e,t){var n,i=hi(e.categoricalChartProps,UY),{layout:s}=i,a=MEe(i,IEe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return K.createElement(PY,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},K.createElement(eY,{chartData:i.data}),K.createElement(RY,{layout:s,margin:i.margin}),K.createElement(LY,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),K.createElement(FEe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),K.createElement(DY,gB({},a,{ref:t})))});function tD(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function rD(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(t),!0).forEach(function(n){LEe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):tD(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function LEe(r,e,t){return(e=DEe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function DEe(r){var e=UEe(r,"string");return typeof e=="symbol"?e:e+""}function UEe(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var HEe=["item"],QEe=rD(rD({},UY),{},{layout:"centric",startAngle:0,endAngle:360}),XC=K.forwardRef((r,e)=>{var t=hi(r,QEe);return K.createElement(REe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:HEe,tooltipPayloadSearcher:Ly,categoricalChartProps:t,ref:e})}),$Ee=["axis"],YC=K.forwardRef((r,e)=>K.createElement(qC,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$Ee,tooltipPayloadSearcher:Ly,categoricalChartProps:r,ref:e})),zEe=["axis"],VEe=K.forwardRef((r,e)=>K.createElement(qC,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zEe,tooltipPayloadSearcher:Ly,categoricalChartProps:r,ref:e}));function kt(r,e="XAF",t="fr-FR"){const n={style:"currency",currency:e,minimumFractionDigits:e==="XAF"||e==="XOF"?0:2,maximumFractionDigits:e==="XAF"||e==="XOF"?0:2};try{return new Intl.NumberFormat(t,n).format(r)}catch{return`${r.toLocaleString(t)} ${e}`}}function fr(r,e="dd/MM/yyyy"){const t=typeof r=="string"?Uue(r):r;return WV(t)?Rr(t,e,{locale:rG}):"Date invalide"}function nD(r){if(r===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(e));return`${parseFloat((r/Math.pow(e,n)).toFixed(1))} ${t[n]}`}function GEe(){const r=Hh(),{clients:e,statements:t}=nl(),{banks:n}=Ou(),{analysisHistory:i=[],currentAnalysis:s}=jc(),{invoices:a=[]}=Qg(),{transactions:o}=Tc(),l=K.useMemo(()=>{const h=[...s?.anomalies||[],...(i||[]).flatMap(C=>C.anomalies)],f=new Date,p=f.getMonth(),g=f.getFullYear(),m=p===0?11:p-1,v=p===0?g-1:g,y=h.filter(C=>{const E=new Date(C.detectedAt);return E.getMonth()===p&&E.getFullYear()===g}),b=h.filter(C=>{const E=new Date(C.detectedAt);return E.getMonth()===m&&E.getFullYear()===v}),w=h.filter(C=>C.status==="confirmed"),_=w.reduce((C,E)=>C+E.amount,0),B=h.filter(C=>C.status==="pending").reduce((C,E)=>C+E.amount,0),R=h.filter(C=>C.severity===je.CRITICAL).length,j=h.filter(C=>C.severity===je.HIGH).length,k=h.filter(C=>C.severity===je.MEDIUM).length,L=h.filter(C=>C.severity===je.LOW).length,H=Object.values(ke).reduce((C,E)=>(C[E]=h.filter(x=>x.type===E).length,C),{}),I=t.filter(C=>C.status==="analyzed").length,T=t.filter(C=>C.status==="imported").length,P=e.map(C=>{const E=h.filter(U=>U.transactions.some(M=>M.clientId===C.id)),x=Math.min(100,E.reduce((U,M)=>M.severity===je.CRITICAL?U+25:M.severity===je.HIGH?U+15:M.severity===je.MEDIUM?U+8:U+3,0)),F=E.filter(U=>U.status==="confirmed").reduce((U,M)=>U+M.amount,0);return{...C,riskScore:x,anomalyCount:E.length,savings:F}}),N=o.reduce((C,E)=>C+Math.abs(E.amount),0),S=[];for(let C=5;C>=0;C--){const E=new Date(f.getFullYear(),f.getMonth()-C,1),x=h.filter(U=>{const M=new Date(U.detectedAt);return M.getMonth()===E.getMonth()&&M.getFullYear()===E.getFullYear()}),F=x.filter(U=>U.status==="confirmed").reduce((U,M)=>U+M.amount,0);S.push({month:E.toLocaleDateString("fr-FR",{month:"short"}),anomalies:x.length,savings:F,critical:x.filter(U=>U.severity===je.CRITICAL).length})}return{clients:e.length,statements:t.length,analyzedStatements:I,pendingStatements:T,allAnomalies:h,anomaliesThisMonth:y.length,anomaliesLastMonth:b.length,totalSavings:_,potentialSavings:B,criticalCount:R,highCount:j,mediumCount:k,lowCount:L,byType:H,clientRiskScores:P,totalTransactionVolume:N,monthlyTrend:S,confirmedRate:h.length>0?Math.round(w.length/h.length*100):0}},[e,t,s,i,o]),c=K.useMemo(()=>{const h={};return o.forEach(f=>{const g=n.find(m=>m.code===f.bankCode)?.name||"Autre";h[g]=(h[g]||0)+1}),Object.entries(h).map(([f,p],g)=>({name:f,value:p,color:["#171717","#3b82f6","#10b981","#f59e0b","#8b5cf6","#737373"][g%6]})).slice(0,6)},[o,n]),u=K.useMemo(()=>Object.entries(l.byType).filter(([,h])=>h>0).sort((h,f)=>f[1]-h[1]).slice(0,5).map(([h,f])=>({type:h,label:Wa[h]||h,count:f})),[l.byType]);l.criticalCount,l.highCount,l.mediumCount,l.lowCount;const d=l.anomaliesLastMonth>0?Math.round((l.anomaliesThisMonth-l.anomaliesLastMonth)/l.anomaliesLastMonth*100):0;return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Tableau de bord"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Vue d'ensemble de l'activit du cabinet"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:()=>r("/analyses"),children:[A.jsx(So,{className:"w-4 h-4 mr-1"}),"Nouvelle analyse"]}),A.jsxs(Ye,{size:"sm",onClick:()=>r("/import"),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Importer"]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[A.jsx(it,{className:"p-3 bg-gradient-to-br from-primary-900 to-primary-800 text-white",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-300",children:"Clients actifs"}),A.jsx("p",{className:"text-2xl font-bold",children:l.clients}),A.jsxs("p",{className:"text-xs text-primary-400",children:[l.statements," relevs"]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center",children:A.jsx(_h,{className:"w-5 h-5"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Anomalies ce mois"}),A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:l.anomaliesThisMonth}),A.jsxs("div",{className:"flex items-center gap-1",children:[d>0?A.jsx(gV,{className:"w-3 h-3 text-red-500"}):d<0?A.jsx(pV,{className:"w-3 h-3 text-green-500"}):null,A.jsxs("span",{className:`text-xs ${d>0?"text-red-500":"text-green-500"}`,children:[d>0?"+":"",d,"%"]})]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:A.jsx(As,{className:"w-5 h-5 text-amber-600"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Economies realisees"}),A.jsx("p",{className:"text-lg font-bold text-green-600",children:kt(l.totalSavings,"XAF")}),A.jsxs("p",{className:"text-xs text-primary-400",children:["+",kt(l.potentialSavings,"XAF")]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:A.jsx(L5,{className:"w-5 h-5 text-green-600"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Taux de confirmation"}),A.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[l.confirmedRate,"%"]}),A.jsxs("p",{className:"text-xs text-primary-400",children:[l.allAnomalies.filter(h=>h.status==="confirmed").length,"/",l.allAnomalies.length]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:A.jsx(MV,{className:"w-5 h-5 text-blue-600"})})]})})]}),l.criticalCount>0&&A.jsx(it,{className:"p-3 bg-red-50 border-red-200",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:A.jsx(jV,{className:"w-4 h-4 text-red-600"})}),A.jsxs("div",{children:[A.jsxs("p",{className:"text-sm font-semibold text-red-800",children:[l.criticalCount," anomalie",l.criticalCount>1?"s":""," critique",l.criticalCount>1?"s":""]}),A.jsx("p",{className:"text-xs text-red-600",children:"Action immediate requise"})]})]}),A.jsx(Ye,{variant:"primary",size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>r("/analyses"),children:"Voir"})]})}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[A.jsx(it,{className:"p-2.5",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center",children:A.jsx(D5,{className:"w-4 h-4 text-red-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-red-600",children:l.criticalCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Critiques"})]})]})}),A.jsx(it,{className:"p-2.5",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center",children:A.jsx(As,{className:"w-4 h-4 text-orange-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-orange-600",children:l.highCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Hautes"})]})]})}),A.jsx(it,{className:"p-2.5",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center",children:A.jsx(fV,{className:"w-4 h-4 text-yellow-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-yellow-600",children:l.mediumCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Moyennes"})]})]})}),A.jsx(it,{className:"p-2.5",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center",children:A.jsx(ba,{className:"w-4 h-4 text-green-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-green-600",children:l.lowCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Basses"})]})]})})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[A.jsxs(it,{children:[A.jsx(or,{className:"py-2",children:A.jsx(lr,{className:"text-sm",children:"Evolution mensuelle"})}),A.jsx(Ht,{className:"pt-0",children:A.jsx("div",{style:{width:"100%",height:192},children:A.jsx(Pl,{width:"100%",height:"100%",minWidth:100,minHeight:100,debounce:50,children:A.jsxs(YC,{data:l.monthlyTrend,children:[A.jsxs("defs",{children:[A.jsxs("linearGradient",{id:"colorAnomalies",x1:"0",y1:"0",x2:"0",y2:"1",children:[A.jsx("stop",{offset:"5%",stopColor:"#171717",stopOpacity:.3}),A.jsx("stop",{offset:"95%",stopColor:"#171717",stopOpacity:0})]}),A.jsxs("linearGradient",{id:"colorSavings",x1:"0",y1:"0",x2:"0",y2:"1",children:[A.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),A.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),A.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),A.jsx(vh,{dataKey:"month",stroke:"#737373",fontSize:12}),A.jsx(Ic,{yAxisId:"left",stroke:"#737373",fontSize:12}),A.jsx(Ic,{yAxisId:"right",orientation:"right",stroke:"#22c55e",fontSize:12,tickFormatter:h=>`${h/1e3}k`}),A.jsx(Rl,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e5e5",borderRadius:"8px"},formatter:(h,f)=>[f==="savings"?kt(h,"XAF"):h,f==="savings"?"Economies":f==="anomalies"?"Anomalies":"Critiques"]}),A.jsx(Sc,{}),A.jsx(jh,{yAxisId:"left",type:"monotone",dataKey:"anomalies",stroke:"#171717",fillOpacity:1,fill:"url(#colorAnomalies)",name:"Anomalies"}),A.jsx(Qy,{yAxisId:"left",type:"monotone",dataKey:"critical",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444"},name:"Critiques"}),A.jsx(jh,{yAxisId:"right",type:"monotone",dataKey:"savings",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorSavings)",name:"Economies"})]})})})})]}),A.jsxs(it,{children:[A.jsx(or,{className:"py-2",children:A.jsx(lr,{className:"text-sm",children:"Types d'anomalies"})}),A.jsx(Ht,{className:"pt-0",children:A.jsx("div",{className:"space-y-2",children:u.length>0?u.map((h,f)=>A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-xs font-bold text-primary-400 w-5",children:["#",f+1]}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-xs font-medium text-primary-900",children:h.label}),A.jsx("span",{className:"text-xs font-bold text-primary-900",children:h.count})]}),A.jsx("div",{className:"h-1.5 bg-primary-100 rounded-full overflow-hidden mt-0.5",children:A.jsx("div",{className:"h-full bg-primary-900 rounded-full",style:{width:`${h.count/Math.max(...u.map(p=>p.count))*100}%`}})})]})]},h.type)):A.jsx("div",{className:"text-center py-4 text-primary-500 text-sm",children:"Aucune anomalie"})})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[A.jsxs(it,{children:[A.jsx(or,{className:"py-2",children:A.jsx(lr,{className:"text-sm",children:"Repartition par banque"})}),A.jsx(Ht,{className:"pt-0",children:A.jsx("div",{style:{width:"100%",height:160},children:c.length>0?A.jsx(Pl,{width:"100%",height:"100%",minWidth:100,minHeight:100,debounce:50,children:A.jsxs(XC,{children:[A.jsx(Dy,{data:c,cx:"50%",cy:"50%",innerRadius:35,outerRadius:55,paddingAngle:3,dataKey:"value",children:c.map((h,f)=>A.jsx(Ql,{fill:h.color},`cell-${f}`))}),A.jsx(Rl,{formatter:h=>[`${h} tx`,"Vol."]}),A.jsx(Sc,{layout:"vertical",align:"right",verticalAlign:"middle",formatter:h=>A.jsx("span",{className:"text-xs",children:h})})]})}):A.jsx("div",{className:"h-full flex items-center justify-center text-primary-500 text-sm",children:"Aucune donnee"})})})]}),A.jsxs(it,{className:"lg:col-span-2",children:[A.jsx(or,{className:"py-2",action:A.jsxs(Ye,{variant:"ghost",size:"sm",onClick:()=>r("/clients"),children:["Voir ",A.jsx(uN,{className:"w-3 h-3 ml-1"})]}),children:A.jsx(lr,{className:"text-sm",children:"Top clients"})}),A.jsx(Ht,{className:"p-0",children:A.jsxs("div",{className:"divide-y divide-primary-100",children:[l.clientRiskScores.sort((h,f)=>f.savings-h.savings).slice(0,4).map((h,f)=>A.jsxs("div",{className:"px-4 py-2 flex items-center gap-3 hover:bg-primary-50 cursor-pointer",onClick:()=>r(`/clients/${h.id}`),children:[A.jsx("div",{className:"w-6 h-6 rounded bg-primary-900 flex items-center justify-center text-white font-bold text-xs",children:f+1}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"text-sm font-medium text-primary-900 truncate",children:h.name}),A.jsxs("p",{className:"text-xs text-primary-500",children:[h.anomalyCount," anomalies"]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-sm font-bold text-green-600",children:kt(h.savings,"XAF")}),A.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[A.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${h.riskScore>60?"bg-red-500":h.riskScore>30?"bg-yellow-500":"bg-green-500"}`}),A.jsxs("span",{className:"text-xs text-primary-500",children:[h.riskScore,"%"]})]})]})]},h.id)),l.clientRiskScores.length===0&&A.jsx("div",{className:"px-4 py-4 text-center text-primary-500 text-sm",children:"Aucun client"})]})})]})]}),l.pendingStatements>0&&A.jsx(it,{className:"p-3 bg-blue-50 border-blue-200",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:A.jsx(oT,{className:"w-4 h-4 text-blue-600"})}),A.jsxs("div",{children:[A.jsxs("p",{className:"text-sm font-semibold text-blue-800",children:[l.pendingStatements," releve",l.pendingStatements>1?"s":""," en attente"]}),A.jsx("p",{className:"text-xs text-blue-600",children:"Lancer l'analyse"})]})]}),A.jsx(Ye,{variant:"primary",size:"sm",onClick:()=>r("/analyses"),children:"Analyser"})]})}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[A.jsxs(it,{children:[A.jsx(or,{className:"py-2",children:A.jsx(lr,{className:"text-sm",children:"Actions rapides"})}),A.jsxs(Ht,{className:"space-y-2 pt-0",children:[A.jsxs(Ye,{variant:"primary",size:"sm",className:"w-full justify-start",onClick:()=>r("/import"),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Nouvel Audit"]}),A.jsxs(Ye,{variant:"secondary",size:"sm",className:"w-full justify-start",onClick:()=>r("/reports"),children:[A.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Rapport"]}),A.jsxs(Ye,{variant:"secondary",size:"sm",className:"w-full justify-start",onClick:()=>r("/clients"),children:[A.jsx(_h,{className:"w-4 h-4 mr-1"}),"Client"]}),A.jsxs(Ye,{variant:"secondary",size:"sm",className:"w-full justify-start",onClick:()=>r("/banks"),children:[A.jsx(Xi,{className:"w-4 h-4 mr-1"}),"Banques"]})]})]}),A.jsxs(it,{className:"lg:col-span-2",children:[A.jsx(or,{className:"py-2",children:A.jsx(lr,{className:"text-sm",children:"Volume d'activite"})}),A.jsx(Ht,{className:"pt-0",children:A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[A.jsxs("div",{className:"text-center p-2 bg-primary-50 rounded-lg",children:[A.jsx(Ka,{className:"w-4 h-4 text-primary-600 mx-auto mb-1"}),A.jsx("p",{className:"text-lg font-bold text-primary-900",children:o.length}),A.jsx("p",{className:"text-xs text-primary-500",children:"Transactions"})]}),A.jsxs("div",{className:"text-center p-2 bg-primary-50 rounded-lg",children:[A.jsx(Zr,{className:"w-4 h-4 text-primary-600 mx-auto mb-1"}),A.jsx("p",{className:"text-lg font-bold text-primary-900",children:l.analyzedStatements}),A.jsx("p",{className:"text-xs text-primary-500",children:"Analyses"})]}),A.jsxs("div",{className:"text-center p-2 bg-primary-50 rounded-lg",children:[A.jsx(qu,{className:"w-4 h-4 text-primary-600 mx-auto mb-1"}),A.jsx("p",{className:"text-sm font-bold text-primary-900",children:kt(l.totalTransactionVolume,"XAF")}),A.jsx("p",{className:"text-xs text-primary-500",children:"Volume"})]}),A.jsxs("div",{className:"text-center p-2 bg-primary-50 rounded-lg",children:[A.jsx(ph,{className:"w-4 h-4 text-primary-600 mx-auto mb-1"}),A.jsx("p",{className:"text-lg font-bold text-primary-900",children:a.length}),A.jsx("p",{className:"text-xs text-primary-500",children:"Factures"})]})]})})]})]})]})}const iD={default:"text-primary-900",success:"text-success",warning:"text-warning",error:"text-error"},KEe={default:"bg-primary-100",success:"bg-green-100",warning:"bg-amber-100",error:"bg-red-100"};function WEe({title:r,value:e,subtitle:t,icon:n,trend:i,variant:s="default"}){const a=()=>i?i.value>0?A.jsx(qu,{className:"w-4 h-4"}):i.value<0?A.jsx(OV,{className:"w-4 h-4"}):A.jsx(Lle,{className:"w-4 h-4"}):null,o=()=>i?i.value>0?"text-success":i.value<0?"text-error":"text-primary-500":"";return A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-xs font-medium text-primary-500 uppercase tracking-wide",children:r}),A.jsx("p",{className:`mt-1 text-2xl font-bold tabular-nums ${iD[s]}`,children:e}),t&&A.jsx("p",{className:"text-xs text-primary-500",children:t}),i&&A.jsxs("div",{className:`mt-1 flex items-center gap-1 text-xs ${o()}`,children:[a(),A.jsxs("span",{className:"font-medium",children:[i.value>0?"+":"",i.value,"%"]}),A.jsx("span",{className:"text-primary-400",children:i.label})]})]}),n&&A.jsx("div",{className:`p-2 rounded-lg ${KEe[s]}`,children:A.jsx("div",{className:iD[s],children:n})})]})})}const qEe=Object.freeze(Object.defineProperty({__proto__:null,DashboardPage:GEe,KPICard:WEe},Symbol.toStringTag,{value:"Module"}));var HY={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,e){((t,n)=>{r.exports=n()})(Sr,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(j){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(k){var L=_(k);L.chunkSize=parseInt(L.chunkSize),k.step||k.chunk||(L.chunkSize=null),this._handle=new g(L),(this._handle.streamer=this)._config=L}.call(this,j),this.parseChunk=function(k,L){var H=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<H){let T=this._config.newline;T||(I=this._config.quoteChar||'"',T=this._handle.guessLineEndings(k,I)),k=[...k.split(T).slice(H)].join(T)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(k))!==void 0&&(k=I),this.isFirstChunk=!1,this._halted=!1;var H=this._partialLine+k,I=(this._partialLine="",this._handle.parse(H,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=I.meta.cursor,H=(this._finished||(this._partialLine=H.substring(k-this._baseIndex),this._baseIndex=k),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:I,workerId:c.WORKER_ID,finished:H});else if(R(this._config.chunk)&&!L){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!H||!R(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),H||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(k){R(this._config.error)?this._config.error(k):a&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:k,finished:!1})}}function d(j){var k;(j=j||{}).chunkSize||(j.chunkSize=c.RemoteChunkSize),u.call(this,j),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),s||(k.onload=B(this._chunkLoaded,this),k.onerror=B(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var L,H=this._config.downloadRequestHeaders;for(L in H)k.setRequestHeader(L,H[L])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+I));try{k.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}s&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(L=>(L=L.getResponseHeader("Content-Range"))!==null?parseInt(L.substring(L.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(L){L=k.statusText||L,this._sendError(new Error(L))}}function h(j){(j=j||{}).chunkSize||(j.chunkSize=c.LocalChunkSize),u.call(this,j);var k,L,H=typeof FileReader<"u";this.stream=function(I){this._input=I,L=I.slice||I.webkitSlice||I.mozSlice,H?((k=new FileReader).onload=B(this._chunkLoaded,this),k.onerror=B(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,T=(this._config.chunkSize&&(T=Math.min(this._start+this._config.chunkSize,this._input.size),I=L.call(I,this._start,T)),k.readAsText(I,this._config.encoding));H||this._chunkLoaded({target:{result:T}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(k.error)}}function f(j){var k;u.call(this,j=j||{}),this.stream=function(L){return k=L,this._nextChunk()},this._nextChunk=function(){var L,H;if(!this._finished)return L=this._config.chunkSize,k=L?(H=k.substring(0,L),k.substring(L)):(H=k,""),this._finished=!k,this.parseChunk(H)}}function p(j){u.call(this,j=j||{});var k=[],L=!0,H=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):L=!0},this._streamData=B(function(I){try{k.push(typeof I=="string"?I:I.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(T){this._streamError(T)}},this),this._streamError=B(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=B(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=B(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(j){var k,L,H,I,T=Math.pow(2,53),P=-T,N=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,S=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,C=this,E=0,x=0,F=!1,U=!1,M=[],z={data:[],errors:[],meta:{}};function G(D){return j.skipEmptyLines==="greedy"?D.join("").trim()==="":D.length===1&&D[0].length===0}function Y(){if(z&&H&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),H=!1),j.skipEmptyLines&&(z.data=z.data.filter(function(J){return!G(J)})),Q()){let J=function(re,ne){R(j.transformHeader)&&(re=j.transformHeader(re,ne)),M.push(re)};if(z)if(Array.isArray(z.data[0])){for(var D=0;Q()&&D<z.data.length;D++)z.data[D].forEach(J);z.data.splice(0,1)}else z.data.forEach(J)}function O(J,re){for(var ne=j.header?{}:[],se=0;se<J.length;se++){var ee=se,de=J[se],de=((ie,he)=>(le=>(j.dynamicTypingFunction&&j.dynamicTyping[le]===void 0&&(j.dynamicTyping[le]=j.dynamicTypingFunction(le)),(j.dynamicTyping[le]||j.dynamicTyping)===!0))(ie)?he==="true"||he==="TRUE"||he!=="false"&&he!=="FALSE"&&((le=>{if(N.test(le)&&(le=parseFloat(le),P<le&&le<T))return 1})(he)?parseFloat(he):S.test(he)?new Date(he):he===""?null:he):he)(ee=j.header?se>=M.length?"__parsed_extra":M[se]:ee,de=j.transform?j.transform(de,ee):de);ee==="__parsed_extra"?(ne[ee]=ne[ee]||[],ne[ee].push(de)):ne[ee]=de}return j.header&&(se>M.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+se,x+re):se<M.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+se,x+re)),ne}var V;z&&(j.header||j.dynamicTyping||j.transform)&&(V=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(O),V=z.data.length):z.data=O(z.data,0),j.header&&z.meta&&(z.meta.fields=M),x+=V)}function Q(){return j.header&&M.length===0}function q(D,O,V,J){D={type:D,code:O,message:V},J!==void 0&&(D.row=J),z.errors.push(D)}R(j.step)&&(I=j.step,j.step=function(D){z=D,Q()?Y():(Y(),z.data.length!==0&&(E+=D.data.length,j.preview&&E>j.preview?L.abort():(z.data=z.data[0],I(z,C))))}),this.parse=function(D,O,V){var J=j.quoteChar||'"',J=(j.newline||(j.newline=this.guessLineEndings(D,J)),H=!1,j.delimiter?R(j.delimiter)&&(j.delimiter=j.delimiter(D),z.meta.delimiter=j.delimiter):((J=((re,ne,se,ee,de)=>{var ie,he,le,be;de=de||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ye=0;ye<de.length;ye++){for(var xe,Ee=de[ye],Be=0,Pe=0,Ue=0,He=(le=void 0,new v({comments:ee,delimiter:Ee,newline:ne,preview:10}).parse(re)),$e=0;$e<He.data.length;$e++)se&&G(He.data[$e])?Ue++:(xe=He.data[$e].length,Pe+=xe,le===void 0?le=xe:0<xe&&(Be+=Math.abs(xe-le),le=xe));0<He.data.length&&(Pe/=He.data.length-Ue),(he===void 0||Be<=he)&&(be===void 0||be<Pe)&&1.99<Pe&&(he=Be,ie=Ee,be=Pe)}return{successful:!!(j.delimiter=ie),bestDelimiter:ie}})(D,j.newline,j.skipEmptyLines,j.comments,j.delimitersToGuess)).successful?j.delimiter=J.bestDelimiter:(H=!0,j.delimiter=c.DefaultDelimiter),z.meta.delimiter=j.delimiter),_(j));return j.preview&&j.header&&J.preview++,k=D,L=new v(J),z=L.parse(k,O,V),Y(),F?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,L.abort(),k=R(j.chunk)?"":k.substring(L.getCharIndex())},this.resume=function(){C.streamer._halted?(F=!1,C.streamer.parseChunk(k,!0)):setTimeout(C.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,L.abort(),z.meta.aborted=!0,R(j.complete)&&j.complete(z),k=""},this.guessLineEndings=function(re,J){re=re.substring(0,1048576);var J=new RegExp(m(J)+"([^]*?)"+m(J),"gm"),V=(re=re.replace(J,"")).split("\r"),J=re.split(`
`),re=1<J.length&&J[0].length<V[0].length;if(V.length===1||re)return`
`;for(var ne=0,se=0;se<V.length;se++)V[se][0]===`
`&&ne++;return ne>=V.length/2?`\r
`:"\r"}}function m(j){return j.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(j){var k=(j=j||{}).delimiter,L=j.newline,H=j.comments,I=j.step,T=j.preview,P=j.fastMode,N=null,S=!1,C=j.quoteChar==null?'"':j.quoteChar,E=C;if(j.escapeChar!==void 0&&(E=j.escapeChar),(typeof k!="string"||-1<c.BAD_DELIMITERS.indexOf(k))&&(k=","),H===k)throw new Error("Comment character same as delimiter");H===!0?H="#":(typeof H!="string"||-1<c.BAD_DELIMITERS.indexOf(H))&&(H=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var x=0,F=!1;this.parse=function(U,M,z){if(typeof U!="string")throw new Error("Input must be a string");var G=U.length,Y=k.length,Q=L.length,q=H.length,D=R(I),O=[],V=[],J=[],re=x=0;if(!U)return Be();if(P||P!==!1&&U.indexOf(C)===-1){for(var ne=U.split(L),se=0;se<ne.length;se++){if(J=ne[se],x+=J.length,se!==ne.length-1)x+=L.length;else if(z)return Be();if(!H||J.substring(0,q)!==H){if(D){if(O=[],be(J.split(k)),Pe(),F)return Be()}else be(J.split(k));if(T&&T<=se)return O=O.slice(0,T),Be(!0)}}return Be()}for(var ee=U.indexOf(k,x),de=U.indexOf(L,x),ie=new RegExp(m(E)+m(C),"g"),he=U.indexOf(C,x);;)if(U[x]===C)for(he=x,x++;;){if((he=U.indexOf(C,he+1))===-1)return z||V.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:O.length,index:x}),xe();if(he===G-1)return xe(U.substring(x,he).replace(ie,C));if(C===E&&U[he+1]===E)he++;else if(C===E||he===0||U[he-1]!==E){ee!==-1&&ee<he+1&&(ee=U.indexOf(k,he+1));var le=ye((de=de!==-1&&de<he+1?U.indexOf(L,he+1):de)===-1?ee:Math.min(ee,de));if(U.substr(he+1+le,Y)===k){J.push(U.substring(x,he).replace(ie,C)),U[x=he+1+le+Y]!==C&&(he=U.indexOf(C,x)),ee=U.indexOf(k,x),de=U.indexOf(L,x);break}if(le=ye(de),U.substring(he+1+le,he+1+le+Q)===L){if(J.push(U.substring(x,he).replace(ie,C)),Ee(he+1+le+Q),ee=U.indexOf(k,x),he=U.indexOf(C,x),D&&(Pe(),F))return Be();if(T&&O.length>=T)return Be(!0);break}V.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:O.length,index:x}),he++}}else if(H&&J.length===0&&U.substring(x,x+q)===H){if(de===-1)return Be();x=de+Q,de=U.indexOf(L,x),ee=U.indexOf(k,x)}else if(ee!==-1&&(ee<de||de===-1))J.push(U.substring(x,ee)),x=ee+Y,ee=U.indexOf(k,x);else{if(de===-1)break;if(J.push(U.substring(x,de)),Ee(de+Q),D&&(Pe(),F))return Be();if(T&&O.length>=T)return Be(!0)}return xe();function be(Ue){O.push(Ue),re=x}function ye(Ue){var He=0;return He=Ue!==-1&&(Ue=U.substring(he+1,Ue))&&Ue.trim()===""?Ue.length:He}function xe(Ue){return z||(Ue===void 0&&(Ue=U.substring(x)),J.push(Ue),x=G,be(J),D&&Pe()),Be()}function Ee(Ue){x=Ue,be(J),J=[],de=U.indexOf(L,x)}function Be(Ue){if(j.header&&!M&&O.length&&!S){var He=O[0],$e=Object.create(null),Ke=new Set(He);let st=!1;for(let Ve=0;Ve<He.length;Ve++){let pt=He[Ve];if($e[pt=R(j.transformHeader)?j.transformHeader(pt,Ve):pt]){let Je,ze=$e[pt];for(;Je=pt+"_"+ze,ze++,Ke.has(Je););Ke.add(Je),He[Ve]=Je,$e[pt]++,st=!0,(N=N===null?{}:N)[Je]=pt}else $e[pt]=1,He[Ve]=pt;Ke.add(pt)}st&&console.warn("Duplicate headers found and renamed."),S=!0}return{data:O,errors:V,meta:{delimiter:k,linebreak:L,aborted:F,truncated:!!Ue,cursor:re+(M||0),renamedHeaders:N}}}function Pe(){I(Be()),O=[],V=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return x}}function y(j){var k=j.data,L=o[k.workerId],H=!1;if(k.error)L.userError(k.error,k.file);else if(k.results&&k.results.data){var I={abort:function(){H=!0,b(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(R(L.userStep)){for(var T=0;T<k.results.data.length&&(L.userStep({data:k.results.data[T],errors:k.results.errors,meta:k.results.meta},I),!H);T++);delete k.results}else R(L.userChunk)&&(L.userChunk(k.results,I,k.file),delete k.results)}k.finished&&!H&&b(k.workerId,k.results)}function b(j,k){var L=o[j];R(L.userComplete)&&L.userComplete(k),L.terminate(),delete o[j]}function w(){throw new Error("Not implemented.")}function _(j){if(typeof j!="object"||j===null)return j;var k,L=Array.isArray(j)?[]:{};for(k in j)L[k]=_(j[k]);return L}function B(j,k){return function(){j.apply(k,arguments)}}function R(j){return typeof j=="function"}return c.parse=function(j,k){var L=(k=k||{}).dynamicTyping||!1;if(R(L)&&(k.dynamicTypingFunction=L,L={}),k.dynamicTyping=L,k.transform=!!R(k.transform)&&k.transform,!k.worker||!c.WORKERS_SUPPORTED)return L=null,c.NODE_STREAM_INPUT,typeof j=="string"?(j=(H=>H.charCodeAt(0)!==65279?H:H.slice(1))(j),L=new(k.download?d:f)(k)):j.readable===!0&&R(j.read)&&R(j.on)?L=new p(k):(n.File&&j instanceof File||j instanceof Object)&&(L=new h(k)),L.stream(j);(L=(()=>{var H;return!!c.WORKERS_SUPPORTED&&(H=(()=>{var I=n.URL||n.webkitURL||null,T=t.toString();return c.BLOB_URL||(c.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",T,")();"],{type:"text/javascript"})))})(),(H=new n.Worker(H)).onmessage=y,H.id=l++,o[H.id]=H)})()).userStep=k.step,L.userChunk=k.chunk,L.userComplete=k.complete,L.userError=k.error,k.step=R(k.step),k.chunk=R(k.chunk),k.complete=R(k.complete),k.error=R(k.error),delete k.worker,L.postMessage({input:j,config:k,workerId:L.id})},c.unparse=function(j,k){var L=!1,H=!0,I=",",T=`\r
`,P='"',N=P+P,S=!1,C=null,E=!1,x=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||c.BAD_DELIMITERS.filter(function(M){return k.delimiter.indexOf(M)!==-1}).length||(I=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(L=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(S=k.skipEmptyLines),typeof k.newline=="string"&&(T=k.newline),typeof k.quoteChar=="string"&&(P=k.quoteChar),typeof k.header=="boolean"&&(H=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");C=k.columns}k.escapeChar!==void 0&&(N=k.escapeChar+P),k.escapeFormulae instanceof RegExp?E=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(E=/^[=+\-@\t\r].*$/)}})(),new RegExp(m(P),"g"));if(typeof j=="string"&&(j=JSON.parse(j)),Array.isArray(j)){if(!j.length||Array.isArray(j[0]))return F(null,j,S);if(typeof j[0]=="object")return F(C||Object.keys(j[0]),j,S)}else if(typeof j=="object")return typeof j.data=="string"&&(j.data=JSON.parse(j.data)),Array.isArray(j.data)&&(j.fields||(j.fields=j.meta&&j.meta.fields||C),j.fields||(j.fields=Array.isArray(j.data[0])?j.fields:typeof j.data[0]=="object"?Object.keys(j.data[0]):[]),Array.isArray(j.data[0])||typeof j.data[0]=="object"||(j.data=[j.data])),F(j.fields||[],j.data||[],S);throw new Error("Unable to serialize unrecognized input");function F(M,z,G){var Y="",Q=(typeof M=="string"&&(M=JSON.parse(M)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(M)&&0<M.length),q=!Array.isArray(z[0]);if(Q&&H){for(var D=0;D<M.length;D++)0<D&&(Y+=I),Y+=U(M[D],D);0<z.length&&(Y+=T)}for(var O=0;O<z.length;O++){var V=(Q?M:z[O]).length,J=!1,re=Q?Object.keys(z[O]).length===0:z[O].length===0;if(G&&!Q&&(J=G==="greedy"?z[O].join("").trim()==="":z[O].length===1&&z[O][0].length===0),G==="greedy"&&Q){for(var ne=[],se=0;se<V;se++){var ee=q?M[se]:se;ne.push(z[O][ee])}J=ne.join("").trim()===""}if(!J){for(var de=0;de<V;de++){0<de&&!re&&(Y+=I);var ie=Q&&q?M[de]:de;Y+=U(z[O][ie],de)}O<z.length-1&&(!G||0<V&&!re)&&(Y+=T)}}return Y}function U(M,z){var G,Y;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(Y=!1,E&&typeof M=="string"&&E.test(M)&&(M="'"+M,Y=!0),G=M.toString().replace(x,N),(Y=Y||L===!0||typeof L=="function"&&L(M,z)||Array.isArray(L)&&L[z]||((Q,q)=>{for(var D=0;D<q.length;D++)if(-1<Q.indexOf(q[D]))return!0;return!1})(G,c.BAD_DELIMITERS)||-1<G.indexOf(I)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?P+G+P:G)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=v,c.ParserHandle=g,c.NetworkStreamer=d,c.FileStreamer=h,c.StringStreamer=f,c.ReadableStreamStreamer=p,n.jQuery&&((i=n.jQuery).fn.parse=function(j){var k=j.config||{},L=[];return this.each(function(T){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)L.push({file:this.files[P],inputElem:this,instanceConfig:i.extend({},k)})}),H(),this;function H(){if(L.length===0)R(j.complete)&&j.complete();else{var T,P,N,S,C=L[0];if(R(j.before)){var E=j.before(C.file,C.inputElem);if(typeof E=="object"){if(E.action==="abort")return T="AbortError",P=C.file,N=C.inputElem,S=E.reason,void(R(j.error)&&j.error({name:T},P,N,S));if(E.action==="skip")return void I();typeof E.config=="object"&&(C.instanceConfig=i.extend(C.instanceConfig,E.config))}else if(E==="skip")return void I()}var x=C.instanceConfig.complete;C.instanceConfig.complete=function(F){R(x)&&x(F,C.file,C.inputElem),I()},c.parse(C.file,C.instanceConfig)}}function I(){L.splice(0,1),H()}}),a&&(n.onmessage=function(j){j=j.data,c.WORKER_ID===void 0&&j&&(c.WORKER_ID=j.workerId),typeof j.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(j.input,j.config),finished:!0}):(n.File&&j.input instanceof File||j.input instanceof Object)&&(j=c.parse(j.input,j.config))&&n.postMessage({workerId:c.WORKER_ID,results:j,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(u.prototype)).constructor=p,c})})(HY);var XEe=HY.exports;const sD=No(XEe);function xg(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var QY={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function a(c,u){if(!i[c]){if(!n[c]){var d=typeof xg=="function"&&xg;if(!u&&d)return d(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[c]={exports:{}};n[c][0].call(f.exports,function(p){return a(n[c][1][p]||p)},f,f.exports,t,n,i,s)}return i[c].exports}for(var o=typeof xg=="function"&&xg,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(t,n,i){const s=t("fs"),a=t("fast-csv"),o=t("dayjs/plugin/customParseFormat"),l=t("dayjs/plugin/utc"),c=t("dayjs").extend(o).extend(l),u=t("../utils/stream-buf"),{fs:{exists:d}}=t("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,p){if(p=p||{},!await d(f))throw new Error("File not found: "+f);const g=s.createReadStream(f),m=await this.read(g,p);return g.close(),m}read(f,p){return p=p||{},new Promise((g,m)=>{const v=this.workbook.addWorksheet(p.sheetName),y=p.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=p.map||function(_){if(_==="")return null;const B=Number(_);if(!Number.isNaN(B)&&B!==1/0)return B;const R=y.reduce((k,L)=>{if(k)return k;const H=c(_,L,!0);return H.isValid()?H:null},null);if(R)return new Date(R.valueOf());const j=h[_];return j!==void 0?j:_},w=a.parse(p.parserOptions).on("data",_=>{v.addRow(_.map(b))}).on("end",()=>{w.emit("worksheet",v)});w.on("worksheet",g).on("error",m),f.pipe(w)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,p){return new Promise((g,m)=>{p=p||{};const v=this.workbook.getWorksheet(p.sheetName||p.sheetId),y=a.format(p.formatterOptions);f.on("finish",()=>{g()}),y.on("error",m),y.pipe(f);const{dateFormat:b,dateUTC:w}=p,_=p.map||(j=>{if(j){if(j.text||j.hyperlink)return j.hyperlink||j.text||"";if(j.formula||j.result)return j.result||"";if(j instanceof Date)return b?w?c.utc(j).format(b):c(j).format(b):w?c.utc(j).format():c(j).format();if(j.error)return j.error;if(typeof j=="object")return JSON.stringify(j)}return j}),B=p.includeEmptyRows===void 0||p.includeEmptyRows;let R=1;v&&v.eachRow((j,k)=>{if(B)for(;R++<k-1;)y.write([]);const{values:L}=j;L.shift(),y.write(L.map(_)),R=k}),y.end()})}writeFile(f,p){const g={encoding:(p=p||{}).encoding||"utf8"},m=s.createWriteStream(f,g);return this.write(m,p)}async writeBuffer(f){const p=new u;return await this.write(p,f),p.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,n,i){const s=t("../utils/col-cache");class a{constructor(l,c){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,c)if(typeof c=="string"){const d=s.decodeAddress(c);this.nativeCol=d.col+u,this.nativeColOff=0,this.nativeRow=d.row+u,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+u,this.row=c.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof a||l==null?l:new a(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(t,n,i){const s=t("../utils/col-cache"),a=t("../utils/under-dash"),o=t("./enums"),{slideFormula:l}=t("../utils/shared-formula"),c=t("./note");class u{constructor(f,p,g){if(!f||!p)throw new Error("A Cell needs a Row");this._row=f,this._column=p,s.validateAddress(g),this._address=g,this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(f.style,p.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,p,g){const m=f&&f.numFmt||p&&p.numFmt;m&&(g.numFmt=m);const v=f&&f.font||p&&p.font;v&&(g.font=v);const y=f&&f.alignment||p&&p.alignment;y&&(g.alignment=y);const b=f&&f.border||p&&p.border;b&&(g.border=b);const w=f&&f.fill||p&&p.fill;w&&(g.fill=w);const _=f&&f.protection||p&&p.protection;return _&&(g.protection=_),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(f,p){this._value.release(),this._value=d.create(u.Types.Merge,this,f),p||(this.style=f.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===u.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==u.Types.Merge?(this._value.release(),this._value=d.create(d.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new c(f)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===u.Types.String&&(this._value=d.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:p}=this.workbook;p.removeAllNames(this.fullAddress),f.forEach(g=>{p.addEx(this.fullAddress,g)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=d.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=c.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}u.Types=o.ValueType;const d={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Number,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Date,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,f){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(h){const f={},p=g=>{const m=h[g];m&&(f[g]=m)};return p("formula"),p("result"),p("ref"),p("shareType"),p("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(d.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,f=h.findCell(this.model.sharedFormula);this._translatedFormula=f&&l(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.SharedString,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Boolean,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Error,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,f)=>(h[f.t]=f.f,h),[]),create(h,f,p){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(f,p)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,n,i){const s=t("../utils/under-dash"),a=t("./enums"),o=t("../utils/col-cache");class l{constructor(u,d,h){this._worksheet=u,this._number=d,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((d,h)=>{this._worksheet.getCell(h+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&s.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,d){const h=this.number;d||(d=u,u=null),this._worksheet.eachRow(u,(f,p)=>{d(f.getCell(h),p)})}get values(){const u=[];return this.eachCell((d,h)=>{d&&d.type!==a.ValueType.Null&&(u[h]=d.value)}),u}set values(u){if(!u)return;const d=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((f,p)=>{this._worksheet.getCell(p+h,d).value=f})}_applyStyle(u,d){return this.style[u]=d,this.eachCell(h=>{h[u]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const d=[];let h=null;return u&&u.forEach((f,p)=>{f.isDefault?h&&(h=null):h&&f.equivalentTo(h)?h.max=p+1:(h={min:p+1,max:p+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},d.push(h))}),d.length?d:void 0}static fromModel(u,d){const h=[];let f=1,p=0;for(d=(d=d||[]).sort(function(g,m){return g.min-m.min});p<d.length;){const g=d[p++];for(;f<g.min;)h.push(new l(u,f++));for(;f<=g.max;)h.push(new l(u,f++,g))}return h.length?h:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,n,i){n.exports=class{constructor(s){this.model=s||{}}add(s,a){return this.model[s]=a}find(s){return this.model[s]}remove(s){this.model[s]=void 0}}},{}],6:[function(t,n,i){const s=t("../utils/under-dash"),a=t("../utils/col-cache"),o=t("../utils/cell-matrix"),l=t("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new o)}add(u,d){const h=a.decodeEx(u);this.addEx(h,d)}addEx(u,d){const h=this.getMatrix(d);if(u.top)for(let f=u.left;f<=u.right;f++)for(let p=u.top;p<=u.bottom;p++){const g={sheetName:u.sheetName,address:a.n2l(f)+p,row:p,col:f};h.addCellEx(g)}else h.addCellEx(u)}remove(u,d){const h=a.decodeEx(u);this.removeEx(h,d)}removeEx(u,d){this.getMatrix(d).removeCellEx(u)}removeAllNames(u){s.each(this.matrixMap,d=>{d.removeCellEx(u)})}forEach(u){s.each(this.matrixMap,(d,h)=>{d.forEach(f=>{u(h,f)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return s.map(this.matrixMap,(d,h)=>d.findCellEx(u)&&h).filter(Boolean)}_explore(u,d){d.mark=!1;const{sheetName:h}=d,f=new l(d.row,d.col,d.row,d.col,h);let p,g;function m(y,b){const w=u.findCellAt(h,y,d.col);return!(!w||!w.mark)&&(f[b]=y,w.mark=!1,!0)}for(g=d.row-1;m(g,"top");g--);for(g=d.row+1;m(g,"bottom");g++);function v(y,b){const w=[];for(g=f.top;g<=f.bottom;g++){const _=u.findCellAt(h,g,y);if(!_||!_.mark)return!1;w.push(_)}f[b]=y;for(let _=0;_<w.length;_++)w[_].mark=!1;return!0}for(p=d.col-1;v(p,"left");p--);for(p=d.col+1;v(p,"right");p++);return f}getRanges(u,d){return(d=d||this.matrixMap[u])?(d.forEach(h=>{h.mark=!0}),{name:u,ranges:d.map(h=>h.mark&&this._explore(d,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,d){u.forEachInSheet(d,(h,f,p)=>{h&&(h.row===f&&h.col===p||(h.row=f,h.col=p,h.address=a.n2l(p)+f))})}spliceRows(u,d,h,f){s.each(this.matrixMap,p=>{p.spliceRows(u,d,h,f),this.normaliseMatrix(p,u)})}spliceColumns(u,d,h,f){s.each(this.matrixMap,p=>{p.spliceColumns(u,d,h,f),this.normaliseMatrix(p,u)})}get model(){return s.map(this.matrixMap,(u,d)=>this.getRanges(d,u)).filter(u=>u.ranges.length)}set model(u){const d=this.matrixMap={};u.forEach(h=>{const f=d[h.name]=new o;h.ranges.forEach(p=>{c.test(p.split("!").pop()||"")&&f.addCell(p)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,n,i){const s=t("../utils/col-cache"),a=t("./anchor");n.exports=class{constructor(o,l){this.worksheet=o,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:l,imageId:c,range:u,hyperlinks:d}=o;if(this.type=l,this.imageId=c,l==="image")if(typeof u=="string"){const h=s.decode(u);this.range={tl:new a(this.worksheet,{col:h.left,row:h.top},-1),br:new a(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:d||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,n,i){const s=t("../utils/under-dash");class a{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return s.deepMerge({},a.DEFAULT_CONFIGS,l)}set model(l){const{note:c}=l,{texts:u}=c;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=c}static fromModel(l){const c=new a;return c.model=l,c}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(t,n,i){const s=t("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(l,c,u,d,h){if(arguments.length<4){const f=s.decodeAddress(l),p=s.decodeAddress(c);this.model={top:Math.min(f.row,p.row),left:Math.min(f.col,p.col),bottom:Math.max(f.row,p.row),right:Math.max(f.col,p.col),sheetName:u},this.setTLBR(f.row,f.col,p.row,p.col,h)}else this.model={top:Math.min(l,u),left:Math.min(c,d),bottom:Math.max(l,u),right:Math.max(c,d),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const c=l[0];if(c instanceof a)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const u=s.decodeEx(c);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,c,u,d){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(l){if(l){const{dimensions:c,number:u}=l;c&&this.expand(u,c.min,u,c.max)}}expandToAddress(l){const c=s.decodeEx(l);this.expand(c.row,c.col,c.row,c.col)}get tl(){return s.n2l(this.left)+this.top}get $t$l(){return`$${s.n2l(this.left)}$${this.top}`}get br(){return s.n2l(this.right)+this.bottom}get $b$r(){return`$${s.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const c=s.decodeEx(l);return this.containsEx(c)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let c=this.left;c<=this.right;c++)for(let u=this.top;u<=this.bottom;u++)l(s.encodeAddress(u,c),u,c)}}n.exports=a},{"../utils/col-cache":19}],11:[function(t,n,i){const s=t("../utils/under-dash"),a=t("./enums"),o=t("../utils/col-cache"),l=t("./cell");n.exports=class{constructor(c,u){this._worksheet=c,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let u=this._cells[c.col-1];if(!u){const d=this._worksheet.getColumn(c.col);u=new l(this,d,c.address),this._cells[c.col-1]=u}return u}getCell(c){if(typeof c=="string"){const u=this._worksheet.getColumnKey(c);c=u?u.number:o.l2n(c)}return this._cells[c-1]||this.getCellEx({address:o.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,u){const d=c+u;for(var h=arguments.length,f=new Array(h>2?h-2:0),p=2;p<h;p++)f[p-2]=arguments[p];const g=f.length-u,m=this._cells.length;let v,y,b;if(g<0)for(v=c+f.length;v<=m;v++)b=this._cells[v-1],y=this._cells[v-g-1],y?(b=this.getCell(v),b.value=y.value,b.style=y.style,b._comment=y._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(g>0)for(v=m;v>=d;v--)y=this._cells[v-1],y?(b=this.getCell(v+g),b.value=y.value,b.style=y.style,b._comment=y._comment):this._cells[v+g-1]=void 0;for(v=0;v<f.length;v++)b=this.getCell(c+v),b.value=f[v],b.style={},b._comment=void 0}eachCell(c,u){if(u||(u=c,c=null),c&&c.includeEmpty){const d=this._cells.length;for(let h=1;h<=d;h++)u(this.getCell(h),h)}else this._cells.forEach((d,h)=>{d&&d.type!==a.ValueType.Null&&u(d,h+1)})}addPageBreak(c,u){const d=this._worksheet,h=Math.max(0,c-1)||0,f=Math.max(0,u-1)||16838,p={id:this._number,max:f,man:1};h&&(p.min=h),d.rowBreaks.push(p)}get values(){const c=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(c[u.col]=u.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let u=0;c.hasOwnProperty("0")&&(u=1),c.forEach((d,h)=>{d!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=d)})}else this._worksheet.eachColumnKey((u,d)=>{c[d]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=c[d])})}get hasValues(){return s.some(this._cells,c=>c&&c.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,u=0;return this._cells.forEach(d=>{d&&d.type!==a.ValueType.Null&&((!c||c>d.col)&&(c=d.col),u<d.col&&(u=d.col))}),c>0?{min:c,max:u}:null}_applyStyle(c,u){return this.style[c]=u,this._cells.forEach(d=>{d&&(d[c]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let u=0,d=0;return this._cells.forEach(h=>{if(h){const f=h.model;f&&((!u||u>h.col)&&(u=h.col),d<h.col&&(d=h.col),c.push(f))}}),this.height||c.length?{cells:c,number:this.number,min:u,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],c.cells.forEach(d=>{switch(d.type){case l.Types.Merge:break;default:{let h;if(d.address)h=o.decodeAddress(d.address);else if(u){const{row:f}=u,p=u.col+1;h={row:f,col:p,address:o.encodeAddress(f,p),$col$row:`$${o.n2l(p)}$${f}`}}u=h,this.getCellEx(h).model=d;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,n,i){const s=t("../utils/col-cache");class a{constructor(l,c,u){this.table=l,this.column=c,this.index=u}_set(l,c){this.table.cacheState(),this.column[l]=c}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(o,l){this.worksheet=o,l&&(this.table=l,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,l=(g,m,v)=>{g[m]===void 0&&(g[m]=v)};l(o,"headerRow",!0),l(o,"totalsRow",!1),l(o,"style",{}),l(o.style,"theme","TableStyleMedium2"),l(o.style,"showFirstColumn",!1),l(o.style,"showLastColumn",!1),l(o.style,"showRowStripes",!1),l(o.style,"showColumnStripes",!1);const c=(g,m)=>{if(!g)throw new Error(m)};c(o.ref,"Table must have ref"),c(o.columns,"Table must have column definitions"),c(o.rows,"Table must have row definitions"),o.tl=s.decodeAddress(o.ref);const{row:u,col:d}=o.tl;c(u>0,"Table must be on valid row"),c(d>0,"Table must be on valid col");const{width:h,filterHeight:f,tableHeight:p}=this;o.autoFilterRef=s.encode(u,d,u+f-1,d+h-1),o.tableRef=s.encode(u,d,u+p-1,d+h-1),o.columns.forEach((g,m)=>{c(g.name,`Column ${m} must have a name`),m===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const o=(f,p)=>{p&&Object.keys(p).forEach(g=>{f[g]=p[g]})},{worksheet:l,table:c}=this,{row:u,col:d}=c.tl;let h=0;if(c.headerRow){const f=l.getRow(u+h++);c.columns.forEach((p,g)=>{const{style:m,name:v}=p,y=f.getCell(d+g);y.value=v,o(y,m)})}if(c.rows.forEach(f=>{const p=l.getRow(u+h++);f.forEach((g,m)=>{const v=p.getCell(d+m);v.value=g,o(v,c.columns[m].style)})}),c.totalsRow){const f=l.getRow(u+h++);c.columns.forEach((p,g)=>{const m=f.getCell(d+g);if(g===0)m.value=p.totalsRowLabel;else{const v=this.getFormula(p);m.value=v?{formula:p.totalsRowFormula,result:p.totalsRowResult}:null}o(m,p.style)})}}load(o){const{table:l}=this,{row:c,col:u}=l.tl;let d=0;if(l.headerRow){const h=o.getRow(c+d++);l.columns.forEach((f,p)=>{h.getCell(u+p).value=f.name})}if(l.rows.forEach(h=>{const f=o.getRow(c+d++);h.forEach((p,g)=>{f.getCell(u+g).value=p})}),l.totalsRow){const h=o.getRow(c+d++);l.columns.forEach((f,p)=>{const g=h.getCell(u+p);p===0?g.value=f.totalsRowLabel:this.getFormula(f)&&(g.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=s.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(o.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(o.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(o.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(o.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const c=this.worksheet.getRow(o.row+l);for(let u=this.width;u<this._cache.width;u++)c.getCell(o.col+u).value=null}}this.store()}addRow(o,l){this.cacheState(),l===void 0?this.table.rows.push(o):this.table.rows.splice(l,0,o)}removeRows(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,l)}getColumn(o){const l=this.table.columns[o];return new a(this,l,o)}addColumn(o,l,c){this.cacheState(),c===void 0?(this.table.columns.push(o),this.table.rows.forEach((u,d)=>{u.push(l[d])})):(this.table.columns.splice(c,0,o),this.table.rows.forEach((u,d)=>{u.splice(c,0,l[d])}))}removeColumns(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,l),this.table.rows.forEach(c=>{c.splice(o,l)})}_assign(o,l,c){this.cacheState(),o[l]=c}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(t,n,i){const s=t("./worksheet"),a=t("./defined-names"),o=t("../xlsx/xlsx"),l=t("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,u){const d=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((g,m)=>(m&&m.orderNo)>g?m.orderNo:g,0),f=Object.assign({},u,{id:d,name:c,orderNo:h+1,workbook:this}),p=new s(f);return this._worksheets[d]=p,p}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const u=this.getWorksheet(c);u&&u.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(u=>u&&u.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,u)=>c.orderNo-u.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(u=>{c(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const u=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),u}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(u=>{const{id:d,name:h,state:f}=u,p=c.sheets&&c.sheets.findIndex(g=>g.id===d);(this._worksheets[d]=new s({id:d,name:h,orderNo:p,state:f,workbook:this})).model=u}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,n,i){const s=t("../utils/under-dash"),a=t("../utils/col-cache"),o=t("./range"),l=t("./row"),c=t("./column"),u=t("./enums"),d=t("./image"),h=t("./table"),f=t("./data-validations"),p=t("../utils/encryptor"),{copyStyle:g}=t("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new f,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new o;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&m.expand(v.number,y.min,v.number,y.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((b,w)=>{const _=(w.header?1:w.headers&&w.headers.length)||0;return Math.max(b,_)},0);let v=1;const y=this._columns=[];m.forEach(b=>{const w=new c(this,v++,!1);y.push(w),w.defn=b})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){s.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=a.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new c(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const y=this._rows.length;for(var b=arguments.length,w=new Array(b>2?b-2:0),_=2;_<b;_++)w[_-2]=arguments[_];if(w.length>0)for(let k=0;k<y;k++){const L=[m,v];w.forEach(I=>{L.push(I[k]||null)});const H=this.getRow(k+1);H.splice.apply(H,L)}else this._rows.forEach(k=>{k&&k.splice(m,v)});const B=w.length-v,R=m+v,j=this._columns.length;if(B<0)for(let k=m+w.length;k<=j;k++)this.getColumn(k).defn=this.getColumn(k-B).defn;else if(B>0)for(let k=j;k>=R;k--)this.getColumn(k+B).defn=this.getColumn(k).defn;for(let k=m;k<m+w.length;k++)this.getColumn(k).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,w.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(y=>{y.eachCell(b=>{let{col:w}=b;m[w]||(m[w]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new l(this,m)),v}getRows(m,v){if(v<1)return;const y=[];for(let b=m;b<m+v;b++)y.push(this.getRow(b));return y}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,b=this.getRow(y);return b.values=m,this._setStyleOption(y,v[0]==="i"?v:"n"),b}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return m.forEach(b=>{y.push(this.addRow(b,v))}),y}insertRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,y),this.getRow(m)}insertRows(m,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),y!=="n")for(let b=0;b<v.length;b++)y[0]==="o"&&this.findRow(v.length+m+b)!==void 0?this._copyStyle(v.length+m+b,m+b,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+b,y[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(m),w=this.getRow(v);w.style=g(b.style),b.eachCell({includeEmpty:y},(_,B)=>{w.getCell(B).style=g(_.style)}),w.height=b.height}duplicateRow(m,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[m-1],w=new Array(v).fill(b.values);this.spliceRows(m+1,y?0:v,...w);for(let _=0;_<v;_++){const B=this._rows[m+_];B.style=b.style,B.height=b.height,b.eachCell({includeEmpty:!0},(R,j)=>{B.getCell(j).style=R.style})}}spliceRows(m,v){const y=m+v;for(var b=arguments.length,w=new Array(b>2?b-2:0),_=2;_<b;_++)w[_-2]=arguments[_];const B=w.length,R=B-v,j=this._rows.length;let k,L;if(R<0)for(m===j&&(this._rows[j-1]=void 0),k=y;k<=j;k++)if(L=this._rows[k-1],L){const H=this.getRow(k+R);H.values=L.values,H.style=L.style,H.height=L.height,L.eachCell({includeEmpty:!0},(I,T)=>{H.getCell(T).style=I.style}),this._rows[k-1]=void 0}else this._rows[k+R-1]=void 0;else if(R>0)for(k=j;k>=y;k--)if(L=this._rows[k-1],L){const H=this.getRow(k+R);H.values=L.values,H.style=L.style,H.height=L.height,L.eachCell({includeEmpty:!0},(I,T)=>{if(H.getCell(T).style=I.style,I._value.constructor.name==="MergeValue"){const P=this.getRow(I._row._number+B).getCell(T),N=I._value._master,S=this.getRow(N._row._number+B).getCell(N._column._number);P.merge(S)}})}else this._rows[k+R-1]=void 0;for(k=0;k<B;k++){const H=this.getRow(m+k);H.style={},H.values=w[k]}this.workbook.definedNames.spliceRows(this.name,m,v,B)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const y=this._rows.length;for(let b=1;b<=y;b++)v(this.getRow(b),b)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const y=a.getAddress(m,v),b=this._rows[y.row-1];return b?b.findCell(y.col):void 0}getCell(m,v){const y=a.getAddress(m,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const b=new o(v);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const b=new o(v);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(m,v){s.each(this._merges,b=>{if(b.intersects(m))throw new Error("Cannot merge already merged cells")});const y=this.getCell(m.top,m.left);for(let b=m.top;b<=m.bottom;b++)for(let w=m.left;w<=m.right;w++)(b>m.top||w>m.left)&&this.getCell(b,w).merge(y,v);this._merges[y.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let b=v.left;b<=v.right;b++)this.getCell(y,b).unmerge();delete this._merges[m.address]}}get hasMerges(){return s.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];const b=new o(v);for(let w=b.top;w<=b.bottom;w++)for(let _=b.left;_<=b.right;_++){const B=this.findCell(w,_);B&&(B.type===u.ValueType.Merge?this._unMergeMaster(B.master):this._merges[B.address]&&this._unMergeMaster(B))}}fillFormula(m,v,y){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const w=a.decode(m),{top:_,left:B,bottom:R,right:j}=w,k=j-B+1,L=a.encodeAddress(_,B),H=b==="shared";let I;I=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(P,N)=>y[P-_][N-B]:(P,N)=>y[(P-_)*k+(N-B)]:()=>{};let T=!0;for(let P=_;P<=R;P++)for(let N=B;N<=j;N++)T?(this.getCell(P,N).value={shareType:b,formula:v,ref:m,result:I(P,N)},T=!1):this.getCell(P,N).value=H?{sharedFormula:L,result:I(P,N)}:I(P,N)}addImage(m,v){const y={type:"image",imageId:m,range:v};this._media.push(new d(this,y))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new d(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=p.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=p.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new h(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};m.cols=c.toModel(this.columns);const v=m.rows=[],y=m.dimensions=new o;return this._rows.forEach(b=>{const w=b&&b.model;w&&(y.expand(w.number,w.min,w.number,w.max),v.push(w))}),m.merges=[],s.each(this._merges,b=>{m.merges.push(b.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const y=new l(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(m){s.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=c.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new f(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new d(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,y)=>{const b=new h;return b.model=y,v[y.name]=b,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,n,i){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const s={Workbook:t("./doc/workbook")},a=t("./doc/enums");Object.keys(a).forEach(o=>{s[o]=a[o]}),n.exports=s},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,n,i){const s=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(a){return typeof a=="string"?a:s?s.decode(a):a.toString()}},{}],17:[function(t,n,i){const s=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=t("buffer");i.stringToBuffer=function(o){return typeof o!="string"?o:s?a.from(s.encode(o).buffer):a.from(o)}},{buffer:220}],18:[function(t,n,i){const s=t("./under-dash"),a=t("./col-cache");n.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(a.decodeEx(o))}getCell(o){return this.findCellEx(a.decodeEx(o),!0)}findCell(o){return this.findCellEx(a.decodeEx(o),!1)}findCellAt(o,l,c){const u=this.sheets[o],d=u&&u[l];return d&&d[c]}addCellEx(o){if(o.top)for(let l=o.top;l<=o.bottom;l++)for(let c=o.left;c<=o.right;c++)this.getCellAt(o.sheetName,l,c);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,l){const c=this.findSheet(o,l),u=this.findSheetRow(c,o,l);return this.findRowCell(u,o,l)}getCellAt(o,l,c){const u=this.sheets[o]||(this.sheets[o]=[]),d=u[l]||(u[l]=[]);return d[c]||(d[c]={sheetName:o,address:a.n2l(c)+l,row:l,col:c})}removeCellEx(o){const l=this.findSheet(o);if(!l)return;const c=this.findSheetRow(l,o);c&&delete c[o.col]}forEachInSheet(o,l){const c=this.sheets[o];c&&c.forEach((u,d)=>{u&&u.forEach((h,f)=>{h&&l(h,d,f)})})}forEach(o){s.each(this.sheets,(l,c)=>{this.forEachInSheet(c,o)})}map(o){const l=[];return this.forEach(c=>{l.push(o(c))}),l}findSheet(o,l){const c=o.sheetName;return this.sheets[c]?this.sheets[c]:l?this.sheets[c]=[]:void 0}findSheetRow(o,l,c){const{row:u}=l;return o&&o[u]?o[u]:c?o[u]=[]:void 0}findRowCell(o,l,c){const{col:u}=l;return o&&o[u]?o[u]:c?o[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(o,l,c,u){const d=this.sheets[o];if(d){const h=[];for(let f=0;f<u;f++)h.push([]);d.splice(l,c,...h)}}spliceColumns(o,l,c,u){const d=this.sheets[o];if(d){const h=[];for(let f=0;f<u;f++)h.push(null);s.each(d,f=>{f.splice(l,c,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,n,i){const s=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let l,c,u,d,h,f=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;f<=26;)l=this._dictionary[f-1],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(f=27;f<=702;)c=f-27,u=c%26,d=Math.floor(c/26),l=this._dictionary[d]+this._dictionary[u],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(f=703;f<=16384;)c=f-703,u=c%26,d=Math.floor(c/26)%26,h=Math.floor(c/676),l=this._dictionary[h]+this._dictionary[d]+this._dictionary[u],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!s.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const l=o.length<5&&this._hash[o];if(l)return l;let c=!1,u="",d=0,h=!1,f="",p=0;for(let m,v=0;v<o.length;v++)if(m=o.charCodeAt(v),!h&&m>=65&&m<=90)c=!0,u+=o[v],d=26*d+m-64;else if(m>=48&&m<=57)h=!0,f+=o[v],p=10*p+m-48;else if(h&&c&&m!==36)break;if(c){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else d=void 0;h||(p=void 0);const g={address:o=u+f,col:d,row:p,$col$row:`$${u}$${f}`};return d<=100&&p<=100&&(this._hash[o]=g,this._hash[g.$col$row]=g),g},getAddress(o,l){if(l){const c=this.n2l(l)+o;return this.decodeAddress(c)}return this.decodeAddress(o)},decode(o){const l=o.split(":");if(l.length===2){const c=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),d={top:Math.min(c.row,u.row),left:Math.min(c.col,u.col),bottom:Math.max(c.row,u.row),right:Math.max(c.col,u.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(o)},decodeEx(o){const l=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=l[1]||l[2],u=l[3],d=u.split(":");if(d.length>1){let f=this.decodeAddress(d[0]),p=this.decodeAddress(d[1]);const g=Math.min(f.row,p.row),m=Math.min(f.col,p.col),v=Math.max(f.row,p.row),y=Math.max(f.col,p.col);return f=this.n2l(m)+g,p=this.n2l(y)+v,{top:g,left:m,bottom:v,right:y,sheetName:c,tl:{address:f,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:c},br:{address:p,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:c},dimensions:`${f}:${p}`}}if(u.startsWith("#"))return c?{sheetName:c,error:u}:{error:u};const h=this.decodeAddress(u);return c?{sheetName:c,...h}:h},encodeAddress:(o,l)=>a.n2l(l)+o,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,l){const[c,u,,d,h]=o,[f,p]=l;return f>=c&&f<=d&&p>=u&&p<=h}};n.exports=a},{}],20:[function(t,n,i){const s=(o,l)=>({...o,...l.reduce((c,u)=>(o[u]&&(c[u]={...o[u]}),c),{})}),a=function(o,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[c]&&(l[c]=s(o[c],u))};i.copyStyle=o=>{if(!o)return o;if(l=o,Object.keys(l).length===0)return{};var l;const c={...o};return a(o,c,"font",["color"]),a(o,c,"alignment"),a(o,c,"protection"),o.border&&(a(o,c,"border"),a(o.border,c.border,"top",["color"]),a(o.border,c.border,"left",["color"]),a(o.border,c.border,"bottom",["color"]),a(o.border,c.border,"right",["color"]),a(o.border,c.border,"diagonal",["color"])),o.fill&&(a(o,c,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(c.fill.stops=o.fill.stops.map(u=>s(u,["color"])))),c}},{}],21:[function(t,n,i){(function(s){(function(){const a=t("crypto"),o={hash(l){const c=a.createHash(l);for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return c.update(s.concat(d)),c.digest()},convertPasswordToHash(l,c,u,d){if(c=c.toLowerCase(),a.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const h=s.from(l,"utf16le");let f=this.hash(c,s.from(u,"base64"),h);for(let p=0;p<d;p++){const g=s.alloc(4);g.writeUInt32LE(p,0),f=this.hash(c,f,g)}return f.toString("base64")},randomBytes:l=>a.randomBytes(l)};n.exports=o}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,n,i){const{SaxesParser:s}=t("saxes"),{PassThrough:a}=t("readable-stream"),{bufferToString:o}=t("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new a));const c=new s;let u;c.on("error",h=>{u=h});let d=[];c.on("opentag",h=>d.push({eventType:"opentag",value:h})),c.on("text",h=>d.push({eventType:"text",value:h})),c.on("closetag",h=>d.push({eventType:"closetag",value:h}));for await(const h of l){if(c.write(o(h)),u)throw u;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,n,i){const s=t("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,c,u){const d=s.decode(c),h=s.decode(u);return l.replace(a,(f,p,g,m,v)=>{if(v)return f;const y=o.exec(m);if(y){const b=y[1],w=y[2].toUpperCase(),_=y[3],B=y[4];if(w.length>3||w.length===3&&w>"XFD")return f;let R=s.l2n(w),j=parseInt(B,10);return b||(R+=h.col-d.col),_||(j+=h.row-d.row),(p||"")+(b||"")+s.n2l(R)+(_||"")+j}return f})}}},{"./col-cache":19}],24:[function(t,n,i){(function(s,a){(function(){const o=t("readable-stream"),l=t("./utils"),c=t("./string-buf");class u{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,y,b){return this.toBuffer().copy(m,v,y,b)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class d{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,b){return this._data._buf.copy(m,v,y,b)}toBuffer(){return this._data.toBuffer()}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,y,b){this._data.copy(m,v,y,b)}toBuffer(){return this._data}}class f{constructor(m){this.size=m,this.buffer=a.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,y){const b=Math.min(y,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+b),this.iWrite+=b,b}}const p=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(p,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const g=new f(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(m){return new Promise(v=>{m.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let m=0;const v=g.length;for(;m<v;)m+=this._getWritableBuffer().write(g,m,v-m)},async write(g,m,v){let y;if(m instanceof Function&&(v=m,m="utf8"),v=v||l.nop,g instanceof c)y=new d(g);else if(g instanceof a)y=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new u(g,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),s.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,m,v){const y=b=>{b?v(b):(this._flush(),this.pipes.forEach(w=>{w.end()}),this.emit("finish"))};g?this.write(g,m,y):y()},read(g){let m;if(g){for(m=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(g);g-=y.length,m.push(y),v.eod&&v.full&&this.buffers.shift()}return a.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(m)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(m=>m!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=p}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,n,i){(function(s){(function(){n.exports=class{constructor(a){this._buf=s.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=s.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let o=2*this._buf.length;for(;o<a;)o*=2;const l=s.alloc(o);this._buf.copy(l,0),this._buf=l}addText(a){this._buffer=void 0;let o=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+a.length),o=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=o}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,n,i){const{toString:s}=Object.prototype,a=/["&<>]/,o={each:function(l,c){l&&(Array.isArray(l)?l.forEach(c):Object.keys(l).forEach(u=>{c(l[u],u)}))},some:function(l,c){return!!l&&(Array.isArray(l)?l.some(c):Object.keys(l).some(u=>c(l[u],u)))},every:function(l,c){return!l||(Array.isArray(l)?l.every(c):Object.keys(l).every(u=>c(l[u],u)))},map:function(l,c){return l?Array.isArray(l)?l.map(c):Object.keys(l).map(u=>c(l[u],u)):[]},keyBy:(l,c)=>l.reduce((u,d)=>(u[d[c]]=d,u),{}),isEqual:function(l,c){const u=typeof l,d=typeof c,h=Array.isArray(l),f=Array.isArray(c);let p;if(u!==d)return!1;switch(typeof l){case"object":if(h||f)return!(!h||!f)&&l.length===c.length&&l.every((g,m)=>{const v=c[m];return o.isEqual(g,v)});if(l===null||c===null)return l===c;if(p=Object.keys(l),Object.keys(c).length!==p.length)return!1;for(const g of p)if(!c.hasOwnProperty(g))return!1;return o.every(l,(g,m)=>{const v=c[m];return o.isEqual(g,v)});default:return l===c}},escapeHtml(l){const c=a.exec(l);if(!c)return l;let u="",d="",h=0,f=c.index;for(;f<l.length;f++){switch(l.charAt(f)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}h!==f&&(u+=l.substring(h,f)),h=f+1,u+=d}return h!==f?u+l.substring(h,f):u},strcmp:(l,c)=>l<c?-1:l>c?1:0,isUndefined:l=>s.call(l)==="[object Undefined]",isObject:l=>s.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:c}=arguments;let u,d,h;function f(p,g){u=l[g],h=Array.isArray(p),o.isObject(p)||h?(h?(h=!1,d=u&&Array.isArray(u)?u:[]):d=u&&o.isObject(u)?u:{},l[g]=o.deepMerge(d,p)):o.isUndefined(p)||(l[g]=p)}for(let p=0;p<c;p++)o.each(arguments[p],f);return l}};n.exports=o},{}],27:[function(t,n,i){(function(s,a){(function(){const o=t("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:u=>new Promise(d=>{s.setImmediate?a(()=>{d(u)}):setTimeout(()=>{d(u)},1)}),inherits:function(u,d,h,f){u.super_=d,f||(f=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(h,g))});const p={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(g=>{p[g]=Object.getOwnPropertyDescriptor(f,g)}),u.prototype=Object.create(d.prototype,p)},dateToExcel:(u,d)=>25569+u.getTime()/864e5-(d?1462:0),excelToDate(u,d){const h=Math.round(24*(u-25569+(d?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const d=u.lastIndexOf("/");return{path:u.substring(0,d),name:u.substring(d+1)}},getRelsPath(u){const d=c.parsePath(u);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(u){const d=l.exec(u);if(!d)return u;let h="",f="",p=0,g=d.index;for(;g<u.length;g++){const m=u.charCodeAt(g);switch(m){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){f="";break}continue}p!==g&&(h+=u.substring(p,g)),p=g+1,f&&(h+=f)}return p!==g?h+u.substring(p,g):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(u){const d=parseInt(u,10);return Number.isNaN(d)?0:d},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(d=>{o.access(u,o.constants.F_OK,h=>{d(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=c}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,n,i){const s=t("./under-dash"),a=t("./utils");function o(u,d,h){u.push(` ${d}="${a.xmlEncode(h.toString())}"`)}function l(u,d){if(d){const h=[];s.each(d,(f,p)=>{f!==void 0&&o(h,p,f)}),u.push(h.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const h=this._xml;h.push("<?xml"),l(h,d),h.push(`?>
`)}openNode(d,h){const f=this.tos,p=this._xml;f&&this.open&&p.push(">"),this._stack.push(d),p.push("<"),p.push(d),l(p,h),this.leaf=!0,this.open=!0}addAttribute(d,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,d,h)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,d)}writeText(d){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(a.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(d),h.push(">")),this.open=!1,this.leaf=!1}leafNode(d,h,f){this.openNode(d,h),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=c},{"./under-dash":26,"./utils":27}],29:[function(t,n,i){(function(s){(function(){const a=t("events"),o=t("jszip"),l=t("./stream-buf"),{stringToBuffer:c}=t("./browser-buffer-encode");class u extends a.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new l}append(h,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,h,{base64:!0}):(s.browser&&typeof h=="string"&&(h=c(h)),this.zip.file(f.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,f){return this.stream.pipe(h,f)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,n,i){const s=t("../../utils/parse-sax"),a=t("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof o?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const u of c)for(const{eventType:d,value:h}of u)if(d==="opentag")this.parseOpen(h);else if(d==="text")this.parseText(h);else if(d==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(c){return this.parse(s(c))}get xml(){return this.toXml(this.model)}toXml(c){const u=new a;return this.render(u,c),u.xml}static toAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(d)return u}else if(d||c!==u)return c.toString()}static toStringAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,u,d)}static toStringValue(c,u){return c===void 0?u:c}static toBoolAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(d)return u}else if(d||c!==u)return c?"1":"0"}static toBoolValue(c,u){return c===void 0?u:c==="1"}static toIntAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,u,d)}static toIntValue(c,u){return c===void 0?u:parseInt(c,10)}static toFloatAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,u,d)}static toFloatValue(c,u){return c===void 0?u:parseFloat(c)}}n.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,n,i){const s=t("../base-xform"),a=t("../../../utils/col-cache");function o(c){try{return a.decodeEx(c),!0}catch{return!1}}function l(c){const u=[];let d=!1,h="";return c.split(",").forEach(f=>{if(!f)return;const p=(f.match(/'/g)||[]).length;if(!p)return void(d?h+=f+",":o(f)&&u.push(f));const g=p%2==0;!d&&g&&o(f)?u.push(f):d&&!g?(d=!1,o(h+f)&&u.push(h+f),h=""):(d=!0,h+=f+",")}),u}n.exports=class extends s{render(c,u){c.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),c.writeText(u.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,n,i){const s=t("../../../utils/utils"),a=t("../base-xform");n.exports=class extends a{render(o,l){o.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:s.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{render(a,o){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{render(a,o){a.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{render(a,o){const l={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(l.visibility=o.visibility),a.leafNode("workbookView",l)}parseOpen(a){if(a.name==="workbookView"){const o=this.model={},l=function(u,d,h){const f=d!==void 0?o[u]=d:h;f!==void 0&&(o[u]=f)},c=function(u,d,h){const f=d!==void 0?o[u]=parseInt(d,10):h;f!==void 0&&(o[u]=f)};return c("x",a.attributes.xWindow,0),c("y",a.attributes.yWindow,0),c("width",a.attributes.windowWidth,25e3),c("height",a.attributes.windowHeight,1e4),l("visibility",a.attributes.visibility,"visible"),c("activeTab",a.attributes.activeTab,void 0),c("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),l=t("../base-xform"),c=t("../static-xform"),u=t("../list-xform"),d=t("./defined-name-xform"),h=t("./sheet-xform"),f=t("./workbook-view-xform"),p=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new p,bookViews:new u({tag:"bookViews",count:!1,childXform:new f}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new d}),calcPr:new g}}prepare(y){y.sheets=y.worksheets;const b=[];let w=0;y.sheets.forEach(_=>{if(_.pageSetup&&_.pageSetup.printArea&&_.pageSetup.printArea.split("&&").forEach(B=>{const R=B.split(":"),j={name:"_xlnm.Print_Area",ranges:[`'${_.name}'!$${R[0]}:$${R[1]}`],localSheetId:w};b.push(j)}),_.pageSetup&&(_.pageSetup.printTitlesRow||_.pageSetup.printTitlesColumn)){const B=[];if(_.pageSetup.printTitlesColumn){const j=_.pageSetup.printTitlesColumn.split(":");B.push(`'${_.name}'!$${j[0]}:$${j[1]}`)}if(_.pageSetup.printTitlesRow){const j=_.pageSetup.printTitlesRow.split(":");B.push(`'${_.name}'!$${j[0]}:$${j[1]}`)}const R={name:"_xlnm.Print_Titles",ranges:B,localSheetId:w};b.push(R)}w++}),b.length&&(y.definedNames=y.definedNames.concat(b)),(y.media||[]).forEach((_,B)=>{_.name=_.type+(B+1)})}render(y,b){y.openXml(o.StdDocAttributes),y.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,b.properties),this.map.bookViews.render(y,b.views),this.map.sheets.render(y,b.sheets),this.map.definedNames.render(y,b.definedNames),this.map.calcPr.render(y,b.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const b=(y.workbookRels||[]).reduce((j,k)=>(j[k.Id]=k,j),{}),w=[];let _,B=0;(y.sheets||[]).forEach(j=>{const k=b[j.rId];k&&(_=y.worksheetHash["xl/"+k.Target.replace(/^(\s|\/xl\/)+/,"")],_&&(_.name=j.name,_.id=j.id,_.state=j.state,w[B++]=_))});const R=[];s.each(y.definedNames,j=>{if(j.name==="_xlnm.Print_Area"){if(_=w[j.localSheetId],_){_.pageSetup||(_.pageSetup={});const k=a.decodeEx(j.ranges[0]);_.pageSetup.printArea=_.pageSetup.printArea?`${_.pageSetup.printArea}&&${k.dimensions}`:k.dimensions}}else if(j.name==="_xlnm.Print_Titles"){if(_=w[j.localSheetId],_){_.pageSetup||(_.pageSetup={});const k=j.ranges.join(","),L=/\$/g,H=/\$\d+:\$\d+/,I=k.match(H);if(I&&I.length){const N=I[0];_.pageSetup.printTitlesRow=N.replace(L,"")}const T=/\$[A-Z]+:\$[A-Z]+/,P=k.match(T);if(P&&P.length){const N=P[0];_.pageSetup.printTitlesColumn=N.replace(L,"")}}}else R.push(j)}),y.definedNames=R,y.media.forEach((j,k)=>{j.index=k})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,n,i){const s=t("../strings/rich-text-xform"),a=t("../../../utils/utils"),o=t("../base-xform"),l=n.exports=function(c){this.model=c};a.inherits(l,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new s),this._richTextXform},render(c,u){u=u||this.model,c.openNode("comment",{ref:u.ref,authorId:0}),c.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(d=>{this.richTextXform.render(c,d)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../../../utils/utils"),o=t("../base-xform"),l=t("./comment-xform"),c=n.exports=function(){this.map={comment:new l}};a.inherits(c,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,d){d=d||this.model,u.openXml(s.StdDocAttributes),u.openNode("comments",c.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),d.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,n,i){const s=t("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o,l){(o===l[2]||this.tag==="x:SizeWithCells"&&o===l[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,n,i){const s=t("../../base-xform");n.exports=class extends s{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"x:Anchor"}getAnchorRect(a){const o=Math.floor(a.left),l=Math.floor(68*(a.left-o)),c=Math.floor(a.top),u=Math.floor(18*(a.top-c)),d=Math.floor(a.right),h=Math.floor(68*(a.right-d)),f=Math.floor(a.bottom);return[o,l,c,u,d,h,f,Math.floor(18*(a.bottom-f))]}getDefaultRect(a){const o=a.col,l=Math.max(a.row-2,0);return[o,6,l,14,o+2,2,l+4,16]}render(a,o){const l=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);a.leafNode("x:Anchor",null,l.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,n,i){const s=t("../base-xform"),a=t("./vml-anchor-xform"),o=t("./style/vml-protection-xform"),l=t("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];n.exports=class extends s{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,d){const{protection:h,editAs:f}=d.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,f,c),this.map["x:SizeWithCells"].render(u,f,c),this.map["x:Anchor"].render(u,d),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,d.refAddress.row-1),u.leafNode("x:Column",null,d.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(u).length;this.model.editAs=c[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("./vml-shape-xform");class l extends a{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(u,d){u.openXml(s.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),d.comments.forEach((h,f)=>{this.map["v:shape"].render(u,h,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,d){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,d):this.map["xdr:oneCellAnchor"].reconcile(h,d)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,n,i){const s=t("../base-xform"),a=t("./vml-textbox-xform"),o=t("./vml-client-data-xform");class l extends s{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new o}}get tag(){return"v:shape"}render(u,d,h){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(d,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,d),this.map["x:ClientData"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(c,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"v:textbox"}conversionUnit(a,o,l){return`${parseFloat(a)*o.toFixed(2)}${l}`}reverseConversionUnit(a){return(a||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(a,o){const l={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:c}=o.note&&o.note.margins;Array.isArray(c)&&(c=c.map(u=>this.conversionUnit(u,10,"mm")).join(",")),c&&(l.inset=c)}a.openNode("v:textbox",l),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,n,i){const s=t("./base-xform");n.exports=class extends s{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,o){this.model[a]=o.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{render(a,o){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,o.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{render(a,o){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(l=>{a.leafNode("vt:lpstr",void 0,l.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("../simple/string-xform"),l=t("./app-heading-pairs-xform"),c=t("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new c}}render(h,f){h.openXml(s.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,f.worksheets),this.map.TitleOfParts.render(h,f.worksheets),this.map.Company.render(h,f.company||""),this.map.Manager.render(h,f.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../base-xform");class o extends a{render(c,u){c.openXml(s.StdDocAttributes),c.openNode("Types",o.PROPERTY_ATTRIBUTES);const d={};(u.media||[]).forEach(h=>{if(h.type==="image"){const f=h.extension;d[f]||(d[f]=!0,c.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const f=`/xl/worksheets/sheet${h.id}.xml`;c.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{c.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{c.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:f}=h;c.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("../simple/date-xform"),l=t("../simple/string-xform"),c=t("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,f){h.openXml(s.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,f.creator),this.map["dc:title"].render(h,f.title),this.map["dc:subject"].render(h,f.subject),this.map["dc:description"].render(h,f.description),this.map["dc:identifier"].render(h,f.identifier),this.map["dc:language"].render(h,f.language),this.map["cp:keywords"].render(h,f.keywords),this.map["cp:category"].render(h,f.category),this.map["cp:lastModifiedBy"].render(h,f.lastModifiedBy),this.map["cp:lastPrinted"].render(h,f.lastPrinted),this.map["cp:revision"].render(h,f.revision),this.map["cp:version"].render(h,f.version),this.map["cp:contentStatus"].render(h,f.contentStatus),this.map["cp:contentType"].render(h,f.contentType),this.map["dcterms:created"].render(h,f.created),this.map["dcterms:modified"].render(h,f.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{render(a,o){a.leafNode("Relationship",o)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("./relationship-xform");class l extends a{constructor(){super(),this.map={Relationship:new o}}render(u,d){d=d||this._values,u.openXml(s.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),d.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,o){if(a&&a.rId){const l=o.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const c=l[1],u=o.mediaIndex[c];return o.media[u]}}}}},{"../base-xform":32}],57:[function(t,n,i){const s=t("../base-xform"),a=t("./blip-xform");n.exports=class extends s{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(o,l){o.openNode(this.tag),this.map["a:blip"].render(o,l),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"a:blip"}render(a,o){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,n,i){const s=t("../base-xform"),a=t("./hlink-click-xform"),o=t("./ext-lst-xform");n.exports=class extends s{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(l,c){l.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(l,c),this.map["a:extLst"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,n,i){const s=t("../base-xform"),a=t("../simple/integer-xform");n.exports=class extends s{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(o,l){o.openNode(this.tag),this.map["xdr:col"].render(o,l.nativeCol),this.map["xdr:colOff"].render(o,l.nativeColOff),this.map["xdr:row"].render(o,l.nativeRow),this.map["xdr:rowOff"].render(o,l.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,n,i){const s=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("./two-cell-anchor-xform"),c=t("./one-cell-anchor-xform");class u extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new c}}prepare(h){h.anchors.forEach((f,p)=>{f.anchorType=function(g){return(typeof g.range=="string"?s.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:p})})}get tag(){return"xdr:wsDr"}render(h,f){h.openXml(a.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),f.anchors.forEach(p=>{this.map[p.anchorType].render(h,p)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,f){h.anchors.forEach(p=>{p.br?this.map["xdr:twoCellAnchor"].reconcile(p,f):this.map["xdr:oneCellAnchor"].reconcile(p,f)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,o){a.openNode(this.tag);const l=Math.floor(9525*o.width),c=Math.floor(9525*o.height);a.addAttribute("cx",l),a.addAttribute("cy",c),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"a:hlinkClick"}render(a,o){o.hyperlinks&&o.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,n,i){const s=t("../base-xform"),a=t("./c-nv-pr-xform"),o=t("./c-nv-pic-pr-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(l,c){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,c),this.map["xdr:cNvPicPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,n,i){const s=t("./base-cell-anchor-xform"),a=t("../static-xform"),o=t("./cell-position-xform"),l=t("./ext-xform"),c=t("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,d){this.map["xdr:pic"].prepare(u.picture,d)}render(u,d){u.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,d.range.tl),this.map["xdr:ext"].render(u,d.range.ext),this.map["xdr:pic"].render(u,d.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,d){u.medium=this.reconcilePicture(u.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,n,i){const s=t("../base-xform"),a=t("../static-xform"),o=t("./blip-fill-xform"),l=t("./nv-pic-pr-xform"),c=t("./sp-pr");n.exports=class extends s{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new o,"xdr:spPr":new a(c)}}get tag(){return"xdr:pic"}prepare(u,d){u.index=d.index+1}render(u,d){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,d),this.map["xdr:blipFill"].render(u,d),this.map["xdr:spPr"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,n,i){const s=t("./base-cell-anchor-xform"),a=t("../static-xform"),o=t("./cell-position-xform"),l=t("./pic-xform");n.exports=class extends s{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:to"].render(c,u.range.br),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,n,i){const s=t("./base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,o){const{childXform:l}=this;a&&a.forEach((c,u)=>{o.index=u,l.prepare(c,o)})}render(a,o){if(this.always||o&&o.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,o&&o.length||0);const{childXform:l}=this;(o||[]).forEach((c,u)=>{l.render(a,c,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,o){if(a){const{childXform:l}=this;a.forEach(c=>{l.reconcile(c,o)})}}}},{"./base-xform":32}],72:[function(t,n,i){const s=t("../../../utils/col-cache"),a=t("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(o,l){if(l)if(typeof l=="string")o.leafNode("autoFilter",{ref:l});else{const c=function(h){return typeof h=="string"?h:s.getAddress(h.row,h.column).address},u=c(l.from),d=c(l.to);u&&d&&o.leafNode("autoFilter",{ref:`${u}:${d}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,n,i){const s=t("../../../utils/utils"),a=t("../base-xform"),o=t("../../../doc/range"),l=t("../../../doc/enums"),c=t("../strings/rich-text-xform");function u(d){if(d==null)return l.ValueType.Null;if(d instanceof String||typeof d=="string")return l.ValueType.String;if(typeof d=="number")return l.ValueType.Number;if(typeof d=="boolean")return l.ValueType.Boolean;if(d instanceof Date)return l.ValueType.Date;if(d.text&&d.hyperlink)return l.ValueType.Hyperlink;if(d.formula)return l.ValueType.Formula;if(d.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(d,h){const f=h.styles.addStyleModel(d.style||{},function(p){switch(p.type){case l.ValueType.Formula:return u(p.result);default:return p.type}}(d));switch(f&&(d.styleId=f),d.comment&&h.comments.push({...d.comment,ref:d.address}),d.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(d.ssId=h.sharedStrings.add(d.value));break;case l.ValueType.Date:h.date1904&&(d.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=h.sharedStrings.add(d.text)),h.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case l.ValueType.Merge:h.merges.add(d);break;case l.ValueType.Formula:if(h.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=h.siFormulae++),d.formula)h.formulae[d.address]=d;else if(d.sharedFormula){const p=h.formulae[d.sharedFormula];if(!p)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);p.si===void 0?(p.shareType="shared",p.si=h.siFormulae++,p.range=new o(p.address,d.address)):p.range&&p.range.expandToAddress(d.address),d.si=p.si}}}renderFormula(d,h){let f=null;switch(h.shareType){case"shared":f={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":f={t:"array",ref:h.ref};break;default:h.si!==void 0&&(f={t:"shared",si:h.si})}switch(u(h.result)){case l.ValueType.Null:d.leafNode("f",f,h.formula);break;case l.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case l.ValueType.Number:d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case l.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result.error);break;case l.ValueType.Date:d.leafNode("f",f,h.formula),d.leafNode("v",null,s.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,h){if(h.type!==l.ValueType.Null||h.styleId){switch(d.openNode("c"),d.addAttribute("r",h.address),h.styleId&&d.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:d.leafNode("v",null,h.value);break;case l.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),h.value.richText.forEach(f=>{this.richTextXForm.render(d,f)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,h.value));break;case l.ValueType.Date:d.leafNode("v",null,s.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(d,h);break;case l.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=s.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=s.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,h){const f=d.styleId&&h.styles&&h.styles.getStyleModel(d.styleId);switch(f&&(d.style=f),d.styleId!==void 0&&(d.styleId=void 0),d.type){case l.ValueType.String:typeof d.value=="number"&&h.sharedStrings&&(d.value=h.sharedStrings.getString(d.value)),d.value.richText&&(d.type=l.ValueType.RichText);break;case l.ValueType.Number:f&&s.isDateFmt(f.numFmt)&&(d.type=l.ValueType.Date,d.value=s.excelToDate(d.value,h.date1904));break;case l.ValueType.Formula:d.result!==void 0&&f&&s.isDateFmt(f.numFmt)&&(d.result=s.excelToDate(d.result,h.date1904)),d.shareType==="shared"&&(d.ref?h.formulae[d.si]=d.address:(d.sharedFormula=h.formulae[d.si],delete d.shareType),delete d.si)}const p=h.hyperlinkMap[d.address];p&&(d.type===l.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=l.ValueType.Hyperlink,d.hyperlink=p);const g=h.commentsMap&&h.commentsMap[d.address];g&&(d.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,n,i){const s=t("../../base-xform");n.exports=class extends s{get tag(){return"x14:cfIcon"}render(a,o){a.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(a){let{attributes:o}=a;this.model={iconSet:o.iconSet,iconId:s.toIntValue(o.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(t,n,i){const{v4:s}=t("uuid"),a=t("../../base-xform"),o=t("../../composite-xform"),l=t("./databar-ext-xform"),c=t("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?l.isExt(f):!(f.type!=="iconSet"||!f.custom&&!u[f.iconSet])}prepare(f){d.isExt(f)&&(f.x14Id=`{${s()}}`.toUpperCase())}render(f,p){if(d.isExt(p))switch(p.type){case"dataBar":this.renderDataBar(f,p);break;case"iconSet":this.renderIconSet(f,p)}}renderDataBar(f,p){f.openNode(this.tag,{type:"dataBar",id:p.x14Id}),this.databarXform.render(f,p),f.closeNode()}renderIconSet(f,p){f.openNode(this.tag,{type:"iconSet",priority:p.priority,id:p.x14Id||`{${s()}}`}),this.iconSetXform.render(f,p),f.closeNode()}createNewModel(f){let{attributes:p}=f;return{type:p.type,x14Id:p.id,priority:a.toIntValue(p.priority)}}onParserClose(f,p){Object.assign(this.model,p.model)}}n.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,n,i){const s=t("../../composite-xform"),a=t("./f-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(o,l){o.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(o,l.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,l){switch(o){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,n,i){const s=t("../../composite-xform"),a=t("./sqref-ext-xform"),o=t("./cf-rule-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(l,c){l.rules.forEach(u=>{this.cfRule.prepare(u,c)})}render(l,c){c.rules.some(o.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(o.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,c.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,c){switch(l){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,n,i){const s=t("../../composite-xform"),a=t("./cf-rule-ext-xform"),o=t("./conditional-formatting-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(c=>c.rules.some(a.isExt))),l.hasExtContent}prepare(l,c){l.forEach(u=>{this.cfXform.prepare(u,c)})}render(l,c){this.hasContent(c)&&(l.openNode(this.tag),c.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,n,i){const s=t("../../base-xform"),a=t("../../composite-xform"),o=t("../../style/color-xform"),l=t("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,u){c.openNode(this.tag,{minLength:s.toIntAttribute(u.minLength,0,!0),maxLength:s.toIntAttribute(u.maxLength,100,!0),border:s.toBoolAttribute(u.border,!1),gradient:s.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toAttribute(u.axisPosition,"auto"),direction:s.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(d=>{this.cfvoXform.render(c,d)}),this.borderColorXform.render(c,u.borderColor),this.negativeBorderColorXform.render(c,u.negativeBorderColor),this.negativeFillColorXform.render(c,u.negativeFillColor),this.axisColorXform.render(c,u.axisColor),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],minLength:s.toIntValue(u.minLength,0),maxLength:s.toIntValue(u.maxLength,100),border:s.toBoolValue(u.border,!1),gradient:s.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:s.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:s.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:s.toStringValue(u.axisPosition,"auto"),direction:s.toStringValue(u.direction,"leftToRight")}}onParserClose(c,u){const[,d]=c.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,n,i){const s=t("../../base-xform");n.exports=class extends s{get tag(){return"xm:f"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(t,n,i){const s=t("../../base-xform"),a=t("../../composite-xform"),o=t("./cfvo-ext-xform"),l=t("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(c,u){c.openNode(this.tag,{iconSet:s.toStringAttribute(u.iconSet),reverse:s.toBoolAttribute(u.reverse,!1),showValue:s.toBoolAttribute(u.showValue,!0),custom:s.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(d=>{this.cfvoXform.render(c,d)}),u.icons&&u.icons.forEach((d,h)=>{d.iconId=h,this.cfIconXform.render(c,d)}),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],iconSet:s.toStringValue(u.iconSet,"3TrafficLights"),reverse:s.toBoolValue(u.reverse,!1),showValue:s.toBoolValue(u.showValue,!0)}}onParserClose(c,u){const[,d]=c.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,n,i){const s=t("../../base-xform");n.exports=class extends s{get tag(){return"xm:sqref"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(t,n,i){const s=t("../../base-xform"),a=t("../../composite-xform"),o=t("../../../../doc/range"),l=t("./databar-xform"),c=t("./ext-lst-ref-xform"),u=t("./formula-xform"),d=t("./color-scale-xform"),h=t("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},p=m=>{const{type:v,operator:y}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class g extends a{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!f[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(b=>{this.formulaXform.render(v,b)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:s.toBoolAttribute(y.percent,!1),bottom:s.toBoolAttribute(y.bottom,!1),rank:s.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:s.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){g.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:s.toStringAttribute(y.operator,"containsText")});const b=(w=>{if(w.formulae&&w.formulae[0])return w.formulae[0];const _=new o(w.ref),{tl:B}=_;switch(w.operator){case"containsText":return`NOT(ISERROR(SEARCH("${w.text}",${B})))`;case"containsBlanks":return`LEN(TRIM(${B}))=0`;case"notContainsBlanks":return`LEN(TRIM(${B}))>0`;case"containsErrors":return`ISERROR(${B})`;case"notContainsErrors":return`NOT(ISERROR(${B}))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const b=(w=>{if(w.formulae&&w.formulae[0])return w.formulae[0];const _=new o(w.ref),{tl:B}=_;switch(w.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${B},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${B},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${B},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${B},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${B},1)=TODAY()-1`;case"today":return`FLOOR(${B},1)=TODAY()`;case"tomorrow":return`FLOOR(${B},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${B},1)<=6,FLOOR(${B},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0-1)),YEAR(${B})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${B})=MONTH(TODAY()),YEAR(${B})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0+1)),YEAR(${B})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...p(y),dxfId:s.toIntValue(y.dxfId),priority:s.toIntValue(y.priority),timePeriod:y.timePeriod,percent:s.toBoolValue(y.percent),bottom:s.toBoolValue(y.bottom),rank:s.toIntValue(y.rank),aboveAverage:s.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,n,i){const s=t("../../base-xform");n.exports=class extends s{get tag(){return"cfvo"}render(a,o){a.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(a){this.model={type:a.attributes.type,value:s.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(t,n,i){const s=t("../../composite-xform"),a=t("../../style/color-xform"),o=t("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"colorScale"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),c.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,n,i){const s=t("../../composite-xform"),a=t("./cf-rule-xform");n.exports=class extends s{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(o,l){l.rules.some(a.isPrimitive)&&(o.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(c=>{a.isPrimitive(c)&&(c.ref=l.ref,this.map.cfRule.render(o,c))}),o.closeNode())}createNewModel(o){let{attributes:l}=o;return{ref:l.sqref,rules:[]}}onParserClose(o,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,n,i){const s=t("../../base-xform"),a=t("./conditional-formatting-xform");n.exports=class extends s{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,l){let c=o.reduce((u,d)=>Math.max(u,...d.rules.map(h=>h.priority||0)),1);o.forEach(u=>{u.rules.forEach(d=>{d.priority||(d.priority=c++),d.style&&(d.dxfId=l.styles.addDxfStyle(d.style))})})}render(o,l){l.forEach(c=>{this.cfXform.render(o,c)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,l){o.forEach(c=>{c.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,n,i){const s=t("../../composite-xform"),a=t("../../style/color-xform"),o=t("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"dataBar"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,c.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,c){switch(l){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,n,i){const s=t("../../base-xform"),a=t("../../composite-xform");class o extends s{get tag(){return"x14:id"}render(u,d){u.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends a{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(u,d){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,d.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){this.model.x14Id=d.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(c,u){c.openNode(this.tag),this.map.ext.render(c,u),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,n,i){const s=t("../../base-xform");n.exports=class extends s{get tag(){return"formula"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(t,n,i){const s=t("../../base-xform"),a=t("../../composite-xform"),o=t("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(l,c){l.openNode(this.tag,{iconSet:s.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:s.toBoolAttribute(c.reverse,!1),showValue:s.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{iconSet:s.toStringValue(c.iconSet,"3TrafficLights"),reverse:s.toBoolValue(c.reverse),showValue:s.toBoolValue(c.showValue),cfvo:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,n,i){const s=t("../../../utils/utils"),a=t("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(o,l){const c=l.styles.addStyleModel(o.style||{});c&&(o.styleId=c)}render(o,l){o.openNode("col"),o.addAttribute("min",l.min),o.addAttribute("max",l.max),l.width&&o.addAttribute("width",l.width),l.styleId&&o.addAttribute("style",l.styleId),l.hidden&&o.addAttribute("hidden","1"),l.bestFit&&o.addAttribute("bestFit","1"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const l=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(l.styleId=parseInt(o.attributes.style,10)),s.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),s.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),s.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,l){o.styleId&&(o.style=l.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../../../utils/utils"),o=t("../../../utils/col-cache"),l=t("../base-xform"),c=t("../../../doc/range");function u(h,f,p,g){const m=f[p];m!==void 0?h[p]=m:g!==void 0&&(h[p]=g)}function d(h,f,p,g){const m=f[p];m!==void 0&&(h[p]=a.parseBoolean(m))}n.exports=class extends l{get tag(){return"dataValidations"}render(h,f){const p=function(g){const m=s.map(g,(b,w)=>({address:w,dataValidation:b,marked:!1})).sort((b,w)=>s.strcmp(b.address,w.address)),v=s.keyBy(m,"address"),y=(b,w,_)=>{for(let B=0;B<w;B++){const R=o.encodeAddress(b.row+B,_);if(!g[R]||!s.isEqual(g[b.address],g[R]))return!1}return!0};return m.map(b=>{if(!b.marked){const w=o.decodeEx(b.address);if(w.dimensions)return v[w.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let _=1,B=o.encodeAddress(w.row+_,w.col);for(;g[B]&&s.isEqual(b.dataValidation,g[B]);)_++,B=o.encodeAddress(w.row+_,w.col);let R=1;for(;y(w,_,w.col+R);)R++;for(let j=0;j<_;j++)for(let k=0;k<R;k++)B=o.encodeAddress(w.row+j,w.col+k),v[B].marked=!0;if(_>1||R>1){const j=w.row+(_-1),k=w.col+(R-1);return{...b.dataValidation,sqref:`${b.address}:${o.encodeAddress(j,k)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(f);p.length&&(h.openNode("dataValidations",{count:p.length}),p.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((m,v)=>{h.openNode("formula"+(v+1)),g.type==="date"?h.writeText(a.dateToExcel(new Date(m))):h.writeText(m),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const f={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&d(f,h.attributes,"allowBlank"),d(f,h.attributes,"showInputMessage"),d(f,h.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:u(f,h.attributes,"operator","between")}return u(f,h.attributes,"promptTitle"),u(f,h.attributes,"prompt"),u(f,h.attributes,"errorStyle"),u(f,h.attributes,"errorTitle"),u(f,h.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new c(f).forEachAddress(p=>{this.model[p]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=a.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"dimension"}render(a,o){o&&a.leafNode("dimension",{ref:o})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"drawing"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,n,i){const s=t("../composite-xform"),a=t("./cf-ext/conditional-formattings-ext-xform");class o extends s{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,u){this.conditionalFormattings.prepare(c.conditionalFormattings,u)}render(c,u){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,u.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model[c]=u.model}}n.exports=class extends s{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(l,c){this.ext.prepare(l,c)}hasContent(l){return this.ext.hasContent(l)}render(l,c){this.hasContent(c)&&(l.openNode("extLst"),this.ext.render(l,c),l.closeNode())}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"headerFooter"}render(a,o){if(o){a.addRollback();let l=!1;a.openNode("headerFooter"),o.differentFirst&&(a.addAttribute("differentFirst","1"),l=!0),o.differentOddEven&&(a.addAttribute("differentOddEven","1"),l=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(a.leafNode("oddHeader",null,o.oddHeader),l=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(a.leafNode("oddFooter",null,o.oddFooter),l=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(a.leafNode("evenHeader",null,o.evenHeader),l=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(a.leafNode("evenFooter",null,o.evenFooter),l=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(a.leafNode("firstHeader",null,o.firstHeader),l=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(a.leafNode("firstFooter",null,o.firstFooter),l=!0),l?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"hyperlink"}render(a,o){this.isInternalLink(o)?a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"mergeCell"}render(a,o){a.leafNode("mergeCell",{ref:o})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../../../doc/range"),o=t("../../../utils/col-cache"),l=t("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const u=`${c.master}:${c.address}`;this.merges[c.master]=new a(u)}}get mergeCells(){return s.map(this.merges,c=>c.range)}reconcile(c,u){s.each(c,d=>{const h=o.decode(d);for(let f=h.top;f<=h.bottom;f++){const p=u[f-1];for(let g=h.left;g<=h.right;g++){const m=p.cells[g-1];m?m.type===l.ValueType.Merge&&(m.master=h.tl):p.cells[g]={type:l.ValueType.Null,address:o.encodeAddress(f,g)}}}})}getMasterAddress(c){const u=this.hash[c];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,n,i){const s=t("../base-xform"),a=o=>o!==void 0;n.exports=class extends s{get tag(){return"outlinePr"}render(o,l){return!(!l||!a(l.summaryBelow)&&!a(l.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:a(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:a(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:a(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:a(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"brk"}render(a,o){a.leafNode("brk",o)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(o,l){if(l){const c={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};s.some(c,u=>u!==void 0)&&o.leafNode(this.tag,c)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"pageSetUpPr"}render(a,o){return!(!o||!o.fitToPage)&&(a.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../base-xform");function o(d){return d?"1":void 0}function l(d){switch(d){case"overThenDown":return d;default:return}}function c(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function u(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(d,h){if(h){const f={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:c(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};s.some(f,p=>p!==void 0)&&d.leafNode(this.tag,f)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(h=d.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"picture"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../base-xform");function o(l){return l?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(l,c){if(c){const u={headings:o(c.showRowColHeaders),gridLines:o(c.showGridLines),horizontalCentered:o(c.horizontalCentered),verticalCentered:o(c.verticalCentered)};s.some(u,d=>d!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,n,i){const s=t("./page-breaks-xform"),a=t("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new s})}render(o,l){if(l&&l.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,l.length),o.addAttribute("manualBreakCount",l.length));const{childXform:c}=this;l.forEach(u=>{c.render(o,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,n,i){const s=t("../base-xform"),a=t("../../../utils/utils"),o=t("./cell-xform");n.exports=class extends s{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(l,c){const u=c.styles.addStyleModel(l.style);u&&(l.styleId=u);const d=this.map.c;l.cells.forEach(h=>{d.prepare(h,c)})}render(l,c,u){l.openNode("row"),l.addAttribute("r",c.number),c.height&&(l.addAttribute("ht",c.height),l.addAttribute("customHeight","1")),c.hidden&&l.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&l.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(l.addAttribute("s",c.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1");const d=this.map.c;c.cells.forEach(h=>{d.render(l,h,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const c=l.attributes.spans?l.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:c[0],max:c[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),a.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),a.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,c){l.style=l.styleId?c.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(d=>{u.reconcile(d,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(o,l){if(l){const c={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(c.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(c.customHeight="1"),s.some(c,u=>u!==void 0)&&o.leafNode("sheetFormatPr",c)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,n,i){const s=t("../base-xform"),a=t("../style/color-xform"),o=t("./page-setup-properties-xform"),l=t("./outline-properties-xform");n.exports=class extends s{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new o,outlinePr:new l}}get tag(){return"sheetPr"}render(c,u){if(u){c.addRollback(),c.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(c,u.tabColor)||d,d=this.map.pageSetUpPr.render(c,u.pageSetup)||d,d=this.map.outlinePr.render(c,u.outlineProperties)||d,d?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../base-xform");function o(c,u){return c?u:void 0}function l(c,u){return c===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(c,u){if(u){const d={sheet:o(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:o(u.formatCells,"0"),formatColumns:o(u.formatColumns,"0"),formatRows:o(u.formatRows,"0"),insertColumns:o(u.insertColumns,"0"),insertRows:o(u.insertRows,"0"),insertHyperlinks:o(u.insertHyperlinks,"0"),deleteColumns:o(u.deleteColumns,"0"),deleteRows:o(u.deleteRows,"0"),sort:o(u.sort,"0"),autoFilter:o(u.autoFilter,"0"),pivotTables:o(u.pivotTables,"0")};u.sheet&&(d.algorithmName=u.algorithmName,d.hashValue=u.hashValue,d.saltValue=u.saltValue,d.spinCount=u.spinCount,d.objects=o(u.objects===!1,"1"),d.scenarios=o(u.scenarios===!1,"1")),s.some(d,h=>h!==void 0)&&c.leafNode(this.tag,d)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:l(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(c.attributes.formatCells,"0"),formatColumns:l(c.attributes.formatColumns,"0"),formatRows:l(c.attributes.formatRows,"0"),insertColumns:l(c.attributes.insertColumns,"0"),insertRows:l(c.attributes.insertRows,"0"),insertHyperlinks:l(c.attributes.insertHyperlinks,"0"),deleteColumns:l(c.attributes.deleteColumns,"0"),deleteRows:l(c.attributes.deleteRows,"0"),sort:l(c.attributes.sort,"0"),autoFilter:l(c.attributes.autoFilter,"0"),pivotTables:l(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,n,i){const s=t("../../../utils/col-cache"),a=t("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,c){l.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const u=function(g,m,v){v&&l.addAttribute(g,m)};let d,h,f,p;switch(u("rightToLeft","1",c.rightToLeft===!0),u("tabSelected","1",c.tabSelected),u("showRuler","0",c.showRuler===!1),u("showRowColHeaders","0",c.showRowColHeaders===!1),u("showGridLines","0",c.showGridLines===!1),u("zoomScale",c.zoomScale,c.zoomScale),u("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),u("view",c.style,c.style),c.state){case"frozen":h=c.xSplit||0,f=c.ySplit||0,d=c.topLeftCell||s.getAddress(f+1,h+1).address,p=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:d,activePane:p,state:"frozen"}),l.leafNode("selection",{pane:p,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),l.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&l.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const c=l.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let c,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"tablePart"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),l=t("../../rel-type"),c=t("./merges"),u=t("../base-xform"),d=t("../list-xform"),h=t("./row-xform"),f=t("./col-xform"),p=t("./dimension-xform"),g=t("./hyperlink-xform"),m=t("./merge-cell-xform"),v=t("./data-validations-xform"),y=t("./sheet-properties-xform"),b=t("./sheet-format-properties-xform"),w=t("./sheet-view-xform"),_=t("./sheet-protection-xform"),B=t("./page-margins-xform"),R=t("./page-setup-xform"),j=t("./print-options-xform"),k=t("./auto-filter-xform"),L=t("./picture-xform"),H=t("./drawing-xform"),I=t("./table-part-xform"),T=t("./row-breaks-xform"),P=t("./header-footer-xform"),N=t("./cf/conditional-formattings-xform"),S=t("./ext-lst-xform"),C=(x,F)=>{if(!F||!F.length)return x;if(!x||!x.length)return F;const U={},M={};return x.forEach(z=>{U[z.ref]=z,z.rules.forEach(G=>{const{x14Id:Y}=G;Y&&(M[Y]=G)})}),F.forEach(z=>{z.rules.forEach(G=>{const Y=M[G.x14Id];Y?((Q,q)=>{Object.keys(q).forEach(D=>{const O=Q[D],V=q[D];O===void 0&&V!==void 0&&(Q[D]=V)})})(Y,G):U[z.ref]?U[z.ref].rules.push(G):x.push({ref:z.ref,rules:[G]})})}),x};class E extends u{constructor(F){super();const{maxRows:U,maxCols:M,ignoreNodes:z}=F||{};this.ignoreNodes=z||[],this.map={sheetPr:new y,dimension:new p,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new w}),sheetFormatPr:new b,cols:new d({tag:"cols",count:!1,childXform:new f}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:M}),maxItems:U}),autoFilter:new k,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new T,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new B,dataValidations:new v,pageSetup:new R,headerFooter:new P,printOptions:new j,picture:new L,drawing:new H,sheetProtection:new _,tableParts:new d({tag:"tableParts",count:!0,childXform:new I}),conditionalFormatting:new N,extLst:new S}}prepare(F,U){U.merges=new c,F.hyperlinks=U.hyperlinks=[],F.comments=U.comments=[],U.formulae={},U.siFormulae=0,this.map.cols.prepare(F.cols,U),this.map.sheetData.prepare(F.rows,U),this.map.conditionalFormatting.prepare(F.conditionalFormattings,U),F.mergeCells=U.merges.mergeCells;const M=F.rels=[];function z(Q){return"rId"+(Q.length+1)}if(F.hyperlinks.forEach(Q=>{const q=z(M);Q.rId=q,M.push({Id:q,Type:l.Hyperlink,Target:Q.target,TargetMode:"External"})}),F.comments.length>0){const Q={Id:z(M),Type:l.Comments,Target:`../comments${F.id}.xml`};M.push(Q);const q={Id:z(M),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${F.id}.vml`};M.push(q),F.comments.forEach(D=>{D.refAddress=a.decodeAddress(D.ref)}),U.commentRefs.push({commentName:"comments"+F.id,vmlDrawing:"vmlDrawing"+F.id})}const G=[];let Y;F.media.forEach(Q=>{if(Q.type==="background"){const q=z(M);Y=U.media[Q.imageId],M.push({Id:q,Type:l.Image,Target:`../media/${Y.name}.${Y.extension}`}),F.background={rId:q},F.image=U.media[Q.imageId]}else if(Q.type==="image"){let{drawing:q}=F;Y=U.media[Q.imageId],q||(q=F.drawing={rId:z(M),name:"drawing"+ ++U.drawingsCount,anchors:[],rels:[]},U.drawings.push(q),M.push({Id:q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${q.name}.xml`}));let D=this.preImageId===Q.imageId?G[Q.imageId]:G[q.rels.length];D||(D=z(q.rels),G[q.rels.length]=D,q.rels.push({Id:D,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));const O={picture:{rId:D},range:Q.range};if(Q.hyperlinks&&Q.hyperlinks.hyperlink){const V=z(q.rels);G[q.rels.length]=V,O.picture.hyperlinks={tooltip:Q.hyperlinks.tooltip,rId:V},q.rels.push({Id:V,Type:l.Hyperlink,Target:Q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=Q.imageId,q.anchors.push(O)}}),F.tables.forEach(Q=>{const q=z(M);Q.rId=q,M.push({Id:q,Type:l.Table,Target:"../tables/"+Q.target}),Q.columns.forEach(D=>{const{style:O}=D;O&&(D.dxfId=U.styles.addDxfStyle(O))})}),this.map.extLst.prepare(F,U)}render(F,U){F.openXml(o.StdDocAttributes),F.openNode("worksheet",E.WORKSHEET_ATTRIBUTES);const M=U.properties?{defaultRowHeight:U.properties.defaultRowHeight,dyDescent:U.properties.dyDescent,outlineLevelCol:U.properties.outlineLevelCol,outlineLevelRow:U.properties.outlineLevelRow}:void 0;U.properties&&U.properties.defaultColWidth&&(M.defaultColWidth=U.properties.defaultColWidth);const z={outlineProperties:U.properties&&U.properties.outlineProperties,tabColor:U.properties&&U.properties.tabColor,pageSetup:U.pageSetup&&U.pageSetup.fitToPage?{fitToPage:U.pageSetup.fitToPage}:void 0},G=U.pageSetup&&U.pageSetup.margins,Y={showRowColHeaders:U.pageSetup&&U.pageSetup.showRowColHeaders,showGridLines:U.pageSetup&&U.pageSetup.showGridLines,horizontalCentered:U.pageSetup&&U.pageSetup.horizontalCentered,verticalCentered:U.pageSetup&&U.pageSetup.verticalCentered},Q=U.sheetProtection;this.map.sheetPr.render(F,z),this.map.dimension.render(F,U.dimensions),this.map.sheetViews.render(F,U.views),this.map.sheetFormatPr.render(F,M),this.map.cols.render(F,U.cols),this.map.sheetData.render(F,U.rows),this.map.sheetProtection.render(F,Q),this.map.autoFilter.render(F,U.autoFilter),this.map.mergeCells.render(F,U.mergeCells),this.map.conditionalFormatting.render(F,U.conditionalFormattings),this.map.dataValidations.render(F,U.dataValidations),this.map.hyperlinks.render(F,U.hyperlinks),this.map.printOptions.render(F,Y),this.map.pageMargins.render(F,G),this.map.pageSetup.render(F,U.pageSetup),this.map.headerFooter.render(F,U.headerFooter),this.map.rowBreaks.render(F,U.rowBreaks),this.map.drawing.render(F,U.drawing),this.map.picture.render(F,U.background),this.map.tableParts.render(F,U.tables),this.map.extLst.render(F,U),U.rels&&U.rels.forEach(q=>{q.Type===l.VmlDrawing&&F.leafNode("legacyDrawing",{"r:id":q.Id})}),F.closeNode()}parseOpen(F){return this.parser?(this.parser.parseOpen(F),!0):F.name==="worksheet"?(s.each(this.map,U=>{U.reset()}),!0):(this.map[F.name]&&!this.ignoreNodes.includes(F.name)&&(this.parser=this.map[F.name],this.parser.parseOpen(F)),!0)}parseText(F){this.parser&&this.parser.parseText(F)}parseClose(F){if(this.parser)return this.parser.parseClose(F)||(this.parser=void 0),!0;switch(F){case"worksheet":{const U=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(U.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(U.outlineProperties=this.map.sheetPr.model.outlineProperties);const M={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},z=Object.assign(M,this.map.pageSetup.model,this.map.printOptions.model),G=C(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:U,views:this.map.sheetViews.model,pageSetup:z,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:G},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(F,U){const M=(F.relationships||[]).reduce((G,Y)=>{if(G[Y.Id]=Y,Y.Type===l.Comments&&(F.comments=U.comments[Y.Target].comments),Y.Type===l.VmlDrawing&&F.comments&&F.comments.length){const Q=U.vmlDrawings[Y.Target].comments;F.comments.forEach((q,D)=>{q.note=Object.assign({},q.note,Q[D])})}return G},{});if(U.commentsMap=(F.comments||[]).reduce((G,Y)=>(Y.ref&&(G[Y.ref]=Y),G),{}),U.hyperlinkMap=(F.hyperlinks||[]).reduce((G,Y)=>(Y.rId&&(G[Y.address]=M[Y.rId].Target),G),{}),U.formulae={},F.rows=F.rows&&F.rows.filter(Boolean)||[],F.rows.forEach(G=>{G.cells=G.cells&&G.cells.filter(Boolean)||[]}),this.map.cols.reconcile(F.cols,U),this.map.sheetData.reconcile(F.rows,U),this.map.conditionalFormatting.reconcile(F.conditionalFormattings,U),F.media=[],F.drawing){const G=M[F.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(G){const Y=G[1];U.drawings[Y].anchors.forEach(Q=>{if(Q.medium){const q={type:"image",imageId:Q.medium.index,range:Q.range,hyperlinks:Q.picture.hyperlinks};F.media.push(q)}})}}const z=F.background&&M[F.background.rId];if(z){const G=z.Target.split("/media/")[1],Y=U.mediaIndex&&U.mediaIndex[G];Y!==void 0&&F.media.push({type:"background",imageId:Y})}F.tables=(F.tables||[]).map(G=>{const Y=M[G.rId];return U.tables[Y.Target]}),delete F.relationships,delete F.hyperlinks,delete F.comments}}E.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=E},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,o){o&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=a.parse||function(o){return new Date(o)}}render(a,o){o&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(o)):a.writeText(this._format(o)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,o){(o||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,o){o!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,n,i){const s=t("./base-xform"),a=t("../../utils/xml-stream");n.exports=class extends s{constructor(o){super(),this._model=o}render(o){if(!this._xml){const l=new a;(function c(u,d){u.openNode(d.tag,d.$),d.c&&d.c.forEach(h=>{c(u,h)}),d.t&&u.writeText(d.t),u.closeNode()})(l,this._model),this._xml=l.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,n,i){const s=t("./text-xform"),a=t("./rich-text-xform"),o=t("../base-xform");n.exports=class extends o{constructor(){super(),this.map={r:new a,t:new s}}get tag(){return"rPh"}render(l,c){if(l.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:u}=this.map;c.richText.forEach(d=>{u.render(l,d)})}else c&&this.map.t.render(l,c.text);l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,n,i){const s=t("./text-xform"),a=t("../style/font-xform"),o=t("../base-xform");class l extends o{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new s)}get fontXform(){return this._fontXform||(this._fontXform=new a(l.FONT_OPTIONS))}render(u,d){d=d||this.model,u.openNode("r"),d.font&&this.fontXform.render(u,d.font),this.textXform.render(u,d.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,n,i){const s=t("./text-xform"),a=t("./rich-text-xform"),o=t("./phonetic-text-xform"),l=t("../base-xform");n.exports=class extends l{constructor(c){super(),this.model=c,this.map={r:new a,t:new s,rPh:new o}}get tag(){return"si"}render(c,u){c.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(d=>{this.map.r.render(c,d)}):this.map.t.render(c,""):u!=null&&this.map.t.render(c,u),c.closeNode()}parseOpen(c){const{name:u}=c;return this.parser?(this.parser.parseOpen(c),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("./shared-string-xform");n.exports=class extends a{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let c=this.hash[l];return c===void 0&&(c=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}addRichText(l){const c=this.sharedStringXform.toXml(l);let u=this.rich[c];return u===void 0&&(u=this.rich[c]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,c){c=c||this._values,l.openXml(s.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const u=this.sharedStringXform;c.values.forEach(d=>{u.render(l,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"t"}render(a,o){a.openNode("t"),/^\s|\n|\s$/.test(o)&&a.addAttribute("xml:space","preserve"),a.writeText(o),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,n,i){const s=t("../../../doc/enums"),a=t("../../../utils/utils"),o=t("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return s.ReadingOrder.LeftToRight;case"rtl":return s.ReadingOrder.RightToLeft;default:return}}},c={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const d=Math.round(u);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(u){const d=a.validInt(u);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};n.exports=class extends o{get tag(){return"alignment"}render(u,d){u.addRollback(),u.openNode("alignment");let h=!1;function f(p,g){g&&(u.addAttribute(p,g),h=!0)}f("horizontal",l.horizontal(d.horizontal)),f("vertical",l.vertical(d.vertical)),f("wrapText",!!l.wrapText(d.wrapText)&&"1"),f("shrinkToFit",!!l.shrinkToFit(d.shrinkToFit)&&"1"),f("indent",l.indent(d.indent)),f("textRotation",c.toXml(d.textRotation)),f("readingOrder",l.readingOrder(d.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const d={};let h=!1;function f(p,g,m){p&&(d[g]=m,h=!0)}f(u.attributes.horizontal,"horizontal",u.attributes.horizontal),f(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),f(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),f(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),f(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),f(u.attributes.textRotation,"textRotation",c.toModel(u.attributes.textRotation)),f(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,n,i){const s=t("../base-xform"),a=t("../../../utils/utils"),o=t("./color-xform");class l extends s{constructor(u){super(),this.name=u,this.map={color:new o}}get tag(){return this.name}render(u,d,h){const f=d&&d.color||h||this.defaultColor;u.openNode(this.name),d&&d.style&&(u.addAttribute("style",d.style),f&&this.map.color.render(u,f)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:d}=u.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,u)=>(c[u]=!0,c),{}),n.exports=class extends s{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(c,u){const{color:d}=u;function h(f,p){f&&!f.color&&u.color&&(f={...f,color:u.color}),p.render(c,f,d)}c.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&c.addAttribute("diagonalUp","1"),u.diagonal.down&&c.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const u=this.model={},d=function(h,f,p){f&&(p&&Object.assign(f,p),u[h]=f)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,o){return!!o&&(a.openNode(this.name),o.argb?a.addAttribute("rgb",o.argb):o.theme!==void 0?(a.addAttribute("theme",o.theme),o.tint!==void 0&&a.addAttribute("tint",o.tint)):o.indexed!==void 0?a.addAttribute("indexed",o.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,n,i){const s=t("../base-xform"),a=t("./alignment-xform"),o=t("./border-xform"),l=t("./fill-xform"),c=t("./font-xform"),u=t("./numfmt-xform"),d=t("./protection-xform");n.exports=class extends s{constructor(){super(),this.map={alignment:new a,border:new o,fill:new l,font:new c,numFmt:new u,protection:new d}}get tag(){return"dxf"}render(h,f){if(h.openNode(this.tag),f.font&&this.map.font.render(h,f.font),f.numFmt&&f.numFmtId){const p={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(h,p)}f.fill&&this.map.fill.render(h,f.fill),f.alignment&&this.map.alignment.render(h,f.alignment),f.border&&this.map.border.render(h,f.border),f.protection&&this.map.protection.render(h,f.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,n,i){const s=t("../base-xform"),a=t("./color-xform");class o extends s{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(h,f){h.openNode("stop"),h.addAttribute("position",f.position),this.map.color.render(h,f.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends s{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,f){h.openNode("patternFill"),h.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(h,f.fgColor),f.bgColor&&this.map.bgColor.render(h,f.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class c extends s{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,f){switch(h.openNode("gradientFill"),f.gradient){case"angle":h.addAttribute("degree",f.degree);break;case"path":h.addAttribute("type","path"),f.center.left&&(h.addAttribute("left",f.center.left),f.center.right===void 0&&h.addAttribute("right",f.center.left)),f.center.right&&h.addAttribute("right",f.center.right),f.center.top&&(h.addAttribute("top",f.center.top),f.center.bottom===void 0&&h.addAttribute("bottom",f.center.top)),f.center.bottom&&h.addAttribute("bottom",f.center.bottom)}const p=this.map.stop;f.stops.forEach(g=>{p.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const f=this.model={stops:[]};return h.attributes.degree?(f.gradient="angle",f.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(f.gradient="path",f.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(f.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(f.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends s{constructor(){super(),this.map={patternFill:new l,gradientFill:new c}}get tag(){return"fill"}render(h,f){switch(h.addRollback(),h.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(h,f);break;case"gradient":this.map.gradientFill.render(h,f);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,h)=>(d[h]=!0,d),{}),u.StopXform=o,u.PatternFillXform=l,u.GradientFillXform=c,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(t,n,i){const s=t("./color-xform"),a=t("../simple/boolean-xform"),o=t("../simple/integer-xform"),l=t("../simple/string-xform"),c=t("./underline-xform"),u=t("../../../utils/under-dash"),d=t("../base-xform");class h extends d{constructor(p){super(),this.options=p||h.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new s},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(p,g){const{map:m}=this;p.openNode(this.options.tagName),u.each(this.map,(v,y)=>{m[y].xform.render(p,g[v.prop])}),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;if(this.map[p.name])return this.parser=this.map[p.name].xform,this.parser.parseOpen(p);switch(p.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser&&!this.parser.parseClose(p)){const g=this.map[p];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(p){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,n,i){const s=t("../../../utils/under-dash"),a=t("../../defaultnumformats"),o=t("../base-xform"),l=function(){const u={};return s.each(a,(d,h)=>{d.f&&(u[d.f]=parseInt(h,10))}),u}();class c extends o{constructor(d,h){super(),this.id=d,this.formatCode=h}get tag(){return"numFmt"}render(d,h){d.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(u){return l[u]},c.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,n,i){const s=t("../base-xform"),a={boolean:(o,l)=>o===void 0?l:o};n.exports=class extends s{get tag(){return"protection"}render(o,l){o.addRollback(),o.openNode("protection");let c=!1;function u(d,h){h!==void 0&&(o.addAttribute(d,h),c=!0)}u("locked",a.boolean(l.locked,!0)?void 0:"0"),u("hidden",a.boolean(l.hidden,!1)?"1":void 0),o.closeNode(),c?o.commit():o.rollback()}parseOpen(o){const l={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},c=!l.locked||l.hidden;this.model=c?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,n,i){const s=t("../base-xform"),a=t("./alignment-xform"),o=t("./protection-xform");n.exports=class extends s{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new a,protection:new o}}get tag(){return"xf"}render(l,c){l.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&l.addAttribute("xfId",c.xfId||0),c.numFmtId&&l.addAttribute("applyNumberFormat","1"),c.fontId&&l.addAttribute("applyFont","1"),c.fillId&&l.addAttribute("applyFill","1"),c.borderId&&l.addAttribute("applyBorder","1"),c.alignment&&l.addAttribute("applyAlignment","1"),c.protection&&l.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(l,c.alignment),c.protection&&this.map.protection.render(l,c.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,n,i){const s=t("../../../doc/enums"),a=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("../static-xform"),c=t("../list-xform"),u=t("./font-xform"),d=t("./fill-xform"),h=t("./border-xform"),f=t("./numfmt-xform"),p=t("./style-xform"),g=t("./dxf-xform");class m extends o{constructor(y){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new f}),fonts:new c({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new d}),borders:new c({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new p}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new p({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new f,font:new u,fill:new d,border:new h,style:new p({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,b){b=b||this.model,y.openXml(a.StdDocAttributes),y.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(y.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(w=>{y.writeXml(w)}),y.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(w=>{y.writeXml(w)}),y.closeNode(),y.openNode("fills",{count:b.fills.length}),b.fills.forEach(w=>{y.writeXml(w)}),y.closeNode(),y.openNode("borders",{count:b.borders.length}),b.borders.forEach(w=>{y.writeXml(w)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(w=>{y.writeXml(w)}),y.closeNode()):(this.map.numFmts.render(y,b.numFmts),this.map.fonts.render(y,b.fonts),this.map.fills.render(y,b.fills),this.map.borders.render(y,b.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,b.styles)),m.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,b.dxfs),m.STATIC_XFORMS.tableStyles.render(y),m.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const b=(w,_)=>{_.model&&_.model.length&&(this.model[w]=_.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const w=this.index.numFmt;this.model.numFmts.forEach(_=>{w[_.id]=_.formatCode})}return!1}default:return!0}}addStyleModel(y,b){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const w={};if(b=b||s.ValueType.Number,y.numFmt)w.numFmtId=this._addNumFmtStr(y.numFmt);else switch(b){case s.ValueType.Number:w.numFmtId=this._addNumFmtStr("General");break;case s.ValueType.Date:w.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(w.fontId=this._addFont(y.font)),y.border&&(w.borderId=this._addBorder(y.border)),y.fill&&(w.fillId=this._addFill(y.fill)),y.alignment&&(w.alignment=y.alignment),y.protection&&(w.protection=y.protection);const _=this._addStyle(w);return this.weakMap&&this.weakMap.set(y,_),_}getStyleModel(y){const b=this.model.styles[y];if(!b)return null;let w=this.index.model[y];if(w)return w;if(w=this.index.model[y]={},b.numFmtId){const B=this.index.numFmt[b.numFmtId]||f.getDefaultFmtCode(b.numFmtId);B&&(w.numFmt=B)}function _(B,R,j){if(j||j===0){const k=R[j];k&&(w[B]=k)}}return _("font",this.model.fonts,b.fontId),_("border",this.model.borders,b.borderId),_("fill",this.model.fills,b.fillId),b.alignment&&(w.alignment=b.alignment),b.protection&&(w.protection=b.protection),w}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const b=this.map.style.toXml(y);let w=this.index.style[b];return w===void 0&&(w=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),w}_addNumFmtStr(y){let b=f.getDefaultFmtId(y);if(b!==void 0||(b=this.index.numFmt[y],b!==void 0))return b;b=this.index.numFmt[y]=164+this.model.numFmts.length;const w=this.map.numFmt.toXml({id:b,formatCode:y});return this.model.numFmts.push(w),b}_addFont(y){const b=this.map.font.toXml(y);let w=this.index.font[b];return w===void 0&&(w=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),w}_addBorder(y){const b=this.map.border.toXml(y);let w=this.index.border[b];return w===void 0&&(w=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),w}_addFill(y){const b=this.map.fill.toXml(y);let w=this.index.fill[b];return w===void 0&&(w=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),w}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case s.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,n,i){const s=t("../base-xform");class a extends s{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,c){if((c=c||this.model)===!0)l.leafNode("u");else{const u=a.Attributes[c];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(t,n,i){const s=t("../base-xform"),a=t("./filter-column-xform");n.exports=class extends s{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((l,c)=>{this.map.filterColumn.prepare(l,{index:c})})}render(o,l){return o.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(c=>{this.map.filterColumn.render(o,c)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"customFilter"}render(a,o){a.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,n,i){const s=t("../base-xform"),a=t("../list-xform"),o=t("./custom-filter-xform"),l=t("./filter-xform");n.exports=class extends s{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(c,u){c.colId=u.index.toString()}render(c,u){return u.customFilters?(c.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(c,u.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:u}=c;switch(c.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"filter"}render(a,o){a.leafNode(this.tag,{val:o.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"tableColumn"}prepare(a,o){a.id=o.index+1}render(a,o){return a.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,n,i){const s=t("../base-xform");n.exports=class extends s{get tag(){return"tableStyleInfo"}render(a,o){return a.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,n,i){const s=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("../list-xform"),l=t("./auto-filter-xform"),c=t("./table-column-xform"),u=t("./table-style-info-xform");class d extends a{constructor(){super(),this.map={autoFilter:new l,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new u}}prepare(f,p){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,p)}get tag(){return"table"}render(f,p){f.openXml(s.StdDocAttributes),f.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:p.id,name:p.name,displayName:p.displayName||p.name,ref:p.tableRef,totalsRowCount:p.totalsRow?"1":void 0,totalsRowShown:p.totalsRow?void 0:"1",headerRowCount:p.headerRow?"1":"0"}),this.map.autoFilter.render(f,p),this.map.tableColumns.render(f,p.columns),this.map.tableStyleInfo.render(f,p.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:p,attributes:g}=f;switch(p){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((p,g)=>{this.model.columns[g].filterButton=p.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,p){f.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=p.styles.getDxfStyle(g.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,n,i){(function(s,a){(function(){const o=t("fs"),l=t("jszip"),{PassThrough:c}=t("readable-stream"),u=t("../utils/zip-stream"),d=t("../utils/stream-buf"),h=t("../utils/utils"),f=t("../utils/xml-stream"),{bufferToString:p}=t("../utils/browser-buffer-decode"),g=t("./xform/style/styles-xform"),m=t("./xform/core/core-xform"),v=t("./xform/strings/shared-strings-xform"),y=t("./xform/core/relationships-xform"),b=t("./xform/core/content-types-xform"),w=t("./xform/core/app-xform"),_=t("./xform/book/workbook-xform"),B=t("./xform/sheet/worksheet-xform"),R=t("./xform/drawing/drawing-xform"),j=t("./xform/table/table-xform"),k=t("./xform/comment/comments-xform"),L=t("./xform/comment/vml-notes-xform"),H=t("./xml/theme1");class I{constructor(P){this.workbook=P}async readFile(P,N){if(!await h.fs.exists(P))throw new Error("File not found: "+P);const S=o.createReadStream(P);try{const C=await this.read(S,N);return S.close(),C}catch(C){throw S.close(),C}}parseRels(P){return new y().parseStream(P)}parseWorkbook(P){return new _().parseStream(P)}parseSharedStrings(P){return new v().parseStream(P)}reconcile(P,N){const S=new _,C=new B(N),E=new R,x=new j;S.reconcile(P);const F={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(z=>{const G=P.drawings[z],Y=P.drawingRels[z];Y&&(F.rels=Y.reduce((Q,q)=>(Q[q.Id]=q,Q),{}),(G.anchors||[]).forEach(Q=>{const q=Q.picture&&Q.picture.hyperlinks;q&&F.rels[q.rId]&&(q.hyperlink=F.rels[q.rId].Target,delete q.rId)}),E.reconcile(G,F))});const U={styles:P.styles};Object.values(P.tables).forEach(z=>{x.reconcile(z,U)});const M={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(z=>{z.relationships=P.worksheetRels[z.sheetNo],C.reconcile(z,M)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,N,S,C,E){const x=new B(C),F=await x.parseStream(P);F.sheetNo=S,N.worksheetHash[E]=F,N.worksheets.push(F)}async _processCommentEntry(P,N,S){const C=new k,E=await C.parseStream(P);N.comments[`../${S}.xml`]=E}async _processTableEntry(P,N,S){const C=new j,E=await C.parseStream(P);N.tables[`../tables/${S}.xml`]=E}async _processWorksheetRelsEntry(P,N,S){const C=new y,E=await C.parseStream(P);N.worksheetRels[S]=E}async _processMediaEntry(P,N,S){const C=S.lastIndexOf(".");if(C>=1){const E=S.substr(C+1),x=S.substr(0,C);await new Promise((F,U)=>{const M=new d;M.on("finish",()=>{N.mediaIndex[S]=N.media.length,N.mediaIndex[x]=N.media.length;const z={type:"image",name:x,extension:E,buffer:M.toBuffer()};N.media.push(z),F()}),P.on("error",z=>{U(z)}),P.pipe(M)})}}async _processDrawingEntry(P,N,S){const C=new R,E=await C.parseStream(P);N.drawings[S]=E}async _processDrawingRelsEntry(P,N,S){const C=new y,E=await C.parseStream(P);N.drawingRels[S]=E}async _processVmlDrawingEntry(P,N,S){const C=new L,E=await C.parseStream(P);N.vmlDrawings[`../drawings/${S}.vml`]=E}async _processThemeEntry(P,N,S){await new Promise((C,E)=>{const x=new d;P.on("error",E),x.on("error",E),x.on("finish",()=>{N.themes[S]=x.read().toString(),C()}),P.pipe(x)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,N){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new c));const S=[];for await(const C of P)S.push(C);return this.load(a.concat(S),N)}async load(P,N){let S;S=N&&N.base64?a.from(P.toString(),"base64"):P;const C={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},E=await l.loadAsync(S);for(const x of Object.values(E.files))if(!x.dir){let F,U=x.name;if(U[0]==="/"&&(U=U.substr(1)),U.match(/xl\/media\//)||U.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))F=new c,F.write(await x.async("nodebuffer"));else{let M;F=new c({writableObjectMode:!0,readableObjectMode:!0}),M=s.browser?p(await x.async("nodebuffer")):await x.async("string");const z=16384;for(let G=0;G<M.length;G+=z)F.write(M.substring(G,G+z))}switch(F.end(),U){case"_rels/.rels":C.globalRels=await this.parseRels(F);break;case"xl/workbook.xml":{const M=await this.parseWorkbook(F);C.sheets=M.sheets,C.definedNames=M.definedNames,C.views=M.views,C.properties=M.properties,C.calcProperties=M.calcProperties;break}case"xl/_rels/workbook.xml.rels":C.workbookRels=await this.parseRels(F);break;case"xl/sharedStrings.xml":C.sharedStrings=new v,await C.sharedStrings.parseStream(F);break;case"xl/styles.xml":C.styles=new g,await C.styles.parseStream(F);break;case"docProps/app.xml":{const M=new w,z=await M.parseStream(F);C.company=z.company,C.manager=z.manager;break}case"docProps/core.xml":{const M=new m,z=await M.parseStream(F);Object.assign(C,z);break}default:{let M=U.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(M){await this._processWorksheetEntry(F,C,M[1],N,U);break}if(M=U.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),M){await this._processWorksheetRelsEntry(F,C,M[1]);break}if(M=U.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),M){await this._processThemeEntry(F,C,M[1]);break}if(M=U.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),M){await this._processMediaEntry(F,C,M[1]);break}if(M=U.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),M){await this._processDrawingEntry(F,C,M[1]);break}if(M=U.match(/xl\/(comments\d+)[.]xml/),M){await this._processCommentEntry(F,C,M[1]);break}if(M=U.match(/xl\/tables\/(table\d+)[.]xml/),M){await this._processTableEntry(F,C,M[1]);break}if(M=U.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),M){await this._processDrawingRelsEntry(F,C,M[1]);break}if(M=U.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),M){await this._processVmlDrawingEntry(F,C,M[1]);break}}}}return this.reconcile(C,N),this.workbook.model=C,this.workbook}async addMedia(P,N){await Promise.all(N.media.map(async S=>{if(S.type==="image"){const C=`xl/media/${S.name}.${S.extension}`;if(S.filename){const E=await function(x,F){return new Promise((U,M)=>{o.readFile(x,F,(z,G)=>{z?M(z):U(G)})})}(S.filename);return P.append(E,{name:C})}if(S.buffer)return P.append(S.buffer,{name:C});if(S.base64){const E=S.base64,x=E.substring(E.indexOf(",")+1);return P.append(x,{name:C,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,N){const S=new R,C=new y;N.worksheets.forEach(E=>{const{drawing:x}=E;if(x){S.prepare(x,{});let F=S.toXml(x);P.append(F,{name:`xl/drawings/${x.name}.xml`}),F=C.toXml(x.rels),P.append(F,{name:`xl/drawings/_rels/${x.name}.xml.rels`})}})}addTables(P,N){const S=new j;N.worksheets.forEach(C=>{const{tables:E}=C;E.forEach(x=>{S.prepare(x,{});const F=S.toXml(x);P.append(F,{name:"xl/tables/"+x.target})})})}async addContentTypes(P,N){const S=new b().toXml(N);P.append(S,{name:"[Content_Types].xml"})}async addApp(P,N){const S=new w().toXml(N);P.append(S,{name:"docProps/app.xml"})}async addCore(P,N){const S=new m;P.append(S.toXml(N),{name:"docProps/core.xml"})}async addThemes(P,N){const S=N.themes||{theme1:H};Object.keys(S).forEach(C=>{const E=S[C],x=`xl/theme/${C}.xml`;P.append(E,{name:x})})}async addOfficeRels(P){const N=new y().toXml([{Id:"rId1",Type:I.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:I.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:I.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(N,{name:"_rels/.rels"})}async addWorkbookRels(P,N){let S=1;const C=[{Id:"rId"+S++,Type:I.RelType.Styles,Target:"styles.xml"},{Id:"rId"+S++,Type:I.RelType.Theme,Target:"theme/theme1.xml"}];N.sharedStrings.count&&C.push({Id:"rId"+S++,Type:I.RelType.SharedStrings,Target:"sharedStrings.xml"}),N.worksheets.forEach(x=>{x.rId="rId"+S++,C.push({Id:x.rId,Type:I.RelType.Worksheet,Target:`worksheets/sheet${x.id}.xml`})});const E=new y().toXml(C);P.append(E,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,N){N.sharedStrings&&N.sharedStrings.count&&P.append(N.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,N){const{xml:S}=N.styles;S&&P.append(S,{name:"xl/styles.xml"})}async addWorkbook(P,N){const S=new _;P.append(S.toXml(N),{name:"xl/workbook.xml"})}async addWorksheets(P,N){const S=new B,C=new y,E=new k,x=new L;N.worksheets.forEach(F=>{let U=new f;S.render(U,F),P.append(U.xml,{name:`xl/worksheets/sheet${F.id}.xml`}),F.rels&&F.rels.length&&(U=new f,C.render(U,F.rels),P.append(U.xml,{name:`xl/worksheets/_rels/sheet${F.id}.xml.rels`})),F.comments.length>0&&(U=new f,E.render(U,F),P.append(U.xml,{name:`xl/comments${F.id}.xml`}),U=new f,x.render(U,F),P.append(U.xml,{name:`xl/drawings/vmlDrawing${F.id}.vml`}))})}_finalize(P){return new Promise((N,S)=>{P.on("finish",()=>{N(this)}),P.on("error",S),P.finalize()})}prepareModel(P,N){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=N.useSharedStrings===void 0||N.useSharedStrings,P.useStyles=N.useStyles===void 0||N.useStyles,P.sharedStrings=new v,P.styles=P.useStyles?new g(!0):new g.Mock;const S=new _,C=new B;S.prepare(P);const E={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};E.drawings=P.drawings=[],E.commentRefs=P.commentRefs=[];let x=0;P.tables=[],P.worksheets.forEach(F=>{F.tables.forEach(U=>{x++,U.target=`table${x}.xml`,U.id=x,P.tables.push(U)}),C.prepare(F,E)})}async write(P,N){N=N||{};const{model:S}=this.workbook,C=new u.ZipWriter(N.zip);return C.pipe(P),this.prepareModel(S,N),await this.addContentTypes(C,S),await this.addOfficeRels(C,S),await this.addWorkbookRels(C,S),await this.addWorksheets(C,S),await this.addSharedStrings(C,S),await this.addDrawings(C,S),await this.addTables(C,S),await Promise.all([this.addThemes(C,S),this.addStyles(C,S)]),await this.addMedia(C,S),await Promise.all([this.addApp(C,S),this.addCore(C,S)]),await this.addWorkbook(C,S),this._finalize(C)}writeFile(P,N){const S=o.createWriteStream(P);return new Promise((C,E)=>{S.on("finish",()=>{C()}),S.on("error",x=>{E(x)}),this.write(S,N).then(()=>{S.end()}).catch(x=>{E(x)})})}async writeBuffer(P){const N=new d;return await this.write(N,P),N.read()}}I.RelType=t("./rel-type"),n.exports=I}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const a=t("stream"),o=t("./formatter");class l extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new o.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,d,h){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(p,g)=>p?(f=!0,h(p)):(g&&g.forEach(m=>{this.push(s.from(m,"utf8"))}),f=!0,h()))}catch(p){if(f)throw p;h(p)}}_flush(u){this.rowFormatter.finish((d,h)=>d?u(d):(h&&h.forEach(f=>{this.push(s.from(f,"utf8"))}),u()))}}i.CsvFormatterStream=l}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,s||{}),s?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),s?.quote===!0?this.quote='"':s?.quote===!1&&(this.quote=""),typeof s?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=s.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const a=s(t("lodash.isboolean")),o=s(t("lodash.isnil")),l=s(t("lodash.escaperegexp"));i.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const u=`[${c.delimiter}${l.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(c){this._headers=c}shouldQuote(c,u){const d=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(d)?d:Array.isArray(d)?d[c]:this._headers!==null&&d[this._headers[c]]}format(c,u,d){const h=(""+(o.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&h.indexOf(f.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,f.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,d)?this.quoteField(h):h}quoteField(c){const{quote:u}=this.formatterOptions;return`${u}${c}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,n,i){var s=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const a=s(t("lodash.isfunction")),o=s(t("lodash.isequal")),l=t("./FieldFormatter"),c=t("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(f=>f[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return c.isSyncTransform(h)?(f,p)=>{let g=null;try{g=h(f)}catch(m){return p(m)}return p(null,g)}:(f,p)=>{h(f,p)}}set rowTransform(h){if(!a.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,f){this.callTransformer(h,(p,g)=>{if(p)return f(p);if(!h)return f(null);const m=[];if(g){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(g);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const b=this.gatherColumns(g);m.push(this.formatColumns(b,!1))}}return f(null,m)})}finish(h){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),h(null,f)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=u.gatherHeaders(h);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(f,h),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((f,p)=>{const g=h[p];return g?g[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((f,p)=>h[p]):this.headers.map(f=>h[f])}callTransformer(h,f){return this._rowTransform?this._rowTransform(h,f):f(null,h)}formatColumns(h,f){const p=h.map((m,v)=>this.fieldFormatter.format(m,v,f)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,p].join(""):p}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var s=t("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return s.RowFormatter}});var a=t("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,n,i){(function(s){(function(){var a=Object.create?function(v,y,b,w){w===void 0&&(w=b),Object.defineProperty(v,w,{enumerable:!0,get:function(){return y[b]}})}:function(v,y,b,w){w===void 0&&(w=b),v[w]=y[b]},o=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},l=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var b in v)b!=="default"&&Object.prototype.hasOwnProperty.call(v,b)&&a(y,v,b);return o(y,v),y},c=function(v,y){for(var b in v)b==="default"||Object.prototype.hasOwnProperty.call(y,b)||a(y,v,b)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=t("util"),d=t("stream"),h=l(t("fs")),f=t("./FormatterOptions"),p=t("./CsvFormatterStream");c(t("./types"),i);var g=t("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var m=t("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),i.format=v=>new p.CsvFormatterStream(new f.FormatterOptions(v)),i.write=(v,y)=>{const b=i.format(y),w=u.promisify((_,B)=>{b.write(_,void 0,B)});return v.reduce((_,B)=>_.then(()=>w(B)),Promise.resolve()).then(()=>b.end()).catch(_=>{b.emit("error",_)}),b},i.writeToStream=(v,y,b)=>i.write(y,b).pipe(v),i.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],w=new d.Writable({write(_,B,R){b.push(_),R()}});return new Promise((_,B)=>{w.on("error",B).on("finish",()=>_(s.concat(b))),i.write(v,y).pipe(w)})},i.writeToString=(v,y)=>i.writeToBuffer(v,y).then(b=>b.toString()),i.writeToPath=(v,y,b)=>{const w=h.createWriteStream(v,{encoding:"utf8"});return i.write(y,b).pipe(w)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1},{}],153:[function(t,n,i){(function(s){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const a=t("string_decoder"),o=t("stream"),l=t("./transforms"),c=t("./parser");class u extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new c.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new a.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,p=new Array(f>1?f-1:0),g=1;g<f;g++)p[g-1]=arguments[g];return super.emit(h,...p)}_transform(h,f,p){if(this.hasHitRowLimit)return p();const g=u.wrapDoneCallback(p);try{const{lines:m}=this,v=m+this.decoder.write(h),y=this.parse(v,!0);return this.processRows(y,g)}catch(m){return g(m)}}_flush(h){const f=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return f();try{const p=this.lines+this.decoder.end(),g=this.parse(p,!1);return this.processRows(g,f)}catch(p){return f(p)}}parse(h,f){if(!h)return[];const{line:p,rows:g}=this.parser.parse(h,f);return this.lines=p,g}processRows(h,f){const p=h.length,g=m=>{const v=w=>w?f(w):m%100!=0?g(m+1):void s(()=>g(m+1));if(this.checkAndEmitHeaders(),m>=p||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=h[m];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(y,(w,_)=>{if(w)return this.rowCount-=1,v(w);if(!_)return v(new Error("expected transform result"));if(_.isValid){if(_.row)return this.pushRow(_.row,v)}else this.emit("data-invalid",_.row,b,_.reason);return v()})};g(0)}transformRow(h,f){try{this.headerTransformer.transform(h,(p,g)=>p?f(p):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:h}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(p){f(p)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,f){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),f()}catch(p){f(p)}}static wrapDoneCallback(h){let f=!1;return function(p){if(p){if(f)throw p;return f=!0,void h(p)}for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];h(...m)}}}i.CsvParserStream=u}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,n,i){var s=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const a=s(t("lodash.escaperegexp")),o=s(t("lodash.isnil"));i.ParserOptions=class{constructor(l){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,n,i){var s=Object.create?function(g,m,v,y){y===void 0&&(y=v),Object.defineProperty(g,y,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,y){y===void 0&&(y=v),g[y]=m[v]},a=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},o=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&s(m,g,v);return a(m,g),m},l=function(g,m){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||s(m,g,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const c=o(t("fs")),u=t("stream"),d=t("./ParserOptions"),h=t("./CsvParserStream");l(t("./types"),i);var f=t("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var p=t("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return p.ParserOptions}}),i.parse=g=>new h.CsvParserStream(new d.ParserOptions(g)),i.parseStream=(g,m)=>g.pipe(new h.CsvParserStream(new d.ParserOptions(m))),i.parseFile=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(g).pipe(new h.CsvParserStream(new d.ParserOptions(m)))},i.parseString=(g,m)=>{const v=new u.Readable;return v.push(g),v.push(null),v.pipe(new h.CsvParserStream(new d.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const s=t("./Scanner"),a=t("./RowParser"),o=t("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,d){const h=new s.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const d=[];let h=!0;for(;h;)h=this.parseRow(u,d);return{line:u.line,rows:d}}parseWithComments(u){const{parserOptions:d}=this,h=[];for(let f=u.nextCharacterToken;f!==null;f=u.nextCharacterToken)if(o.Token.isTokenComment(f,d)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,d){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(h)||d.push(h),!0)}}i.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const s=t("./column"),a=t("./Token");i.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new s.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:l}=this,{hasMoreData:c}=o,u=o,d=[];let h=this.getStartToken(u,d);for(;h;){if(a.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(h,l)&&c?null:(u.truncateToCursor(),d);if(!this.shouldSkipColumnParse(u,h,d)){const f=this.columnParser.parse(u);if(f===null)return null;d.push(f)}h=u.nextNonSpaceToken}return c?null:(u.truncateToCursor(),d)}getStartToken(o,l){const c=o.nextNonSpaceToken;return c!==null&&a.Token.isTokenDelimiter(c,this.parserOptions)?(l.push(""),o.nextNonSpaceToken):c}shouldSkipColumnParse(o,l,c){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(l,u)){o.advancePastToken(l);const d=o.nextCharacterToken;if(!o.hasMoreCharacters||d!==null&&a.Token.isTokenRowDelimiter(d)||d!==null&&a.Token.isTokenDelimiter(d,u))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const s=t("./Token"),a=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(l)===-1)return null;const c=l.exec(o);if(c==null)return null;const u=c[1],d=this.cursor+(c.index||0);return new s.Token({token:u,startCursor:d,endCursor:d+u.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:l}=this;return l<=o?null:new s.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=a.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(s){this.token=s.token,this.startCursor=s.startCursor,this.endCursor=s.endCursor}static isTokenRowDelimiter(s){const a=s.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(s,a){return s.token===a.carriageReturn}static isTokenComment(s,a){return a.supportsComments&&!!s&&s.token===a.comment}static isTokenEscapeCharacter(s,a){return s.token===a.escapeChar}static isTokenQuote(s,a){return s.token===a.quote}static isTokenDelimiter(s,a){return s.token===a.delimiter}}},{}],160:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(s){s.trim?this.format=a=>a.trim():s.ltrim?this.format=a=>a.trimLeft():s.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const s=t("./NonQuotedColumnParser"),a=t("./QuotedColumnParser"),o=t("../Token");i.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new a.QuotedColumnParser(l),this.nonQuotedColumnParser=new s.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:c}=l;return c!==null&&o.Token.isTokenQuote(c,this.parserOptions)?(l.advanceToToken(c),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const s=t("./ColumnFormatter"),a=t("../Token");i.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new s.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:l}=this,c=[];let u=o.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,l)&&!a.Token.isTokenRowDelimiter(u);u=o.nextCharacterToken)c.push(u.token),o.advancePastToken(u);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const s=t("./ColumnFormatter"),a=t("../Token");i.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new s.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const l=o.cursor,{foundClosingQuote:c,col:u}=this.gatherDataBetweenQuotes(o);if(!c){if(o.advanceTo(l),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),u}gatherDataBetweenQuotes(o){const{parserOptions:l}=this;let c=!1,u=!1;const d=[];let h=o.nextCharacterToken;for(;!u&&h!==null;h=o.nextCharacterToken){const f=a.Token.isTokenQuote(h,l);if(!c&&f)c=!0;else if(c)if(a.Token.isTokenEscapeCharacter(h,l)){o.advancePastToken(h);const p=o.nextCharacterToken;p!==null&&(a.Token.isTokenQuote(p,l)||a.Token.isTokenEscapeCharacter(p,l))?(d.push(p.token),h=p):f?u=!0:d.push(h.token)}else f?u=!0:d.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:u}}checkForMalformedColumn(o){const{parserOptions:l}=this,{nextNonSpaceToken:c}=o;if(c){const u=a.Token.isTokenDelimiter(c,l),d=a.Token.isTokenRowDelimiter(c);if(!u&&!d){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${c.token}'. at '${h}`)}o.advanceToToken(c)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var s=t("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return s.ColumnParser}});var a=t("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var o=t("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var l=t("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var s=t("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return s.Parser}});var a=t("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var o=t("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var l=t("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return l.Token}});var c=t("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,n,i){var s=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const a=s(t("lodash.isundefined")),o=s(t("lodash.isfunction")),l=s(t("lodash.uniq")),c=s(t("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):o.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,d){return this.shouldMapRow(u)?d(null,this.processRow(u)):d(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&u.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return d.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const d={},{headers:h,headersLength:f}=this;for(let p=0;p<f;p+=1){const g=h[p];if(!a.default(g)){const m=u[p];a.default(m)?d[g]="":d[g]=m}}return d}setHeaders(u){var d;const h=u.filter(f=>!!f);if(l.default(h).length!==h.length){const f=c.default(h),p=Object.keys(f).filter(g=>f[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(p))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,n,i){var s=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const a=s(t("lodash.isfunction")),o=t("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return o.isSyncTransform(u)?(d,h)=>{let f=null;try{f=u(d)}catch(p){return h(p)}return h(null,f)}:u}static createValidator(u){return o.isSyncValidate(u)?(d,h)=>{h(null,{row:d,isValid:u(d)})}:(d,h)=>{u(d,(f,p,g)=>f?h(f):h(null,p?{row:d,isValid:p,reason:g}:{row:d,isValid:!1,reason:g}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,d){return this.callTransformer(u,(h,f)=>h?d(h):f?this.callValidator(f,(p,g)=>p?d(p):g&&!g.isValid?d(null,{row:f,isValid:!1,reason:g.reason}):d(null,{row:f,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(u,d){return this._rowTransform?this._rowTransform(u,d):d(null,u)}callValidator(u,d){return this._rowValidator?this._rowValidator(u,d):d(null,{row:u,isValid:!0})}}i.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var s=t("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return s.RowTransformerValidator}});var a=t("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=s=>s.length===1,i.isSyncValidate=s=>s.length===1},{}],170:[function(t,n,i){const s=i;s.bignum=t("bn.js"),s.define=t("./asn1/api").define,s.base=t("./asn1/base"),s.constants=t("./asn1/constants"),s.decoders=t("./asn1/decoders"),s.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,n,i){const s=t("./encoders"),a=t("./decoders"),o=t("inherits");function l(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}i.define=function(c,u){return new l(c,u)},l.prototype._createNamed=function(c){const u=this.name;function d(h){this._initNamed(h,u)}return o(d,c),d.prototype._initNamed=function(h,f){c.call(this,h,f)},new d(this)},l.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(a[c])),this.decoders[c]},l.prototype.decode=function(c,u,d){return this._getDecoder(u).decode(c,d)},l.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(s[c])),this.encoders[c]},l.prototype.encode=function(c,u,d){return this._getEncoder(u).encode(c,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,n,i){const s=t("inherits"),a=t("../base/reporter").Reporter,o=t("safer-buffer").Buffer;function l(u,d){a.call(this,d),o.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function c(u,d){if(Array.isArray(u))this.length=0,this.value=u.map(function(h){return c.isEncoderBuffer(h)||(h=new c(h,d)),this.length+=h.length,h},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return d.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=o.byteLength(u);else{if(!o.isBuffer(u))return d.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}s(l,a),i.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&o.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},l.prototype.restore=function(u){const d=new l(this.base);return d.offset=u.offset,d.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),d},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,d){if(!(this.offset+u<=this.length))return this.error(d||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=c,c.isEncoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},c.prototype.join=function(u,d){return u||(u=o.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(u,d),d+=h.length}):(typeof this.value=="number"?u[d]=this.value:typeof this.value=="string"?u.write(this.value,d):o.isBuffer(this.value)&&this.value.copy(u,d),d+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,n,i){const s=i;s.Reporter=t("./reporter").Reporter,s.DecoderBuffer=t("./buffer").DecoderBuffer,s.EncoderBuffer=t("./buffer").EncoderBuffer,s.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,n,i){const s=t("../base/reporter").Reporter,a=t("../base/buffer").EncoderBuffer,o=t("../base/buffer").DecoderBuffer,l=t("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function d(f,p,g){const m={};this._baseState=m,m.name=g,m.enc=f,m.parent=p||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=d;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const f=this._baseState,p={};h.forEach(function(m){p[m]=f[m]});const g=new this.constructor(p.parent);return g._baseState=p,g},d.prototype._wrap=function(){const f=this._baseState;u.forEach(function(p){this[p]=function(){const g=new this.constructor(this);return f.children.push(g),g[p].apply(g,arguments)}},this)},d.prototype._init=function(f){const p=this._baseState;l(p.parent===null),f.call(this),p.children=p.children.filter(function(g){return g._baseState.parent===this},this),l.equal(p.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(f){const p=this._baseState,g=f.filter(function(m){return m instanceof this.constructor},this);f=f.filter(function(m){return!(m instanceof this.constructor)},this),g.length!==0&&(l(p.children===null),p.children=g,g.forEach(function(m){m._baseState.parent=this},this)),f.length!==0&&(l(p.args===null),p.args=f,p.reverseArgs=f.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0);const b=m[y];v[b]=y}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){d.prototype[f]=function(){const p=this._baseState;throw new Error(f+" not implemented for encoding: "+p.enc)}}),c.forEach(function(f){d.prototype[f]=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return l(p.tag===null),p.tag=f,this._useArgs(g),this}}),d.prototype.use=function(f){l(f);const p=this._baseState;return l(p.use===null),p.use=f,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(f){const p=this._baseState;return l(p.default===null),p.default=f,p.optional=!0,this},d.prototype.explicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.explicit=f,this},d.prototype.implicit=function(f){const p=this._baseState;return l(p.explicit===null&&p.implicit===null),p.implicit=f,this},d.prototype.obj=function(){const f=this._baseState,p=Array.prototype.slice.call(arguments);return f.obj=!0,p.length!==0&&this._useArgs(p),this},d.prototype.key=function(f){const p=this._baseState;return l(p.key===null),p.key=f,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(f){const p=this._baseState;return l(p.choice===null),p.choice=f,this._useArgs(Object.keys(f).map(function(g){return f[g]})),this},d.prototype.contains=function(f){const p=this._baseState;return l(p.use===null),p.contains=f,this},d.prototype._decode=function(f,p){const g=this._baseState;if(g.parent===null)return f.wrapResult(g.children[0]._decode(f,p));let m,v=g.default,y=!0,b=null;if(g.key!==null&&(b=f.enterKey(g.key)),g.optional){let w=null;if(g.explicit!==null?w=g.explicit:g.implicit!==null?w=g.implicit:g.tag!==null&&(w=g.tag),w!==null||g.any){if(y=this._peekTag(f,w,g.any),f.isError(y))return y}else{const _=f.save();try{g.choice===null?this._decodeGeneric(g.tag,f,p):this._decodeChoice(f,p),y=!0}catch{y=!1}f.restore(_)}}if(g.obj&&y&&(m=f.enterObject()),y){if(g.explicit!==null){const _=this._decodeTag(f,g.explicit);if(f.isError(_))return _;f=_}const w=f.offset;if(g.use===null&&g.choice===null){let _;g.any&&(_=f.save());const B=this._decodeTag(f,g.implicit!==null?g.implicit:g.tag,g.any);if(f.isError(B))return B;g.any?v=f.raw(_):f=B}if(p&&p.track&&g.tag!==null&&p.track(f.path(),w,f.length,"tagged"),p&&p.track&&g.tag!==null&&p.track(f.path(),f.offset,f.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,f,p):this._decodeChoice(f,p)),f.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(_){_._decode(f,p)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const _=new o(v);v=this._getUse(g.contains,f._reporterState.obj)._decode(_,p)}}return g.obj&&y&&(v=f.leaveObject(m)),g.key===null||v===null&&y!==!0?b!==null&&f.exitKey(b):f.leaveKey(b,g.key,v),v},d.prototype._decodeGeneric=function(f,p,g){const m=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(p,f,m.args[0],g):/str$/.test(f)?this._decodeStr(p,f,g):f==="objid"&&m.args?this._decodeObjid(p,m.args[0],m.args[1],g):f==="objid"?this._decodeObjid(p,null,null,g):f==="gentime"||f==="utctime"?this._decodeTime(p,f,g):f==="null_"?this._decodeNull(p,g):f==="bool"?this._decodeBool(p,g):f==="objDesc"?this._decodeStr(p,f,g):f==="int"||f==="enum"?this._decodeInt(p,m.args&&m.args[0],g):m.use!==null?this._getUse(m.use,p._reporterState.obj)._decode(p,g):p.error("unknown tag: "+f)},d.prototype._getUse=function(f,p){const g=this._baseState;return g.useDecoder=this._use(f,p),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},d.prototype._decodeChoice=function(f,p){const g=this._baseState;let m=null,v=!1;return Object.keys(g.choice).some(function(y){const b=f.save(),w=g.choice[y];try{const _=w._decode(f,p);if(f.isError(_))return!1;m={type:y,value:_},v=!0}catch{return f.restore(b),!1}return!0},this),v?m:f.error("Choice not matched")},d.prototype._createEncoderBuffer=function(f){return new a(f,this.reporter)},d.prototype._encode=function(f,p,g){const m=this._baseState;if(m.default!==null&&m.default===f)return;const v=this._encodeValue(f,p,g);return v===void 0||this._skipDefault(v,p,g)?void 0:v},d.prototype._encodeValue=function(f,p,g){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(f,p||new s);let v=null;if(this.reporter=p,m.optional&&f===void 0){if(m.default===null)return;f=m.default}let y=null,b=!1;if(m.any)v=this._createEncoderBuffer(f);else if(m.choice)v=this._encodeChoice(f,p);else if(m.contains)y=this._getUse(m.contains,g)._encode(f,p),b=!0;else if(m.children)y=m.children.map(function(w){if(w._baseState.tag==="null_")return w._encode(null,p,f);if(w._baseState.key===null)return p.error("Child should have a key");const _=p.enterKey(w._baseState.key);if(typeof f!="object")return p.error("Child expected, but input is not object");const B=w._encode(f[w._baseState.key],p,f);return p.leaveKey(_),B},this).filter(function(w){return w}),y=this._createEncoderBuffer(y);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return p.error("Too many args for : "+m.tag);if(!Array.isArray(f))return p.error("seqof/setof, but data is not Array");const w=this.clone();w._baseState.implicit=null,y=this._createEncoderBuffer(f.map(function(_){const B=this._baseState;return this._getUse(B.args[0],f)._encode(_,p)},w))}else m.use!==null?v=this._getUse(m.use,g)._encode(f,p):(y=this._encodePrimitive(m.tag,f),b=!0);if(!m.any&&m.choice===null){const w=m.implicit!==null?m.implicit:m.tag,_=m.implicit===null?"universal":"context";w===null?m.use===null&&p.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(w,b,_,y))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},d.prototype._encodeChoice=function(f,p){const g=this._baseState,m=g.choice[f.type];return m||l(!1,f.type+" not found in "+JSON.stringify(Object.keys(g.choice))),m._encode(f.value,p)},d.prototype._encodePrimitive=function(f,p){const g=this._baseState;if(/str$/.test(f))return this._encodeStr(p,f);if(f==="objid"&&g.args)return this._encodeObjid(p,g.reverseArgs[0],g.args[1]);if(f==="objid")return this._encodeObjid(p,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(p,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(p,g.args&&g.reverseArgs[0]);if(f==="bool")return this._encodeBool(p);if(f==="objDesc")return this._encodeStr(p,f);throw new Error("Unsupported tag: "+f)},d.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},d.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,n,i){const s=t("inherits");function a(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function o(l,c){this.path=l,this.rethrow(c)}i.Reporter=a,a.prototype.isError=function(l){return l instanceof o},a.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},a.prototype.restore=function(l){const c=this._reporterState;c.obj=l.obj,c.path=c.path.slice(0,l.pathLen)},a.prototype.enterKey=function(l){return this._reporterState.path.push(l)},a.prototype.exitKey=function(l){const c=this._reporterState;c.path=c.path.slice(0,l-1)},a.prototype.leaveKey=function(l,c,u){const d=this._reporterState;this.exitKey(l),d.obj!==null&&(d.obj[c]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const l=this._reporterState,c=l.obj;return l.obj={},c},a.prototype.leaveObject=function(l){const c=this._reporterState,u=c.obj;return c.obj=l,u},a.prototype.error=function(l){let c;const u=this._reporterState,d=l instanceof o;if(c=d?l:new o(u.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw c;return d||u.errors.push(c),c},a.prototype.wrapResult=function(l){const c=this._reporterState;return c.options.partial?{result:this.isError(l)?null:l,errors:c.errors}:l},s(o,Error),o.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(t,n,i){function s(a){const o={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const c=a[l];o[c]=l}),o}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=s(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=s(i.tag)},{}],177:[function(t,n,i){const s=i;s._reverse=function(a){const o={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const c=a[l];o[c]=l}),o},s.der=t("./der")},{"./der":176}],178:[function(t,n,i){const s=t("inherits"),a=t("bn.js"),o=t("../base/buffer").DecoderBuffer,l=t("../base/node"),c=t("../constants/der");function u(p){this.enc="der",this.name=p.name,this.entity=p,this.tree=new d,this.tree._init(p.body)}function d(p){l.call(this,"der",p)}function h(p,g){let m=p.readUInt8(g);if(p.isError(m))return m;const v=c.tagClass[m>>6],y=(32&m)==0;if((31&m)==31){let b=m;for(m=0;(128&b)==128;){if(b=p.readUInt8(g),p.isError(b))return b;m<<=7,m|=127&b}}else m&=31;return{cls:v,primitive:y,tag:m,tagStr:c.tag[m]}}function f(p,g,m){let v=p.readUInt8(m);if(p.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const y=127&v;if(y>4)return p.error("length octect is too long");v=0;for(let b=0;b<y;b++){v<<=8;const w=p.readUInt8(m);if(p.isError(w))return w;v|=w}return v}n.exports=u,u.prototype.decode=function(p,g){return o.isDecoderBuffer(p)||(p=new o(p,g)),this.tree._decode(p,g)},s(d,l),d.prototype._peekTag=function(p,g,m){if(p.isEmpty())return!1;const v=p.save(),y=h(p,'Failed to peek tag: "'+g+'"');return p.isError(y)?y:(p.restore(v),y.tag===g||y.tagStr===g||y.tagStr+"of"===g||m)},d.prototype._decodeTag=function(p,g,m){const v=h(p,'Failed to decode tag of "'+g+'"');if(p.isError(v))return v;let y=f(p,v.primitive,'Failed to get length of "'+g+'"');if(p.isError(y))return y;if(!m&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return p.error('Failed to match tag: "'+g+'"');if(v.primitive||y!==null)return p.skip(y,'Failed to match body of: "'+g+'"');const b=p.save(),w=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(w)?w:(y=p.offset-b.offset,p.restore(b),p.skip(y,'Failed to match body of: "'+g+'"'))},d.prototype._skipUntilEnd=function(p,g){for(;;){const m=h(p,g);if(p.isError(m))return m;const v=f(p,m.primitive,g);if(p.isError(v))return v;let y;if(y=m.primitive||v!==null?p.skip(v):this._skipUntilEnd(p,g),p.isError(y))return y;if(m.tagStr==="end")break}},d.prototype._decodeList=function(p,g,m,v){const y=[];for(;!p.isEmpty();){const b=this._peekTag(p,"end");if(p.isError(b))return b;const w=m.decode(p,"der",v);if(p.isError(w)&&b)break;y.push(w)}return y},d.prototype._decodeStr=function(p,g){if(g==="bitstr"){const m=p.readUInt8();return p.isError(m)?m:{unused:m,data:p.raw()}}if(g==="bmpstr"){const m=p.raw();if(m.length%2==1)return p.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<m.length/2;y++)v+=String.fromCharCode(m.readUInt16BE(2*y));return v}if(g==="numstr"){const m=p.raw().toString("ascii");return this._isNumstr(m)?m:p.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return p.raw();if(g==="printstr"){const m=p.raw().toString("ascii");return this._isPrintstr(m)?m:p.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?p.raw().toString():p.error("Decoding of string type: "+g+" unsupported")},d.prototype._decodeObjid=function(p,g,m){let v;const y=[];let b=0,w=0;for(;!p.isEmpty();)w=p.readUInt8(),b<<=7,b|=127&w,!(128&w)&&(y.push(b),b=0);128&w&&y.push(b);const _=y[0]/40|0,B=y[0]%40;if(v=m?y:[_,B].concat(y.slice(1)),g){let R=g[v.join(" ")];R===void 0&&(R=g[v.join(".")]),R!==void 0&&(v=R)}return v},d.prototype._decodeTime=function(p,g){const m=p.raw().toString();let v,y,b,w,_,B;if(g==="gentime")v=0|m.slice(0,4),y=0|m.slice(4,6),b=0|m.slice(6,8),w=0|m.slice(8,10),_=0|m.slice(10,12),B=0|m.slice(12,14);else{if(g!=="utctime")return p.error("Decoding "+g+" time is not supported yet");v=0|m.slice(0,2),y=0|m.slice(2,4),b=0|m.slice(4,6),w=0|m.slice(6,8),_=0|m.slice(8,10),B=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,b,w,_,B,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(p){const g=p.readUInt8();return p.isError(g)?g:g!==0},d.prototype._decodeInt=function(p,g){const m=p.raw();let v=new a(m);return g&&(v=g[v.toString(10)]||v),v},d.prototype._use=function(p,g){return typeof p=="function"&&(p=p(g)),p._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,n,i){const s=i;s.der=t("./der"),s.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,n,i){const s=t("inherits"),a=t("safer-buffer").Buffer,o=t("./der");function l(c){o.call(this,c),this.enc="pem"}s(l,o),n.exports=l,l.prototype.decode=function(c,u){const d=c.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,g=-1;for(let y=0;y<d.length;y++){const b=d[y].match(f);if(b!==null&&b[2]===h){if(p!==-1){if(b[1]!=="END")break;g=y;break}if(b[1]!=="BEGIN")break;p=y}}if(p===-1||g===-1)throw new Error("PEM section not found for: "+h);const m=d.slice(p+1,g).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(m,"base64");return o.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,n,i){const s=t("inherits"),a=t("safer-buffer").Buffer,o=t("../base/node"),l=t("../constants/der");function c(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){o.call(this,"der",h)}function d(h){return h<10?"0"+h:h}n.exports=c,c.prototype.encode=function(h,f){return this.tree._encode(h,f).join()},s(u,o),u.prototype._encodeComposite=function(h,f,p,g){const m=function(b,w,_,B){let R;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),l.tagByName.hasOwnProperty(b))R=l.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return B.error("Unknown tag: "+b);R=b}return R>=31?B.error("Multi-octet tag encoding unsupported"):(w||(R|=32),R|=l.tagClassByName[_||"universal"]<<6,R)}(h,f,p,this.reporter);if(g.length<128){const b=a.alloc(2);return b[0]=m,b[1]=g.length,this._createEncoderBuffer([b,g])}let v=1;for(let b=g.length;b>=256;b>>=8)v++;const y=a.alloc(2+v);y[0]=m,y[1]=128|v;for(let b=1+v,w=g.length;w>0;b--,w>>=8)y[b]=255&w;return this._createEncoderBuffer([y,g])},u.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(f==="bmpstr"){const p=a.alloc(2*h.length);for(let g=0;g<h.length;g++)p.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(p)}return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},u.prototype._encodeObjid=function(h,f,p){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let y=0;y<h.length;y++)h[y]|=0}else if(Array.isArray(h)){h=h.slice();for(let y=0;y<h.length;y++)h[y]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!p){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let y=0;y<h.length;y++){let b=h[y];for(g++;b>=128;b>>=7)g++}const m=a.alloc(g);let v=m.length-1;for(let y=h.length-1;y>=0;y--){let b=h[y];for(m[v--]=127&b;(b>>=7)>0;)m[v--]=128|127&b}return this._createEncoderBuffer(m)},u.prototype._encodeTime=function(h,f){let p;const g=new Date(h);return f==="gentime"?p=[d(g.getUTCFullYear()),d(g.getUTCMonth()+1),d(g.getUTCDate()),d(g.getUTCHours()),d(g.getUTCMinutes()),d(g.getUTCSeconds()),"Z"].join(""):f==="utctime"?p=[d(g.getUTCFullYear()%100),d(g.getUTCMonth()+1),d(g.getUTCDate()),d(g.getUTCHours()),d(g.getUTCMinutes()),d(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(p,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!a.isBuffer(h)){const m=h.toArray();!h.sign&&128&m[0]&&m.unshift(0),h=a.from(m)}if(a.isBuffer(h)){let m=h.length;h.length===0&&m++;const v=a.alloc(m);return h.copy(v),h.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let p=1;for(let m=h;m>=256;m>>=8)p++;const g=new Array(p);for(let m=g.length-1;m>=0;m--)g[m]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(a.from(g))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,f,p){const g=this._baseState;let m;if(g.default===null)return!1;const v=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,f,p).join()),v.length!==g.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==g.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,n,i){const s=i;s.der=t("./der"),s.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,n,i){const s=t("inherits"),a=t("./der");function o(l){a.call(this,l),this.enc="pem"}s(o,a),n.exports=o,o.prototype.encode=function(l,c){const u=a.prototype.encode.call(this,l).toString("base64"),d=["-----BEGIN "+c.label+"-----"];for(let h=0;h<u.length;h+=64)d.push(u.slice(h,h+64));return d.push("-----END "+c.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,n,i){(function(s,a){function o(T,P){if(!T)throw new Error(P||"Assertion failed")}function l(T,P){T.super_=P;var N=function(){};N.prototype=P.prototype,T.prototype=new N,T.prototype.constructor=T}function c(T,P,N){if(c.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(P!=="le"&&P!=="be"||(N=P,P=10),this._init(T||0,P||10,N||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function d(T,P){var N=T.charCodeAt(P);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function h(T,P,N){var S=d(T,N);return N-1>=P&&(S|=d(T,N-1)<<4),S}function f(T,P,N,S){for(var C=0,E=Math.min(T.length,N),x=P;x<E;x++){var F=T.charCodeAt(x)-48;C*=S,C+=F>=49?F-49+10:F>=17?F-17+10:F}return C}c.isBN=function(T){return T instanceof c||T!==null&&typeof T=="object"&&T.constructor.wordSize===c.wordSize&&Array.isArray(T.words)},c.max=function(T,P){return T.cmp(P)>0?T:P},c.min=function(T,P){return T.cmp(P)<0?T:P},c.prototype._init=function(T,P,N){if(typeof T=="number")return this._initNumber(T,P,N);if(typeof T=="object")return this._initArray(T,P,N);P==="hex"&&(P=16),o(P===(0|P)&&P>=2&&P<=36);var S=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<T.length&&(P===16?this._parseHex(T,S,N):(this._parseBase(T,P,S),N==="le"&&this._initArray(this.toArray(),P,N)))},c.prototype._initNumber=function(T,P,N){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(o(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),P,N)},c.prototype._initArray=function(T,P,N){if(o(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var C,E,x=0;if(N==="be")for(S=T.length-1,C=0;S>=0;S-=3)E=T[S]|T[S-1]<<8|T[S-2]<<16,this.words[C]|=E<<x&67108863,this.words[C+1]=E>>>26-x&67108863,(x+=24)>=26&&(x-=26,C++);else if(N==="le")for(S=0,C=0;S<T.length;S+=3)E=T[S]|T[S+1]<<8|T[S+2]<<16,this.words[C]|=E<<x&67108863,this.words[C+1]=E>>>26-x&67108863,(x+=24)>=26&&(x-=26,C++);return this.strip()},c.prototype._parseHex=function(T,P,N){this.length=Math.ceil((T.length-P)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var C,E=0,x=0;if(N==="be")for(S=T.length-1;S>=P;S-=2)C=h(T,P,S)<<E,this.words[x]|=67108863&C,E>=18?(E-=18,x+=1,this.words[x]|=C>>>26):E+=8;else for(S=(T.length-P)%2==0?P+1:P;S<T.length;S+=2)C=h(T,P,S)<<E,this.words[x]|=67108863&C,E>=18?(E-=18,x+=1,this.words[x]|=C>>>26):E+=8;this.strip()},c.prototype._parseBase=function(T,P,N){this.words=[0],this.length=1;for(var S=0,C=1;C<=67108863;C*=P)S++;S--,C=C/P|0;for(var E=T.length-N,x=E%S,F=Math.min(E,E-x)+N,U=0,M=N;M<F;M+=S)U=f(T,M,M+S,P),this.imuln(C),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(x!==0){var z=1;for(U=f(T,M,T.length,P),M=0;M<x;M++)z*=P;this.imuln(z),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this.strip()},c.prototype.copy=function(T){T.words=new Array(this.length);for(var P=0;P<this.length;P++)T.words[P]=this.words[P];T.length=this.length,T.negative=this.negative,T.red=this.red},c.prototype.clone=function(){var T=new c(null);return this.copy(T),T},c.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(T,P,N){N.negative=P.negative^T.negative;var S=T.length+P.length|0;N.length=S,S=S-1|0;var C=0|T.words[0],E=0|P.words[0],x=C*E,F=67108863&x,U=x/67108864|0;N.words[0]=F;for(var M=1;M<S;M++){for(var z=U>>>26,G=67108863&U,Y=Math.min(M,P.length-1),Q=Math.max(0,M-T.length+1);Q<=Y;Q++){var q=M-Q|0;z+=(x=(C=0|T.words[q])*(E=0|P.words[Q])+G)/67108864|0,G=67108863&x}N.words[M]=0|G,U=0|z}return U!==0?N.words[M]=0|U:N.length--,N.strip()}c.prototype.toString=function(T,P){var N;if(P=0|P||1,(T=T||10)===16||T==="hex"){N="";for(var S=0,C=0,E=0;E<this.length;E++){var x=this.words[E],F=(16777215&(x<<S|C)).toString(16);N=(C=x>>>24-S&16777215)!==0||E!==this.length-1?p[6-F.length]+F+N:F+N,(S+=2)>=26&&(S-=26,E--)}for(C!==0&&(N=C.toString(16)+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(T===(0|T)&&T>=2&&T<=36){var U=g[T],M=m[T];N="";var z=this.clone();for(z.negative=0;!z.isZero();){var G=z.modn(M).toString(T);N=(z=z.idivn(M)).isZero()?G+N:p[U-G.length]+G+N}for(this.isZero()&&(N="0"+N);N.length%P!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(T,P){return o(u!==void 0),this.toArrayLike(u,T,P)},c.prototype.toArray=function(T,P){return this.toArrayLike(Array,T,P)},c.prototype.toArrayLike=function(T,P,N){var S=this.byteLength(),C=N||Math.max(1,S);o(S<=C,"byte array longer than desired length"),o(C>0,"Requested array length <= 0"),this.strip();var E,x,F=P==="le",U=new T(C),M=this.clone();if(F){for(x=0;!M.isZero();x++)E=M.andln(255),M.iushrn(8),U[x]=E;for(;x<C;x++)U[x]=0}else{for(x=0;x<C-S;x++)U[x]=0;for(x=0;!M.isZero();x++)E=M.andln(255),M.iushrn(8),U[C-x-1]=E}return U},Math.clz32?c.prototype._countBits=function(T){return 32-Math.clz32(T)}:c.prototype._countBits=function(T){var P=T,N=0;return P>=4096&&(N+=13,P>>>=13),P>=64&&(N+=7,P>>>=7),P>=8&&(N+=4,P>>>=4),P>=2&&(N+=2,P>>>=2),N+P},c.prototype._zeroBits=function(T){if(T===0)return 26;var P=T,N=0;return!(8191&P)&&(N+=13,P>>>=13),!(127&P)&&(N+=7,P>>>=7),!(15&P)&&(N+=4,P>>>=4),!(3&P)&&(N+=2,P>>>=2),!(1&P)&&N++,N},c.prototype.bitLength=function(){var T=this.words[this.length-1],P=this._countBits(T);return 26*(this.length-1)+P},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,P=0;P<this.length;P++){var N=this._zeroBits(this.words[P]);if(T+=N,N!==26)break}return T},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},c.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var P=0;P<T.length;P++)this.words[P]=this.words[P]|T.words[P];return this.strip()},c.prototype.ior=function(T){return o((this.negative|T.negative)==0),this.iuor(T)},c.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},c.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},c.prototype.iuand=function(T){var P;P=this.length>T.length?T:this;for(var N=0;N<P.length;N++)this.words[N]=this.words[N]&T.words[N];return this.length=P.length,this.strip()},c.prototype.iand=function(T){return o((this.negative|T.negative)==0),this.iuand(T)},c.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},c.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},c.prototype.iuxor=function(T){var P,N;this.length>T.length?(P=this,N=T):(P=T,N=this);for(var S=0;S<N.length;S++)this.words[S]=P.words[S]^N.words[S];if(this!==P)for(;S<P.length;S++)this.words[S]=P.words[S];return this.length=P.length,this.strip()},c.prototype.ixor=function(T){return o((this.negative|T.negative)==0),this.iuxor(T)},c.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},c.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},c.prototype.inotn=function(T){o(typeof T=="number"&&T>=0);var P=0|Math.ceil(T/26),N=T%26;this._expand(P),N>0&&P--;for(var S=0;S<P;S++)this.words[S]=67108863&~this.words[S];return N>0&&(this.words[S]=~this.words[S]&67108863>>26-N),this.strip()},c.prototype.notn=function(T){return this.clone().inotn(T)},c.prototype.setn=function(T,P){o(typeof T=="number"&&T>=0);var N=T/26|0,S=T%26;return this._expand(N+1),this.words[N]=P?this.words[N]|1<<S:this.words[N]&~(1<<S),this.strip()},c.prototype.iadd=function(T){var P,N,S;if(this.negative!==0&&T.negative===0)return this.negative=0,P=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,P=this.isub(T),T.negative=1,P._normSign();this.length>T.length?(N=this,S=T):(N=T,S=this);for(var C=0,E=0;E<S.length;E++)P=(0|N.words[E])+(0|S.words[E])+C,this.words[E]=67108863&P,C=P>>>26;for(;C!==0&&E<N.length;E++)P=(0|N.words[E])+C,this.words[E]=67108863&P,C=P>>>26;if(this.length=N.length,C!==0)this.words[this.length]=C,this.length++;else if(N!==this)for(;E<N.length;E++)this.words[E]=N.words[E];return this},c.prototype.add=function(T){var P;return T.negative!==0&&this.negative===0?(T.negative=0,P=this.sub(T),T.negative^=1,P):T.negative===0&&this.negative!==0?(this.negative=0,P=T.sub(this),this.negative=1,P):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},c.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var P=this.iadd(T);return T.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var N,S,C=this.cmp(T);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(N=this,S=T):(N=T,S=this);for(var E=0,x=0;x<S.length;x++)E=(P=(0|N.words[x])-(0|S.words[x])+E)>>26,this.words[x]=67108863&P;for(;E!==0&&x<N.length;x++)E=(P=(0|N.words[x])+E)>>26,this.words[x]=67108863&P;if(E===0&&x<N.length&&N!==this)for(;x<N.length;x++)this.words[x]=N.words[x];return this.length=Math.max(this.length,x),N!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(T){return this.clone().isub(T)};var y=function(T,P,N){var S,C,E,x=T.words,F=P.words,U=N.words,M=0,z=0|x[0],G=8191&z,Y=z>>>13,Q=0|x[1],q=8191&Q,D=Q>>>13,O=0|x[2],V=8191&O,J=O>>>13,re=0|x[3],ne=8191&re,se=re>>>13,ee=0|x[4],de=8191&ee,ie=ee>>>13,he=0|x[5],le=8191&he,be=he>>>13,ye=0|x[6],xe=8191&ye,Ee=ye>>>13,Be=0|x[7],Pe=8191&Be,Ue=Be>>>13,He=0|x[8],$e=8191&He,Ke=He>>>13,st=0|x[9],Ve=8191&st,pt=st>>>13,Je=0|F[0],ze=8191&Je,qe=Je>>>13,gt=0|F[1],We=8191&gt,Tt=gt>>>13,St=0|F[2],ot=8191&St,Ot=St>>>13,vt=0|F[3],ut=8191&vt,Wt=vt>>>13,wr=0|F[4],Ct=8191&wr,cr=wr>>>13,Nr=0|F[5],ht=8191&Nr,mr=Nr>>>13,Br=0|F[6],qt=8191&Br,Ce=Br>>>13,_e=0|F[7],De=8191&_e,dt=_e>>>13,$t=0|F[8],yt=8191&$t,zt=$t>>>13,Bt=0|F[9],jt=8191&Bt,Xt=Bt>>>13;N.negative=T.negative^P.negative,N.length=19;var Vt=(M+(S=Math.imul(G,ze))|0)+((8191&(C=(C=Math.imul(G,qe))+Math.imul(Y,ze)|0))<<13)|0;M=((E=Math.imul(Y,qe))+(C>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,S=Math.imul(q,ze),C=(C=Math.imul(q,qe))+Math.imul(D,ze)|0,E=Math.imul(D,qe);var ur=(M+(S=S+Math.imul(G,We)|0)|0)+((8191&(C=(C=C+Math.imul(G,Tt)|0)+Math.imul(Y,We)|0))<<13)|0;M=((E=E+Math.imul(Y,Tt)|0)+(C>>>13)|0)+(ur>>>26)|0,ur&=67108863,S=Math.imul(V,ze),C=(C=Math.imul(V,qe))+Math.imul(J,ze)|0,E=Math.imul(J,qe),S=S+Math.imul(q,We)|0,C=(C=C+Math.imul(q,Tt)|0)+Math.imul(D,We)|0,E=E+Math.imul(D,Tt)|0;var Hr=(M+(S=S+Math.imul(G,ot)|0)|0)+((8191&(C=(C=C+Math.imul(G,Ot)|0)+Math.imul(Y,ot)|0))<<13)|0;M=((E=E+Math.imul(Y,Ot)|0)+(C>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,S=Math.imul(ne,ze),C=(C=Math.imul(ne,qe))+Math.imul(se,ze)|0,E=Math.imul(se,qe),S=S+Math.imul(V,We)|0,C=(C=C+Math.imul(V,Tt)|0)+Math.imul(J,We)|0,E=E+Math.imul(J,Tt)|0,S=S+Math.imul(q,ot)|0,C=(C=C+Math.imul(q,Ot)|0)+Math.imul(D,ot)|0,E=E+Math.imul(D,Ot)|0;var wt=(M+(S=S+Math.imul(G,ut)|0)|0)+((8191&(C=(C=C+Math.imul(G,Wt)|0)+Math.imul(Y,ut)|0))<<13)|0;M=((E=E+Math.imul(Y,Wt)|0)+(C>>>13)|0)+(wt>>>26)|0,wt&=67108863,S=Math.imul(de,ze),C=(C=Math.imul(de,qe))+Math.imul(ie,ze)|0,E=Math.imul(ie,qe),S=S+Math.imul(ne,We)|0,C=(C=C+Math.imul(ne,Tt)|0)+Math.imul(se,We)|0,E=E+Math.imul(se,Tt)|0,S=S+Math.imul(V,ot)|0,C=(C=C+Math.imul(V,Ot)|0)+Math.imul(J,ot)|0,E=E+Math.imul(J,Ot)|0,S=S+Math.imul(q,ut)|0,C=(C=C+Math.imul(q,Wt)|0)+Math.imul(D,ut)|0,E=E+Math.imul(D,Wt)|0;var we=(M+(S=S+Math.imul(G,Ct)|0)|0)+((8191&(C=(C=C+Math.imul(G,cr)|0)+Math.imul(Y,Ct)|0))<<13)|0;M=((E=E+Math.imul(Y,cr)|0)+(C>>>13)|0)+(we>>>26)|0,we&=67108863,S=Math.imul(le,ze),C=(C=Math.imul(le,qe))+Math.imul(be,ze)|0,E=Math.imul(be,qe),S=S+Math.imul(de,We)|0,C=(C=C+Math.imul(de,Tt)|0)+Math.imul(ie,We)|0,E=E+Math.imul(ie,Tt)|0,S=S+Math.imul(ne,ot)|0,C=(C=C+Math.imul(ne,Ot)|0)+Math.imul(se,ot)|0,E=E+Math.imul(se,Ot)|0,S=S+Math.imul(V,ut)|0,C=(C=C+Math.imul(V,Wt)|0)+Math.imul(J,ut)|0,E=E+Math.imul(J,Wt)|0,S=S+Math.imul(q,Ct)|0,C=(C=C+Math.imul(q,cr)|0)+Math.imul(D,Ct)|0,E=E+Math.imul(D,cr)|0;var nt=(M+(S=S+Math.imul(G,ht)|0)|0)+((8191&(C=(C=C+Math.imul(G,mr)|0)+Math.imul(Y,ht)|0))<<13)|0;M=((E=E+Math.imul(Y,mr)|0)+(C>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(xe,ze),C=(C=Math.imul(xe,qe))+Math.imul(Ee,ze)|0,E=Math.imul(Ee,qe),S=S+Math.imul(le,We)|0,C=(C=C+Math.imul(le,Tt)|0)+Math.imul(be,We)|0,E=E+Math.imul(be,Tt)|0,S=S+Math.imul(de,ot)|0,C=(C=C+Math.imul(de,Ot)|0)+Math.imul(ie,ot)|0,E=E+Math.imul(ie,Ot)|0,S=S+Math.imul(ne,ut)|0,C=(C=C+Math.imul(ne,Wt)|0)+Math.imul(se,ut)|0,E=E+Math.imul(se,Wt)|0,S=S+Math.imul(V,Ct)|0,C=(C=C+Math.imul(V,cr)|0)+Math.imul(J,Ct)|0,E=E+Math.imul(J,cr)|0,S=S+Math.imul(q,ht)|0,C=(C=C+Math.imul(q,mr)|0)+Math.imul(D,ht)|0,E=E+Math.imul(D,mr)|0;var _t=(M+(S=S+Math.imul(G,qt)|0)|0)+((8191&(C=(C=C+Math.imul(G,Ce)|0)+Math.imul(Y,qt)|0))<<13)|0;M=((E=E+Math.imul(Y,Ce)|0)+(C>>>13)|0)+(_t>>>26)|0,_t&=67108863,S=Math.imul(Pe,ze),C=(C=Math.imul(Pe,qe))+Math.imul(Ue,ze)|0,E=Math.imul(Ue,qe),S=S+Math.imul(xe,We)|0,C=(C=C+Math.imul(xe,Tt)|0)+Math.imul(Ee,We)|0,E=E+Math.imul(Ee,Tt)|0,S=S+Math.imul(le,ot)|0,C=(C=C+Math.imul(le,Ot)|0)+Math.imul(be,ot)|0,E=E+Math.imul(be,Ot)|0,S=S+Math.imul(de,ut)|0,C=(C=C+Math.imul(de,Wt)|0)+Math.imul(ie,ut)|0,E=E+Math.imul(ie,Wt)|0,S=S+Math.imul(ne,Ct)|0,C=(C=C+Math.imul(ne,cr)|0)+Math.imul(se,Ct)|0,E=E+Math.imul(se,cr)|0,S=S+Math.imul(V,ht)|0,C=(C=C+Math.imul(V,mr)|0)+Math.imul(J,ht)|0,E=E+Math.imul(J,mr)|0,S=S+Math.imul(q,qt)|0,C=(C=C+Math.imul(q,Ce)|0)+Math.imul(D,qt)|0,E=E+Math.imul(D,Ce)|0;var pe=(M+(S=S+Math.imul(G,De)|0)|0)+((8191&(C=(C=C+Math.imul(G,dt)|0)+Math.imul(Y,De)|0))<<13)|0;M=((E=E+Math.imul(Y,dt)|0)+(C>>>13)|0)+(pe>>>26)|0,pe&=67108863,S=Math.imul($e,ze),C=(C=Math.imul($e,qe))+Math.imul(Ke,ze)|0,E=Math.imul(Ke,qe),S=S+Math.imul(Pe,We)|0,C=(C=C+Math.imul(Pe,Tt)|0)+Math.imul(Ue,We)|0,E=E+Math.imul(Ue,Tt)|0,S=S+Math.imul(xe,ot)|0,C=(C=C+Math.imul(xe,Ot)|0)+Math.imul(Ee,ot)|0,E=E+Math.imul(Ee,Ot)|0,S=S+Math.imul(le,ut)|0,C=(C=C+Math.imul(le,Wt)|0)+Math.imul(be,ut)|0,E=E+Math.imul(be,Wt)|0,S=S+Math.imul(de,Ct)|0,C=(C=C+Math.imul(de,cr)|0)+Math.imul(ie,Ct)|0,E=E+Math.imul(ie,cr)|0,S=S+Math.imul(ne,ht)|0,C=(C=C+Math.imul(ne,mr)|0)+Math.imul(se,ht)|0,E=E+Math.imul(se,mr)|0,S=S+Math.imul(V,qt)|0,C=(C=C+Math.imul(V,Ce)|0)+Math.imul(J,qt)|0,E=E+Math.imul(J,Ce)|0,S=S+Math.imul(q,De)|0,C=(C=C+Math.imul(q,dt)|0)+Math.imul(D,De)|0,E=E+Math.imul(D,dt)|0;var Fe=(M+(S=S+Math.imul(G,yt)|0)|0)+((8191&(C=(C=C+Math.imul(G,zt)|0)+Math.imul(Y,yt)|0))<<13)|0;M=((E=E+Math.imul(Y,zt)|0)+(C>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(Ve,ze),C=(C=Math.imul(Ve,qe))+Math.imul(pt,ze)|0,E=Math.imul(pt,qe),S=S+Math.imul($e,We)|0,C=(C=C+Math.imul($e,Tt)|0)+Math.imul(Ke,We)|0,E=E+Math.imul(Ke,Tt)|0,S=S+Math.imul(Pe,ot)|0,C=(C=C+Math.imul(Pe,Ot)|0)+Math.imul(Ue,ot)|0,E=E+Math.imul(Ue,Ot)|0,S=S+Math.imul(xe,ut)|0,C=(C=C+Math.imul(xe,Wt)|0)+Math.imul(Ee,ut)|0,E=E+Math.imul(Ee,Wt)|0,S=S+Math.imul(le,Ct)|0,C=(C=C+Math.imul(le,cr)|0)+Math.imul(be,Ct)|0,E=E+Math.imul(be,cr)|0,S=S+Math.imul(de,ht)|0,C=(C=C+Math.imul(de,mr)|0)+Math.imul(ie,ht)|0,E=E+Math.imul(ie,mr)|0,S=S+Math.imul(ne,qt)|0,C=(C=C+Math.imul(ne,Ce)|0)+Math.imul(se,qt)|0,E=E+Math.imul(se,Ce)|0,S=S+Math.imul(V,De)|0,C=(C=C+Math.imul(V,dt)|0)+Math.imul(J,De)|0,E=E+Math.imul(J,dt)|0,S=S+Math.imul(q,yt)|0,C=(C=C+Math.imul(q,zt)|0)+Math.imul(D,yt)|0,E=E+Math.imul(D,zt)|0;var Qe=(M+(S=S+Math.imul(G,jt)|0)|0)+((8191&(C=(C=C+Math.imul(G,Xt)|0)+Math.imul(Y,jt)|0))<<13)|0;M=((E=E+Math.imul(Y,Xt)|0)+(C>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,S=Math.imul(Ve,We),C=(C=Math.imul(Ve,Tt))+Math.imul(pt,We)|0,E=Math.imul(pt,Tt),S=S+Math.imul($e,ot)|0,C=(C=C+Math.imul($e,Ot)|0)+Math.imul(Ke,ot)|0,E=E+Math.imul(Ke,Ot)|0,S=S+Math.imul(Pe,ut)|0,C=(C=C+Math.imul(Pe,Wt)|0)+Math.imul(Ue,ut)|0,E=E+Math.imul(Ue,Wt)|0,S=S+Math.imul(xe,Ct)|0,C=(C=C+Math.imul(xe,cr)|0)+Math.imul(Ee,Ct)|0,E=E+Math.imul(Ee,cr)|0,S=S+Math.imul(le,ht)|0,C=(C=C+Math.imul(le,mr)|0)+Math.imul(be,ht)|0,E=E+Math.imul(be,mr)|0,S=S+Math.imul(de,qt)|0,C=(C=C+Math.imul(de,Ce)|0)+Math.imul(ie,qt)|0,E=E+Math.imul(ie,Ce)|0,S=S+Math.imul(ne,De)|0,C=(C=C+Math.imul(ne,dt)|0)+Math.imul(se,De)|0,E=E+Math.imul(se,dt)|0,S=S+Math.imul(V,yt)|0,C=(C=C+Math.imul(V,zt)|0)+Math.imul(J,yt)|0,E=E+Math.imul(J,zt)|0;var tt=(M+(S=S+Math.imul(q,jt)|0)|0)+((8191&(C=(C=C+Math.imul(q,Xt)|0)+Math.imul(D,jt)|0))<<13)|0;M=((E=E+Math.imul(D,Xt)|0)+(C>>>13)|0)+(tt>>>26)|0,tt&=67108863,S=Math.imul(Ve,ot),C=(C=Math.imul(Ve,Ot))+Math.imul(pt,ot)|0,E=Math.imul(pt,Ot),S=S+Math.imul($e,ut)|0,C=(C=C+Math.imul($e,Wt)|0)+Math.imul(Ke,ut)|0,E=E+Math.imul(Ke,Wt)|0,S=S+Math.imul(Pe,Ct)|0,C=(C=C+Math.imul(Pe,cr)|0)+Math.imul(Ue,Ct)|0,E=E+Math.imul(Ue,cr)|0,S=S+Math.imul(xe,ht)|0,C=(C=C+Math.imul(xe,mr)|0)+Math.imul(Ee,ht)|0,E=E+Math.imul(Ee,mr)|0,S=S+Math.imul(le,qt)|0,C=(C=C+Math.imul(le,Ce)|0)+Math.imul(be,qt)|0,E=E+Math.imul(be,Ce)|0,S=S+Math.imul(de,De)|0,C=(C=C+Math.imul(de,dt)|0)+Math.imul(ie,De)|0,E=E+Math.imul(ie,dt)|0,S=S+Math.imul(ne,yt)|0,C=(C=C+Math.imul(ne,zt)|0)+Math.imul(se,yt)|0,E=E+Math.imul(se,zt)|0;var Et=(M+(S=S+Math.imul(V,jt)|0)|0)+((8191&(C=(C=C+Math.imul(V,Xt)|0)+Math.imul(J,jt)|0))<<13)|0;M=((E=E+Math.imul(J,Xt)|0)+(C>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(Ve,ut),C=(C=Math.imul(Ve,Wt))+Math.imul(pt,ut)|0,E=Math.imul(pt,Wt),S=S+Math.imul($e,Ct)|0,C=(C=C+Math.imul($e,cr)|0)+Math.imul(Ke,Ct)|0,E=E+Math.imul(Ke,cr)|0,S=S+Math.imul(Pe,ht)|0,C=(C=C+Math.imul(Pe,mr)|0)+Math.imul(Ue,ht)|0,E=E+Math.imul(Ue,mr)|0,S=S+Math.imul(xe,qt)|0,C=(C=C+Math.imul(xe,Ce)|0)+Math.imul(Ee,qt)|0,E=E+Math.imul(Ee,Ce)|0,S=S+Math.imul(le,De)|0,C=(C=C+Math.imul(le,dt)|0)+Math.imul(be,De)|0,E=E+Math.imul(be,dt)|0,S=S+Math.imul(de,yt)|0,C=(C=C+Math.imul(de,zt)|0)+Math.imul(ie,yt)|0,E=E+Math.imul(ie,zt)|0;var At=(M+(S=S+Math.imul(ne,jt)|0)|0)+((8191&(C=(C=C+Math.imul(ne,Xt)|0)+Math.imul(se,jt)|0))<<13)|0;M=((E=E+Math.imul(se,Xt)|0)+(C>>>13)|0)+(At>>>26)|0,At&=67108863,S=Math.imul(Ve,Ct),C=(C=Math.imul(Ve,cr))+Math.imul(pt,Ct)|0,E=Math.imul(pt,cr),S=S+Math.imul($e,ht)|0,C=(C=C+Math.imul($e,mr)|0)+Math.imul(Ke,ht)|0,E=E+Math.imul(Ke,mr)|0,S=S+Math.imul(Pe,qt)|0,C=(C=C+Math.imul(Pe,Ce)|0)+Math.imul(Ue,qt)|0,E=E+Math.imul(Ue,Ce)|0,S=S+Math.imul(xe,De)|0,C=(C=C+Math.imul(xe,dt)|0)+Math.imul(Ee,De)|0,E=E+Math.imul(Ee,dt)|0,S=S+Math.imul(le,yt)|0,C=(C=C+Math.imul(le,zt)|0)+Math.imul(be,yt)|0,E=E+Math.imul(be,zt)|0;var xt=(M+(S=S+Math.imul(de,jt)|0)|0)+((8191&(C=(C=C+Math.imul(de,Xt)|0)+Math.imul(ie,jt)|0))<<13)|0;M=((E=E+Math.imul(ie,Xt)|0)+(C>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(Ve,ht),C=(C=Math.imul(Ve,mr))+Math.imul(pt,ht)|0,E=Math.imul(pt,mr),S=S+Math.imul($e,qt)|0,C=(C=C+Math.imul($e,Ce)|0)+Math.imul(Ke,qt)|0,E=E+Math.imul(Ke,Ce)|0,S=S+Math.imul(Pe,De)|0,C=(C=C+Math.imul(Pe,dt)|0)+Math.imul(Ue,De)|0,E=E+Math.imul(Ue,dt)|0,S=S+Math.imul(xe,yt)|0,C=(C=C+Math.imul(xe,zt)|0)+Math.imul(Ee,yt)|0,E=E+Math.imul(Ee,zt)|0;var Zt=(M+(S=S+Math.imul(le,jt)|0)|0)+((8191&(C=(C=C+Math.imul(le,Xt)|0)+Math.imul(be,jt)|0))<<13)|0;M=((E=E+Math.imul(be,Xt)|0)+(C>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(Ve,qt),C=(C=Math.imul(Ve,Ce))+Math.imul(pt,qt)|0,E=Math.imul(pt,Ce),S=S+Math.imul($e,De)|0,C=(C=C+Math.imul($e,dt)|0)+Math.imul(Ke,De)|0,E=E+Math.imul(Ke,dt)|0,S=S+Math.imul(Pe,yt)|0,C=(C=C+Math.imul(Pe,zt)|0)+Math.imul(Ue,yt)|0,E=E+Math.imul(Ue,zt)|0;var dr=(M+(S=S+Math.imul(xe,jt)|0)|0)+((8191&(C=(C=C+Math.imul(xe,Xt)|0)+Math.imul(Ee,jt)|0))<<13)|0;M=((E=E+Math.imul(Ee,Xt)|0)+(C>>>13)|0)+(dr>>>26)|0,dr&=67108863,S=Math.imul(Ve,De),C=(C=Math.imul(Ve,dt))+Math.imul(pt,De)|0,E=Math.imul(pt,dt),S=S+Math.imul($e,yt)|0,C=(C=C+Math.imul($e,zt)|0)+Math.imul(Ke,yt)|0,E=E+Math.imul(Ke,zt)|0;var Ar=(M+(S=S+Math.imul(Pe,jt)|0)|0)+((8191&(C=(C=C+Math.imul(Pe,Xt)|0)+Math.imul(Ue,jt)|0))<<13)|0;M=((E=E+Math.imul(Ue,Xt)|0)+(C>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,S=Math.imul(Ve,yt),C=(C=Math.imul(Ve,zt))+Math.imul(pt,yt)|0,E=Math.imul(pt,zt);var nr=(M+(S=S+Math.imul($e,jt)|0)|0)+((8191&(C=(C=C+Math.imul($e,Xt)|0)+Math.imul(Ke,jt)|0))<<13)|0;M=((E=E+Math.imul(Ke,Xt)|0)+(C>>>13)|0)+(nr>>>26)|0,nr&=67108863;var Tr=(M+(S=Math.imul(Ve,jt))|0)+((8191&(C=(C=Math.imul(Ve,Xt))+Math.imul(pt,jt)|0))<<13)|0;return M=((E=Math.imul(pt,Xt))+(C>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,U[0]=Vt,U[1]=ur,U[2]=Hr,U[3]=wt,U[4]=we,U[5]=nt,U[6]=_t,U[7]=pe,U[8]=Fe,U[9]=Qe,U[10]=tt,U[11]=Et,U[12]=At,U[13]=xt,U[14]=Zt,U[15]=dr,U[16]=Ar,U[17]=nr,U[18]=Tr,M!==0&&(U[19]=M,N.length++),N};function b(T,P,N){return new w().mulp(T,P,N)}function w(T,P){this.x=T,this.y=P}Math.imul||(y=v),c.prototype.mulTo=function(T,P){var N=this.length+T.length;return this.length===10&&T.length===10?y(this,T,P):N<63?v(this,T,P):N<1024?function(S,C,E){E.negative=C.negative^S.negative,E.length=S.length+C.length;for(var x=0,F=0,U=0;U<E.length-1;U++){var M=F;F=0;for(var z=67108863&x,G=Math.min(U,C.length-1),Y=Math.max(0,U-S.length+1);Y<=G;Y++){var Q=U-Y,q=(0|S.words[Q])*(0|C.words[Y]),D=67108863&q;z=67108863&(D=D+z|0),F+=(M=(M=M+(q/67108864|0)|0)+(D>>>26)|0)>>>26,M&=67108863}E.words[U]=z,x=M,M=F}return x!==0?E.words[U]=x:E.length--,E.strip()}(this,T,P):b(this,T,P)},w.prototype.makeRBT=function(T){for(var P=new Array(T),N=c.prototype._countBits(T)-1,S=0;S<T;S++)P[S]=this.revBin(S,N,T);return P},w.prototype.revBin=function(T,P,N){if(T===0||T===N-1)return T;for(var S=0,C=0;C<P;C++)S|=(1&T)<<P-C-1,T>>=1;return S},w.prototype.permute=function(T,P,N,S,C,E){for(var x=0;x<E;x++)S[x]=P[T[x]],C[x]=N[T[x]]},w.prototype.transform=function(T,P,N,S,C,E){this.permute(E,T,P,N,S,C);for(var x=1;x<C;x<<=1)for(var F=x<<1,U=Math.cos(2*Math.PI/F),M=Math.sin(2*Math.PI/F),z=0;z<C;z+=F)for(var G=U,Y=M,Q=0;Q<x;Q++){var q=N[z+Q],D=S[z+Q],O=N[z+Q+x],V=S[z+Q+x],J=G*O-Y*V;V=G*V+Y*O,O=J,N[z+Q]=q+O,S[z+Q]=D+V,N[z+Q+x]=q-O,S[z+Q+x]=D-V,Q!==F&&(J=U*G-M*Y,Y=U*Y+M*G,G=J)}},w.prototype.guessLen13b=function(T,P){var N=1|Math.max(P,T),S=1&N,C=0;for(N=N/2|0;N;N>>>=1)C++;return 1<<C+1+S},w.prototype.conjugate=function(T,P,N){if(!(N<=1))for(var S=0;S<N/2;S++){var C=T[S];T[S]=T[N-S-1],T[N-S-1]=C,C=P[S],P[S]=-P[N-S-1],P[N-S-1]=-C}},w.prototype.normalize13b=function(T,P){for(var N=0,S=0;S<P/2;S++){var C=8192*Math.round(T[2*S+1]/P)+Math.round(T[2*S]/P)+N;T[S]=67108863&C,N=C<67108864?0:C/67108864|0}return T},w.prototype.convert13b=function(T,P,N,S){for(var C=0,E=0;E<P;E++)C+=0|T[E],N[2*E]=8191&C,C>>>=13,N[2*E+1]=8191&C,C>>>=13;for(E=2*P;E<S;++E)N[E]=0;o(C===0),o((-8192&C)==0)},w.prototype.stub=function(T){for(var P=new Array(T),N=0;N<T;N++)P[N]=0;return P},w.prototype.mulp=function(T,P,N){var S=2*this.guessLen13b(T.length,P.length),C=this.makeRBT(S),E=this.stub(S),x=new Array(S),F=new Array(S),U=new Array(S),M=new Array(S),z=new Array(S),G=new Array(S),Y=N.words;Y.length=S,this.convert13b(T.words,T.length,x,S),this.convert13b(P.words,P.length,M,S),this.transform(x,E,F,U,S,C),this.transform(M,E,z,G,S,C);for(var Q=0;Q<S;Q++){var q=F[Q]*z[Q]-U[Q]*G[Q];U[Q]=F[Q]*G[Q]+U[Q]*z[Q],F[Q]=q}return this.conjugate(F,U,S),this.transform(F,U,Y,E,S,C),this.conjugate(Y,E,S),this.normalize13b(Y,S),N.negative=T.negative^P.negative,N.length=T.length+P.length,N.strip()},c.prototype.mul=function(T){var P=new c(null);return P.words=new Array(this.length+T.length),this.mulTo(T,P)},c.prototype.mulf=function(T){var P=new c(null);return P.words=new Array(this.length+T.length),b(this,T,P)},c.prototype.imul=function(T){return this.clone().mulTo(T,this)},c.prototype.imuln=function(T){o(typeof T=="number"),o(T<67108864);for(var P=0,N=0;N<this.length;N++){var S=(0|this.words[N])*T,C=(67108863&S)+(67108863&P);P>>=26,P+=S/67108864|0,P+=C>>>26,this.words[N]=67108863&C}return P!==0&&(this.words[N]=P,this.length++),this},c.prototype.muln=function(T){return this.clone().imuln(T)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(T){var P=function(E){for(var x=new Array(E.bitLength()),F=0;F<x.length;F++){var U=F/26|0,M=F%26;x[F]=(E.words[U]&1<<M)>>>M}return x}(T);if(P.length===0)return new c(1);for(var N=this,S=0;S<P.length&&P[S]===0;S++,N=N.sqr());if(++S<P.length)for(var C=N.sqr();S<P.length;S++,C=C.sqr())P[S]!==0&&(N=N.mul(C));return N},c.prototype.iushln=function(T){o(typeof T=="number"&&T>=0);var P,N=T%26,S=(T-N)/26,C=67108863>>>26-N<<26-N;if(N!==0){var E=0;for(P=0;P<this.length;P++){var x=this.words[P]&C,F=(0|this.words[P])-x<<N;this.words[P]=F|E,E=x>>>26-N}E&&(this.words[P]=E,this.length++)}if(S!==0){for(P=this.length-1;P>=0;P--)this.words[P+S]=this.words[P];for(P=0;P<S;P++)this.words[P]=0;this.length+=S}return this.strip()},c.prototype.ishln=function(T){return o(this.negative===0),this.iushln(T)},c.prototype.iushrn=function(T,P,N){var S;o(typeof T=="number"&&T>=0),S=P?(P-P%26)/26:0;var C=T%26,E=Math.min((T-C)/26,this.length),x=67108863^67108863>>>C<<C,F=N;if(S-=E,S=Math.max(0,S),F){for(var U=0;U<E;U++)F.words[U]=this.words[U];F.length=E}if(E!==0)if(this.length>E)for(this.length-=E,U=0;U<this.length;U++)this.words[U]=this.words[U+E];else this.words[0]=0,this.length=1;var M=0;for(U=this.length-1;U>=0&&(M!==0||U>=S);U--){var z=0|this.words[U];this.words[U]=M<<26-C|z>>>C,M=z&x}return F&&M!==0&&(F.words[F.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(T,P,N){return o(this.negative===0),this.iushrn(T,P,N)},c.prototype.shln=function(T){return this.clone().ishln(T)},c.prototype.ushln=function(T){return this.clone().iushln(T)},c.prototype.shrn=function(T){return this.clone().ishrn(T)},c.prototype.ushrn=function(T){return this.clone().iushrn(T)},c.prototype.testn=function(T){o(typeof T=="number"&&T>=0);var P=T%26,N=(T-P)/26,S=1<<P;return!(this.length<=N)&&!!(this.words[N]&S)},c.prototype.imaskn=function(T){o(typeof T=="number"&&T>=0);var P=T%26,N=(T-P)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(P!==0&&N++,this.length=Math.min(N,this.length),P!==0){var S=67108863^67108863>>>P<<P;this.words[this.length-1]&=S}return this.strip()},c.prototype.maskn=function(T){return this.clone().imaskn(T)},c.prototype.iaddn=function(T){return o(typeof T=="number"),o(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},c.prototype._iaddn=function(T){this.words[0]+=T;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},c.prototype.isubn=function(T){if(o(typeof T=="number"),o(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},c.prototype.addn=function(T){return this.clone().iaddn(T)},c.prototype.subn=function(T){return this.clone().isubn(T)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(T,P,N){var S,C,E=T.length+N;this._expand(E);var x=0;for(S=0;S<T.length;S++){C=(0|this.words[S+N])+x;var F=(0|T.words[S])*P;x=((C-=67108863&F)>>26)-(F/67108864|0),this.words[S+N]=67108863&C}for(;S<this.length-N;S++)x=(C=(0|this.words[S+N])+x)>>26,this.words[S+N]=67108863&C;if(x===0)return this.strip();for(o(x===-1),x=0,S=0;S<this.length;S++)x=(C=-(0|this.words[S])+x)>>26,this.words[S]=67108863&C;return this.negative=1,this.strip()},c.prototype._wordDiv=function(T,P){var N=(this.length,T.length),S=this.clone(),C=T,E=0|C.words[C.length-1];(N=26-this._countBits(E))!==0&&(C=C.ushln(N),S.iushln(N),E=0|C.words[C.length-1]);var x,F=S.length-C.length;if(P!=="mod"){(x=new c(null)).length=F+1,x.words=new Array(x.length);for(var U=0;U<x.length;U++)x.words[U]=0}var M=S.clone()._ishlnsubmul(C,1,F);M.negative===0&&(S=M,x&&(x.words[F]=1));for(var z=F-1;z>=0;z--){var G=67108864*(0|S.words[C.length+z])+(0|S.words[C.length+z-1]);for(G=Math.min(G/E|0,67108863),S._ishlnsubmul(C,G,z);S.negative!==0;)G--,S.negative=0,S._ishlnsubmul(C,1,z),S.isZero()||(S.negative^=1);x&&(x.words[z]=G)}return x&&x.strip(),S.strip(),P!=="div"&&N!==0&&S.iushrn(N),{div:x||null,mod:S}},c.prototype.divmod=function(T,P,N){return o(!T.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&T.negative===0?(E=this.neg().divmod(T,P),P!=="mod"&&(S=E.div.neg()),P!=="div"&&(C=E.mod.neg(),N&&C.negative!==0&&C.iadd(T)),{div:S,mod:C}):this.negative===0&&T.negative!==0?(E=this.divmod(T.neg(),P),P!=="mod"&&(S=E.div.neg()),{div:S,mod:E.mod}):this.negative&T.negative?(E=this.neg().divmod(T.neg(),P),P!=="div"&&(C=E.mod.neg(),N&&C.negative!==0&&C.isub(T)),{div:E.div,mod:C}):T.length>this.length||this.cmp(T)<0?{div:new c(0),mod:this}:T.length===1?P==="div"?{div:this.divn(T.words[0]),mod:null}:P==="mod"?{div:null,mod:new c(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new c(this.modn(T.words[0]))}:this._wordDiv(T,P);var S,C,E},c.prototype.div=function(T){return this.divmod(T,"div",!1).div},c.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},c.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},c.prototype.divRound=function(T){var P=this.divmod(T);if(P.mod.isZero())return P.div;var N=P.div.negative!==0?P.mod.isub(T):P.mod,S=T.ushrn(1),C=T.andln(1),E=N.cmp(S);return E<0||C===1&&E===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},c.prototype.modn=function(T){o(T<=67108863);for(var P=(1<<26)%T,N=0,S=this.length-1;S>=0;S--)N=(P*N+(0|this.words[S]))%T;return N},c.prototype.idivn=function(T){o(T<=67108863);for(var P=0,N=this.length-1;N>=0;N--){var S=(0|this.words[N])+67108864*P;this.words[N]=S/T|0,P=S%T}return this.strip()},c.prototype.divn=function(T){return this.clone().idivn(T)},c.prototype.egcd=function(T){o(T.negative===0),o(!T.isZero());var P=this,N=T.clone();P=P.negative!==0?P.umod(T):P.clone();for(var S=new c(1),C=new c(0),E=new c(0),x=new c(1),F=0;P.isEven()&&N.isEven();)P.iushrn(1),N.iushrn(1),++F;for(var U=N.clone(),M=P.clone();!P.isZero();){for(var z=0,G=1;!(P.words[0]&G)&&z<26;++z,G<<=1);if(z>0)for(P.iushrn(z);z-- >0;)(S.isOdd()||C.isOdd())&&(S.iadd(U),C.isub(M)),S.iushrn(1),C.iushrn(1);for(var Y=0,Q=1;!(N.words[0]&Q)&&Y<26;++Y,Q<<=1);if(Y>0)for(N.iushrn(Y);Y-- >0;)(E.isOdd()||x.isOdd())&&(E.iadd(U),x.isub(M)),E.iushrn(1),x.iushrn(1);P.cmp(N)>=0?(P.isub(N),S.isub(E),C.isub(x)):(N.isub(P),E.isub(S),x.isub(C))}return{a:E,b:x,gcd:N.iushln(F)}},c.prototype._invmp=function(T){o(T.negative===0),o(!T.isZero());var P=this,N=T.clone();P=P.negative!==0?P.umod(T):P.clone();for(var S,C=new c(1),E=new c(0),x=N.clone();P.cmpn(1)>0&&N.cmpn(1)>0;){for(var F=0,U=1;!(P.words[0]&U)&&F<26;++F,U<<=1);if(F>0)for(P.iushrn(F);F-- >0;)C.isOdd()&&C.iadd(x),C.iushrn(1);for(var M=0,z=1;!(N.words[0]&z)&&M<26;++M,z<<=1);if(M>0)for(N.iushrn(M);M-- >0;)E.isOdd()&&E.iadd(x),E.iushrn(1);P.cmp(N)>=0?(P.isub(N),C.isub(E)):(N.isub(P),E.isub(C))}return(S=P.cmpn(1)===0?C:E).cmpn(0)<0&&S.iadd(T),S},c.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var P=this.clone(),N=T.clone();P.negative=0,N.negative=0;for(var S=0;P.isEven()&&N.isEven();S++)P.iushrn(1),N.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;N.isEven();)N.iushrn(1);var C=P.cmp(N);if(C<0){var E=P;P=N,N=E}else if(C===0||N.cmpn(1)===0)break;P.isub(N)}return N.iushln(S)},c.prototype.invm=function(T){return this.egcd(T).a.umod(T)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(T){return this.words[0]&T},c.prototype.bincn=function(T){o(typeof T=="number");var P=T%26,N=(T-P)/26,S=1<<P;if(this.length<=N)return this._expand(N+1),this.words[N]|=S,this;for(var C=S,E=N;C!==0&&E<this.length;E++){var x=0|this.words[E];C=(x+=C)>>>26,x&=67108863,this.words[E]=x}return C!==0&&(this.words[E]=C,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(T){var P,N=T<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)P=1;else{N&&(T=-T),o(T<=67108863,"Number is too big");var S=0|this.words[0];P=S===T?0:S<T?-1:1}return this.negative!==0?0|-P:P},c.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var P=this.ucmp(T);return this.negative!==0?0|-P:P},c.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var P=0,N=this.length-1;N>=0;N--){var S=0|this.words[N],C=0|T.words[N];if(S!==C){S<C?P=-1:S>C&&(P=1);break}}return P},c.prototype.gtn=function(T){return this.cmpn(T)===1},c.prototype.gt=function(T){return this.cmp(T)===1},c.prototype.gten=function(T){return this.cmpn(T)>=0},c.prototype.gte=function(T){return this.cmp(T)>=0},c.prototype.ltn=function(T){return this.cmpn(T)===-1},c.prototype.lt=function(T){return this.cmp(T)===-1},c.prototype.lten=function(T){return this.cmpn(T)<=0},c.prototype.lte=function(T){return this.cmp(T)<=0},c.prototype.eqn=function(T){return this.cmpn(T)===0},c.prototype.eq=function(T){return this.cmp(T)===0},c.red=function(T){return new H(T)},c.prototype.toRed=function(T){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(T){return this.red=T,this},c.prototype.forceRed=function(T){return o(!this.red,"Already a number in reduction context"),this._forceRed(T)},c.prototype.redAdd=function(T){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},c.prototype.redIAdd=function(T){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},c.prototype.redSub=function(T){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},c.prototype.redISub=function(T){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},c.prototype.redShl=function(T){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},c.prototype.redMul=function(T){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},c.prototype.redIMul=function(T){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(T){return o(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var _={k256:null,p224:null,p192:null,p25519:null};function B(T,P){this.name=T,this.p=new c(P,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function R(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function H(T){if(typeof T=="string"){var P=c._prime(T);this.m=P.p,this.prime=P}else o(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function I(T){H.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}B.prototype._tmp=function(){var T=new c(null);return T.words=new Array(Math.ceil(this.n/13)),T},B.prototype.ireduce=function(T){var P,N=T;do this.split(N,this.tmp),P=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(P>this.n);var S=P<this.n?-1:N.ucmp(this.p);return S===0?(N.words[0]=0,N.length=1):S>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},B.prototype.split=function(T,P){T.iushrn(this.n,0,P)},B.prototype.imulK=function(T){return T.imul(this.k)},l(R,B),R.prototype.split=function(T,P){for(var N=Math.min(T.length,9),S=0;S<N;S++)P.words[S]=T.words[S];if(P.length=N,T.length<=9)return T.words[0]=0,void(T.length=1);var C=T.words[9];for(P.words[P.length++]=4194303&C,S=10;S<T.length;S++){var E=0|T.words[S];T.words[S-10]=(4194303&E)<<4|C>>>22,C=E}C>>>=22,T.words[S-10]=C,C===0&&T.length>10?T.length-=10:T.length-=9},R.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var P=0,N=0;N<T.length;N++){var S=0|T.words[N];P+=977*S,T.words[N]=67108863&P,P=64*S+(P/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},l(j,B),l(k,B),l(L,B),L.prototype.imulK=function(T){for(var P=0,N=0;N<T.length;N++){var S=19*(0|T.words[N])+P,C=67108863&S;S>>>=26,T.words[N]=C,P=S}return P!==0&&(T.words[T.length++]=P),T},c._prime=function(T){if(_[T])return _[T];var P;if(T==="k256")P=new R;else if(T==="p224")P=new j;else if(T==="p192")P=new k;else{if(T!=="p25519")throw new Error("Unknown prime "+T);P=new L}return _[T]=P,P},H.prototype._verify1=function(T){o(T.negative===0,"red works only with positives"),o(T.red,"red works only with red numbers")},H.prototype._verify2=function(T,P){o((T.negative|P.negative)==0,"red works only with positives"),o(T.red&&T.red===P.red,"red works only with red numbers")},H.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},H.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},H.prototype.add=function(T,P){this._verify2(T,P);var N=T.add(P);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},H.prototype.iadd=function(T,P){this._verify2(T,P);var N=T.iadd(P);return N.cmp(this.m)>=0&&N.isub(this.m),N},H.prototype.sub=function(T,P){this._verify2(T,P);var N=T.sub(P);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},H.prototype.isub=function(T,P){this._verify2(T,P);var N=T.isub(P);return N.cmpn(0)<0&&N.iadd(this.m),N},H.prototype.shl=function(T,P){return this._verify1(T),this.imod(T.ushln(P))},H.prototype.imul=function(T,P){return this._verify2(T,P),this.imod(T.imul(P))},H.prototype.mul=function(T,P){return this._verify2(T,P),this.imod(T.mul(P))},H.prototype.isqr=function(T){return this.imul(T,T.clone())},H.prototype.sqr=function(T){return this.mul(T,T)},H.prototype.sqrt=function(T){if(T.isZero())return T.clone();var P=this.m.andln(3);if(o(P%2==1),P===3){var N=this.m.add(new c(1)).iushrn(2);return this.pow(T,N)}for(var S=this.m.subn(1),C=0;!S.isZero()&&S.andln(1)===0;)C++,S.iushrn(1);o(!S.isZero());var E=new c(1).toRed(this),x=E.redNeg(),F=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new c(2*U*U).toRed(this);this.pow(U,F).cmp(x)!==0;)U.redIAdd(x);for(var M=this.pow(U,S),z=this.pow(T,S.addn(1).iushrn(1)),G=this.pow(T,S),Y=C;G.cmp(E)!==0;){for(var Q=G,q=0;Q.cmp(E)!==0;q++)Q=Q.redSqr();o(q<Y);var D=this.pow(M,new c(1).iushln(Y-q-1));z=z.redMul(D),M=D.redSqr(),G=G.redMul(M),Y=q}return z},H.prototype.invm=function(T){var P=T._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},H.prototype.pow=function(T,P){if(P.isZero())return new c(1).toRed(this);if(P.cmpn(1)===0)return T.clone();var N=new Array(16);N[0]=new c(1).toRed(this),N[1]=T;for(var S=2;S<N.length;S++)N[S]=this.mul(N[S-1],T);var C=N[0],E=0,x=0,F=P.bitLength()%26;for(F===0&&(F=26),S=P.length-1;S>=0;S--){for(var U=P.words[S],M=F-1;M>=0;M--){var z=U>>M&1;C!==N[0]&&(C=this.sqr(C)),z!==0||E!==0?(E<<=1,E|=z,(++x===4||S===0&&M===0)&&(C=this.mul(C,N[E]),x=0,E=0)):x=0}F=26}return C},H.prototype.convertTo=function(T){var P=T.umod(this.m);return P===T?P.clone():P},H.prototype.convertFrom=function(T){var P=T.clone();return P.red=null,P},c.mont=function(T){return new I(T)},l(I,H),I.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},I.prototype.convertFrom=function(T){var P=this.imod(T.mul(this.rinv));return P.red=null,P},I.prototype.imul=function(T,P){if(T.isZero()||P.isZero())return T.words[0]=0,T.length=1,T;var N=T.imul(P),S=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=N.isub(S).iushrn(this.shift),E=C;return C.cmp(this.m)>=0?E=C.isub(this.m):C.cmpn(0)<0&&(E=C.iadd(this.m)),E._forceRed(this)},I.prototype.mul=function(T,P){if(T.isZero()||P.isZero())return new c(0)._forceRed(this);var N=T.mul(P),S=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=N.isub(S).iushrn(this.shift),E=C;return C.cmp(this.m)>=0?E=C.isub(this.m):C.cmpn(0)<0&&(E=C.iadd(this.m)),E._forceRed(this)},I.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(t,n,i){i.byteLength=function(f){var p=d(f),g=p[0],m=p[1];return 3*(g+m)/4-m},i.toByteArray=function(f){var p,g,m=d(f),v=m[0],y=m[1],b=new o(function(B,R,j){return 3*(R+j)/4-j}(0,v,y)),w=0,_=y>0?v-4:v;for(g=0;g<_;g+=4)p=a[f.charCodeAt(g)]<<18|a[f.charCodeAt(g+1)]<<12|a[f.charCodeAt(g+2)]<<6|a[f.charCodeAt(g+3)],b[w++]=p>>16&255,b[w++]=p>>8&255,b[w++]=255&p;return y===2&&(p=a[f.charCodeAt(g)]<<2|a[f.charCodeAt(g+1)]>>4,b[w++]=255&p),y===1&&(p=a[f.charCodeAt(g)]<<10|a[f.charCodeAt(g+1)]<<4|a[f.charCodeAt(g+2)]>>2,b[w++]=p>>8&255,b[w++]=255&p),b},i.fromByteArray=function(f){for(var p,g=f.length,m=g%3,v=[],y=0,b=g-m;y<b;y+=16383)v.push(h(f,y,y+16383>b?b:y+16383));return m===1?(p=f[g-1],v.push(s[p>>2]+s[p<<4&63]+"==")):m===2&&(p=(f[g-2]<<8)+f[g-1],v.push(s[p>>10]+s[p>>4&63]+s[p<<2&63]+"=")),v.join("")};for(var s=[],a=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)s[c]=l[c],a[l.charCodeAt(c)]=c;function d(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");return g===-1&&(g=p),[g,g===p?0:4-g%4]}function h(f,p,g){for(var m,v,y=[],b=p;b<g;b+=3)m=(f[b]<<16&16711680)+(f[b+1]<<8&65280)+(255&f[b+2]),y.push(s[(v=m)>>18&63]+s[v>>12&63]+s[v>>6&63]+s[63&v]);return y.join("")}a[45]=62,a[95]=63},{}],186:[function(t,n,i){(function(s,a){function o(N,S){if(!N)throw new Error(S||"Assertion failed")}function l(N,S){N.super_=S;var C=function(){};C.prototype=S.prototype,N.prototype=new C,N.prototype.constructor=N}function c(N,S,C){if(c.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(S!=="le"&&S!=="be"||(C=S,S=10),this._init(N||0,S||10,C||"be"))}var u;typeof s=="object"?s.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function d(N,S){var C=N.charCodeAt(S);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void o(!1,"Invalid character in "+N)}function h(N,S,C){var E=d(N,C);return C-1>=S&&(E|=d(N,C-1)<<4),E}function f(N,S,C,E){for(var x=0,F=0,U=Math.min(N.length,C),M=S;M<U;M++){var z=N.charCodeAt(M)-48;x*=E,F=z>=49?z-49+10:z>=17?z-17+10:z,o(z>=0&&F<E,"Invalid character"),x+=F}return x}function p(N,S){N.words=S.words,N.length=S.length,N.negative=S.negative,N.red=S.red}if(c.isBN=function(N){return N instanceof c||N!==null&&typeof N=="object"&&N.constructor.wordSize===c.wordSize&&Array.isArray(N.words)},c.max=function(N,S){return N.cmp(S)>0?N:S},c.min=function(N,S){return N.cmp(S)<0?N:S},c.prototype._init=function(N,S,C){if(typeof N=="number")return this._initNumber(N,S,C);if(typeof N=="object")return this._initArray(N,S,C);S==="hex"&&(S=16),o(S===(0|S)&&S>=2&&S<=36);var E=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(E++,this.negative=1),E<N.length&&(S===16?this._parseHex(N,E,C):(this._parseBase(N,S,E),C==="le"&&this._initArray(this.toArray(),S,C)))},c.prototype._initNumber=function(N,S,C){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(o(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),S,C)},c.prototype._initArray=function(N,S,C){if(o(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var x,F,U=0;if(C==="be")for(E=N.length-1,x=0;E>=0;E-=3)F=N[E]|N[E-1]<<8|N[E-2]<<16,this.words[x]|=F<<U&67108863,this.words[x+1]=F>>>26-U&67108863,(U+=24)>=26&&(U-=26,x++);else if(C==="le")for(E=0,x=0;E<N.length;E+=3)F=N[E]|N[E+1]<<8|N[E+2]<<16,this.words[x]|=F<<U&67108863,this.words[x+1]=F>>>26-U&67108863,(U+=24)>=26&&(U-=26,x++);return this._strip()},c.prototype._parseHex=function(N,S,C){this.length=Math.ceil((N.length-S)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var x,F=0,U=0;if(C==="be")for(E=N.length-1;E>=S;E-=2)x=h(N,S,E)<<F,this.words[U]|=67108863&x,F>=18?(F-=18,U+=1,this.words[U]|=x>>>26):F+=8;else for(E=(N.length-S)%2==0?S+1:S;E<N.length;E+=2)x=h(N,S,E)<<F,this.words[U]|=67108863&x,F>=18?(F-=18,U+=1,this.words[U]|=x>>>26):F+=8;this._strip()},c.prototype._parseBase=function(N,S,C){this.words=[0],this.length=1;for(var E=0,x=1;x<=67108863;x*=S)E++;E--,x=x/S|0;for(var F=N.length-C,U=F%E,M=Math.min(F,F-U)+C,z=0,G=C;G<M;G+=E)z=f(N,G,G+E,S),this.imuln(x),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(U!==0){var Y=1;for(z=f(N,G,N.length,S),G=0;G<U;G++)Y*=S;this.imuln(Y),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},c.prototype.copy=function(N){N.words=new Array(this.length);for(var S=0;S<this.length;S++)N.words[S]=this.words[S];N.length=this.length,N.negative=this.negative,N.red=this.red},c.prototype._move=function(N){p(N,this)},c.prototype.clone=function(){var N=new c(null);return this.copy(N),N},c.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{c.prototype.inspect=g}else c.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(N,S){var C;if(S=0|S||1,(N=N||10)===16||N==="hex"){C="";for(var E=0,x=0,F=0;F<this.length;F++){var U=this.words[F],M=(16777215&(U<<E|x)).toString(16);x=U>>>24-E&16777215,(E+=2)>=26&&(E-=26,F--),C=x!==0||F!==this.length-1?m[6-M.length]+M+C:M+C}for(x!==0&&(C=x.toString(16)+C);C.length%S!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(N===(0|N)&&N>=2&&N<=36){var z=v[N],G=y[N];C="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Q=Y.modrn(G).toString(N);C=(Y=Y.idivn(G)).isZero()?Q+C:m[z-Q.length]+Q+C}for(this.isZero()&&(C="0"+C);C.length%S!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},c.prototype.toJSON=function(){return this.toString(16,2)},u&&(c.prototype.toBuffer=function(N,S){return this.toArrayLike(u,N,S)}),c.prototype.toArray=function(N,S){return this.toArrayLike(Array,N,S)};function b(N,S,C){C.negative=S.negative^N.negative;var E=N.length+S.length|0;C.length=E,E=E-1|0;var x=0|N.words[0],F=0|S.words[0],U=x*F,M=67108863&U,z=U/67108864|0;C.words[0]=M;for(var G=1;G<E;G++){for(var Y=z>>>26,Q=67108863&z,q=Math.min(G,S.length-1),D=Math.max(0,G-N.length+1);D<=q;D++){var O=G-D|0;Y+=(U=(x=0|N.words[O])*(F=0|S.words[D])+Q)/67108864|0,Q=67108863&U}C.words[G]=0|Q,z=0|Y}return z!==0?C.words[G]=0|z:C.length--,C._strip()}c.prototype.toArrayLike=function(N,S,C){this._strip();var E=this.byteLength(),x=C||Math.max(1,E);o(E<=x,"byte array longer than desired length"),o(x>0,"Requested array length <= 0");var F=function(U,M){return U.allocUnsafe?U.allocUnsafe(M):new U(M)}(N,x);return this["_toArrayLike"+(S==="le"?"LE":"BE")](F,E),F},c.prototype._toArrayLikeLE=function(N,S){for(var C=0,E=0,x=0,F=0;x<this.length;x++){var U=this.words[x]<<F|E;N[C++]=255&U,C<N.length&&(N[C++]=U>>8&255),C<N.length&&(N[C++]=U>>16&255),F===6?(C<N.length&&(N[C++]=U>>24&255),E=0,F=0):(E=U>>>24,F+=2)}if(C<N.length)for(N[C++]=E;C<N.length;)N[C++]=0},c.prototype._toArrayLikeBE=function(N,S){for(var C=N.length-1,E=0,x=0,F=0;x<this.length;x++){var U=this.words[x]<<F|E;N[C--]=255&U,C>=0&&(N[C--]=U>>8&255),C>=0&&(N[C--]=U>>16&255),F===6?(C>=0&&(N[C--]=U>>24&255),E=0,F=0):(E=U>>>24,F+=2)}if(C>=0)for(N[C--]=E;C>=0;)N[C--]=0},Math.clz32?c.prototype._countBits=function(N){return 32-Math.clz32(N)}:c.prototype._countBits=function(N){var S=N,C=0;return S>=4096&&(C+=13,S>>>=13),S>=64&&(C+=7,S>>>=7),S>=8&&(C+=4,S>>>=4),S>=2&&(C+=2,S>>>=2),C+S},c.prototype._zeroBits=function(N){if(N===0)return 26;var S=N,C=0;return!(8191&S)&&(C+=13,S>>>=13),!(127&S)&&(C+=7,S>>>=7),!(15&S)&&(C+=4,S>>>=4),!(3&S)&&(C+=2,S>>>=2),!(1&S)&&C++,C},c.prototype.bitLength=function(){var N=this.words[this.length-1],S=this._countBits(N);return 26*(this.length-1)+S},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,S=0;S<this.length;S++){var C=this._zeroBits(this.words[S]);if(N+=C,C!==26)break}return N},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},c.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var S=0;S<N.length;S++)this.words[S]=this.words[S]|N.words[S];return this._strip()},c.prototype.ior=function(N){return o((this.negative|N.negative)==0),this.iuor(N)},c.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},c.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},c.prototype.iuand=function(N){var S;S=this.length>N.length?N:this;for(var C=0;C<S.length;C++)this.words[C]=this.words[C]&N.words[C];return this.length=S.length,this._strip()},c.prototype.iand=function(N){return o((this.negative|N.negative)==0),this.iuand(N)},c.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},c.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},c.prototype.iuxor=function(N){var S,C;this.length>N.length?(S=this,C=N):(S=N,C=this);for(var E=0;E<C.length;E++)this.words[E]=S.words[E]^C.words[E];if(this!==S)for(;E<S.length;E++)this.words[E]=S.words[E];return this.length=S.length,this._strip()},c.prototype.ixor=function(N){return o((this.negative|N.negative)==0),this.iuxor(N)},c.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},c.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},c.prototype.inotn=function(N){o(typeof N=="number"&&N>=0);var S=0|Math.ceil(N/26),C=N%26;this._expand(S),C>0&&S--;for(var E=0;E<S;E++)this.words[E]=67108863&~this.words[E];return C>0&&(this.words[E]=~this.words[E]&67108863>>26-C),this._strip()},c.prototype.notn=function(N){return this.clone().inotn(N)},c.prototype.setn=function(N,S){o(typeof N=="number"&&N>=0);var C=N/26|0,E=N%26;return this._expand(C+1),this.words[C]=S?this.words[C]|1<<E:this.words[C]&~(1<<E),this._strip()},c.prototype.iadd=function(N){var S,C,E;if(this.negative!==0&&N.negative===0)return this.negative=0,S=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,S=this.isub(N),N.negative=1,S._normSign();this.length>N.length?(C=this,E=N):(C=N,E=this);for(var x=0,F=0;F<E.length;F++)S=(0|C.words[F])+(0|E.words[F])+x,this.words[F]=67108863&S,x=S>>>26;for(;x!==0&&F<C.length;F++)S=(0|C.words[F])+x,this.words[F]=67108863&S,x=S>>>26;if(this.length=C.length,x!==0)this.words[this.length]=x,this.length++;else if(C!==this)for(;F<C.length;F++)this.words[F]=C.words[F];return this},c.prototype.add=function(N){var S;return N.negative!==0&&this.negative===0?(N.negative=0,S=this.sub(N),N.negative^=1,S):N.negative===0&&this.negative!==0?(this.negative=0,S=N.sub(this),this.negative=1,S):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},c.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var S=this.iadd(N);return N.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var C,E,x=this.cmp(N);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(C=this,E=N):(C=N,E=this);for(var F=0,U=0;U<E.length;U++)F=(S=(0|C.words[U])-(0|E.words[U])+F)>>26,this.words[U]=67108863&S;for(;F!==0&&U<C.length;U++)F=(S=(0|C.words[U])+F)>>26,this.words[U]=67108863&S;if(F===0&&U<C.length&&C!==this)for(;U<C.length;U++)this.words[U]=C.words[U];return this.length=Math.max(this.length,U),C!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(N){return this.clone().isub(N)};var w=function(N,S,C){var E,x,F,U=N.words,M=S.words,z=C.words,G=0,Y=0|U[0],Q=8191&Y,q=Y>>>13,D=0|U[1],O=8191&D,V=D>>>13,J=0|U[2],re=8191&J,ne=J>>>13,se=0|U[3],ee=8191&se,de=se>>>13,ie=0|U[4],he=8191&ie,le=ie>>>13,be=0|U[5],ye=8191&be,xe=be>>>13,Ee=0|U[6],Be=8191&Ee,Pe=Ee>>>13,Ue=0|U[7],He=8191&Ue,$e=Ue>>>13,Ke=0|U[8],st=8191&Ke,Ve=Ke>>>13,pt=0|U[9],Je=8191&pt,ze=pt>>>13,qe=0|M[0],gt=8191&qe,We=qe>>>13,Tt=0|M[1],St=8191&Tt,ot=Tt>>>13,Ot=0|M[2],vt=8191&Ot,ut=Ot>>>13,Wt=0|M[3],wr=8191&Wt,Ct=Wt>>>13,cr=0|M[4],Nr=8191&cr,ht=cr>>>13,mr=0|M[5],Br=8191&mr,qt=mr>>>13,Ce=0|M[6],_e=8191&Ce,De=Ce>>>13,dt=0|M[7],$t=8191&dt,yt=dt>>>13,zt=0|M[8],Bt=8191&zt,jt=zt>>>13,Xt=0|M[9],Vt=8191&Xt,ur=Xt>>>13;C.negative=N.negative^S.negative,C.length=19;var Hr=(G+(E=Math.imul(Q,gt))|0)+((8191&(x=(x=Math.imul(Q,We))+Math.imul(q,gt)|0))<<13)|0;G=((F=Math.imul(q,We))+(x>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,E=Math.imul(O,gt),x=(x=Math.imul(O,We))+Math.imul(V,gt)|0,F=Math.imul(V,We);var wt=(G+(E=E+Math.imul(Q,St)|0)|0)+((8191&(x=(x=x+Math.imul(Q,ot)|0)+Math.imul(q,St)|0))<<13)|0;G=((F=F+Math.imul(q,ot)|0)+(x>>>13)|0)+(wt>>>26)|0,wt&=67108863,E=Math.imul(re,gt),x=(x=Math.imul(re,We))+Math.imul(ne,gt)|0,F=Math.imul(ne,We),E=E+Math.imul(O,St)|0,x=(x=x+Math.imul(O,ot)|0)+Math.imul(V,St)|0,F=F+Math.imul(V,ot)|0;var we=(G+(E=E+Math.imul(Q,vt)|0)|0)+((8191&(x=(x=x+Math.imul(Q,ut)|0)+Math.imul(q,vt)|0))<<13)|0;G=((F=F+Math.imul(q,ut)|0)+(x>>>13)|0)+(we>>>26)|0,we&=67108863,E=Math.imul(ee,gt),x=(x=Math.imul(ee,We))+Math.imul(de,gt)|0,F=Math.imul(de,We),E=E+Math.imul(re,St)|0,x=(x=x+Math.imul(re,ot)|0)+Math.imul(ne,St)|0,F=F+Math.imul(ne,ot)|0,E=E+Math.imul(O,vt)|0,x=(x=x+Math.imul(O,ut)|0)+Math.imul(V,vt)|0,F=F+Math.imul(V,ut)|0;var nt=(G+(E=E+Math.imul(Q,wr)|0)|0)+((8191&(x=(x=x+Math.imul(Q,Ct)|0)+Math.imul(q,wr)|0))<<13)|0;G=((F=F+Math.imul(q,Ct)|0)+(x>>>13)|0)+(nt>>>26)|0,nt&=67108863,E=Math.imul(he,gt),x=(x=Math.imul(he,We))+Math.imul(le,gt)|0,F=Math.imul(le,We),E=E+Math.imul(ee,St)|0,x=(x=x+Math.imul(ee,ot)|0)+Math.imul(de,St)|0,F=F+Math.imul(de,ot)|0,E=E+Math.imul(re,vt)|0,x=(x=x+Math.imul(re,ut)|0)+Math.imul(ne,vt)|0,F=F+Math.imul(ne,ut)|0,E=E+Math.imul(O,wr)|0,x=(x=x+Math.imul(O,Ct)|0)+Math.imul(V,wr)|0,F=F+Math.imul(V,Ct)|0;var _t=(G+(E=E+Math.imul(Q,Nr)|0)|0)+((8191&(x=(x=x+Math.imul(Q,ht)|0)+Math.imul(q,Nr)|0))<<13)|0;G=((F=F+Math.imul(q,ht)|0)+(x>>>13)|0)+(_t>>>26)|0,_t&=67108863,E=Math.imul(ye,gt),x=(x=Math.imul(ye,We))+Math.imul(xe,gt)|0,F=Math.imul(xe,We),E=E+Math.imul(he,St)|0,x=(x=x+Math.imul(he,ot)|0)+Math.imul(le,St)|0,F=F+Math.imul(le,ot)|0,E=E+Math.imul(ee,vt)|0,x=(x=x+Math.imul(ee,ut)|0)+Math.imul(de,vt)|0,F=F+Math.imul(de,ut)|0,E=E+Math.imul(re,wr)|0,x=(x=x+Math.imul(re,Ct)|0)+Math.imul(ne,wr)|0,F=F+Math.imul(ne,Ct)|0,E=E+Math.imul(O,Nr)|0,x=(x=x+Math.imul(O,ht)|0)+Math.imul(V,Nr)|0,F=F+Math.imul(V,ht)|0;var pe=(G+(E=E+Math.imul(Q,Br)|0)|0)+((8191&(x=(x=x+Math.imul(Q,qt)|0)+Math.imul(q,Br)|0))<<13)|0;G=((F=F+Math.imul(q,qt)|0)+(x>>>13)|0)+(pe>>>26)|0,pe&=67108863,E=Math.imul(Be,gt),x=(x=Math.imul(Be,We))+Math.imul(Pe,gt)|0,F=Math.imul(Pe,We),E=E+Math.imul(ye,St)|0,x=(x=x+Math.imul(ye,ot)|0)+Math.imul(xe,St)|0,F=F+Math.imul(xe,ot)|0,E=E+Math.imul(he,vt)|0,x=(x=x+Math.imul(he,ut)|0)+Math.imul(le,vt)|0,F=F+Math.imul(le,ut)|0,E=E+Math.imul(ee,wr)|0,x=(x=x+Math.imul(ee,Ct)|0)+Math.imul(de,wr)|0,F=F+Math.imul(de,Ct)|0,E=E+Math.imul(re,Nr)|0,x=(x=x+Math.imul(re,ht)|0)+Math.imul(ne,Nr)|0,F=F+Math.imul(ne,ht)|0,E=E+Math.imul(O,Br)|0,x=(x=x+Math.imul(O,qt)|0)+Math.imul(V,Br)|0,F=F+Math.imul(V,qt)|0;var Fe=(G+(E=E+Math.imul(Q,_e)|0)|0)+((8191&(x=(x=x+Math.imul(Q,De)|0)+Math.imul(q,_e)|0))<<13)|0;G=((F=F+Math.imul(q,De)|0)+(x>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,E=Math.imul(He,gt),x=(x=Math.imul(He,We))+Math.imul($e,gt)|0,F=Math.imul($e,We),E=E+Math.imul(Be,St)|0,x=(x=x+Math.imul(Be,ot)|0)+Math.imul(Pe,St)|0,F=F+Math.imul(Pe,ot)|0,E=E+Math.imul(ye,vt)|0,x=(x=x+Math.imul(ye,ut)|0)+Math.imul(xe,vt)|0,F=F+Math.imul(xe,ut)|0,E=E+Math.imul(he,wr)|0,x=(x=x+Math.imul(he,Ct)|0)+Math.imul(le,wr)|0,F=F+Math.imul(le,Ct)|0,E=E+Math.imul(ee,Nr)|0,x=(x=x+Math.imul(ee,ht)|0)+Math.imul(de,Nr)|0,F=F+Math.imul(de,ht)|0,E=E+Math.imul(re,Br)|0,x=(x=x+Math.imul(re,qt)|0)+Math.imul(ne,Br)|0,F=F+Math.imul(ne,qt)|0,E=E+Math.imul(O,_e)|0,x=(x=x+Math.imul(O,De)|0)+Math.imul(V,_e)|0,F=F+Math.imul(V,De)|0;var Qe=(G+(E=E+Math.imul(Q,$t)|0)|0)+((8191&(x=(x=x+Math.imul(Q,yt)|0)+Math.imul(q,$t)|0))<<13)|0;G=((F=F+Math.imul(q,yt)|0)+(x>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,E=Math.imul(st,gt),x=(x=Math.imul(st,We))+Math.imul(Ve,gt)|0,F=Math.imul(Ve,We),E=E+Math.imul(He,St)|0,x=(x=x+Math.imul(He,ot)|0)+Math.imul($e,St)|0,F=F+Math.imul($e,ot)|0,E=E+Math.imul(Be,vt)|0,x=(x=x+Math.imul(Be,ut)|0)+Math.imul(Pe,vt)|0,F=F+Math.imul(Pe,ut)|0,E=E+Math.imul(ye,wr)|0,x=(x=x+Math.imul(ye,Ct)|0)+Math.imul(xe,wr)|0,F=F+Math.imul(xe,Ct)|0,E=E+Math.imul(he,Nr)|0,x=(x=x+Math.imul(he,ht)|0)+Math.imul(le,Nr)|0,F=F+Math.imul(le,ht)|0,E=E+Math.imul(ee,Br)|0,x=(x=x+Math.imul(ee,qt)|0)+Math.imul(de,Br)|0,F=F+Math.imul(de,qt)|0,E=E+Math.imul(re,_e)|0,x=(x=x+Math.imul(re,De)|0)+Math.imul(ne,_e)|0,F=F+Math.imul(ne,De)|0,E=E+Math.imul(O,$t)|0,x=(x=x+Math.imul(O,yt)|0)+Math.imul(V,$t)|0,F=F+Math.imul(V,yt)|0;var tt=(G+(E=E+Math.imul(Q,Bt)|0)|0)+((8191&(x=(x=x+Math.imul(Q,jt)|0)+Math.imul(q,Bt)|0))<<13)|0;G=((F=F+Math.imul(q,jt)|0)+(x>>>13)|0)+(tt>>>26)|0,tt&=67108863,E=Math.imul(Je,gt),x=(x=Math.imul(Je,We))+Math.imul(ze,gt)|0,F=Math.imul(ze,We),E=E+Math.imul(st,St)|0,x=(x=x+Math.imul(st,ot)|0)+Math.imul(Ve,St)|0,F=F+Math.imul(Ve,ot)|0,E=E+Math.imul(He,vt)|0,x=(x=x+Math.imul(He,ut)|0)+Math.imul($e,vt)|0,F=F+Math.imul($e,ut)|0,E=E+Math.imul(Be,wr)|0,x=(x=x+Math.imul(Be,Ct)|0)+Math.imul(Pe,wr)|0,F=F+Math.imul(Pe,Ct)|0,E=E+Math.imul(ye,Nr)|0,x=(x=x+Math.imul(ye,ht)|0)+Math.imul(xe,Nr)|0,F=F+Math.imul(xe,ht)|0,E=E+Math.imul(he,Br)|0,x=(x=x+Math.imul(he,qt)|0)+Math.imul(le,Br)|0,F=F+Math.imul(le,qt)|0,E=E+Math.imul(ee,_e)|0,x=(x=x+Math.imul(ee,De)|0)+Math.imul(de,_e)|0,F=F+Math.imul(de,De)|0,E=E+Math.imul(re,$t)|0,x=(x=x+Math.imul(re,yt)|0)+Math.imul(ne,$t)|0,F=F+Math.imul(ne,yt)|0,E=E+Math.imul(O,Bt)|0,x=(x=x+Math.imul(O,jt)|0)+Math.imul(V,Bt)|0,F=F+Math.imul(V,jt)|0;var Et=(G+(E=E+Math.imul(Q,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(Q,ur)|0)+Math.imul(q,Vt)|0))<<13)|0;G=((F=F+Math.imul(q,ur)|0)+(x>>>13)|0)+(Et>>>26)|0,Et&=67108863,E=Math.imul(Je,St),x=(x=Math.imul(Je,ot))+Math.imul(ze,St)|0,F=Math.imul(ze,ot),E=E+Math.imul(st,vt)|0,x=(x=x+Math.imul(st,ut)|0)+Math.imul(Ve,vt)|0,F=F+Math.imul(Ve,ut)|0,E=E+Math.imul(He,wr)|0,x=(x=x+Math.imul(He,Ct)|0)+Math.imul($e,wr)|0,F=F+Math.imul($e,Ct)|0,E=E+Math.imul(Be,Nr)|0,x=(x=x+Math.imul(Be,ht)|0)+Math.imul(Pe,Nr)|0,F=F+Math.imul(Pe,ht)|0,E=E+Math.imul(ye,Br)|0,x=(x=x+Math.imul(ye,qt)|0)+Math.imul(xe,Br)|0,F=F+Math.imul(xe,qt)|0,E=E+Math.imul(he,_e)|0,x=(x=x+Math.imul(he,De)|0)+Math.imul(le,_e)|0,F=F+Math.imul(le,De)|0,E=E+Math.imul(ee,$t)|0,x=(x=x+Math.imul(ee,yt)|0)+Math.imul(de,$t)|0,F=F+Math.imul(de,yt)|0,E=E+Math.imul(re,Bt)|0,x=(x=x+Math.imul(re,jt)|0)+Math.imul(ne,Bt)|0,F=F+Math.imul(ne,jt)|0;var At=(G+(E=E+Math.imul(O,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(O,ur)|0)+Math.imul(V,Vt)|0))<<13)|0;G=((F=F+Math.imul(V,ur)|0)+(x>>>13)|0)+(At>>>26)|0,At&=67108863,E=Math.imul(Je,vt),x=(x=Math.imul(Je,ut))+Math.imul(ze,vt)|0,F=Math.imul(ze,ut),E=E+Math.imul(st,wr)|0,x=(x=x+Math.imul(st,Ct)|0)+Math.imul(Ve,wr)|0,F=F+Math.imul(Ve,Ct)|0,E=E+Math.imul(He,Nr)|0,x=(x=x+Math.imul(He,ht)|0)+Math.imul($e,Nr)|0,F=F+Math.imul($e,ht)|0,E=E+Math.imul(Be,Br)|0,x=(x=x+Math.imul(Be,qt)|0)+Math.imul(Pe,Br)|0,F=F+Math.imul(Pe,qt)|0,E=E+Math.imul(ye,_e)|0,x=(x=x+Math.imul(ye,De)|0)+Math.imul(xe,_e)|0,F=F+Math.imul(xe,De)|0,E=E+Math.imul(he,$t)|0,x=(x=x+Math.imul(he,yt)|0)+Math.imul(le,$t)|0,F=F+Math.imul(le,yt)|0,E=E+Math.imul(ee,Bt)|0,x=(x=x+Math.imul(ee,jt)|0)+Math.imul(de,Bt)|0,F=F+Math.imul(de,jt)|0;var xt=(G+(E=E+Math.imul(re,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(re,ur)|0)+Math.imul(ne,Vt)|0))<<13)|0;G=((F=F+Math.imul(ne,ur)|0)+(x>>>13)|0)+(xt>>>26)|0,xt&=67108863,E=Math.imul(Je,wr),x=(x=Math.imul(Je,Ct))+Math.imul(ze,wr)|0,F=Math.imul(ze,Ct),E=E+Math.imul(st,Nr)|0,x=(x=x+Math.imul(st,ht)|0)+Math.imul(Ve,Nr)|0,F=F+Math.imul(Ve,ht)|0,E=E+Math.imul(He,Br)|0,x=(x=x+Math.imul(He,qt)|0)+Math.imul($e,Br)|0,F=F+Math.imul($e,qt)|0,E=E+Math.imul(Be,_e)|0,x=(x=x+Math.imul(Be,De)|0)+Math.imul(Pe,_e)|0,F=F+Math.imul(Pe,De)|0,E=E+Math.imul(ye,$t)|0,x=(x=x+Math.imul(ye,yt)|0)+Math.imul(xe,$t)|0,F=F+Math.imul(xe,yt)|0,E=E+Math.imul(he,Bt)|0,x=(x=x+Math.imul(he,jt)|0)+Math.imul(le,Bt)|0,F=F+Math.imul(le,jt)|0;var Zt=(G+(E=E+Math.imul(ee,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(ee,ur)|0)+Math.imul(de,Vt)|0))<<13)|0;G=((F=F+Math.imul(de,ur)|0)+(x>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,E=Math.imul(Je,Nr),x=(x=Math.imul(Je,ht))+Math.imul(ze,Nr)|0,F=Math.imul(ze,ht),E=E+Math.imul(st,Br)|0,x=(x=x+Math.imul(st,qt)|0)+Math.imul(Ve,Br)|0,F=F+Math.imul(Ve,qt)|0,E=E+Math.imul(He,_e)|0,x=(x=x+Math.imul(He,De)|0)+Math.imul($e,_e)|0,F=F+Math.imul($e,De)|0,E=E+Math.imul(Be,$t)|0,x=(x=x+Math.imul(Be,yt)|0)+Math.imul(Pe,$t)|0,F=F+Math.imul(Pe,yt)|0,E=E+Math.imul(ye,Bt)|0,x=(x=x+Math.imul(ye,jt)|0)+Math.imul(xe,Bt)|0,F=F+Math.imul(xe,jt)|0;var dr=(G+(E=E+Math.imul(he,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(he,ur)|0)+Math.imul(le,Vt)|0))<<13)|0;G=((F=F+Math.imul(le,ur)|0)+(x>>>13)|0)+(dr>>>26)|0,dr&=67108863,E=Math.imul(Je,Br),x=(x=Math.imul(Je,qt))+Math.imul(ze,Br)|0,F=Math.imul(ze,qt),E=E+Math.imul(st,_e)|0,x=(x=x+Math.imul(st,De)|0)+Math.imul(Ve,_e)|0,F=F+Math.imul(Ve,De)|0,E=E+Math.imul(He,$t)|0,x=(x=x+Math.imul(He,yt)|0)+Math.imul($e,$t)|0,F=F+Math.imul($e,yt)|0,E=E+Math.imul(Be,Bt)|0,x=(x=x+Math.imul(Be,jt)|0)+Math.imul(Pe,Bt)|0,F=F+Math.imul(Pe,jt)|0;var Ar=(G+(E=E+Math.imul(ye,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(ye,ur)|0)+Math.imul(xe,Vt)|0))<<13)|0;G=((F=F+Math.imul(xe,ur)|0)+(x>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,E=Math.imul(Je,_e),x=(x=Math.imul(Je,De))+Math.imul(ze,_e)|0,F=Math.imul(ze,De),E=E+Math.imul(st,$t)|0,x=(x=x+Math.imul(st,yt)|0)+Math.imul(Ve,$t)|0,F=F+Math.imul(Ve,yt)|0,E=E+Math.imul(He,Bt)|0,x=(x=x+Math.imul(He,jt)|0)+Math.imul($e,Bt)|0,F=F+Math.imul($e,jt)|0;var nr=(G+(E=E+Math.imul(Be,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(Be,ur)|0)+Math.imul(Pe,Vt)|0))<<13)|0;G=((F=F+Math.imul(Pe,ur)|0)+(x>>>13)|0)+(nr>>>26)|0,nr&=67108863,E=Math.imul(Je,$t),x=(x=Math.imul(Je,yt))+Math.imul(ze,$t)|0,F=Math.imul(ze,yt),E=E+Math.imul(st,Bt)|0,x=(x=x+Math.imul(st,jt)|0)+Math.imul(Ve,Bt)|0,F=F+Math.imul(Ve,jt)|0;var Tr=(G+(E=E+Math.imul(He,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(He,ur)|0)+Math.imul($e,Vt)|0))<<13)|0;G=((F=F+Math.imul($e,ur)|0)+(x>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,E=Math.imul(Je,Bt),x=(x=Math.imul(Je,jt))+Math.imul(ze,Bt)|0,F=Math.imul(ze,jt);var Pr=(G+(E=E+Math.imul(st,Vt)|0)|0)+((8191&(x=(x=x+Math.imul(st,ur)|0)+Math.imul(Ve,Vt)|0))<<13)|0;G=((F=F+Math.imul(Ve,ur)|0)+(x>>>13)|0)+(Pr>>>26)|0,Pr&=67108863;var Kr=(G+(E=Math.imul(Je,Vt))|0)+((8191&(x=(x=Math.imul(Je,ur))+Math.imul(ze,Vt)|0))<<13)|0;return G=((F=Math.imul(ze,ur))+(x>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,z[0]=Hr,z[1]=wt,z[2]=we,z[3]=nt,z[4]=_t,z[5]=pe,z[6]=Fe,z[7]=Qe,z[8]=tt,z[9]=Et,z[10]=At,z[11]=xt,z[12]=Zt,z[13]=dr,z[14]=Ar,z[15]=nr,z[16]=Tr,z[17]=Pr,z[18]=Kr,G!==0&&(z[19]=G,C.length++),C};function _(N,S,C){C.negative=S.negative^N.negative,C.length=N.length+S.length;for(var E=0,x=0,F=0;F<C.length-1;F++){var U=x;x=0;for(var M=67108863&E,z=Math.min(F,S.length-1),G=Math.max(0,F-N.length+1);G<=z;G++){var Y=F-G,Q=(0|N.words[Y])*(0|S.words[G]),q=67108863&Q;M=67108863&(q=q+M|0),x+=(U=(U=U+(Q/67108864|0)|0)+(q>>>26)|0)>>>26,U&=67108863}C.words[F]=M,E=U,U=x}return E!==0?C.words[F]=E:C.length--,C._strip()}function B(N,S,C){return _(N,S,C)}Math.imul||(w=b),c.prototype.mulTo=function(N,S){var C=this.length+N.length;return this.length===10&&N.length===10?w(this,N,S):C<63?b(this,N,S):C<1024?_(this,N,S):B(this,N,S)},c.prototype.mul=function(N){var S=new c(null);return S.words=new Array(this.length+N.length),this.mulTo(N,S)},c.prototype.mulf=function(N){var S=new c(null);return S.words=new Array(this.length+N.length),B(this,N,S)},c.prototype.imul=function(N){return this.clone().mulTo(N,this)},c.prototype.imuln=function(N){var S=N<0;S&&(N=-N),o(typeof N=="number"),o(N<67108864);for(var C=0,E=0;E<this.length;E++){var x=(0|this.words[E])*N,F=(67108863&x)+(67108863&C);C>>=26,C+=x/67108864|0,C+=F>>>26,this.words[E]=67108863&F}return C!==0&&(this.words[E]=C,this.length++),S?this.ineg():this},c.prototype.muln=function(N){return this.clone().imuln(N)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(N){var S=function(F){for(var U=new Array(F.bitLength()),M=0;M<U.length;M++){var z=M/26|0,G=M%26;U[M]=F.words[z]>>>G&1}return U}(N);if(S.length===0)return new c(1);for(var C=this,E=0;E<S.length&&S[E]===0;E++,C=C.sqr());if(++E<S.length)for(var x=C.sqr();E<S.length;E++,x=x.sqr())S[E]!==0&&(C=C.mul(x));return C},c.prototype.iushln=function(N){o(typeof N=="number"&&N>=0);var S,C=N%26,E=(N-C)/26,x=67108863>>>26-C<<26-C;if(C!==0){var F=0;for(S=0;S<this.length;S++){var U=this.words[S]&x,M=(0|this.words[S])-U<<C;this.words[S]=M|F,F=U>>>26-C}F&&(this.words[S]=F,this.length++)}if(E!==0){for(S=this.length-1;S>=0;S--)this.words[S+E]=this.words[S];for(S=0;S<E;S++)this.words[S]=0;this.length+=E}return this._strip()},c.prototype.ishln=function(N){return o(this.negative===0),this.iushln(N)},c.prototype.iushrn=function(N,S,C){var E;o(typeof N=="number"&&N>=0),E=S?(S-S%26)/26:0;var x=N%26,F=Math.min((N-x)/26,this.length),U=67108863^67108863>>>x<<x,M=C;if(E-=F,E=Math.max(0,E),M){for(var z=0;z<F;z++)M.words[z]=this.words[z];M.length=F}if(F!==0)if(this.length>F)for(this.length-=F,z=0;z<this.length;z++)this.words[z]=this.words[z+F];else this.words[0]=0,this.length=1;var G=0;for(z=this.length-1;z>=0&&(G!==0||z>=E);z--){var Y=0|this.words[z];this.words[z]=G<<26-x|Y>>>x,G=Y&U}return M&&G!==0&&(M.words[M.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(N,S,C){return o(this.negative===0),this.iushrn(N,S,C)},c.prototype.shln=function(N){return this.clone().ishln(N)},c.prototype.ushln=function(N){return this.clone().iushln(N)},c.prototype.shrn=function(N){return this.clone().ishrn(N)},c.prototype.ushrn=function(N){return this.clone().iushrn(N)},c.prototype.testn=function(N){o(typeof N=="number"&&N>=0);var S=N%26,C=(N-S)/26,E=1<<S;return!(this.length<=C)&&!!(this.words[C]&E)},c.prototype.imaskn=function(N){o(typeof N=="number"&&N>=0);var S=N%26,C=(N-S)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(S!==0&&C++,this.length=Math.min(C,this.length),S!==0){var E=67108863^67108863>>>S<<S;this.words[this.length-1]&=E}return this._strip()},c.prototype.maskn=function(N){return this.clone().imaskn(N)},c.prototype.iaddn=function(N){return o(typeof N=="number"),o(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},c.prototype._iaddn=function(N){this.words[0]+=N;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},c.prototype.isubn=function(N){if(o(typeof N=="number"),o(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},c.prototype.addn=function(N){return this.clone().iaddn(N)},c.prototype.subn=function(N){return this.clone().isubn(N)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(N,S,C){var E,x,F=N.length+C;this._expand(F);var U=0;for(E=0;E<N.length;E++){x=(0|this.words[E+C])+U;var M=(0|N.words[E])*S;U=((x-=67108863&M)>>26)-(M/67108864|0),this.words[E+C]=67108863&x}for(;E<this.length-C;E++)U=(x=(0|this.words[E+C])+U)>>26,this.words[E+C]=67108863&x;if(U===0)return this._strip();for(o(U===-1),U=0,E=0;E<this.length;E++)U=(x=-(0|this.words[E])+U)>>26,this.words[E]=67108863&x;return this.negative=1,this._strip()},c.prototype._wordDiv=function(N,S){var C=(this.length,N.length),E=this.clone(),x=N,F=0|x.words[x.length-1];(C=26-this._countBits(F))!==0&&(x=x.ushln(C),E.iushln(C),F=0|x.words[x.length-1]);var U,M=E.length-x.length;if(S!=="mod"){(U=new c(null)).length=M+1,U.words=new Array(U.length);for(var z=0;z<U.length;z++)U.words[z]=0}var G=E.clone()._ishlnsubmul(x,1,M);G.negative===0&&(E=G,U&&(U.words[M]=1));for(var Y=M-1;Y>=0;Y--){var Q=67108864*(0|E.words[x.length+Y])+(0|E.words[x.length+Y-1]);for(Q=Math.min(Q/F|0,67108863),E._ishlnsubmul(x,Q,Y);E.negative!==0;)Q--,E.negative=0,E._ishlnsubmul(x,1,Y),E.isZero()||(E.negative^=1);U&&(U.words[Y]=Q)}return U&&U._strip(),E._strip(),S!=="div"&&C!==0&&E.iushrn(C),{div:U||null,mod:E}},c.prototype.divmod=function(N,S,C){return o(!N.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&N.negative===0?(F=this.neg().divmod(N,S),S!=="mod"&&(E=F.div.neg()),S!=="div"&&(x=F.mod.neg(),C&&x.negative!==0&&x.iadd(N)),{div:E,mod:x}):this.negative===0&&N.negative!==0?(F=this.divmod(N.neg(),S),S!=="mod"&&(E=F.div.neg()),{div:E,mod:F.mod}):this.negative&N.negative?(F=this.neg().divmod(N.neg(),S),S!=="div"&&(x=F.mod.neg(),C&&x.negative!==0&&x.isub(N)),{div:F.div,mod:x}):N.length>this.length||this.cmp(N)<0?{div:new c(0),mod:this}:N.length===1?S==="div"?{div:this.divn(N.words[0]),mod:null}:S==="mod"?{div:null,mod:new c(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new c(this.modrn(N.words[0]))}:this._wordDiv(N,S);var E,x,F},c.prototype.div=function(N){return this.divmod(N,"div",!1).div},c.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},c.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},c.prototype.divRound=function(N){var S=this.divmod(N);if(S.mod.isZero())return S.div;var C=S.div.negative!==0?S.mod.isub(N):S.mod,E=N.ushrn(1),x=N.andln(1),F=C.cmp(E);return F<0||x===1&&F===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},c.prototype.modrn=function(N){var S=N<0;S&&(N=-N),o(N<=67108863);for(var C=(1<<26)%N,E=0,x=this.length-1;x>=0;x--)E=(C*E+(0|this.words[x]))%N;return S?-E:E},c.prototype.modn=function(N){return this.modrn(N)},c.prototype.idivn=function(N){var S=N<0;S&&(N=-N),o(N<=67108863);for(var C=0,E=this.length-1;E>=0;E--){var x=(0|this.words[E])+67108864*C;this.words[E]=x/N|0,C=x%N}return this._strip(),S?this.ineg():this},c.prototype.divn=function(N){return this.clone().idivn(N)},c.prototype.egcd=function(N){o(N.negative===0),o(!N.isZero());var S=this,C=N.clone();S=S.negative!==0?S.umod(N):S.clone();for(var E=new c(1),x=new c(0),F=new c(0),U=new c(1),M=0;S.isEven()&&C.isEven();)S.iushrn(1),C.iushrn(1),++M;for(var z=C.clone(),G=S.clone();!S.isZero();){for(var Y=0,Q=1;!(S.words[0]&Q)&&Y<26;++Y,Q<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(E.isOdd()||x.isOdd())&&(E.iadd(z),x.isub(G)),E.iushrn(1),x.iushrn(1);for(var q=0,D=1;!(C.words[0]&D)&&q<26;++q,D<<=1);if(q>0)for(C.iushrn(q);q-- >0;)(F.isOdd()||U.isOdd())&&(F.iadd(z),U.isub(G)),F.iushrn(1),U.iushrn(1);S.cmp(C)>=0?(S.isub(C),E.isub(F),x.isub(U)):(C.isub(S),F.isub(E),U.isub(x))}return{a:F,b:U,gcd:C.iushln(M)}},c.prototype._invmp=function(N){o(N.negative===0),o(!N.isZero());var S=this,C=N.clone();S=S.negative!==0?S.umod(N):S.clone();for(var E,x=new c(1),F=new c(0),U=C.clone();S.cmpn(1)>0&&C.cmpn(1)>0;){for(var M=0,z=1;!(S.words[0]&z)&&M<26;++M,z<<=1);if(M>0)for(S.iushrn(M);M-- >0;)x.isOdd()&&x.iadd(U),x.iushrn(1);for(var G=0,Y=1;!(C.words[0]&Y)&&G<26;++G,Y<<=1);if(G>0)for(C.iushrn(G);G-- >0;)F.isOdd()&&F.iadd(U),F.iushrn(1);S.cmp(C)>=0?(S.isub(C),x.isub(F)):(C.isub(S),F.isub(x))}return(E=S.cmpn(1)===0?x:F).cmpn(0)<0&&E.iadd(N),E},c.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var S=this.clone(),C=N.clone();S.negative=0,C.negative=0;for(var E=0;S.isEven()&&C.isEven();E++)S.iushrn(1),C.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;C.isEven();)C.iushrn(1);var x=S.cmp(C);if(x<0){var F=S;S=C,C=F}else if(x===0||C.cmpn(1)===0)break;S.isub(C)}return C.iushln(E)},c.prototype.invm=function(N){return this.egcd(N).a.umod(N)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(N){return this.words[0]&N},c.prototype.bincn=function(N){o(typeof N=="number");var S=N%26,C=(N-S)/26,E=1<<S;if(this.length<=C)return this._expand(C+1),this.words[C]|=E,this;for(var x=E,F=C;x!==0&&F<this.length;F++){var U=0|this.words[F];x=(U+=x)>>>26,U&=67108863,this.words[F]=U}return x!==0&&(this.words[F]=x,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(N){var S,C=N<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)S=1;else{C&&(N=-N),o(N<=67108863,"Number is too big");var E=0|this.words[0];S=E===N?0:E<N?-1:1}return this.negative!==0?0|-S:S},c.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var S=this.ucmp(N);return this.negative!==0?0|-S:S},c.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var S=0,C=this.length-1;C>=0;C--){var E=0|this.words[C],x=0|N.words[C];if(E!==x){E<x?S=-1:E>x&&(S=1);break}}return S},c.prototype.gtn=function(N){return this.cmpn(N)===1},c.prototype.gt=function(N){return this.cmp(N)===1},c.prototype.gten=function(N){return this.cmpn(N)>=0},c.prototype.gte=function(N){return this.cmp(N)>=0},c.prototype.ltn=function(N){return this.cmpn(N)===-1},c.prototype.lt=function(N){return this.cmp(N)===-1},c.prototype.lten=function(N){return this.cmpn(N)<=0},c.prototype.lte=function(N){return this.cmp(N)<=0},c.prototype.eqn=function(N){return this.cmpn(N)===0},c.prototype.eq=function(N){return this.cmp(N)===0},c.red=function(N){return new T(N)},c.prototype.toRed=function(N){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(N){return this.red=N,this},c.prototype.forceRed=function(N){return o(!this.red,"Already a number in reduction context"),this._forceRed(N)},c.prototype.redAdd=function(N){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},c.prototype.redIAdd=function(N){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},c.prototype.redSub=function(N){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},c.prototype.redISub=function(N){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},c.prototype.redShl=function(N){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},c.prototype.redMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},c.prototype.redIMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(N){return o(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var R={k256:null,p224:null,p192:null,p25519:null};function j(N,S){this.name=N,this.p=new c(S,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(N){if(typeof N=="string"){var S=c._prime(N);this.m=S.p,this.prime=S}else o(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function P(N){T.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var N=new c(null);return N.words=new Array(Math.ceil(this.n/13)),N},j.prototype.ireduce=function(N){var S,C=N;do this.split(C,this.tmp),S=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(S>this.n);var E=S<this.n?-1:C.ucmp(this.p);return E===0?(C.words[0]=0,C.length=1):E>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},j.prototype.split=function(N,S){N.iushrn(this.n,0,S)},j.prototype.imulK=function(N){return N.imul(this.k)},l(k,j),k.prototype.split=function(N,S){for(var C=Math.min(N.length,9),E=0;E<C;E++)S.words[E]=N.words[E];if(S.length=C,N.length<=9)return N.words[0]=0,void(N.length=1);var x=N.words[9];for(S.words[S.length++]=4194303&x,E=10;E<N.length;E++){var F=0|N.words[E];N.words[E-10]=(4194303&F)<<4|x>>>22,x=F}x>>>=22,N.words[E-10]=x,x===0&&N.length>10?N.length-=10:N.length-=9},k.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var S=0,C=0;C<N.length;C++){var E=0|N.words[C];S+=977*E,N.words[C]=67108863&S,S=64*E+(S/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},l(L,j),l(H,j),l(I,j),I.prototype.imulK=function(N){for(var S=0,C=0;C<N.length;C++){var E=19*(0|N.words[C])+S,x=67108863&E;E>>>=26,N.words[C]=x,S=E}return S!==0&&(N.words[N.length++]=S),N},c._prime=function(N){if(R[N])return R[N];var S;if(N==="k256")S=new k;else if(N==="p224")S=new L;else if(N==="p192")S=new H;else{if(N!=="p25519")throw new Error("Unknown prime "+N);S=new I}return R[N]=S,S},T.prototype._verify1=function(N){o(N.negative===0,"red works only with positives"),o(N.red,"red works only with red numbers")},T.prototype._verify2=function(N,S){o((N.negative|S.negative)==0,"red works only with positives"),o(N.red&&N.red===S.red,"red works only with red numbers")},T.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(p(N,N.umod(this.m)._forceRed(this)),N)},T.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},T.prototype.add=function(N,S){this._verify2(N,S);var C=N.add(S);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},T.prototype.iadd=function(N,S){this._verify2(N,S);var C=N.iadd(S);return C.cmp(this.m)>=0&&C.isub(this.m),C},T.prototype.sub=function(N,S){this._verify2(N,S);var C=N.sub(S);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},T.prototype.isub=function(N,S){this._verify2(N,S);var C=N.isub(S);return C.cmpn(0)<0&&C.iadd(this.m),C},T.prototype.shl=function(N,S){return this._verify1(N),this.imod(N.ushln(S))},T.prototype.imul=function(N,S){return this._verify2(N,S),this.imod(N.imul(S))},T.prototype.mul=function(N,S){return this._verify2(N,S),this.imod(N.mul(S))},T.prototype.isqr=function(N){return this.imul(N,N.clone())},T.prototype.sqr=function(N){return this.mul(N,N)},T.prototype.sqrt=function(N){if(N.isZero())return N.clone();var S=this.m.andln(3);if(o(S%2==1),S===3){var C=this.m.add(new c(1)).iushrn(2);return this.pow(N,C)}for(var E=this.m.subn(1),x=0;!E.isZero()&&E.andln(1)===0;)x++,E.iushrn(1);o(!E.isZero());var F=new c(1).toRed(this),U=F.redNeg(),M=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new c(2*z*z).toRed(this);this.pow(z,M).cmp(U)!==0;)z.redIAdd(U);for(var G=this.pow(z,E),Y=this.pow(N,E.addn(1).iushrn(1)),Q=this.pow(N,E),q=x;Q.cmp(F)!==0;){for(var D=Q,O=0;D.cmp(F)!==0;O++)D=D.redSqr();o(O<q);var V=this.pow(G,new c(1).iushln(q-O-1));Y=Y.redMul(V),G=V.redSqr(),Q=Q.redMul(G),q=O}return Y},T.prototype.invm=function(N){var S=N._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},T.prototype.pow=function(N,S){if(S.isZero())return new c(1).toRed(this);if(S.cmpn(1)===0)return N.clone();var C=new Array(16);C[0]=new c(1).toRed(this),C[1]=N;for(var E=2;E<C.length;E++)C[E]=this.mul(C[E-1],N);var x=C[0],F=0,U=0,M=S.bitLength()%26;for(M===0&&(M=26),E=S.length-1;E>=0;E--){for(var z=S.words[E],G=M-1;G>=0;G--){var Y=z>>G&1;x!==C[0]&&(x=this.sqr(x)),Y!==0||F!==0?(F<<=1,F|=Y,(++U===4||E===0&&G===0)&&(x=this.mul(x,C[F]),U=0,F=0)):U=0}M=26}return x},T.prototype.convertTo=function(N){var S=N.umod(this.m);return S===N?S.clone():S},T.prototype.convertFrom=function(N){var S=N.clone();return S.red=null,S},c.mont=function(N){return new P(N)},l(P,T),P.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},P.prototype.convertFrom=function(N){var S=this.imod(N.mul(this.rinv));return S.red=null,S},P.prototype.imul=function(N,S){if(N.isZero()||S.isZero())return N.words[0]=0,N.length=1,N;var C=N.imul(S),E=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=C.isub(E).iushrn(this.shift),F=x;return x.cmp(this.m)>=0?F=x.isub(this.m):x.cmpn(0)<0&&(F=x.iadd(this.m)),F._forceRed(this)},P.prototype.mul=function(N,S){if(N.isZero()||S.isZero())return new c(0)._forceRed(this);var C=N.mul(S),E=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=C.isub(E).iushrn(this.shift),F=x;return x.cmp(this.m)>=0?F=x.isub(this.m):x.cmpn(0)<0&&(F=x.iadd(this.m)),F._forceRed(this)},P.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(t,n,i){var s;function a(l){this.rand=l}if(n.exports=function(l){return s||(s=new a(null)),s.generate(l)},n.exports.Rand=a,a.prototype.generate=function(l){return this._rand(l)},a.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var c=new Uint8Array(l),u=0;u<c.length;u++)c[u]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(l){var c=new Uint8Array(l);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(l){var c=new Uint8Array(l);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=t("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(l){return o.randomBytes(l)}}catch{}},{crypto:188}],188:[function(t,n,i){},{}],189:[function(t,n,i){var s=t("safe-buffer").Buffer;function a(h){s.isBuffer(h)||(h=s.from(h));for(var f=h.length/4|0,p=new Array(f),g=0;g<f;g++)p[g]=h.readUInt32BE(4*g);return p}function o(h){for(;0<h.length;h++)h[0]=0}function l(h,f,p,g,m){for(var v,y,b,w,_=p[0],B=p[1],R=p[2],j=p[3],k=h[0]^f[0],L=h[1]^f[1],H=h[2]^f[2],I=h[3]^f[3],T=4,P=1;P<m;P++)v=_[k>>>24]^B[L>>>16&255]^R[H>>>8&255]^j[255&I]^f[T++],y=_[L>>>24]^B[H>>>16&255]^R[I>>>8&255]^j[255&k]^f[T++],b=_[H>>>24]^B[I>>>16&255]^R[k>>>8&255]^j[255&L]^f[T++],w=_[I>>>24]^B[k>>>16&255]^R[L>>>8&255]^j[255&H]^f[T++],k=v,L=y,H=b,I=w;return v=(g[k>>>24]<<24|g[L>>>16&255]<<16|g[H>>>8&255]<<8|g[255&I])^f[T++],y=(g[L>>>24]<<24|g[H>>>16&255]<<16|g[I>>>8&255]<<8|g[255&k])^f[T++],b=(g[H>>>24]<<24|g[I>>>16&255]<<16|g[k>>>8&255]<<8|g[255&L])^f[T++],w=(g[I>>>24]<<24|g[k>>>16&255]<<16|g[L>>>8&255]<<8|g[255&H])^f[T++],[v>>>=0,y>>>=0,b>>>=0,w>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var h=new Array(256),f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(var p=[],g=[],m=[[],[],[],[]],v=[[],[],[],[]],y=0,b=0,w=0;w<256;++w){var _=b^b<<1^b<<2^b<<3^b<<4;_=_>>>8^255&_^99,p[y]=_,g[_]=y;var B=h[y],R=h[B],j=h[R],k=257*h[_]^16843008*_;m[0][y]=k<<24|k>>>8,m[1][y]=k<<16|k>>>16,m[2][y]=k<<8|k>>>24,m[3][y]=k,k=16843009*j^65537*R^257*B^16843008*y,v[0][_]=k<<24|k>>>8,v[1][_]=k<<16|k>>>16,v[2][_]=k<<8|k>>>24,v[3][_]=k,y===0?y=b=1:(y=B^h[h[h[j^B]]],b^=h[h[b]])}return{SBOX:p,INV_SBOX:g,SUB_MIX:m,INV_SUB_MIX:v}}();function d(h){this._key=a(h),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var h=this._key,f=h.length,p=f+6,g=4*(p+1),m=[],v=0;v<f;v++)m[v]=h[v];for(v=f;v<g;v++){var y=m[v-1];v%f==0?(y=y<<8|y>>>24,y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y],y^=c[v/f|0]<<24):f>6&&v%f==4&&(y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y]),m[v]=m[v-f]^y}for(var b=[],w=0;w<g;w++){var _=g-w,B=m[_-(w%4?0:4)];b[w]=w<4||_<=4?B:u.INV_SUB_MIX[0][u.SBOX[B>>>24]]^u.INV_SUB_MIX[1][u.SBOX[B>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[B>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&B]]}this._nRounds=p,this._keySchedule=m,this._invKeySchedule=b},d.prototype.encryptBlockRaw=function(h){return l(h=a(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},d.prototype.encryptBlock=function(h){var f=this.encryptBlockRaw(h),p=s.allocUnsafe(16);return p.writeUInt32BE(f[0],0),p.writeUInt32BE(f[1],4),p.writeUInt32BE(f[2],8),p.writeUInt32BE(f[3],12),p},d.prototype.decryptBlock=function(h){var f=(h=a(h))[1];h[1]=h[3],h[3]=f;var p=l(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),g=s.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[3],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[1],12),g},d.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},n.exports.AES=d},{"safe-buffer":494}],190:[function(t,n,i){var s=t("./aes"),a=t("safe-buffer").Buffer,o=t("cipher-base"),l=t("inherits"),c=t("./ghash"),u=t("buffer-xor"),d=t("./incr32");function h(f,p,g,m){o.call(this);var v=a.alloc(4,0);this._cipher=new s.AES(p);var y=this._cipher.encryptBlock(v);this._ghash=new c(y),g=function(b,w,_){if(w.length===12)return b._finID=a.concat([w,a.from([0,0,0,1])]),a.concat([w,a.from([0,0,0,2])]);var B=new c(_),R=w.length,j=R%16;B.update(w),j&&(j=16-j,B.update(a.alloc(j,0))),B.update(a.alloc(8,0));var k=8*R,L=a.alloc(8);L.writeUIntBE(k,0,8),B.update(L),b._finID=B.state;var H=a.from(b._finID);return d(H),H}(this,g,y),this._prev=a.from(g),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(h,o),h.prototype._update=function(f){if(!this._called&&this._alen){var p=16-this._alen%16;p<16&&(p=a.alloc(p,0),this._ghash.update(p))}this._called=!0;var g=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(g),this._len+=f.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(p,g){var m=0;p.length!==g.length&&m++;for(var v=Math.min(p.length,g.length),y=0;y<v;++y)m+=p[y]^g[y];return m}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},h.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,n,i){var s=t("./encrypter"),a=t("./decrypter"),o=t("./modes/list.json");i.createCipher=i.Cipher=s.createCipher,i.createCipheriv=i.Cipheriv=s.createCipheriv,i.createDecipher=i.Decipher=a.createDecipher,i.createDecipheriv=i.Decipheriv=a.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,n,i){var s=t("./authCipher"),a=t("safe-buffer").Buffer,o=t("./modes"),l=t("./streamCipher"),c=t("cipher-base"),u=t("./aes"),d=t("evp_bytestokey");function h(g,m,v){c.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(m),this._prev=a.from(v),this._mode=g,this._autopadding=!0}function f(){this.cache=a.allocUnsafe(0)}function p(g,m,v){var y=o[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=a.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);return y.type==="stream"?new l(y.module,m,v,!0):y.type==="auth"?new s(y.module,m,v,!0):new h(y.module,m,v)}t("inherits")(h,c),h.prototype._update=function(g){var m,v;this._cache.add(g);for(var y=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),y.push(v);return a.concat(y)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(m[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},f.prototype.add=function(g){this.cache=a.concat([this.cache,g])},f.prototype.get=function(g){var m;if(g){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(g,m){var v=o[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=d(m,!1,v.key,v.iv);return p(g,y.key,y.iv)},i.createDecipheriv=p},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,n,i){var s=t("./modes"),a=t("./authCipher"),o=t("safe-buffer").Buffer,l=t("./streamCipher"),c=t("cipher-base"),u=t("./aes"),d=t("evp_bytestokey");function h(m,v,y){c.call(this),this._cache=new p,this._cipher=new u.AES(v),this._prev=o.from(y),this._mode=m,this._autopadding=!0}t("inherits")(h,c),h.prototype._update=function(m){var v,y;this._cache.add(m);for(var b=[];v=this._cache.get();)y=this._mode.encrypt(this,v),b.push(y);return o.concat(b)};var f=o.alloc(16,16);function p(){this.cache=o.allocUnsafe(0)}function g(m,v,y){var b=s[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==b.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=o.from(y)),b.mode!=="GCM"&&y.length!==b.iv)throw new TypeError("invalid iv length "+y.length);return b.type==="stream"?new l(b.module,v,y):b.type==="auth"?new a(b.module,v,y):new h(b.module,v,y)}h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},p.prototype.add=function(m){this.cache=o.concat([this.cache,m])},p.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},p.prototype.flush=function(){for(var m=16-this.cache.length,v=o.allocUnsafe(m),y=-1;++y<m;)v.writeUInt8(m,y);return o.concat([this.cache,v])},i.createCipheriv=g,i.createCipher=function(m,v){var y=s[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var b=d(v,!1,y.key,y.iv);return g(m,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,n,i){var s=t("safe-buffer").Buffer,a=s.alloc(16,0);function o(c){var u=s.allocUnsafe(16);return u.writeUInt32BE(c[0]>>>0,0),u.writeUInt32BE(c[1]>>>0,4),u.writeUInt32BE(c[2]>>>0,8),u.writeUInt32BE(c[3]>>>0,12),u}function l(c){this.h=c,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}l.prototype.ghash=function(c){for(var u=-1;++u<c.length;)this.state[u]^=c[u];this._multiply()},l.prototype._multiply=function(){for(var c,u,d,h=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],f=[0,0,0,0],p=-1;++p<128;){for(this.state[~~(p/8)]&1<<7-p%8&&(f[0]^=h[0],f[1]^=h[1],f[2]^=h[2],f[3]^=h[3]),d=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,d&&(h[0]=h[0]^225<<24)}this.state=o(f)},l.prototype.update=function(c){var u;for(this.cache=s.concat([this.cache,c]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(c,u){return this.cache.length&&this.ghash(s.concat([this.cache,a],16)),this.ghash(o([0,c,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(t,n,i){n.exports=function(s){for(var a,o=s.length;o--;){if((a=s.readUInt8(o))!==255){a++,s.writeUInt8(a,o);break}s.writeUInt8(0,o)}}},{}],196:[function(t,n,i){var s=t("buffer-xor");i.encrypt=function(a,o){var l=s(o,a._prev);return a._prev=a._cipher.encryptBlock(l),a._prev},i.decrypt=function(a,o){var l=a._prev;a._prev=o;var c=a._cipher.decryptBlock(o);return s(c,l)}},{"buffer-xor":219}],197:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("buffer-xor");function o(l,c,u){var d=c.length,h=a(c,l._cache);return l._cache=l._cache.slice(d),l._prev=s.concat([l._prev,u?c:h]),h}i.encrypt=function(l,c,u){for(var d,h=s.allocUnsafe(0);c.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=s.allocUnsafe(0)),!(l._cache.length<=c.length)){h=s.concat([h,o(l,c,u)]);break}d=l._cache.length,h=s.concat([h,o(l,c.slice(0,d),u)]),c=c.slice(d)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,n,i){var s=t("safe-buffer").Buffer;function a(l,c,u){for(var d,h,f=-1,p=0;++f<8;)d=c&1<<7-f?128:0,p+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^d))>>f%8,l._prev=o(l._prev,u?d:h);return p}function o(l,c){var u=l.length,d=-1,h=s.allocUnsafe(l.length);for(l=s.concat([l,s.from([c])]);++d<u;)h[d]=l[d]<<1|l[d+1]>>7;return h}i.encrypt=function(l,c,u){for(var d=c.length,h=s.allocUnsafe(d),f=-1;++f<d;)h[f]=a(l,c[f],u);return h}},{"safe-buffer":494}],199:[function(t,n,i){var s=t("safe-buffer").Buffer;function a(o,l,c){var u=o._cipher.encryptBlock(o._prev)[0]^l;return o._prev=s.concat([o._prev.slice(1),s.from([c?l:u])]),u}i.encrypt=function(o,l,c){for(var u=l.length,d=s.allocUnsafe(u),h=-1;++h<u;)d[h]=a(o,l[h],c);return d}},{"safe-buffer":494}],200:[function(t,n,i){var s=t("buffer-xor"),a=t("safe-buffer").Buffer,o=t("../incr32");function l(c){var u=c._cipher.encryptBlockRaw(c._prev);return o(c._prev),u}i.encrypt=function(c,u){var d=Math.ceil(u.length/16),h=c._cache.length;c._cache=a.concat([c._cache,a.allocUnsafe(16*d)]);for(var f=0;f<d;f++){var p=l(c),g=h+16*f;c._cache.writeUInt32BE(p[0],g+0),c._cache.writeUInt32BE(p[1],g+4),c._cache.writeUInt32BE(p[2],g+8),c._cache.writeUInt32BE(p[3],g+12)}var m=c._cache.slice(0,u.length);return c._cache=c._cache.slice(u.length),s(u,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,n,i){i.encrypt=function(s,a){return s._cipher.encryptBlock(a)},i.decrypt=function(s,a){return s._cipher.decryptBlock(a)}},{}],202:[function(t,n,i){var s={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},a=t("./list.json");for(var o in a)a[o].module=s[a[o].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,n,i){(function(s){(function(){var a=t("buffer-xor");function o(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}i.encrypt=function(l,c){for(;l._cache.length<c.length;)l._cache=s.concat([l._cache,o(l)]);var u=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),a(c,u)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,n,i){var s=t("./aes"),a=t("safe-buffer").Buffer,o=t("cipher-base");function l(c,u,d,h){o.call(this),this._cipher=new s.AES(u),this._prev=a.from(d),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=h,this._mode=c}t("inherits")(l,o),l.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,n,i){var s=t("browserify-des"),a=t("browserify-aes/browser"),o=t("browserify-aes/modes"),l=t("browserify-des/modes"),c=t("evp_bytestokey");function u(h,f,p){if(h=h.toLowerCase(),o[h])return a.createCipheriv(h,f,p);if(l[h])return new s({key:f,iv:p,mode:h});throw new TypeError("invalid suite type")}function d(h,f,p){if(h=h.toLowerCase(),o[h])return a.createDecipheriv(h,f,p);if(l[h])return new s({key:f,iv:p,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,f){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=c(f,!1,p,g);return u(h,m.key,m.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(h,f){var p,g;if(h=h.toLowerCase(),o[h])p=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");p=8*l[h].key,g=l[h].iv}var m=c(f,!1,p,g);return d(h,m.key,m.iv)},i.createDecipheriv=i.Decipheriv=d,i.listCiphers=i.getCiphers=function(){return Object.keys(l).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,n,i){var s=t("cipher-base"),a=t("des.js"),o=t("inherits"),l=t("safe-buffer").Buffer,c={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(d){s.call(this);var h,f=d.mode.toLowerCase(),p=c[f];h=d.decrypt?"decrypt":"encrypt";var g=d.key;l.isBuffer(g)||(g=l.from(g)),f!=="des-ede"&&f!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var m=d.iv;l.isBuffer(m)||(m=l.from(m)),this._des=p.create({key:g,iv:m,type:h})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],n.exports=u,o(u,s),u.prototype._update=function(d){return l.from(this._des.update(d))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(t,n,i){(function(s){(function(){var a=t("bn.js"),o=t("randombytes");function l(u){var d,h=u.modulus.byteLength();do d=new a(o(h));while(d.cmp(u.modulus)>=0||!d.umod(u.prime1)||!d.umod(u.prime2));return d}function c(u,d){var h=function(R){var j=l(R);return{blinder:j.toRed(a.mont(R.modulus)).redPow(new a(R.publicExponent)).fromRed(),unblinder:j.invm(R.modulus)}}(d),f=d.modulus.byteLength(),p=new a(u).mul(h.blinder).umod(d.modulus),g=p.toRed(a.mont(d.prime1)),m=p.toRed(a.mont(d.prime2)),v=d.coefficient,y=d.prime1,b=d.prime2,w=g.redPow(d.exponent1).fromRed(),_=m.redPow(d.exponent2).fromRed(),B=w.isub(_).imul(v).umod(y).imul(b);return _.iadd(B).imul(h.unblinder).umod(d.modulus).toArrayLike(s,"be",f)}c.getr=l,n.exports=c}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,n,i){n.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("create-hash"),o=t("readable-stream"),l=t("inherits"),c=t("./sign"),u=t("./verify"),d=t("./algorithms.json");function h(m){o.Writable.call(this);var v=d[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function f(m){o.Writable.call(this);var v=d[m];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){return new h(m)}function g(m){return new f(m)}Object.keys(d).forEach(function(m){d[m].id=s.from(d[m].id,"hex"),d[m.toLowerCase()]=d[m]}),l(h,o.Writable),h.prototype._write=function(m,v,y){this._hash.update(m),y()},h.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},h.prototype.sign=function(m,v){this.end();var y=this._hash.digest(),b=c(y,m,this._hashType,this._signType,this._tag);return v?b.toString(v):b},l(f,o.Writable),f.prototype._write=function(m,v,y){this._hash.update(m),y()},f.prototype.update=function(m,v){return typeof m=="string"&&(m=s.from(m,v)),this._hash.update(m),this},f.prototype.verify=function(m,v,y){typeof v=="string"&&(v=s.from(v,y)),this.end();var b=this._hash.digest();return u(v,b,m,this._signType,this._tag)},n.exports={Sign:p,Verify:g,createSign:p,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("create-hmac"),o=t("browserify-rsa"),l=t("elliptic").ec,c=t("bn.js"),u=t("parse-asn1"),d=t("./curves.json");function h(m,v,y,b){if((m=s.from(m.toArray())).length<v.byteLength()){var w=s.alloc(v.byteLength()-m.length);m=s.concat([w,m])}var _=y.length,B=function(k,L){k=(k=f(k,L)).mod(L);var H=s.from(k.toArray());if(H.length<L.byteLength()){var I=s.alloc(L.byteLength()-H.length);H=s.concat([I,H])}return H}(y,v),R=s.alloc(_);R.fill(1);var j=s.alloc(_);return j=a(b,j).update(R).update(s.from([0])).update(m).update(B).digest(),R=a(b,j).update(R).digest(),{k:j=a(b,j).update(R).update(s.from([1])).update(m).update(B).digest(),v:R=a(b,j).update(R).digest()}}function f(m,v){var y=new c(m),b=(m.length<<3)-v.bitLength();return b>0&&y.ishrn(b),y}function p(m,v,y){var b,w;do{for(b=s.alloc(0);8*b.length<m.bitLength();)v.v=a(y,v.k).update(v.v).digest(),b=s.concat([b,v.v]);w=f(b,m),v.k=a(y,v.k).update(v.v).update(s.from([0])).digest(),v.v=a(y,v.k).update(v.v).digest()}while(w.cmp(m)!==-1);return w}function g(m,v,y,b){return m.toRed(c.mont(y)).redPow(v).fromRed().mod(b)}n.exports=function(m,v,y,b,w){var _=u(v);if(_.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(k,L){var H=d[L.curve.join(".")];if(!H)throw new Error("unknown curve "+L.curve.join("."));var I=new l(H).keyFromPrivate(L.privateKey).sign(k);return s.from(I.toDER())}(m,_)}if(_.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(k,L,H){for(var I,T=L.params.priv_key,P=L.params.p,N=L.params.q,S=L.params.g,C=new c(0),E=f(k,N).mod(N),x=!1,F=h(T,N,k,H);x===!1;)I=p(N,F,H),C=g(S,I,P,N),(x=I.invm(N).imul(E.add(T.mul(C))).mod(N)).cmpn(0)===0&&(x=!1,C=new c(0));return function(U,M){U=U.toArray(),M=M.toArray(),128&U[0]&&(U=[0].concat(U)),128&M[0]&&(M=[0].concat(M));var z=[48,U.length+M.length+4,2,U.length];return z=z.concat(U,[2,M.length],M),s.from(z)}(C,x)}(m,_,y)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");m=s.concat([w,m]);for(var B=_.modulus.byteLength(),R=[0,1];m.length+R.length+1<B;)R.push(255);R.push(0);for(var j=-1;++j<m.length;)R.push(m[j]);return o(R,_)},n.exports.getKey=h,n.exports.makeKey=p},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("bn.js"),o=t("elliptic").ec,l=t("parse-asn1"),c=t("./curves.json");function u(d,h){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(d,h,f,p,g){var m=l(f);if(m.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return function(R,j,k){var L=c[k.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+k.data.algorithm.curve.join("."));var H=new o(L),I=k.data.subjectPrivateKey.data;return H.verify(j,R,I)}(d,h,m)}if(m.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return function(R,j,k){var L=k.data.p,H=k.data.q,I=k.data.g,T=k.data.pub_key,P=l.signature.decode(R,"der"),N=P.s,S=P.r;u(N,H),u(S,H);var C=a.mont(L),E=N.invm(H);return I.toRed(C).redPow(new a(j).mul(E).mod(H)).fromRed().mul(T.toRed(C).redPow(S.mul(E).mod(H)).fromRed()).mod(L).mod(H).cmp(S)===0}(d,h,m)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");h=s.concat([g,h]);for(var v=m.modulus.byteLength(),y=[1],b=0;h.length+y.length+2<v;)y.push(255),b++;y.push(0);for(var w=-1;++w<h.length;)y.push(h[w]);y=s.from(y);var _=a.mont(m.modulus);d=(d=new a(d).toRed(_)).redPow(new a(m.publicExponent)),d=s.from(d.fromRed().toArray());var B=b<8?1:0;for(v=Math.min(d.length,y.length),d.length!==y.length&&(B=1),w=-1;++w<v;)B|=d[w]^y[w];return B===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,n,i){},{}],217:[function(t,n,i){var s=t("buffer"),a=s.Buffer;function o(c,u){for(var d in c)u[d]=c[d]}function l(c,u,d){return a(c,u,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(o(s,i),i.Buffer=l),o(a,l),l.from=function(c,u,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,u,d)},l.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=a(c);return u!==void 0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],218:[function(t,n,i){var s=t("safe-buffer").Buffer,a=s.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var v;switch(this.encoding=function(y){var b=function(w){if(!w)return"utf8";for(var _;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(_)return;w=(""+w).toLowerCase(),_=!0}}(y);if(typeof b!="string"&&(s.isEncoding===a||!a(y)))throw new Error("Unknown encoding: "+y);return b||y}(m),this.encoding){case"utf16le":this.text=u,this.end=d,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=h,this.end=f,v=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(v)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function c(m){var v=this.lastTotal-this.lastNeed,y=function(b,w,_){if((192&w[0])!=128)return b.lastNeed=0,"";if(b.lastNeed>1&&w.length>1){if((192&w[1])!=128)return b.lastNeed=1,"";if(b.lastNeed>2&&w.length>2&&(192&w[2])!=128)return b.lastNeed=2,""}}(this,m);return y!==void 0?y:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function u(m,v){if((m.length-v)%2==0){var y=m.toString("utf16le",v);if(y){var b=y.charCodeAt(y.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function d(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function h(m,v){var y=(m.length-v)%3;return y===0?m.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-y))}function f(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function p(m){return m.toString(this.encoding)}function g(m){return m&&m.length?this.write(m):""}i.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<m.length?v?v+this.text(m,y):this.text(m,y):v||""},o.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},o.prototype.text=function(m,v){var y=function(w,_,B){var R=_.length-1;if(R<B)return 0;var j=l(_[R]);return j>=0?(j>0&&(w.lastNeed=j-1),j):--R<B||j===-2?0:(j=l(_[R]))>=0?(j>0&&(w.lastNeed=j-2),j):--R<B||j===-2?0:(j=l(_[R]))>=0?(j>0&&(j===2?j=0:w.lastNeed=j-3),j):0}(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=y;var b=m.length-(y-this.lastNeed);return m.copy(this.lastChar,0,b),m.toString("utf8",v,b)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(t,n,i){(function(s){(function(){n.exports=function(a,o){for(var l=Math.min(a.length,o.length),c=new s(l),u=0;u<l;++u)c[u]=a[u]^o[u];return c}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,n,i){(function(s){(function(){var a=t("base64-js"),o=t("ieee754");i.Buffer=c,i.SlowBuffer=function(D){return+D!=D&&(D=0),c.alloc(+D)},i.INSPECT_MAX_BYTES=50;function l(D){if(D>2147483647)throw new RangeError('The value "'+D+'" is invalid for option "size"');var O=new Uint8Array(D);return O.__proto__=c.prototype,O}function c(D,O,V){if(typeof D=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return u(D,O,V)}function u(D,O,V){if(typeof D=="string")return function(ne,se){if(typeof se=="string"&&se!==""||(se="utf8"),!c.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var ee=0|g(ne,se),de=l(ee),ie=de.write(ne,se);return ie!==ee&&(de=de.slice(0,ie)),de}(D,O);if(ArrayBuffer.isView(D))return f(D);if(D==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(Q(D,ArrayBuffer)||D&&Q(D.buffer,ArrayBuffer))return function(ne,se,ee){if(se<0||ne.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<se+(ee||0))throw new RangeError('"length" is outside of buffer bounds');var de;return de=se===void 0&&ee===void 0?new Uint8Array(ne):ee===void 0?new Uint8Array(ne,se):new Uint8Array(ne,se,ee),de.__proto__=c.prototype,de}(D,O,V);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=D.valueOf&&D.valueOf();if(J!=null&&J!==D)return c.from(J,O,V);var re=function(ne){if(c.isBuffer(ne)){var se=0|p(ne.length),ee=l(se);return ee.length===0||ne.copy(ee,0,0,se),ee}if(ne.length!==void 0)return typeof ne.length!="number"||q(ne.length)?l(0):f(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return f(ne.data)}(D);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return c.from(D[Symbol.toPrimitive]("string"),O,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}function d(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function h(D){return d(D),l(D<0?0:0|p(D))}function f(D){for(var O=D.length<0?0:0|p(D.length),V=l(O),J=0;J<O;J+=1)V[J]=255&D[J];return V}function p(D){if(D>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|D}function g(D,O){if(c.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||Q(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);var V=D.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&V===0)return 0;for(var re=!1;;)switch(O){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return z(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return G(D).length;default:if(re)return J?-1:z(D).length;O=(""+O).toLowerCase(),re=!0}}function m(D,O,V){var J=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0)<=(O>>>=0))return"";for(D||(D="utf8");;)switch(D){case"hex":return P(this,O,V);case"utf8":case"utf-8":return H(this,O,V);case"ascii":return I(this,O,V);case"latin1":case"binary":return T(this,O,V);case"base64":return L(this,O,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,O,V);default:if(J)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),J=!0}}function v(D,O,V){var J=D[O];D[O]=D[V],D[V]=J}function y(D,O,V,J,re){if(D.length===0)return-1;if(typeof V=="string"?(J=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),q(V=+V)&&(V=re?0:D.length-1),V<0&&(V=D.length+V),V>=D.length){if(re)return-1;V=D.length-1}else if(V<0){if(!re)return-1;V=0}if(typeof O=="string"&&(O=c.from(O,J)),c.isBuffer(O))return O.length===0?-1:b(D,O,V,J,re);if(typeof O=="number")return O&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(D,O,V):Uint8Array.prototype.lastIndexOf.call(D,O,V):b(D,[O],V,J,re);throw new TypeError("val must be string, number or Buffer")}function b(D,O,V,J,re){var ne,se=1,ee=D.length,de=O.length;if(J!==void 0&&((J=String(J).toLowerCase())==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(D.length<2||O.length<2)return-1;se=2,ee/=2,de/=2,V/=2}function ie(ye,xe){return se===1?ye[xe]:ye.readUInt16BE(xe*se)}if(re){var he=-1;for(ne=V;ne<ee;ne++)if(ie(D,ne)===ie(O,he===-1?0:ne-he)){if(he===-1&&(he=ne),ne-he+1===de)return he*se}else he!==-1&&(ne-=ne-he),he=-1}else for(V+de>ee&&(V=ee-de),ne=V;ne>=0;ne--){for(var le=!0,be=0;be<de;be++)if(ie(D,ne+be)!==ie(O,be)){le=!1;break}if(le)return ne}return-1}function w(D,O,V,J){V=Number(V)||0;var re=D.length-V;J?(J=Number(J))>re&&(J=re):J=re;var ne=O.length;J>ne/2&&(J=ne/2);for(var se=0;se<J;++se){var ee=parseInt(O.substr(2*se,2),16);if(q(ee))return se;D[V+se]=ee}return se}function _(D,O,V,J){return Y(z(O,D.length-V),D,V,J)}function B(D,O,V,J){return Y(function(re){for(var ne=[],se=0;se<re.length;++se)ne.push(255&re.charCodeAt(se));return ne}(O),D,V,J)}function R(D,O,V,J){return B(D,O,V,J)}function j(D,O,V,J){return Y(G(O),D,V,J)}function k(D,O,V,J){return Y(function(re,ne){for(var se,ee,de,ie=[],he=0;he<re.length&&!((ne-=2)<0);++he)se=re.charCodeAt(he),ee=se>>8,de=se%256,ie.push(de),ie.push(ee);return ie}(O,D.length-V),D,V,J)}function L(D,O,V){return O===0&&V===D.length?a.fromByteArray(D):a.fromByteArray(D.slice(O,V))}function H(D,O,V){V=Math.min(D.length,V);for(var J=[],re=O;re<V;){var ne,se,ee,de,ie=D[re],he=null,le=ie>239?4:ie>223?3:ie>191?2:1;if(re+le<=V)switch(le){case 1:ie<128&&(he=ie);break;case 2:(192&(ne=D[re+1]))==128&&(de=(31&ie)<<6|63&ne)>127&&(he=de);break;case 3:ne=D[re+1],se=D[re+2],(192&ne)==128&&(192&se)==128&&(de=(15&ie)<<12|(63&ne)<<6|63&se)>2047&&(de<55296||de>57343)&&(he=de);break;case 4:ne=D[re+1],se=D[re+2],ee=D[re+3],(192&ne)==128&&(192&se)==128&&(192&ee)==128&&(de=(15&ie)<<18|(63&ne)<<12|(63&se)<<6|63&ee)>65535&&de<1114112&&(he=de)}he===null?(he=65533,le=1):he>65535&&(he-=65536,J.push(he>>>10&1023|55296),he=56320|1023&he),J.push(he),re+=le}return function(be){var ye=be.length;if(ye<=4096)return String.fromCharCode.apply(String,be);for(var xe="",Ee=0;Ee<ye;)xe+=String.fromCharCode.apply(String,be.slice(Ee,Ee+=4096));return xe}(J)}i.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{var D=new Uint8Array(1);return D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},D.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(D,O,V){return u(D,O,V)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(D,O,V){return function(J,re,ne){return d(J),J<=0?l(J):re!==void 0?typeof ne=="string"?l(J).fill(re,ne):l(J).fill(re):l(J)}(D,O,V)},c.allocUnsafe=function(D){return h(D)},c.allocUnsafeSlow=function(D){return h(D)},c.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==c.prototype},c.compare=function(D,O){if(Q(D,Uint8Array)&&(D=c.from(D,D.offset,D.byteLength)),Q(O,Uint8Array)&&(O=c.from(O,O.offset,O.byteLength)),!c.isBuffer(D)||!c.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===O)return 0;for(var V=D.length,J=O.length,re=0,ne=Math.min(V,J);re<ne;++re)if(D[re]!==O[re]){V=D[re],J=O[re];break}return V<J?-1:J<V?1:0},c.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(D,O){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return c.alloc(0);var V;if(O===void 0)for(O=0,V=0;V<D.length;++V)O+=D[V].length;var J=c.allocUnsafe(O),re=0;for(V=0;V<D.length;++V){var ne=D[V];if(Q(ne,Uint8Array)&&(ne=c.from(ne)),!c.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(J,re),re+=ne.length}return J},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<D;O+=2)v(this,O,O+1);return this},c.prototype.swap32=function(){var D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<D;O+=4)v(this,O,O+3),v(this,O+1,O+2);return this},c.prototype.swap64=function(){var D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<D;O+=8)v(this,O,O+7),v(this,O+1,O+6),v(this,O+2,O+5),v(this,O+3,O+4);return this},c.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?H(this,0,D):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(D){if(!c.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||c.compare(this,D)===0},c.prototype.inspect=function(){var D="",O=i.INSPECT_MAX_BYTES;return D=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(D+=" ... "),"<Buffer "+D+">"},c.prototype.compare=function(D,O,V,J,re){if(Q(D,Uint8Array)&&(D=c.from(D,D.offset,D.byteLength)),!c.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(O===void 0&&(O=0),V===void 0&&(V=D?D.length:0),J===void 0&&(J=0),re===void 0&&(re=this.length),O<0||V>D.length||J<0||re>this.length)throw new RangeError("out of range index");if(J>=re&&O>=V)return 0;if(J>=re)return-1;if(O>=V)return 1;if(this===D)return 0;for(var ne=(re>>>=0)-(J>>>=0),se=(V>>>=0)-(O>>>=0),ee=Math.min(ne,se),de=this.slice(J,re),ie=D.slice(O,V),he=0;he<ee;++he)if(de[he]!==ie[he]){ne=de[he],se=ie[he];break}return ne<se?-1:se<ne?1:0},c.prototype.includes=function(D,O,V){return this.indexOf(D,O,V)!==-1},c.prototype.indexOf=function(D,O,V){return y(this,D,O,V,!0)},c.prototype.lastIndexOf=function(D,O,V){return y(this,D,O,V,!1)},c.prototype.write=function(D,O,V,J){if(O===void 0)J="utf8",V=this.length,O=0;else if(V===void 0&&typeof O=="string")J=O,V=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O>>>=0,isFinite(V)?(V>>>=0,J===void 0&&(J="utf8")):(J=V,V=void 0)}var re=this.length-O;if((V===void 0||V>re)&&(V=re),D.length>0&&(V<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ne=!1;;)switch(J){case"hex":return w(this,D,O,V);case"utf8":case"utf-8":return _(this,D,O,V);case"ascii":return B(this,D,O,V);case"latin1":case"binary":return R(this,D,O,V);case"base64":return j(this,D,O,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,D,O,V);default:if(ne)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ne=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(D,O,V){var J="";V=Math.min(D.length,V);for(var re=O;re<V;++re)J+=String.fromCharCode(127&D[re]);return J}function T(D,O,V){var J="";V=Math.min(D.length,V);for(var re=O;re<V;++re)J+=String.fromCharCode(D[re]);return J}function P(D,O,V){var J=D.length;(!O||O<0)&&(O=0),(!V||V<0||V>J)&&(V=J);for(var re="",ne=O;ne<V;++ne)re+=M(D[ne]);return re}function N(D,O,V){for(var J=D.slice(O,V),re="",ne=0;ne<J.length;ne+=2)re+=String.fromCharCode(J[ne]+256*J[ne+1]);return re}function S(D,O,V){if(D%1!=0||D<0)throw new RangeError("offset is not uint");if(D+O>V)throw new RangeError("Trying to access beyond buffer length")}function C(D,O,V,J,re,ne){if(!c.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>re||O<ne)throw new RangeError('"value" argument is out of bounds');if(V+J>D.length)throw new RangeError("Index out of range")}function E(D,O,V,J,re,ne){if(V+J>D.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function x(D,O,V,J,re){return O=+O,V>>>=0,re||E(D,0,V,4),o.write(D,O,V,J,23,4),V+4}function F(D,O,V,J,re){return O=+O,V>>>=0,re||E(D,0,V,8),o.write(D,O,V,J,52,8),V+8}c.prototype.slice=function(D,O){var V=this.length;(D=~~D)<0?(D+=V)<0&&(D=0):D>V&&(D=V),(O=O===void 0?V:~~O)<0?(O+=V)<0&&(O=0):O>V&&(O=V),O<D&&(O=D);var J=this.subarray(D,O);return J.__proto__=c.prototype,J},c.prototype.readUIntLE=function(D,O,V){D>>>=0,O>>>=0,V||S(D,O,this.length);for(var J=this[D],re=1,ne=0;++ne<O&&(re*=256);)J+=this[D+ne]*re;return J},c.prototype.readUIntBE=function(D,O,V){D>>>=0,O>>>=0,V||S(D,O,this.length);for(var J=this[D+--O],re=1;O>0&&(re*=256);)J+=this[D+--O]*re;return J},c.prototype.readUInt8=function(D,O){return D>>>=0,O||S(D,1,this.length),this[D]},c.prototype.readUInt16LE=function(D,O){return D>>>=0,O||S(D,2,this.length),this[D]|this[D+1]<<8},c.prototype.readUInt16BE=function(D,O){return D>>>=0,O||S(D,2,this.length),this[D]<<8|this[D+1]},c.prototype.readUInt32LE=function(D,O){return D>>>=0,O||S(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},c.prototype.readUInt32BE=function(D,O){return D>>>=0,O||S(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},c.prototype.readIntLE=function(D,O,V){D>>>=0,O>>>=0,V||S(D,O,this.length);for(var J=this[D],re=1,ne=0;++ne<O&&(re*=256);)J+=this[D+ne]*re;return J>=(re*=128)&&(J-=Math.pow(2,8*O)),J},c.prototype.readIntBE=function(D,O,V){D>>>=0,O>>>=0,V||S(D,O,this.length);for(var J=O,re=1,ne=this[D+--J];J>0&&(re*=256);)ne+=this[D+--J]*re;return ne>=(re*=128)&&(ne-=Math.pow(2,8*O)),ne},c.prototype.readInt8=function(D,O){return D>>>=0,O||S(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},c.prototype.readInt16LE=function(D,O){D>>>=0,O||S(D,2,this.length);var V=this[D]|this[D+1]<<8;return 32768&V?4294901760|V:V},c.prototype.readInt16BE=function(D,O){D>>>=0,O||S(D,2,this.length);var V=this[D+1]|this[D]<<8;return 32768&V?4294901760|V:V},c.prototype.readInt32LE=function(D,O){return D>>>=0,O||S(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},c.prototype.readInt32BE=function(D,O){return D>>>=0,O||S(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},c.prototype.readFloatLE=function(D,O){return D>>>=0,O||S(D,4,this.length),o.read(this,D,!0,23,4)},c.prototype.readFloatBE=function(D,O){return D>>>=0,O||S(D,4,this.length),o.read(this,D,!1,23,4)},c.prototype.readDoubleLE=function(D,O){return D>>>=0,O||S(D,8,this.length),o.read(this,D,!0,52,8)},c.prototype.readDoubleBE=function(D,O){return D>>>=0,O||S(D,8,this.length),o.read(this,D,!1,52,8)},c.prototype.writeUIntLE=function(D,O,V,J){D=+D,O>>>=0,V>>>=0,J||C(this,D,O,V,Math.pow(2,8*V)-1,0);var re=1,ne=0;for(this[O]=255&D;++ne<V&&(re*=256);)this[O+ne]=D/re&255;return O+V},c.prototype.writeUIntBE=function(D,O,V,J){D=+D,O>>>=0,V>>>=0,J||C(this,D,O,V,Math.pow(2,8*V)-1,0);var re=V-1,ne=1;for(this[O+re]=255&D;--re>=0&&(ne*=256);)this[O+re]=D/ne&255;return O+V},c.prototype.writeUInt8=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,1,255,0),this[O]=255&D,O+1},c.prototype.writeUInt16LE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,2,65535,0),this[O]=255&D,this[O+1]=D>>>8,O+2},c.prototype.writeUInt16BE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,2,65535,0),this[O]=D>>>8,this[O+1]=255&D,O+2},c.prototype.writeUInt32LE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,4,4294967295,0),this[O+3]=D>>>24,this[O+2]=D>>>16,this[O+1]=D>>>8,this[O]=255&D,O+4},c.prototype.writeUInt32BE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,4,4294967295,0),this[O]=D>>>24,this[O+1]=D>>>16,this[O+2]=D>>>8,this[O+3]=255&D,O+4},c.prototype.writeIntLE=function(D,O,V,J){if(D=+D,O>>>=0,!J){var re=Math.pow(2,8*V-1);C(this,D,O,V,re-1,-re)}var ne=0,se=1,ee=0;for(this[O]=255&D;++ne<V&&(se*=256);)D<0&&ee===0&&this[O+ne-1]!==0&&(ee=1),this[O+ne]=(D/se>>0)-ee&255;return O+V},c.prototype.writeIntBE=function(D,O,V,J){if(D=+D,O>>>=0,!J){var re=Math.pow(2,8*V-1);C(this,D,O,V,re-1,-re)}var ne=V-1,se=1,ee=0;for(this[O+ne]=255&D;--ne>=0&&(se*=256);)D<0&&ee===0&&this[O+ne+1]!==0&&(ee=1),this[O+ne]=(D/se>>0)-ee&255;return O+V},c.prototype.writeInt8=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,1,127,-128),D<0&&(D=255+D+1),this[O]=255&D,O+1},c.prototype.writeInt16LE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,2,32767,-32768),this[O]=255&D,this[O+1]=D>>>8,O+2},c.prototype.writeInt16BE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,2,32767,-32768),this[O]=D>>>8,this[O+1]=255&D,O+2},c.prototype.writeInt32LE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,4,2147483647,-2147483648),this[O]=255&D,this[O+1]=D>>>8,this[O+2]=D>>>16,this[O+3]=D>>>24,O+4},c.prototype.writeInt32BE=function(D,O,V){return D=+D,O>>>=0,V||C(this,D,O,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[O]=D>>>24,this[O+1]=D>>>16,this[O+2]=D>>>8,this[O+3]=255&D,O+4},c.prototype.writeFloatLE=function(D,O,V){return x(this,D,O,!0,V)},c.prototype.writeFloatBE=function(D,O,V){return x(this,D,O,!1,V)},c.prototype.writeDoubleLE=function(D,O,V){return F(this,D,O,!0,V)},c.prototype.writeDoubleBE=function(D,O,V){return F(this,D,O,!1,V)},c.prototype.copy=function(D,O,V,J){if(!c.isBuffer(D))throw new TypeError("argument should be a Buffer");if(V||(V=0),J||J===0||(J=this.length),O>=D.length&&(O=D.length),O||(O=0),J>0&&J<V&&(J=V),J===V||D.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),D.length-O<J-V&&(J=D.length-O+V);var re=J-V;if(this===D&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(O,V,J);else if(this===D&&V<O&&O<J)for(var ne=re-1;ne>=0;--ne)D[ne+O]=this[ne+V];else Uint8Array.prototype.set.call(D,this.subarray(V,J),O);return re},c.prototype.fill=function(D,O,V,J){if(typeof D=="string"){if(typeof O=="string"?(J=O,O=0,V=this.length):typeof V=="string"&&(J=V,V=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!c.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(D.length===1){var re=D.charCodeAt(0);(J==="utf8"&&re<128||J==="latin1")&&(D=re)}}else typeof D=="number"&&(D&=255);if(O<0||this.length<O||this.length<V)throw new RangeError("Out of range index");if(V<=O)return this;var ne;if(O>>>=0,V=V===void 0?this.length:V>>>0,D||(D=0),typeof D=="number")for(ne=O;ne<V;++ne)this[ne]=D;else{var se=c.isBuffer(D)?D:c.from(D,J),ee=se.length;if(ee===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(ne=0;ne<V-O;++ne)this[ne+O]=se[ne%ee]}return this};var U=/[^+/0-9A-Za-z-_]/g;function M(D){return D<16?"0"+D.toString(16):D.toString(16)}function z(D,O){var V;O=O||1/0;for(var J=D.length,re=null,ne=[],se=0;se<J;++se){if((V=D.charCodeAt(se))>55295&&V<57344){if(!re){if(V>56319){(O-=3)>-1&&ne.push(239,191,189);continue}if(se+1===J){(O-=3)>-1&&ne.push(239,191,189);continue}re=V;continue}if(V<56320){(O-=3)>-1&&ne.push(239,191,189),re=V;continue}V=65536+(re-55296<<10|V-56320)}else re&&(O-=3)>-1&&ne.push(239,191,189);if(re=null,V<128){if((O-=1)<0)break;ne.push(V)}else if(V<2048){if((O-=2)<0)break;ne.push(V>>6|192,63&V|128)}else if(V<65536){if((O-=3)<0)break;ne.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((O-=4)<0)break;ne.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return ne}function G(D){return a.toByteArray(function(O){if((O=(O=O.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(D))}function Y(D,O,V,J){for(var re=0;re<J&&!(re+V>=O.length||re>=D.length);++re)O[re+V]=D[re];return re}function Q(D,O){return D instanceof O||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===O.name}function q(D){return D!=D}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("stream").Transform,o=t("string_decoder").StringDecoder;function l(c){a.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(l,a),l.prototype.update=function(c,u,d){typeof c=="string"&&(c=s.from(c,u));var h=this._update(c);return this.hashMode?this:(d&&(h=this._toString(h,d)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(c,u,d){var h;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(f){h=f}finally{d(h)}},l.prototype._flush=function(c){var u;try{this.push(this.__final())}catch(d){u=d}c(u)},l.prototype._finalOrDigest=function(c){var u=this.__final()||s.alloc(0);return c&&(u=this._toString(u,c,!0)),u},l.prototype._toString=function(c,u,d){if(this._decoder||(this._decoder=new o(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(c);return d&&(h+=this._decoder.end()),h},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,n,i){var s=t("../internals/is-callable"),a=t("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(s(l))return l;throw new o(a(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,n,i){var s=t("../internals/is-constructor"),a=t("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(s(l))return l;throw new o(a(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,n,i){var s=t("../internals/is-callable"),a=String,o=TypeError;n.exports=function(l){if(typeof l=="object"||s(l))return l;throw new o("Can't set "+a(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,n,i){var s=t("../internals/well-known-symbol"),a=t("../internals/object-create"),o=t("../internals/object-define-property").f,l=s("unscopables"),c=Array.prototype;c[l]===void 0&&o(c,l,{configurable:!0,value:a(null)}),n.exports=function(u){c[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,n,i){var s=t("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(o,l){if(s(l,o))return o;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,n,i){var s=t("../internals/is-object"),a=String,o=TypeError;n.exports=function(l){if(s(l))return l;throw new o(a(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,n,i){var s=t("../internals/to-indexed-object"),a=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),l=function(c){return function(u,d,h){var f,p=s(u),g=o(p),m=a(h,g);if(c&&d!=d){for(;g>m;)if((f=p[m++])!=f)return!0}else for(;g>m;m++)if((c||m in p)&&p[m]===d)return c||m||0;return!c&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,n,i){var s=t("../internals/function-bind-context"),a=t("../internals/function-uncurry-this"),o=t("../internals/indexed-object"),l=t("../internals/to-object"),c=t("../internals/length-of-array-like"),u=t("../internals/array-species-create"),d=a([].push),h=function(f){var p=f===1,g=f===2,m=f===3,v=f===4,y=f===6,b=f===7,w=f===5||y;return function(_,B,R,j){for(var k,L,H=l(_),I=o(H),T=s(B,R),P=c(I),N=0,S=j||u,C=p?S(_,P):g||b?S(_,0):void 0;P>N;N++)if((w||N in I)&&(L=T(k=I[N],N,H),f))if(p)C[N]=L;else if(L)switch(f){case 3:return!0;case 5:return k;case 6:return N;case 2:d(C,k)}else switch(f){case 4:return!1;case 7:d(C,k)}return y?-1:m||v?v:C}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,n,i){var s=t("../internals/to-absolute-index"),a=t("../internals/length-of-array-like"),o=t("../internals/create-property"),l=Array,c=Math.max;n.exports=function(u,d,h){for(var f=a(u),p=s(d,f),g=s(h===void 0?f:h,f),m=l(c(g-p,0)),v=0;p<g;p++,v++)o(m,v,u[p]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,n,i){var s=t("../internals/function-uncurry-this");n.exports=s([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,n,i){var s=t("../internals/is-array"),a=t("../internals/is-constructor"),o=t("../internals/is-object"),l=t("../internals/well-known-symbol")("species"),c=Array;n.exports=function(u){var d;return s(u)&&(d=u.constructor,(a(d)&&(d===c||s(d.prototype))||o(d)&&(d=d[l])===null)&&(d=void 0)),d===void 0?c:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,n,i){var s=t("../internals/array-species-constructor");n.exports=function(a,o){return new(s(a))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(t,n,i){var s=t("../internals/well-known-symbol")("iterator"),a=!1;try{var o=0,l={next:function(){return{done:!!o++}},return:function(){a=!0}};l[s]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(c,u){try{if(!u&&!a)return!1}catch{return!1}var d=!1;try{var h={};h[s]=function(){return{next:function(){return{done:d=!0}}}},c(h)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=s({}.toString),o=s("".slice);n.exports=function(l){return o(a(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,n,i){var s=t("../internals/to-string-tag-support"),a=t("../internals/is-callable"),o=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),c=Object,u=o(function(){return arguments}())==="Arguments";n.exports=s?o:function(d){var h,f,p;return d===void 0?"Undefined":d===null?"Null":typeof(f=function(g,m){try{return g[m]}catch{}}(h=c(d),l))=="string"?f:u?o(h):(p=o(h))==="Object"&&a(h.callee)?"Arguments":p}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,n,i){var s=t("../internals/has-own-property"),a=t("../internals/own-keys"),o=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-define-property");n.exports=function(c,u,d){for(var h=a(u),f=l.f,p=o.f,g=0;g<h.length;g++){var m=h[g];s(c,m)||d&&s(d,m)||f(c,m,p(u,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,n,i){var s=t("../internals/well-known-symbol")("match");n.exports=function(a){var o=/./;try{"/./"[a](o)}catch{try{return o[s]=!1,"/./"[a](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,n,i){var s=t("../internals/fails");n.exports=!s(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":260}],240:[function(t,n,i){n.exports=function(s,a){return{value:s,done:a}}},{}],241:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");n.exports=s?function(l,c,u){return a.f(l,c,o(1,u))}:function(l,c,u){return l[c]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,n,i){n.exports=function(s,a){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:a}}},{}],243:[function(t,n,i){var s=t("../internals/to-property-key"),a=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");n.exports=function(l,c,u){var d=s(c);d in l?a.f(l,d,o(0,u)):l[d]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,n,i){var s=t("../internals/make-built-in"),a=t("../internals/object-define-property");n.exports=function(o,l,c){return c.get&&s(c.get,l,{getter:!0}),c.set&&s(c.set,l,{setter:!0}),a.f(o,l,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,n,i){var s=t("../internals/is-callable"),a=t("../internals/object-define-property"),o=t("../internals/make-built-in"),l=t("../internals/define-global-property");n.exports=function(c,u,d,h){h||(h={});var f=h.enumerable,p=h.name!==void 0?h.name:u;if(s(d)&&o(d,p,h),h.global)f?c[u]=d:l(u,d);else{try{h.unsafe?c[u]&&(f=!0):delete c[u]}catch{}f?c[u]=d:a.f(c,u,{value:d,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,n,i){var s=t("../internals/global"),a=Object.defineProperty;n.exports=function(o,l){try{a(s,o,{value:l,configurable:!0,writable:!0})}catch{s[o]=l}return l}},{"../internals/global":274}],247:[function(t,n,i){var s=t("../internals/fails");n.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,n,i){var s=typeof document=="object"&&document.all,a=s===void 0&&s!==void 0;n.exports={all:s,IS_HTMLDDA:a}},{}],249:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/is-object"),o=s.document,l=a(o)&&a(o.createElement);n.exports=function(c){return l?o.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,n,i){var s=t("../internals/engine-is-deno"),a=t("../internals/engine-is-node");n.exports=!s&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,n,i){var s=t("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(s)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,n,i){var s=t("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},{"../internals/engine-user-agent":256}],254:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/classof-raw");n.exports=a(s.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,n,i){var s=t("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(s)},{"../internals/engine-user-agent":256}],256:[function(t,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,n,i){var s,a,o=t("../internals/global"),l=t("../internals/engine-user-agent"),c=o.process,u=o.Deno,d=c&&c.versions||u&&u.version,h=d&&d.v8;h&&(a=(s=h.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&l&&(!(s=l.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=l.match(/Chrome\/(\d+)/))&&(a=+s[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/create-non-enumerable-property"),l=t("../internals/define-built-in"),c=t("../internals/define-global-property"),u=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");n.exports=function(h,f){var p,g,m,v,y,b=h.target,w=h.global,_=h.stat;if(p=w?s:_?s[b]||c(b,{}):(s[b]||{}).prototype)for(g in f){if(v=f[g],m=h.dontCallGetSet?(y=a(p,g))&&y.value:p[g],!d(w?g:b+(_?".":"#")+g,h.forced)&&m!==void 0){if(typeof v==typeof m)continue;u(v,m)}(h.sham||m&&m.sham)&&o(v,"sham",!0),l(p,g,v,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,n,i){n.exports=function(s){try{return!!s()}catch{return!0}}},{}],261:[function(t,n,i){var s=t("../internals/function-bind-native"),a=Function.prototype,o=a.apply,l=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(s?l.bind(o):function(){return l.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,n,i){var s=t("../internals/function-uncurry-this-clause"),a=t("../internals/a-callable"),o=t("../internals/function-bind-native"),l=s(s.bind);n.exports=function(c,u){return a(c),u===void 0?c:o?l(c,u):function(){return c.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,n,i){var s=t("../internals/fails");n.exports=!s(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,n,i){var s=t("../internals/function-bind-native"),a=Function.prototype.call;n.exports=s?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/has-own-property"),o=Function.prototype,l=s&&Object.getOwnPropertyDescriptor,c=a(o,"name"),u=c&&function(){}.name==="something",d=c&&(!s||s&&l(o,"name").configurable);n.exports={EXISTS:c,PROPER:u,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/a-callable");n.exports=function(o,l,c){try{return s(a(Object.getOwnPropertyDescriptor(o,l)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,n,i){var s=t("../internals/classof-raw"),a=t("../internals/function-uncurry-this");n.exports=function(o){if(s(o)==="Function")return a(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,n,i){var s=t("../internals/function-bind-native"),a=Function.prototype,o=a.call,l=s&&a.bind.bind(o,o);n.exports=s?l:function(c){return function(){return o.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/is-callable"),o=function(l){return a(l)?l:void 0};n.exports=function(l,c){return arguments.length<2?o(s[l]):s[l]&&s[l][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,n,i){var s=t("../internals/classof"),a=t("../internals/get-method"),o=t("../internals/is-null-or-undefined"),l=t("../internals/iterators"),c=t("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!o(u))return a(u,c)||a(u,"@@iterator")||l[s(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,n,i){var s=t("../internals/function-call"),a=t("../internals/a-callable"),o=t("../internals/an-object"),l=t("../internals/try-to-string"),c=t("../internals/get-iterator-method"),u=TypeError;n.exports=function(d,h){var f=arguments.length<2?c(d):h;if(a(f))return o(s(f,d));throw new u(l(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/is-array"),o=t("../internals/is-callable"),l=t("../internals/classof-raw"),c=t("../internals/to-string"),u=s([].push);n.exports=function(d){if(o(d))return d;if(a(d)){for(var h=d.length,f=[],p=0;p<h;p++){var g=d[p];typeof g=="string"?u(f,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||u(f,c(g))}var m=f.length,v=!0;return function(y,b){if(v)return v=!1,b;if(a(this))return b;for(var w=0;w<m;w++)if(f[w]===y)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,n,i){var s=t("../internals/a-callable"),a=t("../internals/is-null-or-undefined");n.exports=function(o,l){var c=o[l];return a(c)?void 0:s(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,n,i){(function(s){(function(){var a=function(o){return o&&o.Math===Math&&o};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof s=="object"&&s)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/to-object"),o=s({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,c){return o(a(l),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,n,i){n.exports={}},{}],277:[function(t,n,i){n.exports=function(s,a){try{arguments.length===1?console.error(s):console.error(s,a)}catch{}}},{}],278:[function(t,n,i){var s=t("../internals/get-built-in");n.exports=s("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/fails"),o=t("../internals/document-create-element");n.exports=!s&&!a(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/fails"),o=t("../internals/classof-raw"),l=Object,c=s("".split);n.exports=a(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return o(u)==="String"?c(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/is-callable"),o=t("../internals/shared-store"),l=s(Function.toString);a(o.inspectSource)||(o.inspectSource=function(c){return l(c)}),n.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,n,i){var s,a,o,l=t("../internals/weak-map-basic-detection"),c=t("../internals/global"),u=t("../internals/is-object"),d=t("../internals/create-non-enumerable-property"),h=t("../internals/has-own-property"),f=t("../internals/shared-store"),p=t("../internals/shared-key"),g=t("../internals/hidden-keys"),m=c.TypeError,v=c.WeakMap;if(l||f.state){var y=f.state||(f.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,s=function(w,_){if(y.has(w))throw new m("Object already initialized");return _.facade=w,y.set(w,_),_},a=function(w){return y.get(w)||{}},o=function(w){return y.has(w)}}else{var b=p("state");g[b]=!0,s=function(w,_){if(h(w,b))throw new m("Object already initialized");return _.facade=w,d(w,b,_),_},a=function(w){return h(w,b)?w[b]:{}},o=function(w){return h(w,b)}}n.exports={set:s,get:a,has:o,enforce:function(w){return o(w)?a(w):s(w,{})},getterFor:function(w){return function(_){var B;if(!u(_)||(B=a(_)).type!==w)throw new m("Incompatible receiver, "+w+" required");return B}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,n,i){var s=t("../internals/well-known-symbol"),a=t("../internals/iterators"),o=s("iterator"),l=Array.prototype;n.exports=function(c){return c!==void 0&&(a.Array===c||l[o]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,n,i){var s=t("../internals/classof-raw");n.exports=Array.isArray||function(a){return s(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,n,i){var s=t("../internals/document-all"),a=s.all;n.exports=s.IS_HTMLDDA?function(o){return typeof o=="function"||o===a}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/fails"),o=t("../internals/is-callable"),l=t("../internals/classof"),c=t("../internals/get-built-in"),u=t("../internals/inspect-source"),d=function(){},h=[],f=c("Reflect","construct"),p=/^\s*(?:class|function)\b/,g=s(p.exec),m=!p.test(d),v=function(b){if(!o(b))return!1;try{return f(d,h,b),!0}catch{return!1}},y=function(b){if(!o(b))return!1;switch(l(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!g(p,u(b))}catch{return!0}};y.sham=!0,n.exports=!f||a(function(){var b;return v(v.call)||!v(Object)||!v(function(){b=!0})||b})?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,n,i){var s=t("../internals/fails"),a=t("../internals/is-callable"),o=/#|\.prototype\./,l=function(f,p){var g=u[c(f)];return g===h||g!==d&&(a(p)?s(p):!!p)},c=l.normalize=function(f){return String(f).replace(o,".").toLowerCase()},u=l.data={},d=l.NATIVE="N",h=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,n,i){n.exports=function(s){return s==null}},{}],289:[function(t,n,i){var s=t("../internals/is-callable"),a=t("../internals/document-all"),o=a.all;n.exports=a.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:s(l)||l===o}:function(l){return typeof l=="object"?l!==null:s(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,n,i){n.exports=!1},{}],291:[function(t,n,i){var s=t("../internals/is-object"),a=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");n.exports=function(l){var c;return s(l)&&((c=l[o])!==void 0?!!c:a(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,n,i){var s=t("../internals/get-built-in"),a=t("../internals/is-callable"),o=t("../internals/object-is-prototype-of"),l=t("../internals/use-symbol-as-uid"),c=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var d=s("Symbol");return a(d)&&o(d.prototype,c(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,n,i){var s=t("../internals/function-bind-context"),a=t("../internals/function-call"),o=t("../internals/an-object"),l=t("../internals/try-to-string"),c=t("../internals/is-array-iterator-method"),u=t("../internals/length-of-array-like"),d=t("../internals/object-is-prototype-of"),h=t("../internals/get-iterator"),f=t("../internals/get-iterator-method"),p=t("../internals/iterator-close"),g=TypeError,m=function(y,b){this.stopped=y,this.result=b},v=m.prototype;n.exports=function(y,b,w){var _,B,R,j,k,L,H,I=w&&w.that,T=!(!w||!w.AS_ENTRIES),P=!(!w||!w.IS_RECORD),N=!(!w||!w.IS_ITERATOR),S=!(!w||!w.INTERRUPTED),C=s(b,I),E=function(F){return _&&p(_,"normal",F),new m(!0,F)},x=function(F){return T?(o(F),S?C(F[0],F[1],E):C(F[0],F[1])):S?C(F,E):C(F)};if(P)_=y.iterator;else if(N)_=y;else{if(!(B=f(y)))throw new g(l(y)+" is not iterable");if(c(B)){for(R=0,j=u(y);j>R;R++)if((k=x(y[R]))&&d(v,k))return k;return new m(!1)}_=h(y,B)}for(L=P?y.next:_.next;!(H=a(L,_)).done;){try{k=x(H.value)}catch(F){p(_,"throw",F)}if(typeof k=="object"&&k&&d(v,k))return k}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,n,i){var s=t("../internals/function-call"),a=t("../internals/an-object"),o=t("../internals/get-method");n.exports=function(l,c,u){var d,h;a(l);try{if(!(d=o(l,"return"))){if(c==="throw")throw u;return u}d=s(d,l)}catch(f){h=!0,d=f}if(c==="throw")throw u;if(h)throw d;return a(d),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,n,i){var s=t("../internals/iterators-core").IteratorPrototype,a=t("../internals/object-create"),o=t("../internals/create-property-descriptor"),l=t("../internals/set-to-string-tag"),c=t("../internals/iterators"),u=function(){return this};n.exports=function(d,h,f,p){var g=h+" Iterator";return d.prototype=a(s,{next:o(+!p,f)}),l(d,g,!1,!0),c[g]=u,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/is-pure"),l=t("../internals/function-name"),c=t("../internals/is-callable"),u=t("../internals/iterator-create-constructor"),d=t("../internals/object-get-prototype-of"),h=t("../internals/object-set-prototype-of"),f=t("../internals/set-to-string-tag"),p=t("../internals/create-non-enumerable-property"),g=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),v=t("../internals/iterators"),y=t("../internals/iterators-core"),b=l.PROPER,w=l.CONFIGURABLE,_=y.IteratorPrototype,B=y.BUGGY_SAFARI_ITERATORS,R=m("iterator"),j=function(){return this};n.exports=function(k,L,H,I,T,P,N){u(H,L,I);var S,C,E,x=function(Q){if(Q===T&&G)return G;if(!B&&Q&&Q in M)return M[Q];switch(Q){case"keys":case"values":case"entries":return function(){return new H(this,Q)}}return function(){return new H(this)}},F=L+" Iterator",U=!1,M=k.prototype,z=M[R]||M["@@iterator"]||T&&M[T],G=!B&&z||x(T),Y=L==="Array"&&M.entries||z;if(Y&&(S=d(Y.call(new k)))!==Object.prototype&&S.next&&(o||d(S)===_||(h?h(S,_):c(S[R])||g(S,R,j)),f(S,F,!0,!0),o&&(v[F]=j)),b&&T==="values"&&z&&z.name!=="values"&&(!o&&w?p(M,"name","values"):(U=!0,G=function(){return a(z,this)})),T)if(C={values:x("values"),keys:P?G:x("keys"),entries:x("entries")},N)for(E in C)(B||U||!(E in M))&&g(M,E,C[E]);else s({target:L,proto:!0,forced:B||U},C);return o&&!N||M[R]===G||g(M,R,G,{name:T}),v[L]=G,C}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,n,i){var s,a,o,l=t("../internals/fails"),c=t("../internals/is-callable"),u=t("../internals/is-object"),d=t("../internals/object-create"),h=t("../internals/object-get-prototype-of"),f=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),g=t("../internals/is-pure"),m=p("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(a=h(h(o)))!==Object.prototype&&(s=a):v=!0),!u(s)||l(function(){var y={};return s[m].call(y)!==y})?s={}:g&&(s=d(s)),c(s[m])||f(s,m,function(){return this}),n.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(t,n,i){var s=t("../internals/to-length");n.exports=function(a){return s(a.length)}},{"../internals/to-length":343}],300:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/fails"),o=t("../internals/is-callable"),l=t("../internals/has-own-property"),c=t("../internals/descriptors"),u=t("../internals/function-name").CONFIGURABLE,d=t("../internals/inspect-source"),h=t("../internals/internal-state"),f=h.enforce,p=h.get,g=String,m=Object.defineProperty,v=s("".slice),y=s("".replace),b=s([].join),w=c&&!a(function(){return m(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),B=n.exports=function(R,j,k){v(g(j),0,7)==="Symbol("&&(j="["+y(g(j),/^Symbol\(([^)]*)\)/,"$1")+"]"),k&&k.getter&&(j="get "+j),k&&k.setter&&(j="set "+j),(!l(R,"name")||u&&R.name!==j)&&(c?m(R,"name",{value:j,configurable:!0}):R.name=j),w&&k&&l(k,"arity")&&R.length!==k.arity&&m(R,"length",{value:k.arity});try{k&&l(k,"constructor")&&k.constructor?c&&m(R,"prototype",{writable:!1}):R.prototype&&(R.prototype=void 0)}catch{}var L=f(R);return l(L,"source")||(L.source=b(_,typeof j=="string"?j:"")),R};Function.prototype.toString=B(function(){return o(this)&&p(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,n,i){var s=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(o){var l=+o;return(l>0?a:s)(l)}},{}],302:[function(t,n,i){var s,a,o,l,c,u=t("../internals/global"),d=t("../internals/function-bind-context"),h=t("../internals/object-get-own-property-descriptor").f,f=t("../internals/task").set,p=t("../internals/queue"),g=t("../internals/engine-is-ios"),m=t("../internals/engine-is-ios-pebble"),v=t("../internals/engine-is-webos-webkit"),y=t("../internals/engine-is-node"),b=u.MutationObserver||u.WebKitMutationObserver,w=u.document,_=u.process,B=u.Promise,R=h(u,"queueMicrotask"),j=R&&R.value;if(!j){var k=new p,L=function(){var H,I;for(y&&(H=_.domain)&&H.exit();I=k.get();)try{I()}catch(T){throw k.head&&s(),T}H&&H.enter()};g||y||v||!b||!w?!m&&B&&B.resolve?((l=B.resolve(void 0)).constructor=B,c=d(l.then,l),s=function(){c(L)}):y?s=function(){_.nextTick(L)}:(f=d(f,u),s=function(){f(L)}):(a=!0,o=w.createTextNode(""),new b(L).observe(o,{characterData:!0}),s=function(){o.data=a=!a}),j=function(H){k.head||s(),k.add(H)}}n.exports=j},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,n,i){var s=t("../internals/a-callable"),a=TypeError,o=function(l){var c,u;this.promise=new l(function(d,h){if(c!==void 0||u!==void 0)throw new a("Bad Promise constructor");c=d,u=h}),this.resolve=s(c),this.reject=s(u)};n.exports.f=function(l){return new o(l)}},{"../internals/a-callable":222}],304:[function(t,n,i){var s=t("../internals/is-regexp"),a=TypeError;n.exports=function(o){if(s(o))throw new a("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/function-uncurry-this"),o=t("../internals/function-call"),l=t("../internals/fails"),c=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),d=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),f=t("../internals/indexed-object"),p=Object.assign,g=Object.defineProperty,m=a([].concat);n.exports=!p||l(function(){if(s&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},b=Symbol("assign detection");return v[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(w){y[w]=w}),p({},v)[b]!==7||c(p({},y)).join("")!=="abcdefghijklmnopqrst"})?function(v,y){for(var b=h(v),w=arguments.length,_=1,B=u.f,R=d.f;w>_;)for(var j,k=f(arguments[_++]),L=B?m(c(k),B(k)):c(k),H=L.length,I=0;H>I;)j=L[I++],s&&!o(R,k,j)||(b[j]=k[j]);return b}:p},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,n,i){var s,a=t("../internals/an-object"),o=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),c=t("../internals/hidden-keys"),u=t("../internals/html"),d=t("../internals/document-create-element"),h=t("../internals/shared-key"),f=h("IE_PROTO"),p=function(){},g=function(y){return"<script>"+y+"<\/script>"},m=function(y){y.write(g("")),y.close();var b=y.parentWindow.Object;return y=null,b},v=function(){try{s=new ActiveXObject("htmlfile")}catch{}var y,b;v=typeof document<"u"?document.domain&&s?m(s):((b=d("iframe")).style.display="none",u.appendChild(b),b.src="javascript:",(y=b.contentWindow.document).open(),y.write(g("document.F=Object")),y.close(),y.F):m(s);for(var w=l.length;w--;)delete v.prototype[l[w]];return v()};c[f]=!0,n.exports=Object.create||function(y,b){var w;return y!==null?(p.prototype=a(y),w=new p,p.prototype=null,w[f]=y):w=v(),b===void 0?w:o.f(w,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/v8-prototype-define-bug"),o=t("../internals/object-define-property"),l=t("../internals/an-object"),c=t("../internals/to-indexed-object"),u=t("../internals/object-keys");i.f=s&&!a?Object.defineProperties:function(d,h){l(d);for(var f,p=c(h),g=u(h),m=g.length,v=0;m>v;)o.f(d,f=g[v++],p[f]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/ie8-dom-define"),o=t("../internals/v8-prototype-define-bug"),l=t("../internals/an-object"),c=t("../internals/to-property-key"),u=TypeError,d=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=s?o?function(f,p,g){if(l(f),p=c(p),l(g),typeof f=="function"&&p==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var m=h(f,p);m&&m.writable&&(f[p]=g.value,g={configurable:"configurable"in g?g.configurable:m.configurable,enumerable:"enumerable"in g?g.enumerable:m.enumerable,writable:!1})}return d(f,p,g)}:d:function(f,p,g){if(l(f),p=c(p),l(g),a)try{return d(f,p,g)}catch{}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(f[p]=g.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/function-call"),o=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),u=t("../internals/to-property-key"),d=t("../internals/has-own-property"),h=t("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;i.f=s?f:function(p,g){if(p=c(p),g=u(g),h)try{return f(p,g)}catch{}if(d(p,g))return l(!a(o.f,p,g),p[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,n,i){var s=t("../internals/classof-raw"),a=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,l=t("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&s(u)==="Window"?function(d){try{return o(d)}catch{return l(c)}}(u):o(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,n,i){var s=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(o){return s(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(t,n,i){var s=t("../internals/has-own-property"),a=t("../internals/is-callable"),o=t("../internals/to-object"),l=t("../internals/shared-key"),c=t("../internals/correct-prototype-getter"),u=l("IE_PROTO"),d=Object,h=d.prototype;n.exports=c?d.getPrototypeOf:function(f){var p=o(f);if(s(p,u))return p[u];var g=p.constructor;return a(g)&&p instanceof g?g.prototype:p instanceof d?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,n,i){var s=t("../internals/function-uncurry-this");n.exports=s({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=t("../internals/has-own-property"),o=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys"),u=s([].push);n.exports=function(d,h){var f,p=o(d),g=0,m=[];for(f in p)!a(c,f)&&a(p,f)&&u(m,f);for(;h.length>g;)a(p,f=h[g++])&&(~l(m,f)||u(m,f));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,n,i){var s=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys");n.exports=Object.keys||function(o){return s(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,n,i){var s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!s.call({1:2},1);i.f=o?function(l){var c=a(this,l);return!!c&&c.enumerable}:s},{}],318:[function(t,n,i){var s=t("../internals/function-uncurry-this-accessor"),a=t("../internals/an-object"),o=t("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,c=!1,u={};try{(l=s(Object.prototype,"__proto__","set"))(u,[]),c=u instanceof Array}catch{}return function(d,h){return a(d),o(h),c?l(d,h):d.__proto__=h,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/fails"),o=t("../internals/function-uncurry-this"),l=t("../internals/object-get-prototype-of"),c=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),d=o(t("../internals/object-property-is-enumerable").f),h=o([].push),f=s&&a(function(){var g=Object.create(null);return g[2]=2,!d(g,2)}),p=function(g){return function(m){for(var v,y=u(m),b=c(y),w=f&&l(y)===null,_=b.length,B=0,R=[];_>B;)v=b[B++],s&&!(w?v in y:d(y,v))||h(R,g?[v,y[v]]:y[v]);return R}};n.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,n,i){var s=t("../internals/function-call"),a=t("../internals/is-callable"),o=t("../internals/is-object"),l=TypeError;n.exports=function(c,u){var d,h;if(u==="string"&&a(d=c.toString)&&!o(h=s(d,c))||a(d=c.valueOf)&&!o(h=s(d,c))||u!=="string"&&a(d=c.toString)&&!o(h=s(d,c)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,n,i){var s=t("../internals/get-built-in"),a=t("../internals/function-uncurry-this"),o=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object"),u=a([].concat);n.exports=s("Reflect","ownKeys")||function(d){var h=o.f(c(d)),f=l.f;return f?u(h,f(d)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,n,i){var s=t("../internals/global");n.exports=s},{"../internals/global":274}],323:[function(t,n,i){n.exports=function(s){try{return{error:!1,value:s()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/promise-native-constructor"),o=t("../internals/is-callable"),l=t("../internals/is-forced"),c=t("../internals/inspect-source"),u=t("../internals/well-known-symbol"),d=t("../internals/engine-is-browser"),h=t("../internals/engine-is-deno"),f=t("../internals/is-pure"),p=t("../internals/engine-v8-version"),g=a&&a.prototype,m=u("species"),v=!1,y=o(s.PromiseRejectionEvent),b=l("Promise",function(){var w=c(a),_=w!==String(a);if(!_&&p===66||f&&(!g.catch||!g.finally))return!0;if(!p||p<51||!/native code/.test(w)){var B=new a(function(j){j(1)}),R=function(j){j(function(){},function(){})};if((B.constructor={})[m]=R,!(v=B.then(function(){})instanceof R))return!0}return!_&&(d||h)&&!y});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,n,i){var s=t("../internals/global");n.exports=s.Promise},{"../internals/global":274}],326:[function(t,n,i){var s=t("../internals/an-object"),a=t("../internals/is-object"),o=t("../internals/new-promise-capability");n.exports=function(l,c){if(s(l),a(c)&&c.constructor===l)return c;var u=o.f(l);return(0,u.resolve)(c),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,n,i){var s=t("../internals/promise-native-constructor"),a=t("../internals/check-correctness-of-iteration"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=o||!a(function(l){s.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,n,i){var s=function(){this.head=null,this.tail=null};s.prototype={add:function(a){var o={item:a,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=s},{}],329:[function(t,n,i){var s=t("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(o){if(s(o))throw new a("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(t,n,i){var s=t("../internals/get-built-in"),a=t("../internals/define-built-in-accessor"),o=t("../internals/well-known-symbol"),l=t("../internals/descriptors"),c=o("species");n.exports=function(u){var d=s(u);l&&d&&!d[c]&&a(d,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,n,i){var s=t("../internals/object-define-property").f,a=t("../internals/has-own-property"),o=t("../internals/well-known-symbol")("toStringTag");n.exports=function(l,c,u){l&&!u&&(l=l.prototype),l&&!a(l,o)&&s(l,o,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,n,i){var s=t("../internals/shared"),a=t("../internals/uid"),o=s("keys");n.exports=function(l){return o[l]||(o[l]=a(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/define-global-property"),o=s["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,n,i){var s=t("../internals/is-pure"),a=t("../internals/shared-store");(n.exports=function(o,l){return a[o]||(a[o]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:s?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,n,i){var s=t("../internals/an-object"),a=t("../internals/a-constructor"),o=t("../internals/is-null-or-undefined"),l=t("../internals/well-known-symbol")("species");n.exports=function(c,u){var d,h=s(c).constructor;return h===void 0||o(d=s(h)[l])?u:a(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,n,i){var s=t("../internals/engine-v8-version"),a=t("../internals/fails"),o=t("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a(function(){var l=Symbol("symbol detection");return!o(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&s&&s<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,n,i){var s=t("../internals/function-call"),a=t("../internals/get-built-in"),o=t("../internals/well-known-symbol"),l=t("../internals/define-built-in");n.exports=function(){var c=a("Symbol"),u=c&&c.prototype,d=u&&u.valueOf,h=o("toPrimitive");u&&!u[h]&&l(u,h,function(f){return s(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,n,i){var s=t("../internals/symbol-constructor-detection");n.exports=s&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,n,i){var s,a,o,l,c=t("../internals/global"),u=t("../internals/function-apply"),d=t("../internals/function-bind-context"),h=t("../internals/is-callable"),f=t("../internals/has-own-property"),p=t("../internals/fails"),g=t("../internals/html"),m=t("../internals/array-slice"),v=t("../internals/document-create-element"),y=t("../internals/validate-arguments-length"),b=t("../internals/engine-is-ios"),w=t("../internals/engine-is-node"),_=c.setImmediate,B=c.clearImmediate,R=c.process,j=c.Dispatch,k=c.Function,L=c.MessageChannel,H=c.String,I=0,T={};p(function(){s=c.location});var P=function(E){if(f(T,E)){var x=T[E];delete T[E],x()}},N=function(E){return function(){P(E)}},S=function(E){P(E.data)},C=function(E){c.postMessage(H(E),s.protocol+"//"+s.host)};_&&B||(_=function(E){y(arguments.length,1);var x=h(E)?E:k(E),F=m(arguments,1);return T[++I]=function(){u(x,void 0,F)},a(I),I},B=function(E){delete T[E]},w?a=function(E){R.nextTick(N(E))}:j&&j.now?a=function(E){j.now(N(E))}:L&&!b?(l=(o=new L).port2,o.port1.onmessage=S,a=d(l.postMessage,l)):c.addEventListener&&h(c.postMessage)&&!c.importScripts&&s&&s.protocol!=="file:"&&!p(C)?(a=C,c.addEventListener("message",S,!1)):a="onreadystatechange"in v("script")?function(E){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),P(E)}}:function(E){setTimeout(N(E),0)}),n.exports={set:_,clear:B}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,n,i){var s=t("../internals/to-integer-or-infinity"),a=Math.max,o=Math.min;n.exports=function(l,c){var u=s(l);return u<0?a(u+c,0):o(u,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,n,i){var s=t("../internals/indexed-object"),a=t("../internals/require-object-coercible");n.exports=function(o){return s(a(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,n,i){var s=t("../internals/math-trunc");n.exports=function(a){var o=+a;return o!=o||o===0?0:s(o)}},{"../internals/math-trunc":301}],343:[function(t,n,i){var s=t("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(o){return o>0?a(s(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,n,i){var s=t("../internals/require-object-coercible"),a=Object;n.exports=function(o){return a(s(o))}},{"../internals/require-object-coercible":329}],345:[function(t,n,i){var s=t("../internals/function-call"),a=t("../internals/is-object"),o=t("../internals/is-symbol"),l=t("../internals/get-method"),c=t("../internals/ordinary-to-primitive"),u=t("../internals/well-known-symbol"),d=TypeError,h=u("toPrimitive");n.exports=function(f,p){if(!a(f)||o(f))return f;var g,m=l(f,h);if(m){if(p===void 0&&(p="default"),g=s(m,f,p),!a(g)||o(g))return g;throw new d("Can't convert object to primitive value")}return p===void 0&&(p="number"),c(f,p)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,n,i){var s=t("../internals/to-primitive"),a=t("../internals/is-symbol");n.exports=function(o){var l=s(o,"string");return a(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,n,i){var s={};s[t("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,n,i){var s=t("../internals/classof"),a=String;n.exports=function(o){if(s(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(o)}},{"../internals/classof":236}],349:[function(t,n,i){var s=String;n.exports=function(a){try{return s(a)}catch{return"Object"}}},{}],350:[function(t,n,i){var s=t("../internals/function-uncurry-this"),a=0,o=Math.random(),l=s(1 .toString);n.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++a+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,n,i){var s=t("../internals/symbol-constructor-detection");n.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,n,i){var s=t("../internals/descriptors"),a=t("../internals/fails");n.exports=s&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,n,i){var s=TypeError;n.exports=function(a,o){if(a<o)throw new s("Not enough arguments");return a}},{}],354:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/is-callable"),o=s.WeakMap;n.exports=a(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,n,i){var s=t("../internals/path"),a=t("../internals/has-own-property"),o=t("../internals/well-known-symbol-wrapped"),l=t("../internals/object-define-property").f;n.exports=function(c){var u=s.Symbol||(s.Symbol={});a(u,c)||l(u,c,{value:o.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,n,i){var s=t("../internals/well-known-symbol");i.f=s},{"../internals/well-known-symbol":357}],357:[function(t,n,i){var s=t("../internals/global"),a=t("../internals/shared"),o=t("../internals/has-own-property"),l=t("../internals/uid"),c=t("../internals/symbol-constructor-detection"),u=t("../internals/use-symbol-as-uid"),d=s.Symbol,h=a("wks"),f=u?d.for||d:d&&d.withoutSetter||l;n.exports=function(p){return o(h,p)||(h[p]=c&&o(d,p)?d[p]:f("Symbol."+p)),h[p]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/array-iteration").findIndex,o=t("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{findIndex:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/array-iteration").find,o=t("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),s({target:"Array",proto:!0,forced:l},{find:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/array-includes").includes,o=t("../internals/fails"),l=t("../internals/add-to-unscopables");s({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,n,i){var s=t("../internals/to-indexed-object"),a=t("../internals/add-to-unscopables"),o=t("../internals/iterators"),l=t("../internals/internal-state"),c=t("../internals/object-define-property").f,u=t("../internals/iterator-define"),d=t("../internals/create-iter-result-object"),h=t("../internals/is-pure"),f=t("../internals/descriptors"),p=l.set,g=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(v,y){p(this,{type:"Array Iterator",target:s(v),index:0,kind:y})},function(){var v=g(this),y=v.target,b=v.kind,w=v.index++;if(!y||w>=y.length)return v.target=void 0,d(void 0,!0);switch(b){case"keys":return d(w,!1);case"values":return d(y[w],!1)}return d([w,y[w]],!1)},"values");var m=o.Arguments=o.Array;if(a("keys"),a("values"),a("entries"),!h&&f&&m.name!=="values")try{c(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/get-built-in"),o=t("../internals/function-apply"),l=t("../internals/function-call"),c=t("../internals/function-uncurry-this"),u=t("../internals/fails"),d=t("../internals/is-callable"),h=t("../internals/is-symbol"),f=t("../internals/array-slice"),p=t("../internals/get-json-replacer-function"),g=t("../internals/symbol-constructor-detection"),m=String,v=a("JSON","stringify"),y=c(/./.exec),b=c("".charAt),w=c("".charCodeAt),_=c("".replace),B=c(1 .toString),R=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,L=!g||u(function(){var P=a("Symbol")("stringify detection");return v([P])!=="[null]"||v({a:P})!=="{}"||v(Object(P))!=="{}"}),H=u(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),I=function(P,N){var S=f(arguments),C=p(N);if(d(C)||P!==void 0&&!h(P))return S[1]=function(E,x){if(d(C)&&(x=l(C,this,m(E),x)),!h(x))return x},o(v,null,S)},T=function(P,N,S){var C=b(S,N-1),E=b(S,N+1);return y(j,P)&&!y(k,E)||y(k,P)&&!y(j,C)?"\\u"+B(w(P,0),16):P};v&&s({target:"JSON",stat:!0,arity:3,forced:L||H},{stringify:function(P,N,S){var C=f(arguments),E=o(L?I:v,null,C);return H&&typeof E=="string"?_(E,R,T):E}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,n,i){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(s){return s!=s}})},{"../internals/export":259}],364:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/object-assign");s({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/symbol-constructor-detection"),o=t("../internals/fails"),l=t("../internals/object-get-own-property-symbols"),c=t("../internals/to-object");s({target:"Object",stat:!0,forced:!a||o(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var d=l.f;return d?d(c(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/to-object"),o=t("../internals/object-keys");s({target:"Object",stat:!0,forced:t("../internals/fails")(function(){o(1)})},{keys:function(l){return o(a(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/object-to-array").values;s({target:"Object",stat:!0},{values:function(o){return a(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),c=t("../internals/perform"),u=t("../internals/iterate");s({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(d){var h=this,f=l.f(h),p=f.resolve,g=f.reject,m=c(function(){var v=o(h.resolve),y=[],b=0,w=1;u(d,function(_){var B=b++,R=!1;w++,a(v,h,_).then(function(j){R||(R=!0,y[B]=j,--w||p(y))},g)}),--w||p(y)});return m.error&&g(m.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/is-pure"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-native-constructor"),c=t("../internals/get-built-in"),u=t("../internals/is-callable"),d=t("../internals/define-built-in"),h=l&&l.prototype;if(s({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(p){return this.then(void 0,p)}}),!a&&u(l)){var f=c("Promise").prototype.catch;h.catch!==f&&d(h,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,n,i){var s,a,o,l=t("../internals/export"),c=t("../internals/is-pure"),u=t("../internals/engine-is-node"),d=t("../internals/global"),h=t("../internals/function-call"),f=t("../internals/define-built-in"),p=t("../internals/object-set-prototype-of"),g=t("../internals/set-to-string-tag"),m=t("../internals/set-species"),v=t("../internals/a-callable"),y=t("../internals/is-callable"),b=t("../internals/is-object"),w=t("../internals/an-instance"),_=t("../internals/species-constructor"),B=t("../internals/task").set,R=t("../internals/microtask"),j=t("../internals/host-report-errors"),k=t("../internals/perform"),L=t("../internals/queue"),H=t("../internals/internal-state"),I=t("../internals/promise-native-constructor"),T=t("../internals/promise-constructor-detection"),P=t("../internals/new-promise-capability"),N=T.CONSTRUCTOR,S=T.REJECTION_EVENT,C=T.SUBCLASSING,E=H.getterFor("Promise"),x=H.set,F=I&&I.prototype,U=I,M=F,z=d.TypeError,G=d.document,Y=d.process,Q=P.f,q=Q,D=!!(G&&G.createEvent&&d.dispatchEvent),O=function(le){var be;return!(!b(le)||!y(be=le.then))&&be},V=function(le,be){var ye,xe,Ee,Be=be.value,Pe=be.state===1,Ue=Pe?le.ok:le.fail,He=le.resolve,$e=le.reject,Ke=le.domain;try{Ue?(Pe||(be.rejection===2&&ee(be),be.rejection=1),Ue===!0?ye=Be:(Ke&&Ke.enter(),ye=Ue(Be),Ke&&(Ke.exit(),Ee=!0)),ye===le.promise?$e(new z("Promise-chain cycle")):(xe=O(ye))?h(xe,ye,He,$e):He(ye)):$e(Be)}catch(st){Ke&&!Ee&&Ke.exit(),$e(st)}},J=function(le,be){le.notified||(le.notified=!0,R(function(){for(var ye,xe=le.reactions;ye=xe.get();)V(ye,le);le.notified=!1,be&&!le.rejection&&ne(le)}))},re=function(le,be,ye){var xe,Ee;D?((xe=G.createEvent("Event")).promise=be,xe.reason=ye,xe.initEvent(le,!1,!0),d.dispatchEvent(xe)):xe={promise:be,reason:ye},!S&&(Ee=d["on"+le])?Ee(xe):le==="unhandledrejection"&&j("Unhandled promise rejection",ye)},ne=function(le){h(B,d,function(){var be,ye=le.facade,xe=le.value;if(se(le)&&(be=k(function(){u?Y.emit("unhandledRejection",xe,ye):re("unhandledrejection",ye,xe)}),le.rejection=u||se(le)?2:1,be.error))throw be.value})},se=function(le){return le.rejection!==1&&!le.parent},ee=function(le){h(B,d,function(){var be=le.facade;u?Y.emit("rejectionHandled",be):re("rejectionhandled",be,le.value)})},de=function(le,be,ye){return function(xe){le(be,xe,ye)}},ie=function(le,be,ye){le.done||(le.done=!0,ye&&(le=ye),le.value=be,le.state=2,J(le,!0))},he=function(le,be,ye){if(!le.done){le.done=!0,ye&&(le=ye);try{if(le.facade===be)throw new z("Promise can't be resolved itself");var xe=O(be);xe?R(function(){var Ee={done:!1};try{h(xe,be,de(he,Ee,le),de(ie,Ee,le))}catch(Be){ie(Ee,Be,le)}}):(le.value=be,le.state=1,J(le,!1))}catch(Ee){ie({done:!1},Ee,le)}}};if(N&&(M=(U=function(le){w(this,M),v(le),h(s,this);var be=E(this);try{le(de(he,be),de(ie,be))}catch(ye){ie(be,ye)}}).prototype,(s=function(le){x(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new L,rejection:!1,state:0,value:void 0})}).prototype=f(M,"then",function(le,be){var ye=E(this),xe=Q(_(this,U));return ye.parent=!0,xe.ok=!y(le)||le,xe.fail=y(be)&&be,xe.domain=u?Y.domain:void 0,ye.state===0?ye.reactions.add(xe):R(function(){V(xe,ye)}),xe.promise}),a=function(){var le=new s,be=E(le);this.promise=le,this.resolve=de(he,be),this.reject=de(ie,be)},P.f=Q=function(le){return le===U||le===void 0?new a(le):q(le)},!c&&y(I)&&F!==Object.prototype)){o=F.then,C||f(F,"then",function(le,be){var ye=this;return new U(function(xe,Ee){h(o,ye,xe,Ee)}).then(le,be)},{unsafe:!0});try{delete F.constructor}catch{}p&&p(F,M)}l({global:!0,constructor:!0,wrap:!0,forced:N},{Promise:U}),g(U,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),l=t("../internals/fails"),c=t("../internals/get-built-in"),u=t("../internals/is-callable"),d=t("../internals/species-constructor"),h=t("../internals/promise-resolve"),f=t("../internals/define-built-in"),p=o&&o.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!o&&l(function(){p.finally.call({then:function(){}},function(){})})},{finally:function(m){var v=d(this,c("Promise")),y=u(m);return this.then(y?function(b){return h(v,m()).then(function(){return b})}:m,y?function(b){return h(v,m()).then(function(){throw b})}:m)}}),!a&&u(o)){var g=c("Promise").prototype.finally;p.finally!==g&&f(p,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,n,i){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),c=t("../internals/perform"),u=t("../internals/iterate");s({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(d){var h=this,f=l.f(h),p=f.reject,g=c(function(){var m=o(h.resolve);u(d,function(v){a(m,h,v).then(f.resolve,p)})});return g.error&&p(g.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/new-promise-capability");s({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var c=o.f(this);return a(c.reject,void 0,l),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/get-built-in"),o=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),c=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-resolve"),d=a("Promise"),h=o&&!c;s({target:"Promise",stat:!0,forced:o||c},{resolve:function(f){return u(h&&this===d?l:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/function-uncurry-this"),o=t("../internals/to-absolute-index"),l=RangeError,c=String.fromCharCode,u=String.fromCodePoint,d=a([].join);s({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var f,p=[],g=arguments.length,m=0;g>m;){if(f=+arguments[m++],o(f,1114111)!==f)throw new l(f+" is not a valid code point");p[m]=f<65536?c(f):c(55296+((f-=65536)>>10),f%1024+56320)}return d(p,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/function-uncurry-this"),o=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),c=t("../internals/to-string"),u=t("../internals/correct-is-regexp-logic"),d=a("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~d(c(l(this)),c(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,n,i){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/global"),o=t("../internals/function-call"),l=t("../internals/function-uncurry-this"),c=t("../internals/is-pure"),u=t("../internals/descriptors"),d=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),f=t("../internals/has-own-property"),p=t("../internals/object-is-prototype-of"),g=t("../internals/an-object"),m=t("../internals/to-indexed-object"),v=t("../internals/to-property-key"),y=t("../internals/to-string"),b=t("../internals/create-property-descriptor"),w=t("../internals/object-create"),_=t("../internals/object-keys"),B=t("../internals/object-get-own-property-names"),R=t("../internals/object-get-own-property-names-external"),j=t("../internals/object-get-own-property-symbols"),k=t("../internals/object-get-own-property-descriptor"),L=t("../internals/object-define-property"),H=t("../internals/object-define-properties"),I=t("../internals/object-property-is-enumerable"),T=t("../internals/define-built-in"),P=t("../internals/define-built-in-accessor"),N=t("../internals/shared"),S=t("../internals/shared-key"),C=t("../internals/hidden-keys"),E=t("../internals/uid"),x=t("../internals/well-known-symbol"),F=t("../internals/well-known-symbol-wrapped"),U=t("../internals/well-known-symbol-define"),M=t("../internals/symbol-define-to-primitive"),z=t("../internals/set-to-string-tag"),G=t("../internals/internal-state"),Y=t("../internals/array-iteration").forEach,Q=S("hidden"),q=G.set,D=G.getterFor("Symbol"),O=Object.prototype,V=a.Symbol,J=V&&V.prototype,re=a.RangeError,ne=a.TypeError,se=a.QObject,ee=k.f,de=L.f,ie=R.f,he=I.f,le=l([].push),be=N("symbols"),ye=N("op-symbols"),xe=N("wks"),Ee=!se||!se.prototype||!se.prototype.findChild,Be=function(Je,ze,qe){var gt=ee(O,ze);gt&&delete O[ze],de(Je,ze,qe),gt&&Je!==O&&de(O,ze,gt)},Pe=u&&h(function(){return w(de({},"a",{get:function(){return de(this,"a",{value:7}).a}})).a!==7})?Be:de,Ue=function(Je,ze){var qe=be[Je]=w(J);return q(qe,{type:"Symbol",tag:Je,description:ze}),u||(qe.description=ze),qe},He=function(Je,ze,qe){Je===O&&He(ye,ze,qe),g(Je);var gt=v(ze);return g(qe),f(be,gt)?(qe.enumerable?(f(Je,Q)&&Je[Q][gt]&&(Je[Q][gt]=!1),qe=w(qe,{enumerable:b(0,!1)})):(f(Je,Q)||de(Je,Q,b(1,{})),Je[Q][gt]=!0),Pe(Je,gt,qe)):de(Je,gt,qe)},$e=function(Je,ze){g(Je);var qe=m(ze),gt=_(qe).concat(pt(qe));return Y(gt,function(We){u&&!o(Ke,qe,We)||He(Je,We,qe[We])}),Je},Ke=function(Je){var ze=v(Je),qe=o(he,this,ze);return!(this===O&&f(be,ze)&&!f(ye,ze))&&(!(qe||!f(this,ze)||!f(be,ze)||f(this,Q)&&this[Q][ze])||qe)},st=function(Je,ze){var qe=m(Je),gt=v(ze);if(qe!==O||!f(be,gt)||f(ye,gt)){var We=ee(qe,gt);return!We||!f(be,gt)||f(qe,Q)&&qe[Q][gt]||(We.enumerable=!0),We}},Ve=function(Je){var ze=ie(m(Je)),qe=[];return Y(ze,function(gt){f(be,gt)||f(C,gt)||le(qe,gt)}),qe},pt=function(Je){var ze=Je===O,qe=ie(ze?ye:m(Je)),gt=[];return Y(qe,function(We){!f(be,We)||ze&&!f(O,We)||le(gt,be[We])}),gt};d||(T(J=(V=function(){if(p(J,this))throw new ne("Symbol is not a constructor");var Je=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,ze=E(Je),qe=function(gt){this===O&&o(qe,ye,gt),f(this,Q)&&f(this[Q],ze)&&(this[Q][ze]=!1);var We=b(1,gt);try{Pe(this,ze,We)}catch(Tt){if(!(Tt instanceof re))throw Tt;Be(this,ze,We)}};return u&&Ee&&Pe(O,ze,{configurable:!0,set:qe}),Ue(ze,Je)}).prototype,"toString",function(){return D(this).tag}),T(V,"withoutSetter",function(Je){return Ue(E(Je),Je)}),I.f=Ke,L.f=He,H.f=$e,k.f=st,B.f=R.f=Ve,j.f=pt,F.f=function(Je){return Ue(x(Je),Je)},u&&(P(J,"description",{configurable:!0,get:function(){return D(this).description}}),c||T(O,"propertyIsEnumerable",Ke,{unsafe:!0}))),s({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:V}),Y(_(xe),function(Je){U(Je)}),s({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),s({target:"Object",stat:!0,forced:!d,sham:!u},{create:function(Je,ze){return ze===void 0?w(Je):$e(w(Je),ze)},defineProperty:He,defineProperties:$e,getOwnPropertyDescriptor:st}),s({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Ve}),M(),z(V,"Symbol"),C[Q]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/get-built-in"),o=t("../internals/has-own-property"),l=t("../internals/to-string"),c=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),d=c("string-to-symbol-registry"),h=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{for:function(f){var p=l(f);if(o(d,p))return d[p];var g=a("Symbol")(p);return d[p]=g,h[g]=p,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,n,i){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,n,i){var s=t("../internals/export"),a=t("../internals/has-own-property"),o=t("../internals/is-symbol"),l=t("../internals/try-to-string"),c=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),d=c("symbol-to-string-registry");s({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!o(h))throw new TypeError(l(h)+" is not a symbol");if(a(d,h))return d[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,n,i){function s(a){return Object.prototype.toString.call(a)}i.isArray=function(a){return Array.isArray?Array.isArray(a):s(a)==="[object Array]"},i.isBoolean=function(a){return typeof a=="boolean"},i.isNull=function(a){return a===null},i.isNullOrUndefined=function(a){return a==null},i.isNumber=function(a){return typeof a=="number"},i.isString=function(a){return typeof a=="string"},i.isSymbol=function(a){return typeof a=="symbol"},i.isUndefined=function(a){return a===void 0},i.isRegExp=function(a){return s(a)==="[object RegExp]"},i.isObject=function(a){return typeof a=="object"&&a!==null},i.isDate=function(a){return s(a)==="[object Date]"},i.isError=function(a){return s(a)==="[object Error]"||a instanceof Error},i.isFunction=function(a){return typeof a=="function"},i.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},i.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,n,i){(function(s){(function(){var a=t("elliptic"),o=t("bn.js");n.exports=function(d){return new c(d)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(d){this.curveType=l[d],this.curveType||(this.curveType={name:d}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(d,h,f){Array.isArray(d)||(d=d.toArray());var p=new s(d);if(f&&p.length<f){var g=new s(f-p.length);g.fill(0),p=s.concat([g,p])}return h?p.toString(h):p}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,c.prototype.generateKeys=function(d,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,h)},c.prototype.computeSecret=function(d,h,f){return h=h||"utf8",s.isBuffer(d)||(d=new s(d,h)),u(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},c.prototype.getPublicKey=function(d,h){var f=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),u(f,d)},c.prototype.getPrivateKey=function(d){return u(this.keys.getPrivate(),d)},c.prototype.setPublicKey=function(d,h){return h=h||"utf8",s.isBuffer(d)||(d=new s(d,h)),this.keys._importPublic(d),this},c.prototype.setPrivateKey=function(d,h){h=h||"utf8",s.isBuffer(d)||(d=new s(d,h));var f=new o(d);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(t,n,i){var s=t("inherits"),a=t("md5.js"),o=t("ripemd160"),l=t("sha.js"),c=t("cipher-base");function u(d){c.call(this,"digest"),this._hash=d}s(u,c),u.prototype._update=function(d){this._hash.update(d)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(d){return(d=d.toLowerCase())==="md5"?new a:d==="rmd160"||d==="ripemd160"?new o:new u(l(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,n,i){var s=t("md5.js");n.exports=function(a){return new s().update(a).digest()}},{"md5.js":450}],388:[function(t,n,i){var s=t("inherits"),a=t("./legacy"),o=t("cipher-base"),l=t("safe-buffer").Buffer,c=t("create-hash/md5"),u=t("ripemd160"),d=t("sha.js"),h=l.alloc(128);function f(p,g){o.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var m=p==="sha512"||p==="sha384"?128:64;this._alg=p,this._key=g,g.length>m?g=(p==="rmd160"?new u:d(p)).update(g).digest():g.length<m&&(g=l.concat([g,h],m));for(var v=this._ipad=l.allocUnsafe(m),y=this._opad=l.allocUnsafe(m),b=0;b<m;b++)v[b]=54^g[b],y[b]=92^g[b];this._hash=p==="rmd160"?new u:d(p),this._hash.update(v)}s(f,o),f.prototype._update=function(p){this._hash.update(p)},f.prototype._final=function(){var p=this._hash.digest();return(this._alg==="rmd160"?new u:d(this._alg)).update(this._opad).update(p).digest()},n.exports=function(p,g){return(p=p.toLowerCase())==="rmd160"||p==="ripemd160"?new f("rmd160",g):p==="md5"?new a(c,g):new f(p,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,n,i){var s=t("inherits"),a=t("safe-buffer").Buffer,o=t("cipher-base"),l=a.alloc(128);function c(u,d){o.call(this,"digest"),typeof d=="string"&&(d=a.from(d)),this._alg=u,this._key=d,d.length>64?d=u(d):d.length<64&&(d=a.concat([d,l],64));for(var h=this._ipad=a.allocUnsafe(64),f=this._opad=a.allocUnsafe(64),p=0;p<64;p++)h[p]=54^d[p],f[p]=92^d[p];this._hash=[h]}s(c,o),c.prototype._update=function(u){this._hash.push(u)},c.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=t("randombytes"),i.createHash=i.Hash=t("create-hash"),i.createHmac=i.Hmac=t("create-hmac");var s=t("browserify-sign/algos"),a=Object.keys(s),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);i.getHashes=function(){return o};var l=t("pbkdf2");i.pbkdf2=l.pbkdf2,i.pbkdf2Sync=l.pbkdf2Sync;var c=t("browserify-cipher");i.Cipher=c.Cipher,i.createCipher=c.createCipher,i.Cipheriv=c.Cipheriv,i.createCipheriv=c.createCipheriv,i.Decipher=c.Decipher,i.createDecipher=c.createDecipher,i.Decipheriv=c.Decipheriv,i.createDecipheriv=c.createDecipheriv,i.getCiphers=c.getCiphers,i.listCiphers=c.listCiphers;var u=t("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var d=t("browserify-sign");i.createSign=d.createSign,i.Sign=d.Sign,i.createVerify=d.createVerify,i.Verify=d.Verify,i.createECDH=t("create-ecdh");var h=t("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var f=t("randomfill");i.randomFill=f.randomFill,i.randomFillSync=f.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs=a()})(void 0,function(){var s=6e4,a=36e5,o="millisecond",l="second",c="minute",u="hour",d="day",h="week",f="month",p="quarter",g="year",m="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var C=["th","st","nd","rd"],E=S%100;return"["+S+(C[(E-20)%10]||C[E]||C[0])+"]"}},_=function(S,C,E){var x=String(S);return!x||x.length>=C?S:""+Array(C+1-x.length).join(E)+S},B={s:_,z:function(S){var C=-S.utcOffset(),E=Math.abs(C),x=Math.floor(E/60),F=E%60;return(C<=0?"+":"-")+_(x,2,"0")+":"+_(F,2,"0")},m:function S(C,E){if(C.date()<E.date())return-S(E,C);var x=12*(E.year()-C.year())+(E.month()-C.month()),F=C.clone().add(x,f),U=E-F<0,M=C.clone().add(x+(U?-1:1),f);return+(-(x+(E-F)/(U?F-M:M-F))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:g,w:h,d,D:m,h:u,m:c,s:l,ms:o,Q:p}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},R="en",j={};j[R]=w;var k="$isDayjsObject",L=function(S){return S instanceof P||!(!S||!S[k])},H=function S(C,E,x){var F;if(!C)return R;if(typeof C=="string"){var U=C.toLowerCase();j[U]&&(F=U),E&&(j[U]=E,F=U);var M=C.split("-");if(!F&&M.length>1)return S(M[0])}else{var z=C.name;j[z]=C,F=z}return!x&&F&&(R=F),F||!x&&R},I=function(S,C){if(L(S))return S.clone();var E=typeof C=="object"?C:{};return E.date=S,E.args=arguments,new P(E)},T=B;T.l=H,T.i=L,T.w=function(S,C){return I(S,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var P=function(){function S(E){this.$L=H(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[k]=!0}var C=S.prototype;return C.parse=function(E){this.$d=function(x){var F=x.date,U=x.utc;if(F===null)return new Date(NaN);if(T.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var M=F.match(y);if(M){var z=M[2]-1||0,G=(M[7]||"0").substring(0,3);return U?new Date(Date.UTC(M[1],z,M[3]||1,M[4]||0,M[5]||0,M[6]||0,G)):new Date(M[1],z,M[3]||1,M[4]||0,M[5]||0,M[6]||0,G)}}return new Date(F)}(E),this.init()},C.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},C.$utils=function(){return T},C.isValid=function(){return this.$d.toString()!==v},C.isSame=function(E,x){var F=I(E);return this.startOf(x)<=F&&F<=this.endOf(x)},C.isAfter=function(E,x){return I(E)<this.startOf(x)},C.isBefore=function(E,x){return this.endOf(x)<I(E)},C.$g=function(E,x,F){return T.u(E)?this[x]:this.set(F,E)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(E,x){var F=this,U=!!T.u(x)||x,M=T.p(E),z=function(J,re){var ne=T.w(F.$u?Date.UTC(F.$y,re,J):new Date(F.$y,re,J),F);return U?ne:ne.endOf(d)},G=function(J,re){return T.w(F.toDate()[J].apply(F.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(re)),F)},Y=this.$W,Q=this.$M,q=this.$D,D="set"+(this.$u?"UTC":"");switch(M){case g:return U?z(1,0):z(31,11);case f:return U?z(1,Q):z(0,Q+1);case h:var O=this.$locale().weekStart||0,V=(Y<O?Y+7:Y)-O;return z(U?q-V:q+(6-V),Q);case d:case m:return G(D+"Hours",0);case u:return G(D+"Minutes",1);case c:return G(D+"Seconds",2);case l:return G(D+"Milliseconds",3);default:return this.clone()}},C.endOf=function(E){return this.startOf(E,!1)},C.$set=function(E,x){var F,U=T.p(E),M="set"+(this.$u?"UTC":""),z=(F={},F[d]=M+"Date",F[m]=M+"Date",F[f]=M+"Month",F[g]=M+"FullYear",F[u]=M+"Hours",F[c]=M+"Minutes",F[l]=M+"Seconds",F[o]=M+"Milliseconds",F)[U],G=U===d?this.$D+(x-this.$W):x;if(U===f||U===g){var Y=this.clone().set(m,1);Y.$d[z](G),Y.init(),this.$d=Y.set(m,Math.min(this.$D,Y.daysInMonth())).$d}else z&&this.$d[z](G);return this.init(),this},C.set=function(E,x){return this.clone().$set(E,x)},C.get=function(E){return this[T.p(E)]()},C.add=function(E,x){var F,U=this;E=Number(E);var M=T.p(x),z=function(Q){var q=I(U);return T.w(q.date(q.date()+Math.round(Q*E)),U)};if(M===f)return this.set(f,this.$M+E);if(M===g)return this.set(g,this.$y+E);if(M===d)return z(1);if(M===h)return z(7);var G=(F={},F[c]=s,F[u]=a,F[l]=1e3,F)[M]||1,Y=this.$d.getTime()+E*G;return T.w(Y,this)},C.subtract=function(E,x){return this.add(-1*E,x)},C.format=function(E){var x=this,F=this.$locale();if(!this.isValid())return F.invalidDate||v;var U=E||"YYYY-MM-DDTHH:mm:ssZ",M=T.z(this),z=this.$H,G=this.$m,Y=this.$M,Q=F.weekdays,q=F.months,D=F.meridiem,O=function(re,ne,se,ee){return re&&(re[ne]||re(x,U))||se[ne].slice(0,ee)},V=function(re){return T.s(z%12||12,re,"0")},J=D||function(re,ne,se){var ee=re<12?"AM":"PM";return se?ee.toLowerCase():ee};return U.replace(b,function(re,ne){return ne||function(se){switch(se){case"YY":return String(x.$y).slice(-2);case"YYYY":return T.s(x.$y,4,"0");case"M":return Y+1;case"MM":return T.s(Y+1,2,"0");case"MMM":return O(F.monthsShort,Y,q,3);case"MMMM":return O(q,Y);case"D":return x.$D;case"DD":return T.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return O(F.weekdaysMin,x.$W,Q,2);case"ddd":return O(F.weekdaysShort,x.$W,Q,3);case"dddd":return Q[x.$W];case"H":return String(z);case"HH":return T.s(z,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return J(z,G,!0);case"A":return J(z,G,!1);case"m":return String(G);case"mm":return T.s(G,2,"0");case"s":return String(x.$s);case"ss":return T.s(x.$s,2,"0");case"SSS":return T.s(x.$ms,3,"0");case"Z":return M}return null}(re)||M.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(E,x,F){var U,M=this,z=T.p(x),G=I(E),Y=(G.utcOffset()-this.utcOffset())*s,Q=this-G,q=function(){return T.m(M,G)};switch(z){case g:U=q()/12;break;case f:U=q();break;case p:U=q()/3;break;case h:U=(Q-Y)/6048e5;break;case d:U=(Q-Y)/864e5;break;case u:U=Q/a;break;case c:U=Q/s;break;case l:U=Q/1e3;break;default:U=Q}return F?U:T.a(U)},C.daysInMonth=function(){return this.endOf(f).$D},C.$locale=function(){return j[this.$L]},C.locale=function(E,x){if(!E)return this.$L;var F=this.clone(),U=H(E,x,!0);return U&&(F.$L=U),F},C.clone=function(){return T.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},S}(),N=P.prototype;return I.prototype=N,[["$ms",o],["$s",l],["$m",c],["$H",u],["$W",d],["$M",f],["$y",g],["$D",m]].forEach(function(S){N[S[1]]=function(C){return this.$g(C,S[0],S[1])}}),I.extend=function(S,C){return S.$i||(S(C,P,I),S.$i=!0),I},I.locale=H,I.isDayjs=L,I.unix=function(S){return I(1e3*S)},I.en=j[R],I.Ls=j,I.p={},I})},{}],392:[function(t,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_customParseFormat=a()})(void 0,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,u={},d=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(b){this[y]=+b}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var w=b.match(/([+-]|\d\d)/g),_=60*w[1]+(+w[2]||0);return _===0?0:w[0]==="+"?-_:_}(y)}],p=function(y){var b=u[y];return b&&(b.indexOf?b:b.s.concat(b.f))},g=function(y,b){var w,_=u.meridiem;if(_){for(var B=1;B<=24;B+=1)if(y.indexOf(_(B,0,b))>-1){w=B>12;break}}else w=y===(b?"pm":"PM");return w},m={A:[c,function(y){this.afternoon=g(y,!1)}],a:[c,function(y){this.afternoon=g(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[o,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[o,h("day")],Do:[c,function(y){var b=u.ordinal,w=y.match(/\d+/);if(this.day=w[0],b)for(var _=1;_<=31;_+=1)b(_).replace(/\[|\]/g,"")===y&&(this.day=_)}],M:[l,h("month")],MM:[o,h("month")],MMM:[c,function(y){var b=p("months"),w=(p("monthsShort")||b.map(function(_){return _.slice(0,3)})).indexOf(y)+1;if(w<1)throw new Error;this.month=w%12||w}],MMMM:[c,function(y){var b=p("months").indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(y){this.year=d(y)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function v(y){var b,w;b=y,w=u&&u.formats;for(var _=(y=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(I,T,P){var N=P&&P.toUpperCase();return T||w[P]||s[P]||w[N].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,C,E){return C||E.slice(1)})})).match(a),B=_.length,R=0;R<B;R+=1){var j=_[R],k=m[j],L=k&&k[0],H=k&&k[1];_[R]=H?{regex:L,parser:H}:j.replace(/^\[|\]$/g,"")}return function(I){for(var T={},P=0,N=0;P<B;P+=1){var S=_[P];if(typeof S=="string")N+=S.length;else{var C=S.regex,E=S.parser,x=I.slice(N),F=C.exec(x)[0];E.call(T,F),I=I.replace(F,"")}}return function(U){var M=U.afternoon;if(M!==void 0){var z=U.hours;M?z<12&&(U.hours+=12):z===12&&(U.hours=0),delete U.afternoon}}(T),T}}return function(y,b,w){w.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(d=y.parseTwoDigitYear);var _=b.prototype,B=_.parse;_.parse=function(R){var j=R.date,k=R.utc,L=R.args;this.$u=k;var H=L[1];if(typeof H=="string"){var I=L[2]===!0,T=L[3]===!0,P=I||T,N=L[2];T&&(N=L[2]),u=this.$locale(),!I&&N&&(u=w.Ls[N]),this.$d=function(x,F,U){try{if(["x","X"].indexOf(F)>-1)return new Date((F==="X"?1e3:1)*x);var M=v(F)(x),z=M.year,G=M.month,Y=M.day,Q=M.hours,q=M.minutes,D=M.seconds,O=M.milliseconds,V=M.zone,J=new Date,re=Y||(z||G?1:J.getDate()),ne=z||J.getFullYear(),se=0;z&&!G||(se=G>0?G-1:J.getMonth());var ee=Q||0,de=q||0,ie=D||0,he=O||0;return V?new Date(Date.UTC(ne,se,re,ee,de,ie,he+60*V.offset*1e3)):U?new Date(Date.UTC(ne,se,re,ee,de,ie,he)):new Date(ne,se,re,ee,de,ie,he)}catch{return new Date("")}}(j,H,k),this.init(),N&&N!==!0&&(this.$L=this.locale(N).$L),P&&j!=this.format(H)&&(this.$d=new Date("")),u={}}else if(H instanceof Array)for(var S=H.length,C=1;C<=S;C+=1){L[1]=H[C-1];var E=w.apply(this,L);if(E.isValid()){this.$d=E.$d,this.$L=E.$L,this.init();break}C===S&&(this.$d=new Date(""))}else B.call(this,R)}}})},{}],393:[function(t,n,i){(function(s,a){typeof i=="object"&&n!==void 0?n.exports=a():(s=typeof globalThis<"u"?globalThis:s||self).dayjs_plugin_utc=a()})(void 0,function(){var s="minute",a=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,c,u){var d=c.prototype;u.utc=function(y){var b={date:y,utc:!0,args:arguments};return new c(b)},d.utc=function(y){var b=u(this.toDate(),{locale:this.$L,utc:!0});return y?b.add(this.utcOffset(),s):b},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),h.call(this,y)};var f=d.init;d.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else f.call(this)};var p=d.utcOffset;d.utcOffset=function(y,b){var w=this.$utils().u;if(w(y))return this.$u?0:w(this.$offset)?p.call(this):this.$offset;if(typeof y=="string"&&(y=function(j){j===void 0&&(j="");var k=j.match(a);if(!k)return null;var L=(""+k[0]).match(o)||["-",0,0],H=L[0],I=60*+L[1]+ +L[2];return I===0?0:H==="+"?I:-I}(y))===null)return this;var _=Math.abs(y)<=16?60*y:y,B=this;if(b)return B.$offset=_,B.$u=y===0,B;if(y!==0){var R=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(_+R,s)).$offset=_,B.$x.$localOffset=R}else B=this.utc();return B};var g=d.format;d.format=function(y){var b=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,b)},d.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var m=d.toDate;d.toDate=function(y){return y==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=d.diff;d.diff=function(y,b,w){if(y&&this.$u===y.$u)return v.call(this,y,b,w);var _=this.local(),B=u(y).local();return v.call(_,B,b,w)}}})},{}],394:[function(t,n,i){i.utils=t("./des/utils"),i.Cipher=t("./des/cipher"),i.DES=t("./des/des"),i.CBC=t("./des/cbc"),i.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,n,i){var s=t("minimalistic-assert"),a=t("inherits"),o={};function l(c){s.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=c[u]}i.instantiate=function(c){function u(p){c.call(this,p),this._cbcInit()}a(u,c);for(var d=Object.keys(o),h=0;h<d.length;h++){var f=d[h];u.prototype[f]=o[f]}return u.create=function(p){return new u(p)},u},o._cbcInit=function(){var c=new l(this.options.iv);this._cbcState=c},o._update=function(c,u,d,h){var f=this._cbcState,p=this.constructor.super_.prototype,g=f.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)g[m]^=c[u+m];for(p._update.call(this,g,0,d,h),m=0;m<this.blockSize;m++)g[m]=d[h+m]}else{for(p._update.call(this,c,u,d,h),m=0;m<this.blockSize;m++)d[h+m]^=g[m];for(m=0;m<this.blockSize;m++)g[m]=c[u+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,n,i){var s=t("minimalistic-assert");function a(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},a.prototype._buffer=function(o,l){for(var c=Math.min(this.buffer.length-this.bufferOff,o.length-l),u=0;u<c;u++)this.buffer[this.bufferOff+u]=o[l+u];return this.bufferOff+=c,c},a.prototype._flushBuffer=function(o,l){return this._update(this.buffer,0,o,l),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(o){var l=0,c=0,u=(this.bufferOff+o.length)/this.blockSize|0,d=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(o,l),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(d,c)));for(var h=o.length-(o.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(o,l,d,c),c+=this.blockSize;for(;l<o.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=o[l];return d},a.prototype._updateDecrypt=function(o){for(var l=0,c=0,u=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,d=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(o,l),c+=this._flushBuffer(d,c);return l+=this._buffer(o,l),d},a.prototype.final=function(o){var l,c;return o&&(l=this.update(o)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(c):c},a.prototype._pad=function(o,l){if(l===0)return!1;for(;l<o.length;)o[l++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},a.prototype._unpad=function(o){return o},a.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(t,n,i){var s=t("minimalistic-assert"),a=t("inherits"),o=t("./utils"),l=t("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function u(h){l.call(this,h);var f=new c;this._desState=f,this.deriveKeys(f,h.key)}a(u,l),n.exports=u,u.create=function(h){return new u(h)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,f){h.keys=new Array(32),s.equal(f.length,this.blockSize,"Invalid key length");var p=o.readUInt32BE(f,0),g=o.readUInt32BE(f,4);o.pc1(p,g,h.tmp,0),p=h.tmp[0],g=h.tmp[1];for(var m=0;m<h.keys.length;m+=2){var v=d[m>>>1];p=o.r28shl(p,v),g=o.r28shl(g,v),o.pc2(p,g,h.keys,m)}},u.prototype._update=function(h,f,p,g){var m=this._desState,v=o.readUInt32BE(h,f),y=o.readUInt32BE(h,f+4);o.ip(v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,y,m.tmp,0):this._decrypt(m,v,y,m.tmp,0),v=m.tmp[0],y=m.tmp[1],o.writeUInt32BE(p,v,g),o.writeUInt32BE(p,y,g+4)},u.prototype._pad=function(h,f){if(this.padding===!1)return!1;for(var p=h.length-f,g=f;g<h.length;g++)h[g]=p;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var f=h[h.length-1],p=h.length-f;p<h.length;p++)s.equal(h[p],f);return h.slice(0,h.length-f)},u.prototype._encrypt=function(h,f,p,g,m){for(var v=f,y=p,b=0;b<h.keys.length;b+=2){var w=h.keys[b],_=h.keys[b+1];o.expand(y,h.tmp,0),w^=h.tmp[0],_^=h.tmp[1];var B=o.substitute(w,_),R=y;y=(v^o.permute(B))>>>0,v=R}o.rip(y,v,g,m)},u.prototype._decrypt=function(h,f,p,g,m){for(var v=p,y=f,b=h.keys.length-2;b>=0;b-=2){var w=h.keys[b],_=h.keys[b+1];o.expand(v,h.tmp,0),w^=h.tmp[0],_^=h.tmp[1];var B=o.substitute(w,_),R=v;v=(y^o.permute(B))>>>0,y=R}o.rip(v,y,g,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,n,i){var s=t("minimalistic-assert"),a=t("inherits"),o=t("./cipher"),l=t("./des");function c(d,h){s.equal(h.length,24,"Invalid key length");var f=h.slice(0,8),p=h.slice(8,16),g=h.slice(16,24);this.ciphers=d==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:p}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:f})]}function u(d){o.call(this,d);var h=new c(this.type,this.options.key);this._edeState=h}a(u,o),n.exports=u,u.create=function(d){return new u(d)},u.prototype._update=function(d,h,f,p){var g=this._edeState;g.ciphers[0]._update(d,h,f,p),g.ciphers[1]._update(f,p,f,p),g.ciphers[2]._update(f,p,f,p)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,n,i){i.readUInt32BE=function(l,c){return(l[0+c]<<24|l[1+c]<<16|l[2+c]<<8|l[3+c])>>>0},i.writeUInt32BE=function(l,c,u){l[0+u]=c>>>24,l[1+u]=c>>>16&255,l[2+u]=c>>>8&255,l[3+u]=255&c},i.ip=function(l,c,u,d){for(var h=0,f=0,p=6;p>=0;p-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=c>>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+p&1}for(p=6;p>=0;p-=2){for(g=1;g<=25;g+=8)f<<=1,f|=c>>>g+p&1;for(g=1;g<=25;g+=8)f<<=1,f|=l>>>g+p&1}u[d+0]=h>>>0,u[d+1]=f>>>0},i.rip=function(l,c,u,d){for(var h=0,f=0,p=0;p<4;p++)for(var g=24;g>=0;g-=8)h<<=1,h|=c>>>g+p&1,h<<=1,h|=l>>>g+p&1;for(p=4;p<8;p++)for(g=24;g>=0;g-=8)f<<=1,f|=c>>>g+p&1,f<<=1,f|=l>>>g+p&1;u[d+0]=h>>>0,u[d+1]=f>>>0},i.pc1=function(l,c,u,d){for(var h=0,f=0,p=7;p>=5;p--){for(var g=0;g<=24;g+=8)h<<=1,h|=c>>g+p&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+p&1}for(g=0;g<=24;g+=8)h<<=1,h|=c>>g+p&1;for(p=1;p<=3;p++){for(g=0;g<=24;g+=8)f<<=1,f|=c>>g+p&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1}for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+p&1;u[d+0]=h>>>0,u[d+1]=f>>>0},i.r28shl=function(l,c){return l<<c&268435455|l>>>28-c};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(l,c,u,d){for(var h=0,f=0,p=s.length>>>1,g=0;g<p;g++)h<<=1,h|=l>>>s[g]&1;for(g=p;g<s.length;g++)f<<=1,f|=c>>>s[g]&1;u[d+0]=h>>>0,u[d+1]=f>>>0},i.expand=function(l,c,u){var d=0,h=0;d=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)d<<=6,d|=l>>>f&63;for(f=11;f>=3;f-=4)h|=l>>>f&63,h<<=6;h|=(31&l)<<1|l>>>31,c[u+0]=d>>>0,c[u+1]=h>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(l,c){for(var u=0,d=0;d<4;d++)u<<=4,u|=a[64*d+(l>>>18-6*d&63)];for(d=0;d<4;d++)u<<=4,u|=a[256+64*d+(c>>>18-6*d&63)];return u>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(l){for(var c=0,u=0;u<o.length;u++)c<<=1,c|=l>>>o[u]&1;return c>>>0},i.padSplit=function(l,c,u){for(var d=l.toString(2);d.length<c;)d="0"+d;for(var h=[],f=0;f<c;f+=u)h.push(d.slice(f,f+u));return h.join(" ")}},{}],400:[function(t,n,i){(function(s){(function(){var a=t("./lib/generatePrime"),o=t("./lib/primes.json"),l=t("./lib/dh"),c={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var d=new s(o[u].prime,"hex"),h=new s(o[u].gen,"hex");return new l(d,h)},i.createDiffieHellman=i.DiffieHellman=function u(d,h,f,p){return s.isBuffer(h)||c[h]===void 0?u(d,"binary",h,f):(h=h||"binary",p=p||"binary",f=f||new s([2]),s.isBuffer(f)||(f=new s(f,p)),typeof d=="number"?new l(a(d,f),f,!0):(s.isBuffer(d)||(d=new s(d,h)),new l(d,f,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,n,i){(function(s){(function(){var a=t("bn.js"),o=new(t("miller-rabin")),l=new a(24),c=new a(11),u=new a(10),d=new a(3),h=new a(7),f=t("./generatePrime"),p=t("randombytes");function g(w,_){return _=_||"utf8",s.isBuffer(w)||(w=new s(w,_)),this._pub=new a(w),this}function m(w,_){return _=_||"utf8",s.isBuffer(w)||(w=new s(w,_)),this._priv=new a(w),this}n.exports=y;var v={};function y(w,_,B){this.setGenerator(_),this.__prime=new a(w),this._prime=a.mont(this.__prime),this._primeLen=w.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=g,this.setPrivateKey=m):this._primeCode=8}function b(w,_){var B=new s(w.toArray());return _?B.toString(_):B}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(w,_){var B=_.toString("hex"),R=[B,w.toString(16)].join("_");if(R in v)return v[R];var j,k=0;if(w.isEven()||!f.simpleSieve||!f.fermatTest(w)||!o.test(w))return k+=1,k+=B==="02"||B==="05"?8:4,v[R]=k,k;switch(o.test(w.shrn(1))||(k+=2),B){case"02":w.mod(l).cmp(c)&&(k+=8);break;case"05":(j=w.mod(u)).cmp(d)&&j.cmp(h)&&(k+=8);break;default:k+=4}return v[R]=k,k}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new a(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(w){var _=(w=(w=new a(w)).toRed(this._prime)).redPow(this._priv).fromRed(),B=new s(_.toArray()),R=this.getPrime();if(B.length<R.length){var j=new s(R.length-B.length);j.fill(0),B=s.concat([j,B])}return B},y.prototype.getPublicKey=function(w){return b(this._pub,w)},y.prototype.getPrivateKey=function(w){return b(this._priv,w)},y.prototype.getPrime=function(w){return b(this.__prime,w)},y.prototype.getGenerator=function(w){return b(this._gen,w)},y.prototype.setGenerator=function(w,_){return _=_||"utf8",s.isBuffer(w)||(w=new s(w,_)),this.__gen=w,this._gen=new a(w),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,n,i){var s=t("randombytes");n.exports=w,w.simpleSieve=y,w.fermatTest=b;var a=t("bn.js"),o=new a(24),l=new(t("miller-rabin")),c=new a(1),u=new a(2),d=new a(5),h=(new a(16),new a(8),new a(10)),f=new a(3),p=(new a(7),new a(11)),g=new a(4),m=(new a(12),null);function v(){if(m!==null)return m;var _=[];_[0]=2;for(var B=1,R=3;R<1048576;R+=2){for(var j=Math.ceil(Math.sqrt(R)),k=0;k<B&&_[k]<=j&&R%_[k]!=0;k++);B!==k&&_[k]<=j||(_[B++]=R)}return m=_,_}function y(_){for(var B=v(),R=0;R<B.length;R++)if(_.modn(B[R])===0)return _.cmpn(B[R])===0;return!0}function b(_){var B=a.mont(_);return u.toRed(B).redPow(_.subn(1)).fromRed().cmpn(1)===0}function w(_,B){if(_<16)return new a(B===2||B===5?[140,123]:[140,39]);var R,j;for(B=new a(B);;){for(R=new a(s(Math.ceil(_/8)));R.bitLength()>_;)R.ishrn(1);if(R.isEven()&&R.iadd(c),R.testn(1)||R.iadd(u),B.cmp(u)){if(!B.cmp(d))for(;R.mod(h).cmp(f);)R.iadd(g)}else for(;R.mod(o).cmp(p);)R.iadd(g);if(y(j=R.shrn(1))&&y(R)&&b(j)&&b(R)&&l.test(j)&&l.test(R))return R}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(t,n,i){var s=i;s.version=t("../package.json").version,s.utils=t("./elliptic/utils"),s.rand=t("brorand"),s.curve=t("./elliptic/curve"),s.curves=t("./elliptic/curves"),s.ec=t("./elliptic/ec"),s.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,n,i){var s=t("bn.js"),a=t("../utils"),o=a.getNAF,l=a.getJSF,c=a.assert;function u(h,f){this.type=h,this.p=new s(f.p,16),this.red=f.prime?s.red(f.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=f.n&&new s(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var p=this.n&&this.p.div(this.n);!p||p.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(h,f){this.curve=h,this.type=f,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,f){c(h.precomputed);var p=h._getDoubles(),g=o(f,1,this._bitLength),m=(1<<p.step+1)-(p.step%2==0?2:1);m/=3;var v,y,b=[];for(v=0;v<g.length;v+=p.step){y=0;for(var w=v+p.step-1;w>=v;w--)y=(y<<1)+g[w];b.push(y)}for(var _=this.jpoint(null,null,null),B=this.jpoint(null,null,null),R=m;R>0;R--){for(v=0;v<b.length;v++)(y=b[v])===R?B=B.mixedAdd(p.points[v]):y===-R&&(B=B.mixedAdd(p.points[v].neg()));_=_.add(B)}return _.toP()},u.prototype._wnafMul=function(h,f){var p=4,g=h._getNAFPoints(p);p=g.wnd;for(var m=g.points,v=o(f,p,this._bitLength),y=this.jpoint(null,null,null),b=v.length-1;b>=0;b--){for(var w=0;b>=0&&v[b]===0;b--)w++;if(b>=0&&w++,y=y.dblp(w),b<0)break;var _=v[b];c(_!==0),y=h.type==="affine"?_>0?y.mixedAdd(m[_-1>>1]):y.mixedAdd(m[-_-1>>1].neg()):_>0?y.add(m[_-1>>1]):y.add(m[-_-1>>1].neg())}return h.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(h,f,p,g,m){var v,y,b,w=this._wnafT1,_=this._wnafT2,B=this._wnafT3,R=0;for(v=0;v<g;v++){var j=(b=f[v])._getNAFPoints(h);w[v]=j.wnd,_[v]=j.points}for(v=g-1;v>=1;v-=2){var k=v-1,L=v;if(w[k]===1&&w[L]===1){var H=[f[k],null,null,f[L]];f[k].y.cmp(f[L].y)===0?(H[1]=f[k].add(f[L]),H[2]=f[k].toJ().mixedAdd(f[L].neg())):f[k].y.cmp(f[L].y.redNeg())===0?(H[1]=f[k].toJ().mixedAdd(f[L]),H[2]=f[k].add(f[L].neg())):(H[1]=f[k].toJ().mixedAdd(f[L]),H[2]=f[k].toJ().mixedAdd(f[L].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],T=l(p[k],p[L]);for(R=Math.max(T[0].length,R),B[k]=new Array(R),B[L]=new Array(R),y=0;y<R;y++){var P=0|T[0][y],N=0|T[1][y];B[k][y]=I[3*(P+1)+(N+1)],B[L][y]=0,_[k]=H}}else B[k]=o(p[k],w[k],this._bitLength),B[L]=o(p[L],w[L],this._bitLength),R=Math.max(B[k].length,R),R=Math.max(B[L].length,R)}var S=this.jpoint(null,null,null),C=this._wnafT4;for(v=R;v>=0;v--){for(var E=0;v>=0;){var x=!0;for(y=0;y<g;y++)C[y]=0|B[y][v],C[y]!==0&&(x=!1);if(!x)break;E++,v--}if(v>=0&&E++,S=S.dblp(E),v<0)break;for(y=0;y<g;y++){var F=C[y];F!==0&&(F>0?b=_[y][F-1>>1]:F<0&&(b=_[y][-F-1>>1].neg()),S=b.type==="affine"?S.mixedAdd(b):S.add(b))}}for(v=0;v<g;v++)_[v]=null;return m?S:S.toP()},u.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,f){h=a.toArray(h,f);var p=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*p)return h[0]===6?c(h[h.length-1]%2==0):h[0]===7&&c(h[h.length-1]%2==1),this.point(h.slice(1,1+p),h.slice(1+p,1+2*p));if((h[0]===2||h[0]===3)&&h.length-1===p)return this.pointFromX(h.slice(1,1+p),h[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(h){return this.encode(h,!0)},d.prototype._encode=function(h){var f=this.curve.p.byteLength(),p=this.getX().toArray("be",f);return h?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",f))},d.prototype.encode=function(h,f){return a.encode(this._encode(f),h)},d.prototype.precompute=function(h){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,h),f.beta=this._getBeta(),this.precomputed=f,this},d.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((h.bitLength()+1)/f.step)},d.prototype._getDoubles=function(h,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],g=this,m=0;m<f;m+=h){for(var v=0;v<h;v++)g=g.dbl();p.push(g)}return{step:h,points:p}},d.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],p=(1<<h)-1,g=p===1?null:this.dbl(),m=1;m<p;m++)f[m]=f[m-1].add(g);return{wnd:h,points:f}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(h){for(var f=this,p=0;p<h;p++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(t,n,i){var s=t("../utils"),a=t("bn.js"),o=t("inherits"),l=t("./base"),c=s.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new a(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function d(h,f,p,g,m){l.BasePoint.call(this,h,"projective"),f===null&&p===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(f,16),this.y=new a(p,16),this.z=g?new a(g,16):this.curve.one,this.t=m&&new a(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,l),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,f,p,g){return this.point(h,f,p,g)},u.prototype.pointFromX=function(h,f){(h=new a(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=this.c2.redSub(this.a.redMul(p)),m=this.one.redSub(this.c2.redMul(this.d).redMul(p)),v=g.redMul(m.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var b=y.fromRed().isOdd();return(f&&!b||!f&&b)&&(y=y.redNeg()),this.point(h,y)},u.prototype.pointFromY=function(h,f){(h=new a(h,16)).red||(h=h.toRed(this.red));var p=h.redSqr(),g=p.redSub(this.c2),m=p.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,h)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==f&&(y=y.redNeg()),this.point(y,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var f=h.x.redSqr(),p=h.y.redSqr(),g=f.redMul(this.a).redAdd(p),m=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(p)));return g.cmp(m)===0},o(d,l.BasePoint),u.prototype.pointFromJSON=function(h){return d.fromJSON(this,h)},u.prototype.point=function(h,f,p,g){return new d(this,h,f,p,g)},d.fromJSON=function(h,f){return new d(h,f[0],f[1],f[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var h=this.x.redSqr(),f=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var g=this.curve._mulA(h),m=this.x.redAdd(this.y).redSqr().redISub(h).redISub(f),v=g.redAdd(f),y=v.redSub(p),b=g.redSub(f),w=m.redMul(y),_=v.redMul(b),B=m.redMul(b),R=y.redMul(v);return this.curve.point(w,_,R,B)},d.prototype._projDbl=function(){var h,f,p,g,m,v,y=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),w=this.y.redSqr();if(this.curve.twisted){var _=(g=this.curve._mulA(b)).redAdd(w);this.zOne?(h=y.redSub(b).redSub(w).redMul(_.redSub(this.curve.two)),f=_.redMul(g.redSub(w)),p=_.redSqr().redSub(_).redSub(_)):(m=this.z.redSqr(),v=_.redSub(m).redISub(m),h=y.redSub(b).redISub(w).redMul(v),f=_.redMul(g.redSub(w)),p=_.redMul(v))}else g=b.redAdd(w),m=this.curve._mulC(this.z).redSqr(),v=g.redSub(m).redSub(m),h=this.curve._mulC(y.redISub(g)).redMul(v),f=this.curve._mulC(g).redMul(b.redISub(w)),p=g.redMul(v);return this.curve.point(h,f,p)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(h){var f=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),p=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),m=this.z.redMul(h.z.redAdd(h.z)),v=p.redSub(f),y=m.redSub(g),b=m.redAdd(g),w=p.redAdd(f),_=v.redMul(y),B=b.redMul(w),R=v.redMul(w),j=y.redMul(b);return this.curve.point(_,B,j,R)},d.prototype._projAdd=function(h){var f,p,g=this.z.redMul(h.z),m=g.redSqr(),v=this.x.redMul(h.x),y=this.y.redMul(h.y),b=this.curve.d.redMul(v).redMul(y),w=m.redSub(b),_=m.redAdd(b),B=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(v).redISub(y),R=g.redMul(w).redMul(B);return this.curve.twisted?(f=g.redMul(_).redMul(y.redSub(this.curve._mulA(v))),p=w.redMul(_)):(f=g.redMul(_).redMul(y.redSub(v)),p=this.curve._mulC(w).redMul(_)),this.curve.point(R,f,p)},d.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},d.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,f,p){return this.curve._wnafMulAdd(1,[this,f],[h,p],2,!1)},d.prototype.jmulAdd=function(h,f,p){return this.curve._wnafMulAdd(1,[this,f],[h,p],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},d.prototype.eqXToP=function(h){var f=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var p=h.clone(),g=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,n,i){var s=i;s.base=t("./base"),s.short=t("./short"),s.mont=t("./mont"),s.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,n,i){var s=t("bn.js"),a=t("inherits"),o=t("./base"),l=t("../utils");function c(d){o.call(this,"mont",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(d,h,f){o.BasePoint.call(this,d,"projective"),h===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(h,16),this.z=new s(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(c,o),n.exports=c,c.prototype.validate=function(d){var h=d.normalize().x,f=h.redSqr(),p=f.redMul(h).redAdd(f.redMul(this.a)).redAdd(h);return p.redSqrt().redSqr().cmp(p)===0},a(u,o.BasePoint),c.prototype.decodePoint=function(d,h){return this.point(l.toArray(d,h),1)},c.prototype.point=function(d,h){return new u(this,d,h)},c.prototype.pointFromJSON=function(d){return u.fromJSON(this,d)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(d,h){return new u(d,h[0],h[1]||d.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),f=d.redSub(h),p=d.redMul(h),g=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(p,g)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(d,h){var f=this.x.redAdd(this.z),p=this.x.redSub(this.z),g=d.x.redAdd(d.z),m=d.x.redSub(d.z).redMul(f),v=g.redMul(p),y=h.z.redMul(m.redAdd(v).redSqr()),b=h.x.redMul(m.redISub(v).redSqr());return this.curve.point(y,b)},u.prototype.mul=function(d){for(var h=d.clone(),f=this,p=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var m=g.length-1;m>=0;m--)g[m]===0?(f=f.diffAdd(p,this),p=p.dbl()):(p=f.diffAdd(p,this),f=f.dbl());return p},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,n,i){var s=t("../utils"),a=t("bn.js"),o=t("inherits"),l=t("./base"),c=s.assert;function u(f){l.call(this,"short",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(f,p,g,m){l.BasePoint.call(this,f,"affine"),p===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(p,16),this.y=new a(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(f,p,g,m){l.BasePoint.call(this,f,"jacobian"),p===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(p,16),this.y=new a(g,16),this.z=new a(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,l),n.exports=u,u.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var p,g;if(f.beta)p=new a(f.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);p=(p=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(f.lambda)g=new a(f.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(p))===0?g=v[0]:(g=v[1],c(this.g.mul(g).x.cmp(this.g.x.redMul(p))===0))}return{beta:p,lambda:g,basis:f.basis?f.basis.map(function(y){return{a:new a(y.a,16),b:new a(y.b,16)}}):this._getEndoBasis(g)}}},u.prototype._getEndoRoots=function(f){var p=f===this.p?this.red:a.mont(f),g=new a(2).toRed(p).redInvm(),m=g.redNeg(),v=new a(3).toRed(p).redNeg().redSqrt().redMul(g);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(f){for(var p,g,m,v,y,b,w,_,B,R=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=f,k=this.n.clone(),L=new a(1),H=new a(0),I=new a(0),T=new a(1),P=0;j.cmpn(0)!==0;){var N=k.div(j);_=k.sub(N.mul(j)),B=I.sub(N.mul(L));var S=T.sub(N.mul(H));if(!m&&_.cmp(R)<0)p=w.neg(),g=L,m=_.neg(),v=B;else if(m&&++P==2)break;w=_,k=j,j=_,I=L,L=B,T=H,H=S}y=_.neg(),b=B;var C=m.sqr().add(v.sqr());return y.sqr().add(b.sqr()).cmp(C)>=0&&(y=p,b=g),m.negative&&(m=m.neg(),v=v.neg()),y.negative&&(y=y.neg(),b=b.neg()),[{a:m,b:v},{a:y,b}]},u.prototype._endoSplit=function(f){var p=this.endo.basis,g=p[0],m=p[1],v=m.b.mul(f).divRound(this.n),y=g.b.neg().mul(f).divRound(this.n),b=v.mul(g.a),w=y.mul(m.a),_=v.mul(g.b),B=y.mul(m.b);return{k1:f.sub(b).sub(w),k2:_.add(B).neg()}},u.prototype.pointFromX=function(f,p){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(p&&!v||!p&&v)&&(m=m.redNeg()),this.point(f,m)},u.prototype.validate=function(f){if(f.inf)return!0;var p=f.x,g=f.y,m=this.a.redMul(p),v=p.redSqr().redMul(p).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(f,p,g){for(var m=this._endoWnafT1,v=this._endoWnafT2,y=0;y<f.length;y++){var b=this._endoSplit(p[y]),w=f[y],_=w._getBeta();b.k1.negative&&(b.k1.ineg(),w=w.neg(!0)),b.k2.negative&&(b.k2.ineg(),_=_.neg(!0)),m[2*y]=w,m[2*y+1]=_,v[2*y]=b.k1,v[2*y+1]=b.k2}for(var B=this._wnafMulAdd(1,m,v,2*y,g),R=0;R<2*y;R++)m[R]=null,v[R]=null;return B},o(d,l.BasePoint),u.prototype.point=function(f,p,g){return new d(this,f,p,g)},u.prototype.pointFromJSON=function(f,p){return d.fromJSON(this,f,p)},d.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var g=this.curve,m=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};f.beta=p,p.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(m)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(m)}}}return p}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(f,p,g){typeof p=="string"&&(p=JSON.parse(p));var m=f.point(p[0],p[1],g);if(!p[2])return m;function v(b){return f.point(b[0],b[1],g)}var y=p[2];return m.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[m].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[m].concat(y.naf.points.map(v))}},m},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var p=this.y.redSub(f.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(f.x).redInvm()));var g=p.redSqr().redISub(this.x).redISub(f.x),m=p.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},d.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,g=this.x.redSqr(),m=f.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(p).redMul(m),y=v.redSqr().redISub(this.x.redAdd(this.x)),b=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,b)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(f){return f=new a(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,p,g){var m=[this,p],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},d.prototype.jmulAdd=function(f,p,g){var m=[this,p],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},d.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},d.prototype.neg=function(f){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var g=this.precomputed,m=function(v){return v.neg()};p.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return p},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,l.BasePoint),u.prototype.jpoint=function(f,p,g){return new h(this,f,p,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),p=f.redSqr(),g=this.x.redMul(p),m=this.y.redMul(p).redMul(f);return this.curve.point(g,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var p=f.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(p),v=f.x.redMul(g),y=this.y.redMul(p.redMul(f.z)),b=f.y.redMul(g.redMul(this.z)),w=m.redSub(v),_=y.redSub(b);if(w.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=w.redSqr(),R=B.redMul(w),j=m.redMul(B),k=_.redSqr().redIAdd(R).redISub(j).redISub(j),L=_.redMul(j.redISub(k)).redISub(y.redMul(R)),H=this.z.redMul(f.z).redMul(w);return this.curve.jpoint(k,L,H)},h.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var p=this.z.redSqr(),g=this.x,m=f.x.redMul(p),v=this.y,y=f.y.redMul(p).redMul(this.z),b=g.redSub(m),w=v.redSub(y);if(b.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=b.redSqr(),B=_.redMul(b),R=g.redMul(_),j=w.redSqr().redIAdd(B).redISub(R).redISub(R),k=w.redMul(R.redISub(j)).redISub(v.redMul(B)),L=this.z.redMul(b);return this.curve.jpoint(j,k,L)},h.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var g=this;for(p=0;p<f;p++)g=g.dbl();return g}var m=this.curve.a,v=this.curve.tinv,y=this.x,b=this.y,w=this.z,_=w.redSqr().redSqr(),B=b.redAdd(b);for(p=0;p<f;p++){var R=y.redSqr(),j=B.redSqr(),k=j.redSqr(),L=R.redAdd(R).redIAdd(R).redIAdd(m.redMul(_)),H=y.redMul(j),I=L.redSqr().redISub(H.redAdd(H)),T=H.redISub(I),P=L.redMul(T);P=P.redIAdd(P).redISub(k);var N=B.redMul(w);p+1<f&&(_=_.redMul(k)),y=I,w=N,B=P}return this.curve.jpoint(y,B.redMul(v),w)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var f,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(m).redISub(y);b=b.redIAdd(b);var w=m.redAdd(m).redIAdd(m),_=w.redSqr().redISub(b).redISub(b),B=y.redIAdd(y);B=(B=B.redIAdd(B)).redIAdd(B),f=_,p=w.redMul(b.redISub(_)).redISub(B),g=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),j=this.y.redSqr(),k=j.redSqr(),L=this.x.redAdd(j).redSqr().redISub(R).redISub(k);L=L.redIAdd(L);var H=R.redAdd(R).redIAdd(R),I=H.redSqr(),T=k.redIAdd(k);T=(T=T.redIAdd(T)).redIAdd(T),f=I.redISub(L).redISub(L),p=H.redMul(L.redISub(f)).redISub(T),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(f,p,g)},h.prototype._threeDbl=function(){var f,p,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(m).redISub(y);b=b.redIAdd(b);var w=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),_=w.redSqr().redISub(b).redISub(b);f=_;var B=y.redIAdd(y);B=(B=B.redIAdd(B)).redIAdd(B),p=w.redMul(b.redISub(_)).redISub(B),g=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),j=this.y.redSqr(),k=this.x.redMul(j),L=this.x.redSub(R).redMul(this.x.redAdd(R));L=L.redAdd(L).redIAdd(L);var H=k.redIAdd(k),I=(H=H.redIAdd(H)).redAdd(H);f=L.redSqr().redISub(I),g=this.y.redAdd(this.z).redSqr().redISub(j).redISub(R);var T=j.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),p=L.redMul(H.redISub(f)).redISub(T)}return this.curve.jpoint(f,p,g)},h.prototype._dbl=function(){var f=this.curve.a,p=this.x,g=this.y,m=this.z,v=m.redSqr().redSqr(),y=p.redSqr(),b=g.redSqr(),w=y.redAdd(y).redIAdd(y).redIAdd(f.redMul(v)),_=p.redAdd(p),B=(_=_.redIAdd(_)).redMul(b),R=w.redSqr().redISub(B.redAdd(B)),j=B.redISub(R),k=b.redSqr();k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k);var L=w.redMul(j).redISub(k),H=g.redAdd(g).redMul(m);return this.curve.jpoint(R,L,H)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr(),m=p.redSqr(),v=f.redAdd(f).redIAdd(f),y=v.redSqr(),b=this.x.redAdd(p).redSqr().redISub(f).redISub(m),w=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(y)).redSqr(),_=m.redIAdd(m);_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_);var B=v.redIAdd(b).redSqr().redISub(y).redISub(w).redISub(_),R=p.redMul(B);R=(R=R.redIAdd(R)).redIAdd(R);var j=this.x.redMul(w).redISub(R);j=(j=j.redIAdd(j)).redIAdd(j);var k=this.y.redMul(B.redMul(_.redISub(B)).redISub(b.redMul(w)));k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k);var L=this.z.redAdd(b).redSqr().redISub(g).redISub(w);return this.curve.jpoint(j,k,L)},h.prototype.mul=function(f,p){return f=new a(f,p),this.curve._wnafMul(this,f)},h.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var p=this.z.redSqr(),g=f.z.redSqr();if(this.x.redMul(g).redISub(f.x.redMul(p)).cmpn(0)!==0)return!1;var m=p.redMul(this.z),v=g.redMul(f.z);return this.y.redMul(v).redISub(f.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(f){var p=this.z.redSqr(),g=f.toRed(this.curve.red).redMul(p);if(this.x.cmp(g)===0)return!0;for(var m=f.clone(),v=this.curve.redN.redMul(p);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,n,i){var s,a=i,o=t("hash.js"),l=t("./curve"),c=t("./utils").assert;function u(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(h,f){Object.defineProperty(a,h,{configurable:!0,enumerable:!0,get:function(){var p=new u(f);return Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:p}),p}})}a.PresetCurve=u,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=t("./precomputed/secp256k1")}catch{s=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,n,i){var s=t("bn.js"),a=t("hmac-drbg"),o=t("../utils"),l=t("../curves"),c=t("brorand"),u=o.assert,d=t("./key"),h=t("./signature");function f(p){if(!(this instanceof f))return new f(p);typeof p=="string"&&(u(Object.prototype.hasOwnProperty.call(l,p),"Unknown curve "+p),p=l[p]),p instanceof l.PresetCurve&&(p={curve:p}),this.curve=p.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=p.curve.g,this.g.precompute(p.curve.n.bitLength()+1),this.hash=p.hash||p.curve.hash}n.exports=f,f.prototype.keyPair=function(p){return new d(this,p)},f.prototype.keyFromPrivate=function(p,g){return d.fromPrivate(this,p,g)},f.prototype.keyFromPublic=function(p,g){return d.fromPublic(this,p,g)},f.prototype.genKeyPair=function(p){p||(p={});for(var g=new a({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||c(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new s(2));;){var y=new s(g.generate(m));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},f.prototype._truncateToN=function(p,g){var m=8*p.byteLength()-this.n.bitLength();return m>0&&(p=p.ushrn(m)),!g&&p.cmp(this.n)>=0?p.sub(this.n):p},f.prototype.sign=function(p,g,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),g=this.keyFromPrivate(g,m),p=this._truncateToN(new s(p,16));for(var y=this.n.byteLength(),b=g.getPrivate().toArray("be",y),w=p.toArray("be",y),_=new a({hash:this.hash,entropy:b,nonce:w,pers:v.pers,persEnc:v.persEnc||"utf8"}),B=this.n.sub(new s(1)),R=0;;R++){var j=v.k?v.k(R):new s(_.generate(this.n.byteLength()));if(!((j=this._truncateToN(j,!0)).cmpn(1)<=0||j.cmp(B)>=0)){var k=this.g.mul(j);if(!k.isInfinity()){var L=k.getX(),H=L.umod(this.n);if(H.cmpn(0)!==0){var I=j.invm(this.n).mul(H.mul(g.getPrivate()).iadd(p));if((I=I.umod(this.n)).cmpn(0)!==0){var T=(k.getY().isOdd()?1:0)|(L.cmp(H)!==0?2:0);return v.canonical&&I.cmp(this.nh)>0&&(I=this.n.sub(I),T^=1),new h({r:H,s:I,recoveryParam:T})}}}}}},f.prototype.verify=function(p,g,m,v){p=this._truncateToN(new s(p,16)),m=this.keyFromPublic(m,v);var y=(g=new h(g,"hex")).r,b=g.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var w,_=b.invm(this.n),B=_.mul(p).umod(this.n),R=_.mul(y).umod(this.n);return this.curve._maxwellTrick?!(w=this.g.jmulAdd(B,m.getPublic(),R)).isInfinity()&&w.eqXToP(y):!(w=this.g.mulAdd(B,m.getPublic(),R)).isInfinity()&&w.getX().umod(this.n).cmp(y)===0},f.prototype.recoverPubKey=function(p,g,m,v){u((3&m)===m,"The recovery param is more than two bits"),g=new h(g,v);var y=this.n,b=new s(p),w=g.r,_=g.s,B=1&m,R=m>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");w=R?this.curve.pointFromX(w.add(this.curve.n),B):this.curve.pointFromX(w,B);var j=g.r.invm(y),k=y.sub(b).mul(j).umod(y),L=_.mul(j).umod(y);return this.g.mulAdd(k,w,L)},f.prototype.getKeyRecoveryParam=function(p,g,m,v){if((g=new h(g,v)).recoveryParam!==null)return g.recoveryParam;for(var y=0;y<4;y++){var b;try{b=this.recoverPubKey(p,g,y)}catch{continue}if(b.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,n,i){var s=t("bn.js"),a=t("../utils").assert;function o(l,c){this.ec=l,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}n.exports=o,o.fromPublic=function(l,c,u){return c instanceof o?c:new o(l,{pub:c,pubEnc:u})},o.fromPrivate=function(l,c,u){return c instanceof o?c:new o(l,{priv:c,privEnc:u})},o.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(l,c){return typeof l=="string"&&(c=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,l):this.pub},o.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(l,c){this.priv=new s(l,c||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(l,c){if(l.x||l.y)return this.ec.curve.type==="mont"?a(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,c)},o.prototype.derive=function(l){return l.validate()||a(l.validate(),"public point not validated"),l.mul(this.priv).getX()},o.prototype.sign=function(l,c,u){return this.ec.sign(l,this,c,u)},o.prototype.verify=function(l,c){return this.ec.verify(l,c,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,n,i){var s=t("bn.js"),a=t("../utils"),o=a.assert;function l(f,p){if(f instanceof l)return f;this._importDER(f,p)||(o(f.r&&f.s,"Signature without r or s"),this.r=new s(f.r,16),this.s=new s(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function c(){this.place=0}function u(f,p){var g=f[p.place++];if(!(128&g))return g;var m=15&g;if(m===0||m>4)return!1;for(var v=0,y=0,b=p.place;y<m;y++,b++)v<<=8,v|=f[b],v>>>=0;return!(v<=127)&&(p.place=b,v)}function d(f){for(var p=0,g=f.length-1;!f[p]&&!(128&f[p+1])&&p<g;)p++;return p===0?f:f.slice(p)}function h(f,p){if(p<128)f.push(p);else{var g=1+(Math.log(p)/Math.LN2>>>3);for(f.push(128|g);--g;)f.push(p>>>(g<<3)&255);f.push(p)}}n.exports=l,l.prototype._importDER=function(f,p){f=a.toArray(f,p);var g=new c;if(f[g.place++]!==48)return!1;var m=u(f,g);if(m===!1||m+g.place!==f.length||f[g.place++]!==2)return!1;var v=u(f,g);if(v===!1)return!1;var y=f.slice(g.place,v+g.place);if(g.place+=v,f[g.place++]!==2)return!1;var b=u(f,g);if(b===!1||f.length!==b+g.place)return!1;var w=f.slice(g.place,b+g.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(w[0]===0){if(!(128&w[1]))return!1;w=w.slice(1)}return this.r=new s(y),this.s=new s(w),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var p=this.r.toArray(),g=this.s.toArray();for(128&p[0]&&(p=[0].concat(p)),128&g[0]&&(g=[0].concat(g)),p=d(p),g=d(g);!(g[0]||128&g[1]);)g=g.slice(1);var m=[2];h(m,p.length),(m=m.concat(p)).push(2),h(m,g.length);var v=m.concat(g),y=[48];return h(y,v.length),y=y.concat(v),a.encode(y,f)}},{"../utils":419,"bn.js":420}],415:[function(t,n,i){var s=t("hash.js"),a=t("../curves"),o=t("../utils"),l=o.assert,c=o.parseBytes,u=t("./key"),d=t("./signature");function h(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(f);f=a[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=s.sha512}n.exports=h,h.prototype.sign=function(f,p){f=c(f);var g=this.keyFromSecret(p),m=this.hashInt(g.messagePrefix(),f),v=this.g.mul(m),y=this.encodePoint(v),b=this.hashInt(y,g.pubBytes(),f).mul(g.priv()),w=m.add(b).umod(this.curve.n);return this.makeSignature({R:v,S:w,Rencoded:y})},h.prototype.verify=function(f,p,g){f=c(f),p=this.makeSignature(p);var m=this.keyFromPublic(g),v=this.hashInt(p.Rencoded(),m.pubBytes(),f),y=this.g.mul(p.S());return p.R().add(m.pub().mul(v)).eq(y)},h.prototype.hashInt=function(){for(var f=this.hash(),p=0;p<arguments.length;p++)f.update(arguments[p]);return o.intFromLE(f.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(f){return u.fromPublic(this,f)},h.prototype.keyFromSecret=function(f){return u.fromSecret(this,f)},h.prototype.makeSignature=function(f){return f instanceof d?f:new d(this,f)},h.prototype.encodePoint=function(f){var p=f.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=f.getX().isOdd()?128:0,p},h.prototype.decodePoint=function(f){var p=(f=o.parseBytes(f)).length-1,g=f.slice(0,p).concat(-129&f[p]),m=(128&f[p])!=0,v=o.intFromLE(g);return this.curve.pointFromY(v,m)},h.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(f){return o.intFromLE(f)},h.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,n,i){var s=t("../utils"),a=s.assert,o=s.parseBytes,l=s.cachedProperty;function c(u,d){this.eddsa=u,this._secret=o(d.secret),u.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=o(d.pub)}c.fromPublic=function(u,d){return d instanceof c?d:new c(u,{pub:d})},c.fromSecret=function(u,d){return d instanceof c?d:new c(u,{secret:d})},c.prototype.secret=function(){return this._secret},l(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(c,"privBytes",function(){var u=this.eddsa,d=this.hash(),h=u.encodingLength-1,f=d.slice(0,u.encodingLength);return f[0]&=248,f[h]&=127,f[h]|=64,f}),l(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},c.prototype.verify=function(u,d){return this.eddsa.verify(u,d,this)},c.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),s.encode(this.secret(),u)},c.prototype.getPublic=function(u){return s.encode(this.pubBytes(),u)},n.exports=c},{"../utils":419}],417:[function(t,n,i){var s=t("bn.js"),a=t("../utils"),o=a.assert,l=a.cachedProperty,c=a.parseBytes;function u(d,h){this.eddsa=d,typeof h!="object"&&(h=c(h)),Array.isArray(h)&&(h={R:h.slice(0,d.encodingLength),S:h.slice(d.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),d.isPoint(h.R)&&(this._R=h.R),h.S instanceof s&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(t,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,n,i){var s=i,a=t("bn.js"),o=t("minimalistic-assert"),l=t("minimalistic-crypto-utils");s.assert=o,s.toArray=l.toArray,s.zero2=l.zero2,s.toHex=l.toHex,s.encode=l.encode,s.getNAF=function(c,u,d){var h=new Array(Math.max(c.bitLength(),d)+1);h.fill(0);for(var f=1<<u+1,p=c.clone(),g=0;g<h.length;g++){var m,v=p.andln(f-1);p.isOdd()?(m=v>(f>>1)-1?(f>>1)-v:v,p.isubn(m)):m=0,h[g]=m,p.iushrn(1)}return h},s.getJSF=function(c,u){var d=[[],[]];c=c.clone(),u=u.clone();for(var h,f=0,p=0;c.cmpn(-f)>0||u.cmpn(-p)>0;){var g,m,v=c.andln(3)+f&3,y=u.andln(3)+p&3;v===3&&(v=-1),y===3&&(y=-1),g=1&v?(h=c.andln(7)+f&7)!==3&&h!==5||y!==2?v:-v:0,d[0].push(g),m=1&y?(h=u.andln(7)+p&7)!==3&&h!==5||v!==2?y:-y:0,d[1].push(m),2*f===g+1&&(f=1-f),2*p===m+1&&(p=1-p),c.iushrn(1),u.iushrn(1)}return d},s.cachedProperty=function(c,u,d){var h="_"+u;c.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}},s.parseBytes=function(c){return typeof c=="string"?s.toArray(c,"hex"):c},s.intFromLE=function(c){return new a(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(t,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,n,i){var s=Object.create||function(j){var k=function(){};return k.prototype=j,new k},a=Object.keys||function(j){var k=[];for(var L in j)Object.prototype.hasOwnProperty.call(j,L)&&k.push(L);return L},o=Function.prototype.bind||function(j){var k=this;return function(){return k.apply(j,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var c,u=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),c=d.x===0}catch{c=!1}function h(j){return j._maxListeners===void 0?l.defaultMaxListeners:j._maxListeners}function f(j,k,L){if(k)j.call(L);else for(var H=j.length,I=R(j,H),T=0;T<H;++T)I[T].call(L)}function p(j,k,L,H){if(k)j.call(L,H);else for(var I=j.length,T=R(j,I),P=0;P<I;++P)T[P].call(L,H)}function g(j,k,L,H,I){if(k)j.call(L,H,I);else for(var T=j.length,P=R(j,T),N=0;N<T;++N)P[N].call(L,H,I)}function m(j,k,L,H,I,T){if(k)j.call(L,H,I,T);else for(var P=j.length,N=R(j,P),S=0;S<P;++S)N[S].call(L,H,I,T)}function v(j,k,L,H){if(k)j.apply(L,H);else for(var I=j.length,T=R(j,I),P=0;P<I;++P)T[P].apply(L,H)}function y(j,k,L,H){var I,T,P;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if((T=j._events)?(T.newListener&&(j.emit("newListener",k,L.listener?L.listener:L),T=j._events),P=T[k]):(T=j._events=s(null),j._eventsCount=0),P){if(typeof P=="function"?P=T[k]=H?[L,P]:[P,L]:H?P.unshift(L):P.push(L),!P.warned&&(I=h(j))&&I>0&&P.length>I){P.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(k)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=j,N.type=k,N.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else P=T[k]=L,++j._eventsCount;return j}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var j=new Array(arguments.length),k=0;k<j.length;++k)j[k]=arguments[k];this.listener.apply(this.target,j)}}function w(j,k,L){var H={fired:!1,wrapFn:void 0,target:j,type:k,listener:L},I=o.call(b,H);return I.listener=L,H.wrapFn=I,I}function _(j,k,L){var H=j._events;if(!H)return[];var I=H[k];return I?typeof I=="function"?L?[I.listener||I]:[I]:L?function(T){for(var P=new Array(T.length),N=0;N<P.length;++N)P[N]=T[N].listener||T[N];return P}(I):R(I,I.length):[]}function B(j){var k=this._events;if(k){var L=k[j];if(typeof L=="function")return 1;if(L)return L.length}return 0}function R(j,k){for(var L=new Array(k),H=0;H<k;++H)L[H]=j[H];return L}c?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||j!=j)throw new TypeError('"defaultMaxListeners" must be a positive number');u=j}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(j){var k,L,H,I,T,P,N=j==="error";if(P=this._events)N=N&&P.error==null;else if(!N)return!1;if(N){if(arguments.length>1&&(k=arguments[1]),k instanceof Error)throw k;var S=new Error('Unhandled "error" event. ('+k+")");throw S.context=k,S}if(!(L=P[j]))return!1;var C=typeof L=="function";switch(H=arguments.length){case 1:f(L,C,this);break;case 2:p(L,C,this,arguments[1]);break;case 3:g(L,C,this,arguments[1],arguments[2]);break;case 4:m(L,C,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(H-1),T=1;T<H;T++)I[T-1]=arguments[T];v(L,C,this,I)}return!0},l.prototype.addListener=function(j,k){return y(this,j,k,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(j,k){return y(this,j,k,!0)},l.prototype.once=function(j,k){if(typeof k!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,w(this,j,k)),this},l.prototype.prependOnceListener=function(j,k){if(typeof k!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,w(this,j,k)),this},l.prototype.removeListener=function(j,k){var L,H,I,T,P;if(typeof k!="function")throw new TypeError('"listener" argument must be a function');if(!(H=this._events))return this;if(!(L=H[j]))return this;if(L===k||L.listener===k)--this._eventsCount==0?this._events=s(null):(delete H[j],H.removeListener&&this.emit("removeListener",j,L.listener||k));else if(typeof L!="function"){for(I=-1,T=L.length-1;T>=0;T--)if(L[T]===k||L[T].listener===k){P=L[T].listener,I=T;break}if(I<0)return this;I===0?L.shift():function(N,S){for(var C=S,E=C+1,x=N.length;E<x;C+=1,E+=1)N[C]=N[E];N.pop()}(L,I),L.length===1&&(H[j]=L[0]),H.removeListener&&this.emit("removeListener",j,P||k)}return this},l.prototype.removeAllListeners=function(j){var k,L,H;if(!(L=this._events))return this;if(!L.removeListener)return arguments.length===0?(this._events=s(null),this._eventsCount=0):L[j]&&(--this._eventsCount==0?this._events=s(null):delete L[j]),this;if(arguments.length===0){var I,T=a(L);for(H=0;H<T.length;++H)(I=T[H])!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if(typeof(k=L[j])=="function")this.removeListener(j,k);else if(k)for(H=k.length-1;H>=0;H--)this.removeListener(j,k[H]);return this},l.prototype.listeners=function(j){return _(this,j,!0)},l.prototype.rawListeners=function(j){return _(this,j,!1)},l.listenerCount=function(j,k){return typeof j.listenerCount=="function"?j.listenerCount(k):B.call(j,k)},l.prototype.listenerCount=B,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("md5.js");n.exports=function(o,l,c,u){if(s.isBuffer(o)||(o=s.from(o,"binary")),l&&(s.isBuffer(l)||(l=s.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=c/8,h=s.alloc(d),f=s.alloc(u||0),p=s.alloc(0);d>0||u>0;){var g=new a;g.update(p),g.update(o),l&&g.update(l),p=g.digest();var m=0;if(d>0){var v=h.length-d;m=Math.min(d,p.length),p.copy(h,v,0,m),d-=m}if(m<p.length&&u>0){var y=f.length-u,b=Math.min(u,p.length-m);p.copy(f,y,m,m+b),u-=b}}return p.fill(0),{key:h,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var s=t("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return s.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return s.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return s.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return s.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return s.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return s.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return s.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return s.FormatterOptions}});var a=t("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("readable-stream").Transform;function o(l){a.call(this),this._block=s.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(o,a),o.prototype._transform=function(l,c,u){var d=null;try{this.update(l,c)}catch(h){d=h}u(d)},o.prototype._flush=function(l){var c=null;try{this.push(this.digest())}catch(u){c=u}l(c)},o.prototype.update=function(l,c){if(function(g,m){if(!s.isBuffer(g)&&typeof g!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");s.isBuffer(l)||(l=s.from(l,c));for(var u=this._block,d=0;this._blockOffset+l.length-d>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=l[d++];this._update(),this._blockOffset=0}for(;d<l.length;)u[this._blockOffset++]=l[d++];for(var f=0,p=8*l.length;p>0;++f)this._length[f]+=p,(p=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*p);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();l!==void 0&&(c=c.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return c},o.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,n,i){var s=i;s.utils=t("./hash/utils"),s.common=t("./hash/common"),s.sha=t("./hash/sha"),s.ripemd=t("./hash/ripemd"),s.hmac=t("./hash/hmac"),s.sha1=s.sha.sha1,s.sha256=s.sha.sha256,s.sha224=s.sha.sha224,s.sha384=s.sha.sha384,s.sha512=s.sha.sha512,s.ripemd160=s.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,n,i){var s=t("./utils"),a=t("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=o,o.prototype.update=function(l,c){if(l=s.toArray(l,c),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=s.join32(l,0,l.length-u,this.endian);for(var d=0;d<l.length;d+=this._delta32)this._update(l,d,d+this._delta32)}return this},o.prototype.digest=function(l){return this.update(this._pad()),a(this.pending===null),this._digest(l)},o.prototype._pad=function(){var l=this.pendingTotal,c=this._delta8,u=c-(l+this.padLength)%c,d=new Array(u+this.padLength);d[0]=128;for(var h=1;h<u;h++)d[h]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)d[h++]=0;d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=l>>>24&255,d[h++]=l>>>16&255,d[h++]=l>>>8&255,d[h++]=255&l}else for(d[h++]=255&l,d[h++]=l>>>8&255,d[h++]=l>>>16&255,d[h++]=l>>>24&255,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,f=8;f<this.padLength;f++)d[h++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,n,i){var s=t("./utils"),a=t("minimalistic-assert");function o(l,c,u){if(!(this instanceof o))return new o(l,c,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(c,u))}n.exports=o,o.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),a(l.length<=this.blockSize);for(var c=l.length;c<this.blockSize;c++)l.push(0);for(c=0;c<l.length;c++)l[c]^=54;for(this.inner=new this.Hash().update(l),c=0;c<l.length;c++)l[c]^=106;this.outer=new this.Hash().update(l)},o.prototype.update=function(l,c){return this.inner.update(l,c),this},o.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,n,i){var s=t("./utils"),a=t("./common"),o=s.rotl32,l=s.sum32,c=s.sum32_3,u=s.sum32_4,d=a.BlockHash;function h(){if(!(this instanceof h))return new h;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(w,_,B,R){return w<=15?_^B^R:w<=31?_&B|~_&R:w<=47?(_|~B)^R:w<=63?_&R|B&~R:_^(B|~R)}function p(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function g(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}s.inherits(h,d),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(w,_){for(var B=this.h[0],R=this.h[1],j=this.h[2],k=this.h[3],L=this.h[4],H=B,I=R,T=j,P=k,N=L,S=0;S<80;S++){var C=l(o(u(B,f(S,R,j,k),w[m[S]+_],p(S)),y[S]),L);B=L,L=k,k=o(j,10),j=R,R=C,C=l(o(u(H,f(79-S,I,T,P),w[v[S]+_],g(S)),b[S]),N),H=N,N=P,P=o(T,10),T=I,I=C}C=c(this.h[1],j,P),this.h[1]=c(this.h[2],k,N),this.h[2]=c(this.h[3],L,H),this.h[3]=c(this.h[4],B,I),this.h[4]=c(this.h[0],R,T),this.h[0]=C},h.prototype._digest=function(w){return w==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,n,i){i.sha1=t("./sha/1"),i.sha224=t("./sha/224"),i.sha256=t("./sha/256"),i.sha384=t("./sha/384"),i.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,n,i){var s=t("../utils"),a=t("../common"),o=t("./common"),l=s.rotl32,c=s.sum32,u=s.sum32_5,d=o.ft_1,h=a.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}s.inherits(p,h),n.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(g,m){for(var v=this.W,y=0;y<16;y++)v[y]=g[m+y];for(;y<v.length;y++)v[y]=l(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var b=this.h[0],w=this.h[1],_=this.h[2],B=this.h[3],R=this.h[4];for(y=0;y<v.length;y++){var j=~~(y/20),k=u(l(b,5),d(j,w,_,B),R,v[y],f[j]);R=B,B=_,_=l(w,30),w=b,b=k}this.h[0]=c(this.h[0],b),this.h[1]=c(this.h[1],w),this.h[2]=c(this.h[2],_),this.h[3]=c(this.h[3],B),this.h[4]=c(this.h[4],R)},p.prototype._digest=function(g){return g==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,n,i){var s=t("../utils"),a=t("./256");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}s.inherits(o,a),n.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,n,i){var s=t("../utils"),a=t("../common"),o=t("./common"),l=t("minimalistic-assert"),c=s.sum32,u=s.sum32_4,d=s.sum32_5,h=o.ch32,f=o.maj32,p=o.s0_256,g=o.s1_256,m=o.g0_256,v=o.g1_256,y=a.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}s.inherits(w,y),n.exports=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(_,B){for(var R=this.W,j=0;j<16;j++)R[j]=_[B+j];for(;j<R.length;j++)R[j]=u(v(R[j-2]),R[j-7],m(R[j-15]),R[j-16]);var k=this.h[0],L=this.h[1],H=this.h[2],I=this.h[3],T=this.h[4],P=this.h[5],N=this.h[6],S=this.h[7];for(l(this.k.length===R.length),j=0;j<R.length;j++){var C=d(S,g(T),h(T,P,N),this.k[j],R[j]),E=c(p(k),f(k,L,H));S=N,N=P,P=T,T=c(I,C),I=H,H=L,L=k,k=c(C,E)}this.h[0]=c(this.h[0],k),this.h[1]=c(this.h[1],L),this.h[2]=c(this.h[2],H),this.h[3]=c(this.h[3],I),this.h[4]=c(this.h[4],T),this.h[5]=c(this.h[5],P),this.h[6]=c(this.h[6],N),this.h[7]=c(this.h[7],S)},w.prototype._digest=function(_){return _==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,n,i){var s=t("../utils"),a=t("./512");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s.inherits(o,a),n.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(l){return l==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,n,i){var s=t("../utils"),a=t("../common"),o=t("minimalistic-assert"),l=s.rotr64_hi,c=s.rotr64_lo,u=s.shr64_hi,d=s.shr64_lo,h=s.sum64,f=s.sum64_hi,p=s.sum64_lo,g=s.sum64_4_hi,m=s.sum64_4_lo,v=s.sum64_5_hi,y=s.sum64_5_lo,b=a.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}function B(E,x,F,U,M){var z=E&F^~E&M;return z<0&&(z+=4294967296),z}function R(E,x,F,U,M,z){var G=x&U^~x&z;return G<0&&(G+=4294967296),G}function j(E,x,F,U,M){var z=E&F^E&M^F&M;return z<0&&(z+=4294967296),z}function k(E,x,F,U,M,z){var G=x&U^x&z^U&z;return G<0&&(G+=4294967296),G}function L(E,x){var F=l(E,x,28)^l(x,E,2)^l(x,E,7);return F<0&&(F+=4294967296),F}function H(E,x){var F=c(E,x,28)^c(x,E,2)^c(x,E,7);return F<0&&(F+=4294967296),F}function I(E,x){var F=l(E,x,14)^l(E,x,18)^l(x,E,9);return F<0&&(F+=4294967296),F}function T(E,x){var F=c(E,x,14)^c(E,x,18)^c(x,E,9);return F<0&&(F+=4294967296),F}function P(E,x){var F=l(E,x,1)^l(E,x,8)^u(E,x,7);return F<0&&(F+=4294967296),F}function N(E,x){var F=c(E,x,1)^c(E,x,8)^d(E,x,7);return F<0&&(F+=4294967296),F}function S(E,x){var F=l(E,x,19)^l(x,E,29)^u(E,x,6);return F<0&&(F+=4294967296),F}function C(E,x){var F=c(E,x,19)^c(x,E,29)^d(E,x,6);return F<0&&(F+=4294967296),F}s.inherits(_,b),n.exports=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(E,x){for(var F=this.W,U=0;U<32;U++)F[U]=E[x+U];for(;U<F.length;U+=2){var M=S(F[U-4],F[U-3]),z=C(F[U-4],F[U-3]),G=F[U-14],Y=F[U-13],Q=P(F[U-30],F[U-29]),q=N(F[U-30],F[U-29]),D=F[U-32],O=F[U-31];F[U]=g(M,z,G,Y,Q,q,D,O),F[U+1]=m(M,z,G,Y,Q,q,D,O)}},_.prototype._update=function(E,x){this._prepareBlock(E,x);var F=this.W,U=this.h[0],M=this.h[1],z=this.h[2],G=this.h[3],Y=this.h[4],Q=this.h[5],q=this.h[6],D=this.h[7],O=this.h[8],V=this.h[9],J=this.h[10],re=this.h[11],ne=this.h[12],se=this.h[13],ee=this.h[14],de=this.h[15];o(this.k.length===F.length);for(var ie=0;ie<F.length;ie+=2){var he=ee,le=de,be=I(O,V),ye=T(O,V),xe=B(O,V,J,re,ne),Ee=R(O,V,J,re,ne,se),Be=this.k[ie],Pe=this.k[ie+1],Ue=F[ie],He=F[ie+1],$e=v(he,le,be,ye,xe,Ee,Be,Pe,Ue,He),Ke=y(he,le,be,ye,xe,Ee,Be,Pe,Ue,He);he=L(U,M),le=H(U,M),be=j(U,M,z,G,Y),ye=k(U,M,z,G,Y,Q);var st=f(he,le,be,ye),Ve=p(he,le,be,ye);ee=ne,de=se,ne=J,se=re,J=O,re=V,O=f(q,D,$e,Ke),V=p(D,D,$e,Ke),q=Y,D=Q,Y=z,Q=G,z=U,G=M,U=f($e,Ke,st,Ve),M=p($e,Ke,st,Ve)}h(this.h,0,U,M),h(this.h,2,z,G),h(this.h,4,Y,Q),h(this.h,6,q,D),h(this.h,8,O,V),h(this.h,10,J,re),h(this.h,12,ne,se),h(this.h,14,ee,de)},_.prototype._digest=function(E){return E==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,n,i){var s=t("../utils").rotr32;function a(c,u,d){return c&u^~c&d}function o(c,u,d){return c&u^c&d^u&d}function l(c,u,d){return c^u^d}i.ft_1=function(c,u,d,h){return c===0?a(u,d,h):c===1||c===3?l(u,d,h):c===2?o(u,d,h):void 0},i.ch32=a,i.maj32=o,i.p32=l,i.s0_256=function(c){return s(c,2)^s(c,13)^s(c,22)},i.s1_256=function(c){return s(c,6)^s(c,11)^s(c,25)},i.g0_256=function(c){return s(c,7)^s(c,18)^c>>>3},i.g1_256=function(c){return s(c,17)^s(c,19)^c>>>10}},{"../utils":437}],437:[function(t,n,i){var s=t("minimalistic-assert"),a=t("inherits");function o(d,h){return(64512&d.charCodeAt(h))==55296&&!(h<0||h+1>=d.length)&&(64512&d.charCodeAt(h+1))==56320}function l(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function c(d){return d.length===1?"0"+d:d}function u(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}i.inherits=a,i.toArray=function(d,h){if(Array.isArray(d))return d.slice();if(!d)return[];var f=[];if(typeof d=="string")if(h){if(h==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),g=0;g<d.length;g+=2)f.push(parseInt(d[g]+d[g+1],16))}else for(var p=0,g=0;g<d.length;g++){var m=d.charCodeAt(g);m<128?f[p++]=m:m<2048?(f[p++]=m>>6|192,f[p++]=63&m|128):o(d,g)?(m=65536+((1023&m)<<10)+(1023&d.charCodeAt(++g)),f[p++]=m>>18|240,f[p++]=m>>12&63|128,f[p++]=m>>6&63|128,f[p++]=63&m|128):(f[p++]=m>>12|224,f[p++]=m>>6&63|128,f[p++]=63&m|128)}else for(g=0;g<d.length;g++)f[g]=0|d[g];return f},i.toHex=function(d){for(var h="",f=0;f<d.length;f++)h+=c(d[f].toString(16));return h},i.htonl=l,i.toHex32=function(d,h){for(var f="",p=0;p<d.length;p++){var g=d[p];h==="little"&&(g=l(g)),f+=u(g.toString(16))}return f},i.zero2=c,i.zero8=u,i.join32=function(d,h,f,p){var g=f-h;s(g%4==0);for(var m=new Array(g/4),v=0,y=h;v<m.length;v++,y+=4){var b;b=p==="big"?d[y]<<24|d[y+1]<<16|d[y+2]<<8|d[y+3]:d[y+3]<<24|d[y+2]<<16|d[y+1]<<8|d[y],m[v]=b>>>0}return m},i.split32=function(d,h){for(var f=new Array(4*d.length),p=0,g=0;p<d.length;p++,g+=4){var m=d[p];h==="big"?(f[g]=m>>>24,f[g+1]=m>>>16&255,f[g+2]=m>>>8&255,f[g+3]=255&m):(f[g+3]=m>>>24,f[g+2]=m>>>16&255,f[g+1]=m>>>8&255,f[g]=255&m)}return f},i.rotr32=function(d,h){return d>>>h|d<<32-h},i.rotl32=function(d,h){return d<<h|d>>>32-h},i.sum32=function(d,h){return d+h>>>0},i.sum32_3=function(d,h,f){return d+h+f>>>0},i.sum32_4=function(d,h,f,p){return d+h+f+p>>>0},i.sum32_5=function(d,h,f,p,g){return d+h+f+p+g>>>0},i.sum64=function(d,h,f,p){var g=d[h],m=p+d[h+1]>>>0,v=(m<p?1:0)+f+g;d[h]=v>>>0,d[h+1]=m},i.sum64_hi=function(d,h,f,p){return(h+p>>>0<h?1:0)+d+f>>>0},i.sum64_lo=function(d,h,f,p){return h+p>>>0},i.sum64_4_hi=function(d,h,f,p,g,m,v,y){var b=0,w=h;return b+=(w=w+p>>>0)<h?1:0,b+=(w=w+m>>>0)<m?1:0,d+f+g+v+(b+=(w=w+y>>>0)<y?1:0)>>>0},i.sum64_4_lo=function(d,h,f,p,g,m,v,y){return h+p+m+y>>>0},i.sum64_5_hi=function(d,h,f,p,g,m,v,y,b,w){var _=0,B=h;return _+=(B=B+p>>>0)<h?1:0,_+=(B=B+m>>>0)<m?1:0,_+=(B=B+y>>>0)<y?1:0,d+f+g+v+b+(_+=(B=B+w>>>0)<w?1:0)>>>0},i.sum64_5_lo=function(d,h,f,p,g,m,v,y,b,w){return h+p+m+y+w>>>0},i.rotr64_hi=function(d,h,f){return(h<<32-f|d>>>f)>>>0},i.rotr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0},i.shr64_hi=function(d,h,f){return d>>>f},i.shr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,n,i){var s=t("hash.js"),a=t("minimalistic-crypto-utils"),o=t("minimalistic-assert");function l(c){if(!(this instanceof l))return new l(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(c.entropy,c.entropyEnc||"hex"),d=a.toArray(c.nonce,c.nonceEnc||"hex"),h=a.toArray(c.pers,c.persEnc||"hex");o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,d,h)}n.exports=l,l.prototype._init=function(c,u,d){var h=c.concat(u).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},l.prototype._update=function(c){var u=this._hmac().update(this.V).update([0]);c&&(u=u.update(c)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(c,u,d,h){typeof u!="string"&&(h=d,d=u,u=null),c=a.toArray(c,u),d=a.toArray(d,h),o(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(d||[])),this._reseed=1},l.prototype.generate=function(c,u,d,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=d,d=u,u=null),d&&(d=a.toArray(d,h||"hex"),this._update(d));for(var f=[];f.length<c;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var p=f.slice(0,c);return this._update(d),this._reseed++,a.encode(p,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(s,a,o,l,c){var u,d,h=8*c-l-1,f=(1<<h)-1,p=f>>1,g=-7,m=o?c-1:0,v=o?-1:1,y=s[a+m];for(m+=v,u=y&(1<<-g)-1,y>>=-g,g+=h;g>0;u=256*u+s[a+m],m+=v,g-=8);for(d=u&(1<<-g)-1,u>>=-g,g+=l;g>0;d=256*d+s[a+m],m+=v,g-=8);if(u===0)u=1-p;else{if(u===f)return d?NaN:1/0*(y?-1:1);d+=Math.pow(2,l),u-=p}return(y?-1:1)*d*Math.pow(2,u-l)},i.write=function(s,a,o,l,c,u){var d,h,f,p=8*u-c-1,g=(1<<p)-1,m=g>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:u-1,b=l?1:-1,w=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=g):(d=Math.floor(Math.log(a)/Math.LN2),a*(f=Math.pow(2,-d))<1&&(d--,f*=2),(a+=d+m>=1?v/f:v*Math.pow(2,1-m))*f>=2&&(d++,f/=2),d+m>=g?(h=0,d=g):d+m>=1?(h=(a*f-1)*Math.pow(2,c),d+=m):(h=a*Math.pow(2,m-1)*Math.pow(2,c),d=0));c>=8;s[o+y]=255&h,y+=b,h/=256,c-=8);for(d=d<<c|h,p+=c;p>0;s[o+y]=255&d,y+=b,d/=256,p-=8);s[o+y-b]|=128*w}},{}],440:[function(t,n,i){typeof Object.create=="function"?n.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(s,a){if(a){s.super_=a;var o=function(){};o.prototype=a.prototype,s.prototype=new o,s.prototype.constructor=s}}},{}],441:[function(t,n,i){(function(s,a,o,l,c,u,d,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof i=="object"&&n!==void 0?n.exports=f():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(p,g,m){function v(w,_){if(!g[w]){if(!p[w]){var B=typeof t=="function"&&t;if(!_&&B)return B(w,!0);if(y)return y(w,!0);var R=new Error("Cannot find module '"+w+"'");throw R.code="MODULE_NOT_FOUND",R}var j=g[w]={exports:{}};p[w][0].call(j.exports,function(k){return v(p[w][1][k]||k)},j,j.exports,f,p,g,m)}return g[w].exports}for(var y=typeof t=="function"&&t,b=0;b<m.length;b++)v(m[b]);return v}({1:[function(f,p,g){var m=f("./utils"),v=f("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(b){for(var w,_,B,R,j,k,L,H=[],I=0,T=b.length,P=T,N=m.getTypeOf(b)!=="string";I<b.length;)P=T-I,B=N?(w=b[I++],_=I<T?b[I++]:0,I<T?b[I++]:0):(w=b.charCodeAt(I++),_=I<T?b.charCodeAt(I++):0,I<T?b.charCodeAt(I++):0),R=w>>2,j=(3&w)<<4|_>>4,k=1<P?(15&_)<<2|B>>6:64,L=2<P?63&B:64,H.push(y.charAt(R)+y.charAt(j)+y.charAt(k)+y.charAt(L));return H.join("")},g.decode=function(b){var w,_,B,R,j,k,L=0,H=0,I="data:";if(b.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var T,P=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===y.charAt(64)&&P--,b.charAt(b.length-2)===y.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=v.uint8array?new Uint8Array(0|P):new Array(0|P);L<b.length;)w=y.indexOf(b.charAt(L++))<<2|(R=y.indexOf(b.charAt(L++)))>>4,_=(15&R)<<4|(j=y.indexOf(b.charAt(L++)))>>2,B=(3&j)<<6|(k=y.indexOf(b.charAt(L++))),T[H++]=w,j!==64&&(T[H++]=_),k!==64&&(T[H++]=B);return T}},{"./support":30,"./utils":32}],2:[function(f,p,g){var m=f("./external"),v=f("./stream/DataWorker"),y=f("./stream/Crc32Probe"),b=f("./stream/DataLengthProbe");function w(_,B,R,j,k){this.compressedSize=_,this.uncompressedSize=B,this.crc32=R,this.compression=j,this.compressedContent=k}w.prototype={getContentWorker:function(){var _=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),B=this;return _.on("end",function(){if(this.streamInfo.data_length!==B.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},w.createWorkerFrom=function(_,B,R){return _.pipe(new y).pipe(new b("uncompressedSize")).pipe(B.compressWorker(R)).pipe(new b("compressedSize")).withStreamInfo("compression",B)},p.exports=w},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,p,g){var m=f("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},g.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,p,g){var m=f("./utils"),v=function(){for(var y,b=[],w=0;w<256;w++){y=w;for(var _=0;_<8;_++)y=1&y?3988292384^y>>>1:y>>>1;b[w]=y}return b}();p.exports=function(y,b){return y!==void 0&&y.length?m.getTypeOf(y)!=="string"?function(w,_,B,R){var j=v,k=0+B;w^=-1;for(var L=0;L<k;L++)w=w>>>8^j[255&(w^_[L])];return-1^w}(0|b,y,y.length):function(w,_,B,R){var j=v,k=0+B;w^=-1;for(var L=0;L<k;L++)w=w>>>8^j[255&(w^_.charCodeAt(L))];return-1^w}(0|b,y,y.length):0}},{"./utils":32}],5:[function(f,p,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(f,p,g){var m;m=typeof Promise<"u"?Promise:f("lie"),p.exports={Promise:m}},{lie:37}],7:[function(f,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=f("pako"),y=f("./utils"),b=f("./stream/GenericWorker"),w=m?"uint8array":"array";function _(B,R){b.call(this,"FlateWorker/"+B),this._pako=null,this._pakoAction=B,this._pakoOptions=R,this.meta={}}g.magic="\b\0",y.inherits(_,b),_.prototype.processChunk=function(B){this.meta=B.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(w,B.data),!1)},_.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var B=this;this._pako.onData=function(R){B.push({data:R,meta:B.meta})}},g.compressWorker=function(B){return new _("Deflate",B)},g.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,p,g){function m(j,k){var L,H="";for(L=0;L<k;L++)H+=String.fromCharCode(255&j),j>>>=8;return H}function v(j,k,L,H,I,T){var P,N,S=j.file,C=j.compression,E=T!==w.utf8encode,x=y.transformTo("string",T(S.name)),F=y.transformTo("string",w.utf8encode(S.name)),U=S.comment,M=y.transformTo("string",T(U)),z=y.transformTo("string",w.utf8encode(U)),G=F.length!==S.name.length,Y=z.length!==U.length,Q="",q="",D="",O=S.dir,V=S.date,J={crc32:0,compressedSize:0,uncompressedSize:0};k&&!L||(J.crc32=j.crc32,J.compressedSize=j.compressedSize,J.uncompressedSize=j.uncompressedSize);var re=0;k&&(re|=8),E||!G&&!Y||(re|=2048);var ne=0,se=0;O&&(ne|=16),I==="UNIX"?(se=798,ne|=function(de,ie){var he=de;return de||(he=ie?16893:33204),(65535&he)<<16}(S.unixPermissions,O)):(se=20,ne|=function(de){return 63&(de||0)}(S.dosPermissions)),P=V.getUTCHours(),P<<=6,P|=V.getUTCMinutes(),P<<=5,P|=V.getUTCSeconds()/2,N=V.getUTCFullYear()-1980,N<<=4,N|=V.getUTCMonth()+1,N<<=5,N|=V.getUTCDate(),G&&(q=m(1,1)+m(_(x),4)+F,Q+="up"+m(q.length,2)+q),Y&&(D=m(1,1)+m(_(M),4)+z,Q+="uc"+m(D.length,2)+D);var ee="";return ee+=`
\0`,ee+=m(re,2),ee+=C.magic,ee+=m(P,2),ee+=m(N,2),ee+=m(J.crc32,4),ee+=m(J.compressedSize,4),ee+=m(J.uncompressedSize,4),ee+=m(x.length,2),ee+=m(Q.length,2),{fileRecord:B.LOCAL_FILE_HEADER+ee+x+Q,dirRecord:B.CENTRAL_FILE_HEADER+m(se,2)+ee+m(M.length,2)+"\0\0\0\0"+m(ne,4)+m(H,4)+x+Q+M}}var y=f("../utils"),b=f("../stream/GenericWorker"),w=f("../utf8"),_=f("../crc32"),B=f("../signature");function R(j,k,L,H){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=L,this.encodeFileName=H,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(R,b),R.prototype.push=function(j){var k=j.meta.percent||0,L=this.entriesCount,H=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,b.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:L?(k+100*(L-H-1))/L:100}}))},R.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var k=this.streamFiles&&!j.file.dir;if(k){var L=v(j,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:L.fileRecord,meta:{percent:0}})}else this.accumulate=!0},R.prototype.closedSource=function(j){this.accumulate=!1;var k=this.streamFiles&&!j.file.dir,L=v(j,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(L.dirRecord),k)this.push({data:function(H){return B.DATA_DESCRIPTOR+m(H.crc32,4)+m(H.compressedSize,4)+m(H.uncompressedSize,4)}(j),meta:{percent:100}});else for(this.push({data:L.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},R.prototype.flush=function(){for(var j=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var L=this.bytesWritten-j,H=function(I,T,P,N,S){var C=y.transformTo("string",S(N));return B.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(I,2)+m(I,2)+m(T,4)+m(P,4)+m(C.length,2)+C}(this.dirRecords.length,L,j,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})},R.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},R.prototype.registerPrevious=function(j){this._sources.push(j);var k=this;return j.on("data",function(L){k.processChunk(L)}),j.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),j.on("error",function(L){k.error(L)}),this},R.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},R.prototype.error=function(j){var k=this._sources;if(!b.prototype.error.call(this,j))return!1;for(var L=0;L<k.length;L++)try{k[L].error(j)}catch{}return!0},R.prototype.lock=function(){b.prototype.lock.call(this);for(var j=this._sources,k=0;k<j.length;k++)j[k].lock()},p.exports=R},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,p,g){var m=f("../compressions"),v=f("./ZipFileWorker");g.generateWorker=function(y,b,w){var _=new v(b.streamFiles,w,b.platform,b.encodeFileName),B=0;try{y.forEach(function(R,j){B++;var k=function(T,P){var N=T||P,S=m[N];if(!S)throw new Error(N+" is not a valid compression method !");return S}(j.options.compression,b.compression),L=j.options.compressionOptions||b.compressionOptions||{},H=j.dir,I=j.date;j._compressWorker(k,L).withStreamInfo("file",{name:R,dir:H,date:I,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(_)}),_.entriesCount=B}catch(R){_.error(R)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,p,g){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(m.prototype=f("./object")).loadAsync=f("./load"),m.support=f("./support"),m.defaults=f("./defaults"),m.version="3.10.1",m.loadAsync=function(v,y){return new m().loadAsync(v,y)},m.external=f("./external"),p.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,p,g){var m=f("./utils"),v=f("./external"),y=f("./utf8"),b=f("./zipEntries"),w=f("./stream/Crc32Probe"),_=f("./nodejsUtils");function B(R){return new v.Promise(function(j,k){var L=R.decompressed.getContentWorker().pipe(new w);L.on("error",function(H){k(H)}).on("end",function(){L.streamInfo.crc32!==R.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):j()}).resume()})}p.exports=function(R,j){var k=this;return j=m.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),_.isNode&&_.isStream(R)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",R,!0,j.optimizedBinaryString,j.base64).then(function(L){var H=new b(j);return H.load(L),H}).then(function(L){var H=[v.Promise.resolve(L)],I=L.files;if(j.checkCRC32)for(var T=0;T<I.length;T++)H.push(B(I[T]));return v.Promise.all(H)}).then(function(L){for(var H=L.shift(),I=H.files,T=0;T<I.length;T++){var P=I[T],N=P.fileNameStr,S=m.resolve(P.fileNameStr);k.file(S,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:j.createFolders}),P.dir||(k.file(S).unsafeOriginalName=N)}return H.zipComment.length&&(k.comment=H.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,p,g){var m=f("../utils"),v=f("../stream/GenericWorker");function y(b,w){v.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(w)}m.inherits(y,v),y.prototype._bindStream=function(b){var w=this;(this._stream=b).pause(),b.on("data",function(_){w.push({data:_,meta:{percent:0}})}).on("error",function(_){w.isPaused?this.generatedError=_:w.error(_)}).on("end",function(){w.isPaused?w._upstreamEnded=!0:w.end()})},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,p,g){var m=f("readable-stream").Readable;function v(y,b,w){m.call(this,b),this._helper=y;var _=this;y.on("data",function(B,R){_.push(B)||_._helper.pause(),w&&w(R)}).on("error",function(B){_.emit("error",B)}).on("end",function(){_.push(null)})}f("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},p.exports=v},{"../utils":32,"readable-stream":16}],14:[function(f,p,g){p.exports={isNode:o!==void 0,newBufferFrom:function(m,v){if(o.from&&o.from!==Uint8Array.from)return o.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,v)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var v=new o(m);return v.fill(0),v},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(f,p,g){function m(S,C,E){var x,F=y.getTypeOf(C),U=y.extend(E||{},_);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(S=I(S)),U.createFolders&&(x=H(S))&&T.call(this,x,!0);var M=F==="string"&&U.binary===!1&&U.base64===!1;E&&E.binary!==void 0||(U.binary=!M),(C instanceof B&&C.uncompressedSize===0||U.dir||!C||C.length===0)&&(U.base64=!1,U.binary=!0,C="",U.compression="STORE",F="string");var z;z=C instanceof B||C instanceof b?C:k.isNode&&k.isStream(C)?new L(S,C):y.prepareContent(S,C,U.binary,U.optimizedBinaryString,U.base64);var G=new R(S,z,U);this.files[S]=G}var v=f("./utf8"),y=f("./utils"),b=f("./stream/GenericWorker"),w=f("./stream/StreamHelper"),_=f("./defaults"),B=f("./compressedObject"),R=f("./zipObject"),j=f("./generate"),k=f("./nodejsUtils"),L=f("./nodejs/NodejsStreamInputAdapter"),H=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var C=S.lastIndexOf("/");return 0<C?S.substring(0,C):""},I=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},T=function(S,C){return C=C!==void 0?C:_.createFolders,S=I(S),this.files[S]||m.call(this,S,null,{dir:!0,createFolders:C}),this.files[S]};function P(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var C,E,x;for(C in this.files)x=this.files[C],(E=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&S(E,x)},filter:function(S){var C=[];return this.forEach(function(E,x){S(E,x)&&C.push(x)}),C},file:function(S,C,E){if(arguments.length!==1)return S=this.root+S,m.call(this,S,C,E),this;if(P(S)){var x=S;return this.filter(function(U,M){return!M.dir&&x.test(U)})}var F=this.files[this.root+S];return F&&!F.dir?F:null},folder:function(S){if(!S)return this;if(P(S))return this.filter(function(F,U){return U.dir&&S.test(F)});var C=this.root+S,E=T.call(this,C),x=this.clone();return x.root=E.name,x},remove:function(S){S=this.root+S;var C=this.files[S];if(C||(S.slice(-1)!=="/"&&(S+="/"),C=this.files[S]),C&&!C.dir)delete this.files[S];else for(var E=this.filter(function(F,U){return U.name.slice(0,S.length)===S}),x=0;x<E.length;x++)delete this.files[E[x].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var C,E={};try{if((E=y.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");y.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var x=E.comment||this.comment||"";C=j.generateWorker(this,E,x)}catch(F){(C=new b("error")).error(F)}return new w(C,E.type||"string",E.mimeType)},generateAsync:function(S,C){return this.generateInternalStream(S).accumulate(C)},generateNodeStream:function(S,C){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(C)}};p.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,p,g){p.exports=f("stream")},{stream:void 0}],17:[function(f,p,g){var m=f("./DataReader");function v(y){m.call(this,y);for(var b=0;b<this.data.length;b++)y[b]=255&y[b]}f("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var b=y.charCodeAt(0),w=y.charCodeAt(1),_=y.charCodeAt(2),B=y.charCodeAt(3),R=this.length-4;0<=R;--R)if(this.data[R]===b&&this.data[R+1]===w&&this.data[R+2]===_&&this.data[R+3]===B)return R-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var b=y.charCodeAt(0),w=y.charCodeAt(1),_=y.charCodeAt(2),B=y.charCodeAt(3),R=this.readData(4);return b===R[0]&&w===R[1]&&_===R[2]&&B===R[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./DataReader":18}],18:[function(f,p,g){var m=f("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var b,w=0;for(this.checkOffset(y),b=this.index+y-1;b>=this.index;b--)w=(w<<8)+this.byteAt(b);return this.index+=y,w},readString:function(y){return m.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},p.exports=v},{"../utils":32}],19:[function(f,p,g){var m=f("./Uint8ArrayReader");function v(y){m.call(this,y)}f("../utils").inherits(v,m),v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,p,g){var m=f("./DataReader");function v(y){m.call(this,y)}f("../utils").inherits(v,m),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./DataReader":18}],21:[function(f,p,g){var m=f("./ArrayReader");function v(y){m.call(this,y)}f("../utils").inherits(v,m),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},p.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(f,p,g){var m=f("../utils"),v=f("../support"),y=f("./ArrayReader"),b=f("./StringReader"),w=f("./NodeBufferReader"),_=f("./Uint8ArrayReader");p.exports=function(B){var R=m.getTypeOf(B);return m.checkSupport(R),R!=="string"||v.uint8array?R==="nodebuffer"?new w(B):v.uint8array?new _(m.transformTo("uint8array",B)):new y(m.transformTo("array",B)):new b(B)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,p,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,p,g){var m=f("./GenericWorker"),v=f("../utils");function y(b){m.call(this,"ConvertWorker to "+b),this.destType=b}v.inherits(y,m),y.prototype.processChunk=function(b){this.push({data:v.transformTo(this.destType,b.data),meta:b.meta})},p.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(f,p,g){var m=f("./GenericWorker"),v=f("../crc32");function y(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(y,m),y.prototype.processChunk=function(b){this.streamInfo.crc32=v(b.data,this.streamInfo.crc32||0),this.push(b)},p.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,p,g){var m=f("../utils"),v=f("./GenericWorker");function y(b){v.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}m.inherits(y,v),y.prototype.processChunk=function(b){if(b){var w=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=w+b.data.length}v.prototype.processChunk.call(this,b)},p.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(f,p,g){var m=f("../utils"),v=f("./GenericWorker");function y(b){v.call(this,"DataWorker");var w=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(_){w.dataIsReady=!0,w.data=_,w.max=_&&_.length||0,w.type=m.getTypeOf(_),w.isPaused||w._tickAndRepeat()},function(_){w.error(_)})}m.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,w=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,w);break;case"uint8array":b=this.data.subarray(this.index,w);break;case"array":case"nodebuffer":b=this.data.slice(this.index,w)}return this.index=w,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(f,p,g){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var b=0;b<this._listeners[v].length;b++)this._listeners[v][b].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",function(b){y.processChunk(b)}),v.on("end",function(){y.end()}),v.on("error",function(b){y.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},p.exports=m},{}],29:[function(f,p,g){var m=f("../utils"),v=f("./ConvertWorker"),y=f("./GenericWorker"),b=f("../base64"),w=f("../support"),_=f("../external"),B=null;if(w.nodestream)try{B=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function R(j,k,L){var H=k;switch(k){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string"}try{this._internalType=H,this._outputType=k,this._mimeType=L,m.checkSupport(H),this._worker=j.pipe(new v(H)),j.lock()}catch(I){this._worker=new y("error"),this._worker.error(I)}}R.prototype={accumulate:function(j){return function(k,L){return new _.Promise(function(H,I){var T=[],P=k._internalType,N=k._outputType,S=k._mimeType;k.on("data",function(C,E){T.push(C),L&&L(E)}).on("error",function(C){T=[],I(C)}).on("end",function(){try{var C=function(E,x,F){switch(E){case"blob":return m.newBlob(m.transformTo("arraybuffer",x),F);case"base64":return b.encode(x);default:return m.transformTo(E,x)}}(N,function(E,x){var F,U=0,M=null,z=0;for(F=0;F<x.length;F++)z+=x[F].length;switch(E){case"string":return x.join("");case"array":return Array.prototype.concat.apply([],x);case"uint8array":for(M=new Uint8Array(z),F=0;F<x.length;F++)M.set(x[F],U),U+=x[F].length;return M;case"nodebuffer":return o.concat(x);default:throw new Error("concat : unsupported type '"+E+"'")}}(P,T),S);H(C)}catch(E){I(E)}T=[]}).resume()})}(this,j)},on:function(j,k){var L=this;return j==="data"?this._worker.on(j,function(H){k.call(L,H.data,H.meta)}):this._worker.on(j,function(){m.delay(k,arguments,L)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new B(this,{objectMode:this._outputType!=="nodebuffer"},j)}},p.exports=R},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,p,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=o!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var m=new ArrayBuffer(0);try{g.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!f("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(f,p,g){for(var m=f("./utils"),v=f("./support"),y=f("./nodejsUtils"),b=f("./stream/GenericWorker"),w=new Array(256),_=0;_<256;_++)w[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function B(){b.call(this,"utf-8 decode"),this.leftOver=null}function R(){b.call(this,"utf-8 encode")}w[254]=w[254]=1,g.utf8encode=function(j){return v.nodebuffer?y.newBufferFrom(j,"utf-8"):function(k){var L,H,I,T,P,N=k.length,S=0;for(T=0;T<N;T++)(64512&(H=k.charCodeAt(T)))==55296&&T+1<N&&(64512&(I=k.charCodeAt(T+1)))==56320&&(H=65536+(H-55296<<10)+(I-56320),T++),S+=H<128?1:H<2048?2:H<65536?3:4;for(L=v.uint8array?new Uint8Array(S):new Array(S),T=P=0;P<S;T++)(64512&(H=k.charCodeAt(T)))==55296&&T+1<N&&(64512&(I=k.charCodeAt(T+1)))==56320&&(H=65536+(H-55296<<10)+(I-56320),T++),H<128?L[P++]=H:(H<2048?L[P++]=192|H>>>6:(H<65536?L[P++]=224|H>>>12:(L[P++]=240|H>>>18,L[P++]=128|H>>>12&63),L[P++]=128|H>>>6&63),L[P++]=128|63&H);return L}(j)},g.utf8decode=function(j){return v.nodebuffer?m.transformTo("nodebuffer",j).toString("utf-8"):function(k){var L,H,I,T,P=k.length,N=new Array(2*P);for(L=H=0;L<P;)if((I=k[L++])<128)N[H++]=I;else if(4<(T=w[I]))N[H++]=65533,L+=T-1;else{for(I&=T===2?31:T===3?15:7;1<T&&L<P;)I=I<<6|63&k[L++],T--;1<T?N[H++]=65533:I<65536?N[H++]=I:(I-=65536,N[H++]=55296|I>>10&1023,N[H++]=56320|1023&I)}return N.length!==H&&(N.subarray?N=N.subarray(0,H):N.length=H),m.applyFromCharCode(N)}(j=m.transformTo(v.uint8array?"uint8array":"array",j))},m.inherits(B,b),B.prototype.processChunk=function(j){var k=m.transformTo(v.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var L=k;(k=new Uint8Array(L.length+this.leftOver.length)).set(this.leftOver,0),k.set(L,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var H=function(T,P){var N;for((P=P||T.length)>T.length&&(P=T.length),N=P-1;0<=N&&(192&T[N])==128;)N--;return N<0||N===0?P:N+w[T[N]]>P?N:P}(k),I=k;H!==k.length&&(v.uint8array?(I=k.subarray(0,H),this.leftOver=k.subarray(H,k.length)):(I=k.slice(0,H),this.leftOver=k.slice(H,k.length))),this.push({data:g.utf8decode(I),meta:j.meta})},B.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=B,m.inherits(R,b),R.prototype.processChunk=function(j){this.push({data:g.utf8encode(j.data),meta:j.meta})},g.Utf8EncodeWorker=R},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,p,g){var m=f("./support"),v=f("./base64"),y=f("./nodejsUtils"),b=f("./external");function w(L){return L}function _(L,H){for(var I=0;I<L.length;++I)H[I]=255&L.charCodeAt(I);return H}f("setimmediate"),g.newBlob=function(L,H){g.checkSupport("blob");try{return new Blob([L],{type:H})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(L),I.getBlob(H)}catch{throw new Error("Bug : can't construct the Blob.")}}};var B={stringifyByChunk:function(L,H,I){var T=[],P=0,N=L.length;if(N<=I)return String.fromCharCode.apply(null,L);for(;P<N;)H==="array"||H==="nodebuffer"?T.push(String.fromCharCode.apply(null,L.slice(P,Math.min(P+I,N)))):T.push(String.fromCharCode.apply(null,L.subarray(P,Math.min(P+I,N)))),P+=I;return T.join("")},stringifyByChar:function(L){for(var H="",I=0;I<L.length;I++)H+=String.fromCharCode(L[I]);return H},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function R(L){var H=65536,I=g.getTypeOf(L),T=!0;if(I==="uint8array"?T=B.applyCanBeUsed.uint8array:I==="nodebuffer"&&(T=B.applyCanBeUsed.nodebuffer),T)for(;1<H;)try{return B.stringifyByChunk(L,I,H)}catch{H=Math.floor(H/2)}return B.stringifyByChar(L)}function j(L,H){for(var I=0;I<L.length;I++)H[I]=L[I];return H}g.applyFromCharCode=R;var k={};k.string={string:w,array:function(L){return _(L,new Array(L.length))},arraybuffer:function(L){return k.string.uint8array(L).buffer},uint8array:function(L){return _(L,new Uint8Array(L.length))},nodebuffer:function(L){return _(L,y.allocBuffer(L.length))}},k.array={string:R,array:w,arraybuffer:function(L){return new Uint8Array(L).buffer},uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return y.newBufferFrom(L)}},k.arraybuffer={string:function(L){return R(new Uint8Array(L))},array:function(L){return j(new Uint8Array(L),new Array(L.byteLength))},arraybuffer:w,uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return y.newBufferFrom(new Uint8Array(L))}},k.uint8array={string:R,array:function(L){return j(L,new Array(L.length))},arraybuffer:function(L){return L.buffer},uint8array:w,nodebuffer:function(L){return y.newBufferFrom(L)}},k.nodebuffer={string:R,array:function(L){return j(L,new Array(L.length))},arraybuffer:function(L){return k.nodebuffer.uint8array(L).buffer},uint8array:function(L){return j(L,new Uint8Array(L.length))},nodebuffer:w},g.transformTo=function(L,H){if(H=H||"",!L)return H;g.checkSupport(L);var I=g.getTypeOf(H);return k[I][L](H)},g.resolve=function(L){for(var H=L.split("/"),I=[],T=0;T<H.length;T++){var P=H[T];P==="."||P===""&&T!==0&&T!==H.length-1||(P===".."?I.pop():I.push(P))}return I.join("/")},g.getTypeOf=function(L){return typeof L=="string"?"string":Object.prototype.toString.call(L)==="[object Array]"?"array":m.nodebuffer&&y.isBuffer(L)?"nodebuffer":m.uint8array&&L instanceof Uint8Array?"uint8array":m.arraybuffer&&L instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(L){if(!m[L.toLowerCase()])throw new Error(L+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(L){var H,I,T="";for(I=0;I<(L||"").length;I++)T+="\\x"+((H=L.charCodeAt(I))<16?"0":"")+H.toString(16).toUpperCase();return T},g.delay=function(L,H,I){h(function(){L.apply(I||null,H||[])})},g.inherits=function(L,H){function I(){}I.prototype=H.prototype,L.prototype=new I},g.extend=function(){var L,H,I={};for(L=0;L<arguments.length;L++)for(H in arguments[L])Object.prototype.hasOwnProperty.call(arguments[L],H)&&I[H]===void 0&&(I[H]=arguments[L][H]);return I},g.prepareContent=function(L,H,I,T,P){return b.Promise.resolve(H).then(function(N){return m.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new b.Promise(function(S,C){var E=new FileReader;E.onload=function(x){S(x.target.result)},E.onerror=function(x){C(x.target.error)},E.readAsArrayBuffer(N)}):N}).then(function(N){var S=g.getTypeOf(N);return S?(S==="arraybuffer"?N=g.transformTo("uint8array",N):S==="string"&&(P?N=v.decode(N):I&&T!==!0&&(N=function(C){return _(C,m.uint8array?new Uint8Array(C.length):new Array(C.length))}(N))),N):b.Promise.reject(new Error("Can't read the data of '"+L+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,p,g){var m=f("./reader/readerFor"),v=f("./utils"),y=f("./signature"),b=f("./zipEntry"),w=f("./support");function _(B){this.files=[],this.loadOptions=B}_.prototype={checkSignature:function(B){if(!this.reader.readAndCheckSignature(B)){this.reader.index-=4;var R=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(R)+", expected "+v.pretty(B)+")")}},isSignature:function(B,R){var j=this.reader.index;this.reader.setIndex(B);var k=this.reader.readString(4)===R;return this.reader.setIndex(j),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var B=this.reader.readData(this.zipCommentLength),R=w.uint8array?"uint8array":"array",j=v.transformTo(R,B);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var B,R,j,k=this.zip64EndOfCentralSize-44;0<k;)B=this.reader.readInt(2),R=this.reader.readInt(4),j=this.reader.readData(R),this.zip64ExtensibleData[B]={id:B,length:R,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var B,R;for(B=0;B<this.files.length;B++)R=this.files[B],this.reader.setIndex(R.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),R.readLocalPart(this.reader),R.handleUTF8(),R.processAttributes()},readCentralDir:function(){var B;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(B=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(B);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var B=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(B<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(B);var R=B;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(B=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(B),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var k=R-j;if(0<k)this.isSignature(R,y.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(B){this.reader=m(B)},load:function(B){this.prepareReader(B),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,p,g){var m=f("./reader/readerFor"),v=f("./utils"),y=f("./compressedObject"),b=f("./crc32"),w=f("./utf8"),_=f("./compressions"),B=f("./support");function R(j,k){this.options=j,this.loadOptions=k}R.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(j){var k,L;if(j.skip(22),this.fileNameLength=j.readInt(2),L=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(L),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(H){for(var I in _)if(Object.prototype.hasOwnProperty.call(_,I)&&_[I].magic===H)return _[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,k,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var k=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(k),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),j==0&&(this.dosPermissions=63&this.externalFileAttributes),j==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var j=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=j.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=j.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=j.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=j.readInt(4))}},readExtraFields:function(j){var k,L,H,I=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<I;)k=j.readInt(2),L=j.readInt(2),H=j.readData(L),this.extraFields[k]={id:k,length:L,value:H};j.setIndex(I)},handleUTF8:function(){var j=B.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var L=v.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(L)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var I=v.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var k=m(j.value);return k.readInt(1)!==1||b(this.fileName)!==k.readInt(4)?null:w.utf8decode(k.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var k=m(j.value);return k.readInt(1)!==1||b(this.fileComment)!==k.readInt(4)?null:w.utf8decode(k.readData(j.length-5))}return null}},p.exports=R},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,p,g){function m(k,L,H){this.name=k,this.dir=H.dir,this.date=H.date,this.comment=H.comment,this.unixPermissions=H.unixPermissions,this.dosPermissions=H.dosPermissions,this._data=L,this._dataBinary=H.binary,this.options={compression:H.compression,compressionOptions:H.compressionOptions}}var v=f("./stream/StreamHelper"),y=f("./stream/DataWorker"),b=f("./utf8"),w=f("./compressedObject"),_=f("./stream/GenericWorker");m.prototype={internalStream:function(k){var L=null,H="string";try{if(!k)throw new Error("No output type specified.");var I=(H=k.toLowerCase())==="string"||H==="text";H!=="binarystring"&&H!=="text"||(H="string"),L=this._decompressWorker();var T=!this._dataBinary;T&&!I&&(L=L.pipe(new b.Utf8EncodeWorker)),!T&&I&&(L=L.pipe(new b.Utf8DecodeWorker))}catch(P){(L=new _("error")).error(P)}return new v(L,H,"")},async:function(k,L){return this.internalStream(k).accumulate(L)},nodeStream:function(k,L){return this.internalStream(k||"nodebuffer").toNodejsStream(L)},_compressWorker:function(k,L){if(this._data instanceof w&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var H=this._decompressWorker();return this._dataBinary||(H=H.pipe(new b.Utf8EncodeWorker)),w.createWorkerFrom(H,k,L)},_decompressWorker:function(){return this._data instanceof w?this._data.getContentWorker():this._data instanceof _?this._data:new y(this._data)}};for(var B=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],R=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<B.length;j++)m.prototype[B[j]]=R;p.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,p,g){(function(m){var v,y,b=m.MutationObserver||m.WebKitMutationObserver;if(b){var w=0,_=new b(k),B=m.document.createTextNode("");_.observe(B,{characterData:!0}),v=function(){B.data=w=++w%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var L=m.document.createElement("script");L.onreadystatechange=function(){k(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},m.document.documentElement.appendChild(L)}:function(){setTimeout(k,0)};else{var R=new m.MessageChannel;R.port1.onmessage=k,v=function(){R.port2.postMessage(0)}}var j=[];function k(){var L,H;y=!0;for(var I=j.length;I;){for(H=j,j=[],L=-1;++L<I;)H[L]();I=j.length}y=!1}p.exports=function(L){j.push(L)!==1||y||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,p,g){var m=f("immediate");function v(){}var y={},b=["REJECTED"],w=["FULFILLED"],_=["PENDING"];function B(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,I!==v&&L(this,I)}function R(I,T,P){this.promise=I,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function j(I,T,P){m(function(){var N;try{N=T(P)}catch(S){return y.reject(I,S)}N===I?y.reject(I,new TypeError("Cannot resolve promise with itself")):y.resolve(I,N)})}function k(I){var T=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof T=="function")return function(){T.apply(I,arguments)}}function L(I,T){var P=!1;function N(E){P||(P=!0,y.reject(I,E))}function S(E){P||(P=!0,y.resolve(I,E))}var C=H(function(){T(S,N)});C.status==="error"&&N(C.value)}function H(I,T){var P={};try{P.value=I(T),P.status="success"}catch(N){P.status="error",P.value=N}return P}(p.exports=B).prototype.finally=function(I){if(typeof I!="function")return this;var T=this.constructor;return this.then(function(P){return T.resolve(I()).then(function(){return P})},function(P){return T.resolve(I()).then(function(){throw P})})},B.prototype.catch=function(I){return this.then(null,I)},B.prototype.then=function(I,T){if(typeof I!="function"&&this.state===w||typeof T!="function"&&this.state===b)return this;var P=new this.constructor(v);return this.state!==_?j(P,this.state===w?I:T,this.outcome):this.queue.push(new R(P,I,T)),P},R.prototype.callFulfilled=function(I){y.resolve(this.promise,I)},R.prototype.otherCallFulfilled=function(I){j(this.promise,this.onFulfilled,I)},R.prototype.callRejected=function(I){y.reject(this.promise,I)},R.prototype.otherCallRejected=function(I){j(this.promise,this.onRejected,I)},y.resolve=function(I,T){var P=H(k,T);if(P.status==="error")return y.reject(I,P.value);var N=P.value;if(N)L(I,N);else{I.state=w,I.outcome=T;for(var S=-1,C=I.queue.length;++S<C;)I.queue[S].callFulfilled(T)}return I},y.reject=function(I,T){I.state=b,I.outcome=T;for(var P=-1,N=I.queue.length;++P<N;)I.queue[P].callRejected(T);return I},B.resolve=function(I){return I instanceof this?I:y.resolve(new this(v),I)},B.reject=function(I){var T=new this(v);return y.reject(T,I)},B.all=function(I){var T=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=I.length,N=!1;if(!P)return this.resolve([]);for(var S=new Array(P),C=0,E=-1,x=new this(v);++E<P;)F(I[E],E);return x;function F(U,M){T.resolve(U).then(function(z){S[M]=z,++C!==P||N||(N=!0,y.resolve(x,S))},function(z){N||(N=!0,y.reject(x,z))})}},B.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=I.length,P=!1;if(!T)return this.resolve([]);for(var N,S=-1,C=new this(v);++S<T;)N=I[S],this.resolve(N).then(function(E){P||(P=!0,y.resolve(C,E))},function(E){P||(P=!0,y.reject(C,E))});return C}},{immediate:36}],38:[function(f,p,g){var m={};(0,f("./lib/utils/common").assign)(m,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),p.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,p,g){var m=f("./zlib/deflate"),v=f("./utils/common"),y=f("./utils/strings"),b=f("./zlib/messages"),w=f("./zlib/zstream"),_=Object.prototype.toString;function B(j){if(!(this instanceof B))return new B(j);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},j||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var L=m.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(L!==0)throw new Error(b[L]);if(k.header&&m.deflateSetHeader(this.strm,k.header),k.dictionary){var H;if(H=typeof k.dictionary=="string"?y.string2buf(k.dictionary):_.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(L=m.deflateSetDictionary(this.strm,H))!==0)throw new Error(b[L]);this._dict_set=!0}}function R(j,k){var L=new B(k);if(L.push(j,!0),L.err)throw L.msg||b[L.err];return L.result}B.prototype.push=function(j,k){var L,H,I=this.strm,T=this.options.chunkSize;if(this.ended)return!1;H=k===~~k?k:k===!0?4:0,typeof j=="string"?I.input=y.string2buf(j):_.call(j)==="[object ArrayBuffer]"?I.input=new Uint8Array(j):I.input=j,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new v.Buf8(T),I.next_out=0,I.avail_out=T),(L=m.deflate(I,H))!==1&&L!==0)return this.onEnd(L),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(I.output,I.next_out))):this.onData(v.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&L!==1);return H===4?(L=m.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===0):H!==2||(this.onEnd(0),!(I.avail_out=0))},B.prototype.onData=function(j){this.chunks.push(j)},B.prototype.onEnd=function(j){j===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},g.Deflate=B,g.deflate=R,g.deflateRaw=function(j,k){return(k=k||{}).raw=!0,R(j,k)},g.gzip=function(j,k){return(k=k||{}).gzip=!0,R(j,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,p,g){var m=f("./zlib/inflate"),v=f("./utils/common"),y=f("./utils/strings"),b=f("./zlib/constants"),w=f("./zlib/messages"),_=f("./zlib/zstream"),B=f("./zlib/gzheader"),R=Object.prototype.toString;function j(L){if(!(this instanceof j))return new j(L);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},L||{});var H=this.options;H.raw&&0<=H.windowBits&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),!(0<=H.windowBits&&H.windowBits<16)||L&&L.windowBits||(H.windowBits+=32),15<H.windowBits&&H.windowBits<48&&!(15&H.windowBits)&&(H.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var I=m.inflateInit2(this.strm,H.windowBits);if(I!==b.Z_OK)throw new Error(w[I]);this.header=new B,m.inflateGetHeader(this.strm,this.header)}function k(L,H){var I=new j(H);if(I.push(L,!0),I.err)throw I.msg||w[I.err];return I.result}j.prototype.push=function(L,H){var I,T,P,N,S,C,E=this.strm,x=this.options.chunkSize,F=this.options.dictionary,U=!1;if(this.ended)return!1;T=H===~~H?H:H===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof L=="string"?E.input=y.binstring2buf(L):R.call(L)==="[object ArrayBuffer]"?E.input=new Uint8Array(L):E.input=L,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new v.Buf8(x),E.next_out=0,E.avail_out=x),(I=m.inflate(E,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&F&&(C=typeof F=="string"?y.string2buf(F):R.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,I=m.inflateSetDictionary(this.strm,C)),I===b.Z_BUF_ERROR&&U===!0&&(I=b.Z_OK,U=!1),I!==b.Z_STREAM_END&&I!==b.Z_OK)return this.onEnd(I),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&I!==b.Z_STREAM_END&&(E.avail_in!==0||T!==b.Z_FINISH&&T!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=y.utf8border(E.output,E.next_out),N=E.next_out-P,S=y.buf2string(E.output,P),E.next_out=N,E.avail_out=x-N,N&&v.arraySet(E.output,E.output,P,N,0),this.onData(S)):this.onData(v.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(U=!0)}while((0<E.avail_in||E.avail_out===0)&&I!==b.Z_STREAM_END);return I===b.Z_STREAM_END&&(T=b.Z_FINISH),T===b.Z_FINISH?(I=m.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===b.Z_OK):T!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(E.avail_out=0))},j.prototype.onData=function(L){this.chunks.push(L)},j.prototype.onEnd=function(L){L===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},g.Inflate=j,g.inflate=k,g.inflateRaw=function(L,H){return(H=H||{}).raw=!0,k(L,H)},g.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,p,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(b){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var _=w.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var B in _)_.hasOwnProperty(B)&&(b[B]=_[B])}}return b},g.shrinkBuf=function(b,w){return b.length===w?b:b.subarray?b.subarray(0,w):(b.length=w,b)};var v={arraySet:function(b,w,_,B,R){if(w.subarray&&b.subarray)b.set(w.subarray(_,_+B),R);else for(var j=0;j<B;j++)b[R+j]=w[_+j]},flattenChunks:function(b){var w,_,B,R,j,k;for(w=B=0,_=b.length;w<_;w++)B+=b[w].length;for(k=new Uint8Array(B),w=R=0,_=b.length;w<_;w++)j=b[w],k.set(j,R),R+=j.length;return k}},y={arraySet:function(b,w,_,B,R){for(var j=0;j<B;j++)b[R+j]=w[_+j]},flattenChunks:function(b){return[].concat.apply([],b)}};g.setTyped=function(b){b?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,y))},g.setTyped(m)},{}],42:[function(f,p,g){var m=f("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var b=new m.Buf8(256),w=0;w<256;w++)b[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function _(B,R){if(R<65537&&(B.subarray&&y||!B.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(B,R));for(var j="",k=0;k<R;k++)j+=String.fromCharCode(B[k]);return j}b[254]=b[254]=1,g.string2buf=function(B){var R,j,k,L,H,I=B.length,T=0;for(L=0;L<I;L++)(64512&(j=B.charCodeAt(L)))==55296&&L+1<I&&(64512&(k=B.charCodeAt(L+1)))==56320&&(j=65536+(j-55296<<10)+(k-56320),L++),T+=j<128?1:j<2048?2:j<65536?3:4;for(R=new m.Buf8(T),L=H=0;H<T;L++)(64512&(j=B.charCodeAt(L)))==55296&&L+1<I&&(64512&(k=B.charCodeAt(L+1)))==56320&&(j=65536+(j-55296<<10)+(k-56320),L++),j<128?R[H++]=j:(j<2048?R[H++]=192|j>>>6:(j<65536?R[H++]=224|j>>>12:(R[H++]=240|j>>>18,R[H++]=128|j>>>12&63),R[H++]=128|j>>>6&63),R[H++]=128|63&j);return R},g.buf2binstring=function(B){return _(B,B.length)},g.binstring2buf=function(B){for(var R=new m.Buf8(B.length),j=0,k=R.length;j<k;j++)R[j]=B.charCodeAt(j);return R},g.buf2string=function(B,R){var j,k,L,H,I=R||B.length,T=new Array(2*I);for(j=k=0;j<I;)if((L=B[j++])<128)T[k++]=L;else if(4<(H=b[L]))T[k++]=65533,j+=H-1;else{for(L&=H===2?31:H===3?15:7;1<H&&j<I;)L=L<<6|63&B[j++],H--;1<H?T[k++]=65533:L<65536?T[k++]=L:(L-=65536,T[k++]=55296|L>>10&1023,T[k++]=56320|1023&L)}return _(T,k)},g.utf8border=function(B,R){var j;for((R=R||B.length)>B.length&&(R=B.length),j=R-1;0<=j&&(192&B[j])==128;)j--;return j<0||j===0?R:j+b[B[j]]>R?j:R}},{"./common":41}],43:[function(f,p,g){p.exports=function(m,v,y,b){for(var w=65535&m|0,_=m>>>16&65535|0,B=0;y!==0;){for(y-=B=2e3<y?2e3:y;_=_+(w=w+v[b++]|0)|0,--B;);w%=65521,_%=65521}return w|_<<16|0}},{}],44:[function(f,p,g){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,p,g){var m=function(){for(var v,y=[],b=0;b<256;b++){v=b;for(var w=0;w<8;w++)v=1&v?3988292384^v>>>1:v>>>1;y[b]=v}return y}();p.exports=function(v,y,b,w){var _=m,B=w+b;v^=-1;for(var R=w;R<B;R++)v=v>>>8^_[255&(v^y[R])];return-1^v}},{}],46:[function(f,p,g){var m,v=f("../utils/common"),y=f("./trees"),b=f("./adler32"),w=f("./crc32"),_=f("./messages"),B=-2,R=258,j=262,k=113;function L(Q,q){return Q.msg=_[q],q}function H(Q){return(Q<<1)-(4<Q?9:0)}function I(Q){for(var q=Q.length;0<=--q;)Q[q]=0}function T(Q){var q=Q.state,D=q.pending;D>Q.avail_out&&(D=Q.avail_out),D!==0&&(v.arraySet(Q.output,q.pending_buf,q.pending_out,D,Q.next_out),Q.next_out+=D,q.pending_out+=D,Q.total_out+=D,Q.avail_out-=D,q.pending-=D,q.pending===0&&(q.pending_out=0))}function P(Q,q){y._tr_flush_block(Q,0<=Q.block_start?Q.block_start:-1,Q.strstart-Q.block_start,q),Q.block_start=Q.strstart,T(Q.strm)}function N(Q,q){Q.pending_buf[Q.pending++]=q}function S(Q,q){Q.pending_buf[Q.pending++]=q>>>8&255,Q.pending_buf[Q.pending++]=255&q}function C(Q,q){var D,O,V=Q.max_chain_length,J=Q.strstart,re=Q.prev_length,ne=Q.nice_match,se=Q.strstart>Q.w_size-j?Q.strstart-(Q.w_size-j):0,ee=Q.window,de=Q.w_mask,ie=Q.prev,he=Q.strstart+R,le=ee[J+re-1],be=ee[J+re];Q.prev_length>=Q.good_match&&(V>>=2),ne>Q.lookahead&&(ne=Q.lookahead);do if(ee[(D=q)+re]===be&&ee[D+re-1]===le&&ee[D]===ee[J]&&ee[++D]===ee[J+1]){J+=2,D++;do;while(ee[++J]===ee[++D]&&ee[++J]===ee[++D]&&ee[++J]===ee[++D]&&ee[++J]===ee[++D]&&ee[++J]===ee[++D]&&ee[++J]===ee[++D]&&ee[++J]===ee[++D]&&ee[++J]===ee[++D]&&J<he);if(O=R-(he-J),J=he-R,re<O){if(Q.match_start=q,ne<=(re=O))break;le=ee[J+re-1],be=ee[J+re]}}while((q=ie[q&de])>se&&--V!=0);return re<=Q.lookahead?re:Q.lookahead}function E(Q){var q,D,O,V,J,re,ne,se,ee,de,ie=Q.w_size;do{if(V=Q.window_size-Q.lookahead-Q.strstart,Q.strstart>=ie+(ie-j)){for(v.arraySet(Q.window,Q.window,ie,ie,0),Q.match_start-=ie,Q.strstart-=ie,Q.block_start-=ie,q=D=Q.hash_size;O=Q.head[--q],Q.head[q]=ie<=O?O-ie:0,--D;);for(q=D=ie;O=Q.prev[--q],Q.prev[q]=ie<=O?O-ie:0,--D;);V+=ie}if(Q.strm.avail_in===0)break;if(re=Q.strm,ne=Q.window,se=Q.strstart+Q.lookahead,de=void 0,(ee=V)<(de=re.avail_in)&&(de=ee),D=de===0?0:(re.avail_in-=de,v.arraySet(ne,re.input,re.next_in,de,se),re.state.wrap===1?re.adler=b(re.adler,ne,de,se):re.state.wrap===2&&(re.adler=w(re.adler,ne,de,se)),re.next_in+=de,re.total_in+=de,de),Q.lookahead+=D,Q.lookahead+Q.insert>=3)for(J=Q.strstart-Q.insert,Q.ins_h=Q.window[J],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[J+1])&Q.hash_mask;Q.insert&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[J+3-1])&Q.hash_mask,Q.prev[J&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=J,J++,Q.insert--,!(Q.lookahead+Q.insert<3)););}while(Q.lookahead<j&&Q.strm.avail_in!==0)}function x(Q,q){for(var D,O;;){if(Q.lookahead<j){if(E(Q),Q.lookahead<j&&q===0)return 1;if(Q.lookahead===0)break}if(D=0,Q.lookahead>=3&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,D=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),D!==0&&Q.strstart-D<=Q.w_size-j&&(Q.match_length=C(Q,D)),Q.match_length>=3)if(O=y._tr_tally(Q,Q.strstart-Q.match_start,Q.match_length-3),Q.lookahead-=Q.match_length,Q.match_length<=Q.max_lazy_match&&Q.lookahead>=3){for(Q.match_length--;Q.strstart++,Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,D=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart,--Q.match_length!=0;);Q.strstart++}else Q.strstart+=Q.match_length,Q.match_length=0,Q.ins_h=Q.window[Q.strstart],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+1])&Q.hash_mask;else O=y._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++;if(O&&(P(Q,!1),Q.strm.avail_out===0))return 1}return Q.insert=Q.strstart<2?Q.strstart:2,q===4?(P(Q,!0),Q.strm.avail_out===0?3:4):Q.last_lit&&(P(Q,!1),Q.strm.avail_out===0)?1:2}function F(Q,q){for(var D,O,V;;){if(Q.lookahead<j){if(E(Q),Q.lookahead<j&&q===0)return 1;if(Q.lookahead===0)break}if(D=0,Q.lookahead>=3&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,D=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),Q.prev_length=Q.match_length,Q.prev_match=Q.match_start,Q.match_length=2,D!==0&&Q.prev_length<Q.max_lazy_match&&Q.strstart-D<=Q.w_size-j&&(Q.match_length=C(Q,D),Q.match_length<=5&&(Q.strategy===1||Q.match_length===3&&4096<Q.strstart-Q.match_start)&&(Q.match_length=2)),Q.prev_length>=3&&Q.match_length<=Q.prev_length){for(V=Q.strstart+Q.lookahead-3,O=y._tr_tally(Q,Q.strstart-1-Q.prev_match,Q.prev_length-3),Q.lookahead-=Q.prev_length-1,Q.prev_length-=2;++Q.strstart<=V&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+3-1])&Q.hash_mask,D=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),--Q.prev_length!=0;);if(Q.match_available=0,Q.match_length=2,Q.strstart++,O&&(P(Q,!1),Q.strm.avail_out===0))return 1}else if(Q.match_available){if((O=y._tr_tally(Q,0,Q.window[Q.strstart-1]))&&P(Q,!1),Q.strstart++,Q.lookahead--,Q.strm.avail_out===0)return 1}else Q.match_available=1,Q.strstart++,Q.lookahead--}return Q.match_available&&(O=y._tr_tally(Q,0,Q.window[Q.strstart-1]),Q.match_available=0),Q.insert=Q.strstart<2?Q.strstart:2,q===4?(P(Q,!0),Q.strm.avail_out===0?3:4):Q.last_lit&&(P(Q,!1),Q.strm.avail_out===0)?1:2}function U(Q,q,D,O,V){this.good_length=Q,this.max_lazy=q,this.nice_length=D,this.max_chain=O,this.func=V}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(Q){var q;return Q&&Q.state?(Q.total_in=Q.total_out=0,Q.data_type=2,(q=Q.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?42:k,Q.adler=q.wrap===2?0:1,q.last_flush=0,y._tr_init(q),0):L(Q,B)}function G(Q){var q=z(Q);return q===0&&function(D){D.window_size=2*D.w_size,I(D.head),D.max_lazy_match=m[D.level].max_lazy,D.good_match=m[D.level].good_length,D.nice_match=m[D.level].nice_length,D.max_chain_length=m[D.level].max_chain,D.strstart=0,D.block_start=0,D.lookahead=0,D.insert=0,D.match_length=D.prev_length=2,D.match_available=0,D.ins_h=0}(Q.state),q}function Y(Q,q,D,O,V,J){if(!Q)return B;var re=1;if(q===-1&&(q=6),O<0?(re=0,O=-O):15<O&&(re=2,O-=16),V<1||9<V||D!==8||O<8||15<O||q<0||9<q||J<0||4<J)return L(Q,B);O===8&&(O=9);var ne=new M;return(Q.state=ne).strm=Q,ne.wrap=re,ne.gzhead=null,ne.w_bits=O,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=V+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new v.Buf8(2*ne.w_size),ne.head=new v.Buf16(ne.hash_size),ne.prev=new v.Buf16(ne.w_size),ne.lit_bufsize=1<<V+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new v.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=q,ne.strategy=J,ne.method=D,G(Q)}m=[new U(0,0,0,0,function(Q,q){var D=65535;for(D>Q.pending_buf_size-5&&(D=Q.pending_buf_size-5);;){if(Q.lookahead<=1){if(E(Q),Q.lookahead===0&&q===0)return 1;if(Q.lookahead===0)break}Q.strstart+=Q.lookahead,Q.lookahead=0;var O=Q.block_start+D;if((Q.strstart===0||Q.strstart>=O)&&(Q.lookahead=Q.strstart-O,Q.strstart=O,P(Q,!1),Q.strm.avail_out===0)||Q.strstart-Q.block_start>=Q.w_size-j&&(P(Q,!1),Q.strm.avail_out===0))return 1}return Q.insert=0,q===4?(P(Q,!0),Q.strm.avail_out===0?3:4):(Q.strstart>Q.block_start&&(P(Q,!1),Q.strm.avail_out),1)}),new U(4,4,8,4,x),new U(4,5,16,8,x),new U(4,6,32,32,x),new U(4,4,16,16,F),new U(8,16,32,32,F),new U(8,16,128,128,F),new U(8,32,128,256,F),new U(32,128,258,1024,F),new U(32,258,258,4096,F)],g.deflateInit=function(Q,q){return Y(Q,q,8,15,8,0)},g.deflateInit2=Y,g.deflateReset=G,g.deflateResetKeep=z,g.deflateSetHeader=function(Q,q){return Q&&Q.state?Q.state.wrap!==2?B:(Q.state.gzhead=q,0):B},g.deflate=function(Q,q){var D,O,V,J;if(!Q||!Q.state||5<q||q<0)return Q?L(Q,B):B;if(O=Q.state,!Q.output||!Q.input&&Q.avail_in!==0||O.status===666&&q!==4)return L(Q,Q.avail_out===0?-5:B);if(O.strm=Q,D=O.last_flush,O.last_flush=q,O.status===42)if(O.wrap===2)Q.adler=0,N(O,31),N(O,139),N(O,8),O.gzhead?(N(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),N(O,255&O.gzhead.time),N(O,O.gzhead.time>>8&255),N(O,O.gzhead.time>>16&255),N(O,O.gzhead.time>>24&255),N(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),N(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(N(O,255&O.gzhead.extra.length),N(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(Q.adler=w(Q.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(N(O,0),N(O,0),N(O,0),N(O,0),N(O,0),N(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),N(O,3),O.status=k);else{var re=8+(O.w_bits-8<<4)<<8;re|=(2<=O.strategy||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(re|=32),re+=31-re%31,O.status=k,S(O,re),O.strstart!==0&&(S(O,Q.adler>>>16),S(O,65535&Q.adler)),Q.adler=1}if(O.status===69)if(O.gzhead.extra){for(V=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>V&&(Q.adler=w(Q.adler,O.pending_buf,O.pending-V,V)),T(Q),V=O.pending,O.pending!==O.pending_buf_size));)N(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>V&&(Q.adler=w(Q.adler,O.pending_buf,O.pending-V,V)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){V=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>V&&(Q.adler=w(Q.adler,O.pending_buf,O.pending-V,V)),T(Q),V=O.pending,O.pending===O.pending_buf_size)){J=1;break}J=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,N(O,J)}while(J!==0);O.gzhead.hcrc&&O.pending>V&&(Q.adler=w(Q.adler,O.pending_buf,O.pending-V,V)),J===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){V=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>V&&(Q.adler=w(Q.adler,O.pending_buf,O.pending-V,V)),T(Q),V=O.pending,O.pending===O.pending_buf_size)){J=1;break}J=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,N(O,J)}while(J!==0);O.gzhead.hcrc&&O.pending>V&&(Q.adler=w(Q.adler,O.pending_buf,O.pending-V,V)),J===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&T(Q),O.pending+2<=O.pending_buf_size&&(N(O,255&Q.adler),N(O,Q.adler>>8&255),Q.adler=0,O.status=k)):O.status=k),O.pending!==0){if(T(Q),Q.avail_out===0)return O.last_flush=-1,0}else if(Q.avail_in===0&&H(q)<=H(D)&&q!==4)return L(Q,-5);if(O.status===666&&Q.avail_in!==0)return L(Q,-5);if(Q.avail_in!==0||O.lookahead!==0||q!==0&&O.status!==666){var ne=O.strategy===2?function(se,ee){for(var de;;){if(se.lookahead===0&&(E(se),se.lookahead===0)){if(ee===0)return 1;break}if(se.match_length=0,de=y._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,de&&(P(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ee===4?(P(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(P(se,!1),se.strm.avail_out===0)?1:2}(O,q):O.strategy===3?function(se,ee){for(var de,ie,he,le,be=se.window;;){if(se.lookahead<=R){if(E(se),se.lookahead<=R&&ee===0)return 1;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=3&&0<se.strstart&&(ie=be[he=se.strstart-1])===be[++he]&&ie===be[++he]&&ie===be[++he]){le=se.strstart+R;do;while(ie===be[++he]&&ie===be[++he]&&ie===be[++he]&&ie===be[++he]&&ie===be[++he]&&ie===be[++he]&&ie===be[++he]&&ie===be[++he]&&he<le);se.match_length=R-(le-he),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=3?(de=y._tr_tally(se,1,se.match_length-3),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(de=y._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),de&&(P(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ee===4?(P(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(P(se,!1),se.strm.avail_out===0)?1:2}(O,q):m[O.level].func(O,q);if(ne!==3&&ne!==4||(O.status=666),ne===1||ne===3)return Q.avail_out===0&&(O.last_flush=-1),0;if(ne===2&&(q===1?y._tr_align(O):q!==5&&(y._tr_stored_block(O,0,0,!1),q===3&&(I(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),T(Q),Q.avail_out===0))return O.last_flush=-1,0}return q!==4?0:O.wrap<=0?1:(O.wrap===2?(N(O,255&Q.adler),N(O,Q.adler>>8&255),N(O,Q.adler>>16&255),N(O,Q.adler>>24&255),N(O,255&Q.total_in),N(O,Q.total_in>>8&255),N(O,Q.total_in>>16&255),N(O,Q.total_in>>24&255)):(S(O,Q.adler>>>16),S(O,65535&Q.adler)),T(Q),0<O.wrap&&(O.wrap=-O.wrap),O.pending!==0?0:1)},g.deflateEnd=function(Q){var q;return Q&&Q.state?(q=Q.state.status)!==42&&q!==69&&q!==73&&q!==91&&q!==103&&q!==k&&q!==666?L(Q,B):(Q.state=null,q===k?L(Q,-3):0):B},g.deflateSetDictionary=function(Q,q){var D,O,V,J,re,ne,se,ee,de=q.length;if(!Q||!Q.state||(J=(D=Q.state).wrap)===2||J===1&&D.status!==42||D.lookahead)return B;for(J===1&&(Q.adler=b(Q.adler,q,de,0)),D.wrap=0,de>=D.w_size&&(J===0&&(I(D.head),D.strstart=0,D.block_start=0,D.insert=0),ee=new v.Buf8(D.w_size),v.arraySet(ee,q,de-D.w_size,D.w_size,0),q=ee,de=D.w_size),re=Q.avail_in,ne=Q.next_in,se=Q.input,Q.avail_in=de,Q.next_in=0,Q.input=q,E(D);D.lookahead>=3;){for(O=D.strstart,V=D.lookahead-2;D.ins_h=(D.ins_h<<D.hash_shift^D.window[O+3-1])&D.hash_mask,D.prev[O&D.w_mask]=D.head[D.ins_h],D.head[D.ins_h]=O,O++,--V;);D.strstart=O,D.lookahead=2,E(D)}return D.strstart+=D.lookahead,D.block_start=D.strstart,D.insert=D.lookahead,D.lookahead=0,D.match_length=D.prev_length=2,D.match_available=0,Q.next_in=ne,Q.input=se,Q.avail_in=re,D.wrap=J,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,p,g){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,p,g){p.exports=function(m,v){var y,b,w,_,B,R,j,k,L,H,I,T,P,N,S,C,E,x,F,U,M,z,G,Y,Q;y=m.state,b=m.next_in,Y=m.input,w=b+(m.avail_in-5),_=m.next_out,Q=m.output,B=_-(v-m.avail_out),R=_+(m.avail_out-257),j=y.dmax,k=y.wsize,L=y.whave,H=y.wnext,I=y.window,T=y.hold,P=y.bits,N=y.lencode,S=y.distcode,C=(1<<y.lenbits)-1,E=(1<<y.distbits)-1;e:do{P<15&&(T+=Y[b++]<<P,P+=8,T+=Y[b++]<<P,P+=8),x=N[T&C];t:for(;;){if(T>>>=F=x>>>24,P-=F,(F=x>>>16&255)==0)Q[_++]=65535&x;else{if(!(16&F)){if(!(64&F)){x=N[(65535&x)+(T&(1<<F)-1)];continue t}if(32&F){y.mode=12;break e}m.msg="invalid literal/length code",y.mode=30;break e}U=65535&x,(F&=15)&&(P<F&&(T+=Y[b++]<<P,P+=8),U+=T&(1<<F)-1,T>>>=F,P-=F),P<15&&(T+=Y[b++]<<P,P+=8,T+=Y[b++]<<P,P+=8),x=S[T&E];r:for(;;){if(T>>>=F=x>>>24,P-=F,!(16&(F=x>>>16&255))){if(!(64&F)){x=S[(65535&x)+(T&(1<<F)-1)];continue r}m.msg="invalid distance code",y.mode=30;break e}if(M=65535&x,P<(F&=15)&&(T+=Y[b++]<<P,(P+=8)<F&&(T+=Y[b++]<<P,P+=8)),j<(M+=T&(1<<F)-1)){m.msg="invalid distance too far back",y.mode=30;break e}if(T>>>=F,P-=F,(F=_-B)<M){if(L<(F=M-F)&&y.sane){m.msg="invalid distance too far back",y.mode=30;break e}if(G=I,(z=0)===H){if(z+=k-F,F<U){for(U-=F;Q[_++]=I[z++],--F;);z=_-M,G=Q}}else if(H<F){if(z+=k+H-F,(F-=H)<U){for(U-=F;Q[_++]=I[z++],--F;);if(z=0,H<U){for(U-=F=H;Q[_++]=I[z++],--F;);z=_-M,G=Q}}}else if(z+=H-F,F<U){for(U-=F;Q[_++]=I[z++],--F;);z=_-M,G=Q}for(;2<U;)Q[_++]=G[z++],Q[_++]=G[z++],Q[_++]=G[z++],U-=3;U&&(Q[_++]=G[z++],1<U&&(Q[_++]=G[z++]))}else{for(z=_-M;Q[_++]=Q[z++],Q[_++]=Q[z++],Q[_++]=Q[z++],2<(U-=3););U&&(Q[_++]=Q[z++],1<U&&(Q[_++]=Q[z++]))}break}}break}}while(b<w&&_<R);b-=U=P>>3,T&=(1<<(P-=U<<3))-1,m.next_in=b,m.next_out=_,m.avail_in=b<w?w-b+5:5-(b-w),m.avail_out=_<R?R-_+257:257-(_-R),y.hold=T,y.bits=P}},{}],49:[function(f,p,g){var m=f("../utils/common"),v=f("./adler32"),y=f("./crc32"),b=f("./inffast"),w=f("./inftrees"),_=-2;function B(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(C){var E;return C&&C.state?(E=C.state,C.total_in=C.total_out=E.total=0,C.msg="",E.wrap&&(C.adler=1&E.wrap),E.mode=1,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new m.Buf32(852),E.distcode=E.distdyn=new m.Buf32(592),E.sane=1,E.back=-1,0):_}function k(C){var E;return C&&C.state?((E=C.state).wsize=0,E.whave=0,E.wnext=0,j(C)):_}function L(C,E){var x,F;return C&&C.state?(F=C.state,E<0?(x=0,E=-E):(x=1+(E>>4),E<48&&(E&=15)),E&&(E<8||15<E)?_:(F.window!==null&&F.wbits!==E&&(F.window=null),F.wrap=x,F.wbits=E,k(C))):_}function H(C,E){var x,F;return C?(F=new R,(C.state=F).window=null,(x=L(C,E))!==0&&(C.state=null),x):_}var I,T,P=!0;function N(C){if(P){var E;for(I=new m.Buf32(512),T=new m.Buf32(32),E=0;E<144;)C.lens[E++]=8;for(;E<256;)C.lens[E++]=9;for(;E<280;)C.lens[E++]=7;for(;E<288;)C.lens[E++]=8;for(w(1,C.lens,0,288,I,0,C.work,{bits:9}),E=0;E<32;)C.lens[E++]=5;w(2,C.lens,0,32,T,0,C.work,{bits:5}),P=!1}C.lencode=I,C.lenbits=9,C.distcode=T,C.distbits=5}function S(C,E,x,F){var U,M=C.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new m.Buf8(M.wsize)),F>=M.wsize?(m.arraySet(M.window,E,x-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(F<(U=M.wsize-M.wnext)&&(U=F),m.arraySet(M.window,E,x-F,U,M.wnext),(F-=U)?(m.arraySet(M.window,E,x-F,F,0),M.wnext=F,M.whave=M.wsize):(M.wnext+=U,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=U))),0}g.inflateReset=k,g.inflateReset2=L,g.inflateResetKeep=j,g.inflateInit=function(C){return H(C,15)},g.inflateInit2=H,g.inflate=function(C,E){var x,F,U,M,z,G,Y,Q,q,D,O,V,J,re,ne,se,ee,de,ie,he,le,be,ye,xe,Ee=0,Be=new m.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return _;(x=C.state).mode===12&&(x.mode=13),z=C.next_out,U=C.output,Y=C.avail_out,M=C.next_in,F=C.input,G=C.avail_in,Q=x.hold,q=x.bits,D=G,O=Y,be=0;e:for(;;)switch(x.mode){case 1:if(x.wrap===0){x.mode=13;break}for(;q<16;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(2&x.wrap&&Q===35615){Be[x.check=0]=255&Q,Be[1]=Q>>>8&255,x.check=y(x.check,Be,2,0),q=Q=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&Q)<<8)+(Q>>8))%31){C.msg="incorrect header check",x.mode=30;break}if((15&Q)!=8){C.msg="unknown compression method",x.mode=30;break}if(q-=4,le=8+(15&(Q>>>=4)),x.wbits===0)x.wbits=le;else if(le>x.wbits){C.msg="invalid window size",x.mode=30;break}x.dmax=1<<le,C.adler=x.check=1,x.mode=512&Q?10:12,q=Q=0;break;case 2:for(;q<16;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(x.flags=Q,(255&x.flags)!=8){C.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){C.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=Q>>8&1),512&x.flags&&(Be[0]=255&Q,Be[1]=Q>>>8&255,x.check=y(x.check,Be,2,0)),q=Q=0,x.mode=3;case 3:for(;q<32;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}x.head&&(x.head.time=Q),512&x.flags&&(Be[0]=255&Q,Be[1]=Q>>>8&255,Be[2]=Q>>>16&255,Be[3]=Q>>>24&255,x.check=y(x.check,Be,4,0)),q=Q=0,x.mode=4;case 4:for(;q<16;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}x.head&&(x.head.xflags=255&Q,x.head.os=Q>>8),512&x.flags&&(Be[0]=255&Q,Be[1]=Q>>>8&255,x.check=y(x.check,Be,2,0)),q=Q=0,x.mode=5;case 5:if(1024&x.flags){for(;q<16;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}x.length=Q,x.head&&(x.head.extra_len=Q),512&x.flags&&(Be[0]=255&Q,Be[1]=Q>>>8&255,x.check=y(x.check,Be,2,0)),q=Q=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(G<(V=x.length)&&(V=G),V&&(x.head&&(le=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),m.arraySet(x.head.extra,F,M,V,le)),512&x.flags&&(x.check=y(x.check,F,V,M)),G-=V,M+=V,x.length-=V),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(G===0)break e;for(V=0;le=F[M+V++],x.head&&le&&x.length<65536&&(x.head.name+=String.fromCharCode(le)),le&&V<G;);if(512&x.flags&&(x.check=y(x.check,F,V,M)),G-=V,M+=V,le)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(G===0)break e;for(V=0;le=F[M+V++],x.head&&le&&x.length<65536&&(x.head.comment+=String.fromCharCode(le)),le&&V<G;);if(512&x.flags&&(x.check=y(x.check,F,V,M)),G-=V,M+=V,le)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;q<16;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(Q!==(65535&x.check)){C.msg="header crc mismatch",x.mode=30;break}q=Q=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),C.adler=x.check=0,x.mode=12;break;case 10:for(;q<32;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}C.adler=x.check=B(Q),q=Q=0,x.mode=11;case 11:if(x.havedict===0)return C.next_out=z,C.avail_out=Y,C.next_in=M,C.avail_in=G,x.hold=Q,x.bits=q,2;C.adler=x.check=1,x.mode=12;case 12:if(E===5||E===6)break e;case 13:if(x.last){Q>>>=7&q,q-=7&q,x.mode=27;break}for(;q<3;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}switch(x.last=1&Q,q-=1,3&(Q>>>=1)){case 0:x.mode=14;break;case 1:if(N(x),x.mode=20,E!==6)break;Q>>>=2,q-=2;break e;case 2:x.mode=17;break;case 3:C.msg="invalid block type",x.mode=30}Q>>>=2,q-=2;break;case 14:for(Q>>>=7&q,q-=7&q;q<32;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if((65535&Q)!=(Q>>>16^65535)){C.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&Q,q=Q=0,x.mode=15,E===6)break e;case 15:x.mode=16;case 16:if(V=x.length){if(G<V&&(V=G),Y<V&&(V=Y),V===0)break e;m.arraySet(U,F,M,V,z),G-=V,M+=V,Y-=V,z+=V,x.length-=V;break}x.mode=12;break;case 17:for(;q<14;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(x.nlen=257+(31&Q),Q>>>=5,q-=5,x.ndist=1+(31&Q),Q>>>=5,q-=5,x.ncode=4+(15&Q),Q>>>=4,q-=4,286<x.nlen||30<x.ndist){C.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;q<3;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}x.lens[Pe[x.have++]]=7&Q,Q>>>=3,q-=3}for(;x.have<19;)x.lens[Pe[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,ye={bits:x.lenbits},be=w(0,x.lens,0,19,x.lencode,0,x.work,ye),x.lenbits=ye.bits,be){C.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;se=(Ee=x.lencode[Q&(1<<x.lenbits)-1])>>>16&255,ee=65535&Ee,!((ne=Ee>>>24)<=q);){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(ee<16)Q>>>=ne,q-=ne,x.lens[x.have++]=ee;else{if(ee===16){for(xe=ne+2;q<xe;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(Q>>>=ne,q-=ne,x.have===0){C.msg="invalid bit length repeat",x.mode=30;break}le=x.lens[x.have-1],V=3+(3&Q),Q>>>=2,q-=2}else if(ee===17){for(xe=ne+3;q<xe;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}q-=ne,le=0,V=3+(7&(Q>>>=ne)),Q>>>=3,q-=3}else{for(xe=ne+7;q<xe;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}q-=ne,le=0,V=11+(127&(Q>>>=ne)),Q>>>=7,q-=7}if(x.have+V>x.nlen+x.ndist){C.msg="invalid bit length repeat",x.mode=30;break}for(;V--;)x.lens[x.have++]=le}}if(x.mode===30)break;if(x.lens[256]===0){C.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,ye={bits:x.lenbits},be=w(1,x.lens,0,x.nlen,x.lencode,0,x.work,ye),x.lenbits=ye.bits,be){C.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,ye={bits:x.distbits},be=w(2,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,ye),x.distbits=ye.bits,be){C.msg="invalid distances set",x.mode=30;break}if(x.mode=20,E===6)break e;case 20:x.mode=21;case 21:if(6<=G&&258<=Y){C.next_out=z,C.avail_out=Y,C.next_in=M,C.avail_in=G,x.hold=Q,x.bits=q,b(C,O),z=C.next_out,U=C.output,Y=C.avail_out,M=C.next_in,F=C.input,G=C.avail_in,Q=x.hold,q=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;se=(Ee=x.lencode[Q&(1<<x.lenbits)-1])>>>16&255,ee=65535&Ee,!((ne=Ee>>>24)<=q);){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(se&&!(240&se)){for(de=ne,ie=se,he=ee;se=(Ee=x.lencode[he+((Q&(1<<de+ie)-1)>>de)])>>>16&255,ee=65535&Ee,!(de+(ne=Ee>>>24)<=q);){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}Q>>>=de,q-=de,x.back+=de}if(Q>>>=ne,q-=ne,x.back+=ne,x.length=ee,se===0){x.mode=26;break}if(32&se){x.back=-1,x.mode=12;break}if(64&se){C.msg="invalid literal/length code",x.mode=30;break}x.extra=15&se,x.mode=22;case 22:if(x.extra){for(xe=x.extra;q<xe;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}x.length+=Q&(1<<x.extra)-1,Q>>>=x.extra,q-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;se=(Ee=x.distcode[Q&(1<<x.distbits)-1])>>>16&255,ee=65535&Ee,!((ne=Ee>>>24)<=q);){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(!(240&se)){for(de=ne,ie=se,he=ee;se=(Ee=x.distcode[he+((Q&(1<<de+ie)-1)>>de)])>>>16&255,ee=65535&Ee,!(de+(ne=Ee>>>24)<=q);){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}Q>>>=de,q-=de,x.back+=de}if(Q>>>=ne,q-=ne,x.back+=ne,64&se){C.msg="invalid distance code",x.mode=30;break}x.offset=ee,x.extra=15&se,x.mode=24;case 24:if(x.extra){for(xe=x.extra;q<xe;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}x.offset+=Q&(1<<x.extra)-1,Q>>>=x.extra,q-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){C.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(Y===0)break e;if(V=O-Y,x.offset>V){if((V=x.offset-V)>x.whave&&x.sane){C.msg="invalid distance too far back",x.mode=30;break}J=V>x.wnext?(V-=x.wnext,x.wsize-V):x.wnext-V,V>x.length&&(V=x.length),re=x.window}else re=U,J=z-x.offset,V=x.length;for(Y<V&&(V=Y),Y-=V,x.length-=V;U[z++]=re[J++],--V;);x.length===0&&(x.mode=21);break;case 26:if(Y===0)break e;U[z++]=x.length,Y--,x.mode=21;break;case 27:if(x.wrap){for(;q<32;){if(G===0)break e;G--,Q|=F[M++]<<q,q+=8}if(O-=Y,C.total_out+=O,x.total+=O,O&&(C.adler=x.check=x.flags?y(x.check,U,O,z-O):v(x.check,U,O,z-O)),O=Y,(x.flags?Q:B(Q))!==x.check){C.msg="incorrect data check",x.mode=30;break}q=Q=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;q<32;){if(G===0)break e;G--,Q+=F[M++]<<q,q+=8}if(Q!==(4294967295&x.total)){C.msg="incorrect length check",x.mode=30;break}q=Q=0}x.mode=29;case 29:be=1;break e;case 30:be=-3;break e;case 31:return-4;case 32:default:return _}return C.next_out=z,C.avail_out=Y,C.next_in=M,C.avail_in=G,x.hold=Q,x.bits=q,(x.wsize||O!==C.avail_out&&x.mode<30&&(x.mode<27||E!==4))&&S(C,C.output,C.next_out,O-C.avail_out)?(x.mode=31,-4):(D-=C.avail_in,O-=C.avail_out,C.total_in+=D,C.total_out+=O,x.total+=O,x.wrap&&O&&(C.adler=x.check=x.flags?y(x.check,U,O,C.next_out-O):v(x.check,U,O,C.next_out-O)),C.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(D==0&&O===0||E===4)&&be===0&&(be=-5),be)},g.inflateEnd=function(C){if(!C||!C.state)return _;var E=C.state;return E.window&&(E.window=null),C.state=null,0},g.inflateGetHeader=function(C,E){var x;return C&&C.state&&2&(x=C.state).wrap?((x.head=E).done=!1,0):_},g.inflateSetDictionary=function(C,E){var x,F=E.length;return C&&C.state?(x=C.state).wrap!==0&&x.mode!==11?_:x.mode===11&&v(1,E,F,0)!==x.check?-3:S(C,E,F,F)?(x.mode=31,-4):(x.havedict=1,0):_},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,p,g){var m=f("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(_,B,R,j,k,L,H,I){var T,P,N,S,C,E,x,F,U,M=I.bits,z=0,G=0,Y=0,Q=0,q=0,D=0,O=0,V=0,J=0,re=0,ne=null,se=0,ee=new m.Buf16(16),de=new m.Buf16(16),ie=null,he=0;for(z=0;z<=15;z++)ee[z]=0;for(G=0;G<j;G++)ee[B[R+G]]++;for(q=M,Q=15;1<=Q&&ee[Q]===0;Q--);if(Q<q&&(q=Q),Q===0)return k[L++]=20971520,k[L++]=20971520,I.bits=1,0;for(Y=1;Y<Q&&ee[Y]===0;Y++);for(q<Y&&(q=Y),z=V=1;z<=15;z++)if(V<<=1,(V-=ee[z])<0)return-1;if(0<V&&(_===0||Q!==1))return-1;for(de[1]=0,z=1;z<15;z++)de[z+1]=de[z]+ee[z];for(G=0;G<j;G++)B[R+G]!==0&&(H[de[B[R+G]]++]=G);if(E=_===0?(ne=ie=H,19):_===1?(ne=v,se-=257,ie=y,he-=257,256):(ne=b,ie=w,-1),z=Y,C=L,O=G=re=0,N=-1,S=(J=1<<(D=q))-1,_===1&&852<J||_===2&&592<J)return 1;for(;;){for(x=z-O,U=H[G]<E?(F=0,H[G]):H[G]>E?(F=ie[he+H[G]],ne[se+H[G]]):(F=96,0),T=1<<z-O,Y=P=1<<D;k[C+(re>>O)+(P-=T)]=x<<24|F<<16|U|0,P!==0;);for(T=1<<z-1;re&T;)T>>=1;if(T!==0?(re&=T-1,re+=T):re=0,G++,--ee[z]==0){if(z===Q)break;z=B[R+H[G]]}if(q<z&&(re&S)!==N){for(O===0&&(O=q),C+=Y,V=1<<(D=z-O);D+O<Q&&!((V-=ee[D+O])<=0);)D++,V<<=1;if(J+=1<<D,_===1&&852<J||_===2&&592<J)return 1;k[N=re&S]=q<<24|D<<16|C-L|0}}return re!==0&&(k[C+re]=z-O<<24|64<<16|0),I.bits=q,0}},{"../utils/common":41}],51:[function(f,p,g){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,p,g){var m=f("../utils/common");function v(ie){for(var he=ie.length;0<=--he;)ie[he]=0}var y=256,b=286,w=30,_=15,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);v(L);var H=new Array(60);v(H);var I=new Array(512);v(I);var T=new Array(256);v(T);var P=new Array(29);v(P);var N,S,C,E=new Array(w);function x(ie,he,le,be,ye){this.static_tree=ie,this.extra_bits=he,this.extra_base=le,this.elems=be,this.max_length=ye,this.has_stree=ie&&ie.length}function F(ie,he){this.dyn_tree=ie,this.max_code=0,this.stat_desc=he}function U(ie){return ie<256?I[ie]:I[256+(ie>>>7)]}function M(ie,he){ie.pending_buf[ie.pending++]=255&he,ie.pending_buf[ie.pending++]=he>>>8&255}function z(ie,he,le){ie.bi_valid>16-le?(ie.bi_buf|=he<<ie.bi_valid&65535,M(ie,ie.bi_buf),ie.bi_buf=he>>16-ie.bi_valid,ie.bi_valid+=le-16):(ie.bi_buf|=he<<ie.bi_valid&65535,ie.bi_valid+=le)}function G(ie,he,le){z(ie,le[2*he],le[2*he+1])}function Y(ie,he){for(var le=0;le|=1&ie,ie>>>=1,le<<=1,0<--he;);return le>>>1}function Q(ie,he,le){var be,ye,xe=new Array(16),Ee=0;for(be=1;be<=_;be++)xe[be]=Ee=Ee+le[be-1]<<1;for(ye=0;ye<=he;ye++){var Be=ie[2*ye+1];Be!==0&&(ie[2*ye]=Y(xe[Be]++,Be))}}function q(ie){var he;for(he=0;he<b;he++)ie.dyn_ltree[2*he]=0;for(he=0;he<w;he++)ie.dyn_dtree[2*he]=0;for(he=0;he<19;he++)ie.bl_tree[2*he]=0;ie.dyn_ltree[512]=1,ie.opt_len=ie.static_len=0,ie.last_lit=ie.matches=0}function D(ie){8<ie.bi_valid?M(ie,ie.bi_buf):0<ie.bi_valid&&(ie.pending_buf[ie.pending++]=ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0}function O(ie,he,le,be){var ye=2*he,xe=2*le;return ie[ye]<ie[xe]||ie[ye]===ie[xe]&&be[he]<=be[le]}function V(ie,he,le){for(var be=ie.heap[le],ye=le<<1;ye<=ie.heap_len&&(ye<ie.heap_len&&O(he,ie.heap[ye+1],ie.heap[ye],ie.depth)&&ye++,!O(he,be,ie.heap[ye],ie.depth));)ie.heap[le]=ie.heap[ye],le=ye,ye<<=1;ie.heap[le]=be}function J(ie,he,le){var be,ye,xe,Ee,Be=0;if(ie.last_lit!==0)for(;be=ie.pending_buf[ie.d_buf+2*Be]<<8|ie.pending_buf[ie.d_buf+2*Be+1],ye=ie.pending_buf[ie.l_buf+Be],Be++,be===0?G(ie,ye,he):(G(ie,(xe=T[ye])+y+1,he),(Ee=B[xe])!==0&&z(ie,ye-=P[xe],Ee),G(ie,xe=U(--be),le),(Ee=R[xe])!==0&&z(ie,be-=E[xe],Ee)),Be<ie.last_lit;);G(ie,256,he)}function re(ie,he){var le,be,ye,xe=he.dyn_tree,Ee=he.stat_desc.static_tree,Be=he.stat_desc.has_stree,Pe=he.stat_desc.elems,Ue=-1;for(ie.heap_len=0,ie.heap_max=573,le=0;le<Pe;le++)xe[2*le]!==0?(ie.heap[++ie.heap_len]=Ue=le,ie.depth[le]=0):xe[2*le+1]=0;for(;ie.heap_len<2;)xe[2*(ye=ie.heap[++ie.heap_len]=Ue<2?++Ue:0)]=1,ie.depth[ye]=0,ie.opt_len--,Be&&(ie.static_len-=Ee[2*ye+1]);for(he.max_code=Ue,le=ie.heap_len>>1;1<=le;le--)V(ie,xe,le);for(ye=Pe;le=ie.heap[1],ie.heap[1]=ie.heap[ie.heap_len--],V(ie,xe,1),be=ie.heap[1],ie.heap[--ie.heap_max]=le,ie.heap[--ie.heap_max]=be,xe[2*ye]=xe[2*le]+xe[2*be],ie.depth[ye]=(ie.depth[le]>=ie.depth[be]?ie.depth[le]:ie.depth[be])+1,xe[2*le+1]=xe[2*be+1]=ye,ie.heap[1]=ye++,V(ie,xe,1),2<=ie.heap_len;);ie.heap[--ie.heap_max]=ie.heap[1],function(He,$e){var Ke,st,Ve,pt,Je,ze,qe=$e.dyn_tree,gt=$e.max_code,We=$e.stat_desc.static_tree,Tt=$e.stat_desc.has_stree,St=$e.stat_desc.extra_bits,ot=$e.stat_desc.extra_base,Ot=$e.stat_desc.max_length,vt=0;for(pt=0;pt<=_;pt++)He.bl_count[pt]=0;for(qe[2*He.heap[He.heap_max]+1]=0,Ke=He.heap_max+1;Ke<573;Ke++)Ot<(pt=qe[2*qe[2*(st=He.heap[Ke])+1]+1]+1)&&(pt=Ot,vt++),qe[2*st+1]=pt,gt<st||(He.bl_count[pt]++,Je=0,ot<=st&&(Je=St[st-ot]),ze=qe[2*st],He.opt_len+=ze*(pt+Je),Tt&&(He.static_len+=ze*(We[2*st+1]+Je)));if(vt!==0){do{for(pt=Ot-1;He.bl_count[pt]===0;)pt--;He.bl_count[pt]--,He.bl_count[pt+1]+=2,He.bl_count[Ot]--,vt-=2}while(0<vt);for(pt=Ot;pt!==0;pt--)for(st=He.bl_count[pt];st!==0;)gt<(Ve=He.heap[--Ke])||(qe[2*Ve+1]!==pt&&(He.opt_len+=(pt-qe[2*Ve+1])*qe[2*Ve],qe[2*Ve+1]=pt),st--)}}(ie,he),Q(xe,Ue,ie.bl_count)}function ne(ie,he,le){var be,ye,xe=-1,Ee=he[1],Be=0,Pe=7,Ue=4;for(Ee===0&&(Pe=138,Ue=3),he[2*(le+1)+1]=65535,be=0;be<=le;be++)ye=Ee,Ee=he[2*(be+1)+1],++Be<Pe&&ye===Ee||(Be<Ue?ie.bl_tree[2*ye]+=Be:ye!==0?(ye!==xe&&ie.bl_tree[2*ye]++,ie.bl_tree[32]++):Be<=10?ie.bl_tree[34]++:ie.bl_tree[36]++,xe=ye,Ue=(Be=0)===Ee?(Pe=138,3):ye===Ee?(Pe=6,3):(Pe=7,4))}function se(ie,he,le){var be,ye,xe=-1,Ee=he[1],Be=0,Pe=7,Ue=4;for(Ee===0&&(Pe=138,Ue=3),be=0;be<=le;be++)if(ye=Ee,Ee=he[2*(be+1)+1],!(++Be<Pe&&ye===Ee)){if(Be<Ue)for(;G(ie,ye,ie.bl_tree),--Be!=0;);else ye!==0?(ye!==xe&&(G(ie,ye,ie.bl_tree),Be--),G(ie,16,ie.bl_tree),z(ie,Be-3,2)):Be<=10?(G(ie,17,ie.bl_tree),z(ie,Be-3,3)):(G(ie,18,ie.bl_tree),z(ie,Be-11,7));xe=ye,Ue=(Be=0)===Ee?(Pe=138,3):ye===Ee?(Pe=6,3):(Pe=7,4)}}v(E);var ee=!1;function de(ie,he,le,be){z(ie,0+(be?1:0),3),function(ye,xe,Ee,Be){D(ye),M(ye,Ee),M(ye,~Ee),m.arraySet(ye.pending_buf,ye.window,xe,Ee,ye.pending),ye.pending+=Ee}(ie,he,le)}g._tr_init=function(ie){ee||(function(){var he,le,be,ye,xe,Ee=new Array(16);for(ye=be=0;ye<28;ye++)for(P[ye]=be,he=0;he<1<<B[ye];he++)T[be++]=ye;for(T[be-1]=ye,ye=xe=0;ye<16;ye++)for(E[ye]=xe,he=0;he<1<<R[ye];he++)I[xe++]=ye;for(xe>>=7;ye<w;ye++)for(E[ye]=xe<<7,he=0;he<1<<R[ye]-7;he++)I[256+xe++]=ye;for(le=0;le<=_;le++)Ee[le]=0;for(he=0;he<=143;)L[2*he+1]=8,he++,Ee[8]++;for(;he<=255;)L[2*he+1]=9,he++,Ee[9]++;for(;he<=279;)L[2*he+1]=7,he++,Ee[7]++;for(;he<=287;)L[2*he+1]=8,he++,Ee[8]++;for(Q(L,287,Ee),he=0;he<w;he++)H[2*he+1]=5,H[2*he]=Y(he,5);N=new x(L,B,257,b,_),S=new x(H,R,0,w,_),C=new x(new Array(0),j,0,19,7)}(),ee=!0),ie.l_desc=new F(ie.dyn_ltree,N),ie.d_desc=new F(ie.dyn_dtree,S),ie.bl_desc=new F(ie.bl_tree,C),ie.bi_buf=0,ie.bi_valid=0,q(ie)},g._tr_stored_block=de,g._tr_flush_block=function(ie,he,le,be){var ye,xe,Ee=0;0<ie.level?(ie.strm.data_type===2&&(ie.strm.data_type=function(Be){var Pe,Ue=4093624447;for(Pe=0;Pe<=31;Pe++,Ue>>>=1)if(1&Ue&&Be.dyn_ltree[2*Pe]!==0)return 0;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return 1;for(Pe=32;Pe<y;Pe++)if(Be.dyn_ltree[2*Pe]!==0)return 1;return 0}(ie)),re(ie,ie.l_desc),re(ie,ie.d_desc),Ee=function(Be){var Pe;for(ne(Be,Be.dyn_ltree,Be.l_desc.max_code),ne(Be,Be.dyn_dtree,Be.d_desc.max_code),re(Be,Be.bl_desc),Pe=18;3<=Pe&&Be.bl_tree[2*k[Pe]+1]===0;Pe--);return Be.opt_len+=3*(Pe+1)+5+5+4,Pe}(ie),ye=ie.opt_len+3+7>>>3,(xe=ie.static_len+3+7>>>3)<=ye&&(ye=xe)):ye=xe=le+5,le+4<=ye&&he!==-1?de(ie,he,le,be):ie.strategy===4||xe===ye?(z(ie,2+(be?1:0),3),J(ie,L,H)):(z(ie,4+(be?1:0),3),function(Be,Pe,Ue,He){var $e;for(z(Be,Pe-257,5),z(Be,Ue-1,5),z(Be,He-4,4),$e=0;$e<He;$e++)z(Be,Be.bl_tree[2*k[$e]+1],3);se(Be,Be.dyn_ltree,Pe-1),se(Be,Be.dyn_dtree,Ue-1)}(ie,ie.l_desc.max_code+1,ie.d_desc.max_code+1,Ee+1),J(ie,ie.dyn_ltree,ie.dyn_dtree)),q(ie),be&&D(ie)},g._tr_tally=function(ie,he,le){return ie.pending_buf[ie.d_buf+2*ie.last_lit]=he>>>8&255,ie.pending_buf[ie.d_buf+2*ie.last_lit+1]=255&he,ie.pending_buf[ie.l_buf+ie.last_lit]=255&le,ie.last_lit++,he===0?ie.dyn_ltree[2*le]++:(ie.matches++,he--,ie.dyn_ltree[2*(T[le]+y+1)]++,ie.dyn_dtree[2*U(he)]++),ie.last_lit===ie.lit_bufsize-1},g._tr_align=function(ie){z(ie,2,3),G(ie,256,L),function(he){he.bi_valid===16?(M(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(ie)}},{"../utils/common":41}],53:[function(f,p,g){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,p,g){(function(m){(function(v,y){if(!v.setImmediate){var b,w,_,B,R=1,j={},k=!1,L=v.document,H=Object.getPrototypeOf&&Object.getPrototypeOf(v);H=H&&H.setTimeout?H:v,b={}.toString.call(v.process)==="[object process]"?function(N){s.nextTick(function(){T(N)})}:function(){if(v.postMessage&&!v.importScripts){var N=!0,S=v.onmessage;return v.onmessage=function(){N=!1},v.postMessage("","*"),v.onmessage=S,N}}()?(B="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",P,!1):v.attachEvent("onmessage",P),function(N){v.postMessage(B+N,"*")}):v.MessageChannel?((_=new MessageChannel).port1.onmessage=function(N){T(N.data)},function(N){_.port2.postMessage(N)}):L&&"onreadystatechange"in L.createElement("script")?(w=L.documentElement,function(N){var S=L.createElement("script");S.onreadystatechange=function(){T(N),S.onreadystatechange=null,w.removeChild(S),S=null},w.appendChild(S)}):function(N){setTimeout(T,0,N)},H.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var S=new Array(arguments.length-1),C=0;C<S.length;C++)S[C]=arguments[C+1];var E={callback:N,args:S};return j[R]=E,b(R),R++},H.clearImmediate=I}function I(N){delete j[N]}function T(N){if(k)setTimeout(T,0,N);else{var S=j[N];if(S){k=!0;try{(function(C){var E=C.callback,x=C.args;switch(x.length){case 0:E();break;case 1:E(x[0]);break;case 2:E(x[0],x[1]);break;case 3:E(x[0],x[1],x[2]);break;default:E.apply(void 0,x)}})(S)}finally{I(N),k=!1}}}}function P(N){N.source===v&&typeof N.data=="string"&&N.data.indexOf(B)===0&&T(+N.data.slice(B.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,n,i){(function(s){(function(){var a=/[\\^$.*+?()[\]{}|]/g,o=RegExp(a.source),l=typeof s=="object"&&s&&s.Object===Object&&s,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=u.Symbol,f=h?h.prototype:void 0,p=f?f.toString:void 0;function g(m){if(typeof m=="string")return m;if(function(y){return typeof y=="symbol"||function(b){return!!b&&typeof b=="object"}(y)&&d.call(y)=="[object Symbol]"}(m))return p?p.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":g(v))&&o.test(m)?m.replace(a,"\\$&"):m}}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,n,i){(function(s){(function(){var a="[object Arguments]",o="[object Map]",l="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,h=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[c]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof s=="object"&&s&&s.Object===Object&&s,b=typeof self=="object"&&self&&self.Object===Object&&self,w=y||b||Function("return this")(),_=typeof i=="object"&&i&&!i.nodeType&&i,B=_&&typeof n=="object"&&n&&!n.nodeType&&n,R=B&&B.exports===_&&y.process,j=function(){try{return R&&R.binding("util")}catch{}}(),k=j&&j.isTypedArray;function L(pe,Fe,Qe,tt){for(var Et=-1,At=pe?pe.length:0;++Et<At;){var xt=pe[Et];Fe(tt,xt,Qe(xt),pe)}return tt}function H(pe,Fe){for(var Qe=-1,tt=pe?pe.length:0;++Qe<tt;)if(Fe(pe[Qe],Qe,pe))return!0;return!1}function I(pe){var Fe=!1;if(pe!=null&&typeof pe.toString!="function")try{Fe=!!(pe+"")}catch{}return Fe}function T(pe){var Fe=-1,Qe=Array(pe.size);return pe.forEach(function(tt,Et){Qe[++Fe]=[Et,tt]}),Qe}function P(pe){var Fe=-1,Qe=Array(pe.size);return pe.forEach(function(tt){Qe[++Fe]=tt}),Qe}var N,S,C,E=Array.prototype,x=Function.prototype,F=Object.prototype,U=w["__core-js_shared__"],M=(N=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",z=x.toString,G=F.hasOwnProperty,Y=F.toString,Q=RegExp("^"+z.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=w.Symbol,D=w.Uint8Array,O=F.propertyIsEnumerable,V=E.splice,J=(S=Object.keys,C=Object,function(pe){return S(C(pe))}),re=Ct(w,"DataView"),ne=Ct(w,"Map"),se=Ct(w,"Promise"),ee=Ct(w,"Set"),de=Ct(w,"WeakMap"),ie=Ct(Object,"create"),he=_e(re),le=_e(ne),be=_e(se),ye=_e(ee),xe=_e(de),Ee=q?q.prototype:void 0,Be=Ee?Ee.valueOf:void 0,Pe=Ee?Ee.toString:void 0;function Ue(pe){var Fe=-1,Qe=pe?pe.length:0;for(this.clear();++Fe<Qe;){var tt=pe[Fe];this.set(tt[0],tt[1])}}function He(pe){var Fe=-1,Qe=pe?pe.length:0;for(this.clear();++Fe<Qe;){var tt=pe[Fe];this.set(tt[0],tt[1])}}function $e(pe){var Fe=-1,Qe=pe?pe.length:0;for(this.clear();++Fe<Qe;){var tt=pe[Fe];this.set(tt[0],tt[1])}}function Ke(pe){var Fe=-1,Qe=pe?pe.length:0;for(this.__data__=new $e;++Fe<Qe;)this.add(pe[Fe])}function st(pe){this.__data__=new He(pe)}function Ve(pe,Fe){var Qe=Bt(pe)||zt(pe)?function(xt,Zt){for(var dr=-1,Ar=Array(xt);++dr<xt;)Ar[dr]=Zt(dr);return Ar}(pe.length,String):[],tt=Qe.length,Et=!!tt;for(var At in pe)!G.call(pe,At)||Et&&(At=="length"||Nr(At,tt))||Qe.push(At);return Qe}function pt(pe,Fe){for(var Qe=pe.length;Qe--;)if(yt(pe[Qe][0],Fe))return Qe;return-1}function Je(pe,Fe,Qe,tt){return qe(pe,function(Et,At,xt){Fe(tt,Et,Qe(Et),xt)}),tt}Ue.prototype.clear=function(){this.__data__=ie?ie(null):{}},Ue.prototype.delete=function(pe){return this.has(pe)&&delete this.__data__[pe]},Ue.prototype.get=function(pe){var Fe=this.__data__;if(ie){var Qe=Fe[pe];return Qe==="__lodash_hash_undefined__"?void 0:Qe}return G.call(Fe,pe)?Fe[pe]:void 0},Ue.prototype.has=function(pe){var Fe=this.__data__;return ie?Fe[pe]!==void 0:G.call(Fe,pe)},Ue.prototype.set=function(pe,Fe){return this.__data__[pe]=ie&&Fe===void 0?"__lodash_hash_undefined__":Fe,this},He.prototype.clear=function(){this.__data__=[]},He.prototype.delete=function(pe){var Fe=this.__data__,Qe=pt(Fe,pe);return!(Qe<0)&&(Qe==Fe.length-1?Fe.pop():V.call(Fe,Qe,1),!0)},He.prototype.get=function(pe){var Fe=this.__data__,Qe=pt(Fe,pe);return Qe<0?void 0:Fe[Qe][1]},He.prototype.has=function(pe){return pt(this.__data__,pe)>-1},He.prototype.set=function(pe,Fe){var Qe=this.__data__,tt=pt(Qe,pe);return tt<0?Qe.push([pe,Fe]):Qe[tt][1]=Fe,this},$e.prototype.clear=function(){this.__data__={hash:new Ue,map:new(ne||He),string:new Ue}},$e.prototype.delete=function(pe){return wr(this,pe).delete(pe)},$e.prototype.get=function(pe){return wr(this,pe).get(pe)},$e.prototype.has=function(pe){return wr(this,pe).has(pe)},$e.prototype.set=function(pe,Fe){return wr(this,pe).set(pe,Fe),this},Ke.prototype.add=Ke.prototype.push=function(pe){return this.__data__.set(pe,"__lodash_hash_undefined__"),this},Ke.prototype.has=function(pe){return this.__data__.has(pe)},st.prototype.clear=function(){this.__data__=new He},st.prototype.delete=function(pe){return this.__data__.delete(pe)},st.prototype.get=function(pe){return this.__data__.get(pe)},st.prototype.has=function(pe){return this.__data__.has(pe)},st.prototype.set=function(pe,Fe){var Qe=this.__data__;if(Qe instanceof He){var tt=Qe.__data__;if(!ne||tt.length<199)return tt.push([pe,Fe]),this;Qe=this.__data__=new $e(tt)}return Qe.set(pe,Fe),this};var ze,qe=(ze=function(pe,Fe){return pe&&gt(pe,Fe,nt)},function(pe,Fe){if(pe==null)return pe;if(!jt(pe))return ze(pe,Fe);for(var Qe=pe.length,tt=-1,Et=Object(pe);++tt<Qe&&Fe(Et[tt],tt,Et)!==!1;);return pe}),gt=function(pe){return function(Fe,Qe,tt){for(var Et=-1,At=Object(Fe),xt=tt(Fe),Zt=xt.length;Zt--;){var dr=xt[++Et];if(Qe(At[dr],dr,At)===!1)break}return Fe}}();function We(pe,Fe){for(var Qe=0,tt=(Fe=ht(Fe,pe)?[Fe]:ut(Fe)).length;pe!=null&&Qe<tt;)pe=pe[Ce(Fe[Qe++])];return Qe&&Qe==tt?pe:void 0}function Tt(pe,Fe){return pe!=null&&Fe in Object(pe)}function St(pe,Fe,Qe,tt,Et){return pe===Fe||(pe==null||Fe==null||!ur(pe)&&!Hr(Fe)?pe!=pe&&Fe!=Fe:function(At,xt,Zt,dr,Ar,nr){var Tr=Bt(At),Pr=Bt(xt),Kr="[object Array]",vr="[object Array]";Tr||(Kr=(Kr=cr(At))==a?l:Kr),Pr||(vr=(vr=cr(xt))==a?l:vr);var Kn=Kr==l&&!I(At),Cn=vr==l&&!I(xt),ns=Kr==vr;if(ns&&!Kn)return nr||(nr=new st),Tr||we(At)?Wt(At,xt,Zt,dr,Ar,nr):function(Qr,Mr,jo,is,Xc,ss,zs){switch(jo){case"[object DataView]":if(Qr.byteLength!=Mr.byteLength||Qr.byteOffset!=Mr.byteOffset)return!1;Qr=Qr.buffer,Mr=Mr.buffer;case"[object ArrayBuffer]":return!(Qr.byteLength!=Mr.byteLength||!is(new D(Qr),new D(Mr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return yt(+Qr,+Mr);case"[object Error]":return Qr.name==Mr.name&&Qr.message==Mr.message;case"[object RegExp]":case"[object String]":return Qr==Mr+"";case o:var Vs=T;case c:var Yc=2&ss;if(Vs||(Vs=P),Qr.size!=Mr.size&&!Yc)return!1;var vd=zs.get(Qr);if(vd)return vd==Mr;ss|=1,zs.set(Qr,Mr);var tc=Wt(Vs(Qr),Vs(Mr),is,Xc,ss,zs);return zs.delete(Qr),tc;case"[object Symbol]":if(Be)return Be.call(Qr)==Be.call(Mr)}return!1}(At,xt,Kr,Zt,dr,Ar,nr);if(!(2&Ar)){var To=Kn&&G.call(At,"__wrapped__"),Hi=Cn&&G.call(xt,"__wrapped__");if(To||Hi){var Sn=To?At.value():At,$s=Hi?xt.value():xt;return nr||(nr=new st),Zt(Sn,$s,dr,Ar,nr)}}return ns?(nr||(nr=new st),function(Qr,Mr,jo,is,Xc,ss){var zs=2&Xc,Vs=nt(Qr),Yc=Vs.length,vd=nt(Mr).length;if(Yc!=vd&&!zs)return!1;for(var tc=Yc;tc--;){var Ia=Vs[tc];if(!(zs?Ia in Mr:G.call(Mr,Ia)))return!1}var qh=ss.get(Qr);if(qh&&ss.get(Mr))return qh==Mr;var Gs=!0;ss.set(Qr,Mr),ss.set(Mr,Qr);for(var Xh=zs;++tc<Yc;){Ia=Vs[tc];var Fo=Qr[Ia],rc=Mr[Ia];if(is)var TA=zs?is(rc,Fo,Ia,Mr,Qr,ss):is(Fo,rc,Ia,Qr,Mr,ss);if(!(TA===void 0?Fo===rc||jo(Fo,rc,is,Xc,ss):TA)){Gs=!1;break}Xh||(Xh=Ia=="constructor")}if(Gs&&!Xh){var hr=Qr.constructor,yd=Mr.constructor;hr==yd||!("constructor"in Qr)||!("constructor"in Mr)||typeof hr=="function"&&hr instanceof hr&&typeof yd=="function"&&yd instanceof yd||(Gs=!1)}return ss.delete(Qr),ss.delete(Mr),Gs}(At,xt,Zt,dr,Ar,nr)):!1}(pe,Fe,St,Qe,tt,Et))}function ot(pe){return!(!ur(pe)||function(Fe){return!!M&&M in Fe}(pe))&&(Xt(pe)||I(pe)?Q:g).test(_e(pe))}function Ot(pe){return typeof pe=="function"?pe:pe==null?_t:typeof pe=="object"?Bt(pe)?function(tt,Et){return ht(tt)&&mr(Et)?Br(Ce(tt),Et):function(At){var xt=function(Zt,dr,Ar){var nr=Zt==null?void 0:We(Zt,dr);return nr===void 0?Ar:nr}(At,tt);return xt===void 0&&xt===Et?function(Zt,dr){return Zt!=null&&function(Ar,nr,Tr){nr=ht(nr,Ar)?[nr]:ut(nr);for(var Pr,Kr=-1,vr=nr.length;++Kr<vr;){var Kn=Ce(nr[Kr]);if(!(Pr=Ar!=null&&Tr(Ar,Kn)))break;Ar=Ar[Kn]}return Pr||!!(vr=Ar?Ar.length:0)&&Vt(vr)&&Nr(Kn,vr)&&(Bt(Ar)||zt(Ar))}(Zt,dr,Tt)}(At,tt):St(Et,xt,void 0,3)}}(pe[0],pe[1]):function(tt){var Et=function(At){for(var xt=nt(At),Zt=xt.length;Zt--;){var dr=xt[Zt],Ar=At[dr];xt[Zt]=[dr,Ar,mr(Ar)]}return xt}(tt);return Et.length==1&&Et[0][2]?Br(Et[0][0],Et[0][1]):function(At){return At===tt||function(xt,Zt,dr,Ar){var nr=dr.length,Tr=nr;if(xt==null)return!Tr;for(xt=Object(xt);nr--;){var Pr=dr[nr];if(Pr[2]?Pr[1]!==xt[Pr[0]]:!(Pr[0]in xt))return!1}for(;++nr<Tr;){var Kr=(Pr=dr[nr])[0],vr=xt[Kr],Kn=Pr[1];if(Pr[2]){if(vr===void 0&&!(Kr in xt))return!1}else{var Cn=new st,ns;if(!(ns===void 0?St(Kn,vr,Ar,3,Cn):ns))return!1}}return!0}(At,tt,Et)}}(pe):ht(Fe=pe)?(Qe=Ce(Fe),function(tt){return tt?.[Qe]}):function(tt){return function(Et){return We(Et,tt)}}(Fe);var Fe,Qe}function vt(pe){if(Qe=(Fe=pe)&&Fe.constructor,tt=typeof Qe=="function"&&Qe.prototype||F,Fe!==tt)return J(pe);var Fe,Qe,tt,Et=[];for(var At in Object(pe))G.call(pe,At)&&At!="constructor"&&Et.push(At);return Et}function ut(pe){return Bt(pe)?pe:qt(pe)}function Wt(pe,Fe,Qe,tt,Et,At){var xt=2&Et,Zt=pe.length,dr=Fe.length;if(Zt!=dr&&!(xt&&dr>Zt))return!1;var Ar=At.get(pe);if(Ar&&At.get(Fe))return Ar==Fe;var nr=-1,Tr=!0,Pr=1&Et?new Ke:void 0;for(At.set(pe,Fe),At.set(Fe,pe);++nr<Zt;){var Kr=pe[nr],vr=Fe[nr];if(tt)var Kn=xt?tt(vr,Kr,nr,Fe,pe,At):tt(Kr,vr,nr,pe,Fe,At);if(Kn!==void 0){if(Kn)continue;Tr=!1;break}if(Pr){if(!H(Fe,function(Cn,ns){if(!Pr.has(ns)&&(Kr===Cn||Qe(Kr,Cn,tt,Et,At)))return Pr.add(ns)})){Tr=!1;break}}else if(Kr!==vr&&!Qe(Kr,vr,tt,Et,At)){Tr=!1;break}}return At.delete(pe),At.delete(Fe),Tr}function wr(pe,Fe){var Qe,tt,Et=pe.__data__;return((tt=typeof(Qe=Fe))=="string"||tt=="number"||tt=="symbol"||tt=="boolean"?Qe!=="__proto__":Qe===null)?Et[typeof Fe=="string"?"string":"hash"]:Et.map}function Ct(pe,Fe){var Qe=function(tt,Et){return tt?.[Et]}(pe,Fe);return ot(Qe)?Qe:void 0}var cr=function(pe){return Y.call(pe)};function Nr(pe,Fe){return!!(Fe=Fe??9007199254740991)&&(typeof pe=="number"||m.test(pe))&&pe>-1&&pe%1==0&&pe<Fe}function ht(pe,Fe){if(Bt(pe))return!1;var Qe=typeof pe;return!(Qe!="number"&&Qe!="symbol"&&Qe!="boolean"&&pe!=null&&!wt(pe))||d.test(pe)||!u.test(pe)||Fe!=null&&pe in Object(Fe)}function mr(pe){return pe==pe&&!ur(pe)}function Br(pe,Fe){return function(Qe){return Qe!=null&&Qe[pe]===Fe&&(Fe!==void 0||pe in Object(Qe))}}(re&&cr(new re(new ArrayBuffer(1)))!="[object DataView]"||ne&&cr(new ne)!=o||se&&cr(se.resolve())!="[object Promise]"||ee&&cr(new ee)!=c||de&&cr(new de)!="[object WeakMap]")&&(cr=function(pe){var Fe=Y.call(pe),Qe=Fe==l?pe.constructor:void 0,tt=Qe?_e(Qe):void 0;if(tt)switch(tt){case he:return"[object DataView]";case le:return o;case be:return"[object Promise]";case ye:return c;case xe:return"[object WeakMap]"}return Fe});var qt=$t(function(pe){var Fe;pe=(Fe=pe)==null?"":function(tt){if(typeof tt=="string")return tt;if(wt(tt))return Pe?Pe.call(tt):"";var Et=tt+"";return Et=="0"&&1/tt==-1/0?"-0":Et}(Fe);var Qe=[];return h.test(pe)&&Qe.push(""),pe.replace(f,function(tt,Et,At,xt){Qe.push(At?xt.replace(p,"$1"):Et||tt)}),Qe});function Ce(pe){if(typeof pe=="string"||wt(pe))return pe;var Fe=pe+"";return Fe=="0"&&1/pe==-1/0?"-0":Fe}function _e(pe){if(pe!=null){try{return z.call(pe)}catch{}try{return pe+""}catch{}}return""}var De,dt=(De=function(pe,Fe,Qe){G.call(pe,Qe)?pe[Qe].push(Fe):pe[Qe]=[Fe]},function(pe,Fe){var Qe=Bt(pe)?L:Je,tt={};return Qe(pe,De,Ot(Fe),tt)});function $t(pe,Fe){if(typeof pe!="function"||Fe&&typeof Fe!="function")throw new TypeError("Expected a function");var Qe=function(){var tt=arguments,Et=Fe?Fe.apply(this,tt):tt[0],At=Qe.cache;if(At.has(Et))return At.get(Et);var xt=pe.apply(this,tt);return Qe.cache=At.set(Et,xt),xt};return Qe.cache=new($t.Cache||$e),Qe}function yt(pe,Fe){return pe===Fe||pe!=pe&&Fe!=Fe}function zt(pe){return function(Fe){return Hr(Fe)&&jt(Fe)}(pe)&&G.call(pe,"callee")&&(!O.call(pe,"callee")||Y.call(pe)==a)}$t.Cache=$e;var Bt=Array.isArray;function jt(pe){return pe!=null&&Vt(pe.length)&&!Xt(pe)}function Xt(pe){var Fe=ur(pe)?Y.call(pe):"";return Fe=="[object Function]"||Fe=="[object GeneratorFunction]"}function Vt(pe){return typeof pe=="number"&&pe>-1&&pe%1==0&&pe<=9007199254740991}function ur(pe){var Fe=typeof pe;return!!pe&&(Fe=="object"||Fe=="function")}function Hr(pe){return!!pe&&typeof pe=="object"}function wt(pe){return typeof pe=="symbol"||Hr(pe)&&Y.call(pe)=="[object Symbol]"}var we=k?function(pe){return function(Fe){return pe(Fe)}}(k):function(pe){return Hr(pe)&&Vt(pe.length)&&!!v[Y.call(pe)]};function nt(pe){return jt(pe)?Ve(pe):vt(pe)}function _t(pe){return pe}n.exports=dt}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,n,i){var s=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||function(o){return!!o&&typeof o=="object"}(a)&&s.call(a)=="[object Boolean]"}},{}],445:[function(t,n,i){(function(s){(function(){var a="[object Arguments]",o="[object Map]",l="[object Object]",c="[object Set]",u=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[a]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[c]=h["[object String]"]=h["[object WeakMap]"]=!1;var f=typeof s=="object"&&s&&s.Object===Object&&s,p=typeof self=="object"&&self&&self.Object===Object&&self,g=f||p||Function("return this")(),m=typeof i=="object"&&i&&!i.nodeType&&i,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===m,b=y&&f.process,w=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),_=w&&w.isTypedArray;function B(Ce,_e){for(var De=-1,dt=Ce==null?0:Ce.length;++De<dt;)if(_e(Ce[De],De,Ce))return!0;return!1}function R(Ce){var _e=-1,De=Array(Ce.size);return Ce.forEach(function(dt,$t){De[++_e]=[$t,dt]}),De}function j(Ce){var _e=-1,De=Array(Ce.size);return Ce.forEach(function(dt){De[++_e]=dt}),De}var k,L,H,I=Array.prototype,T=Function.prototype,P=Object.prototype,N=g["__core-js_shared__"],S=T.toString,C=P.hasOwnProperty,E=(k=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",x=P.toString,F=RegExp("^"+S.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=y?g.Buffer:void 0,M=g.Symbol,z=g.Uint8Array,G=P.propertyIsEnumerable,Y=I.splice,Q=M?M.toStringTag:void 0,q=Object.getOwnPropertySymbols,D=U?U.isBuffer:void 0,O=(L=Object.keys,H=Object,function(Ce){return L(H(Ce))}),V=Tt(g,"DataView"),J=Tt(g,"Map"),re=Tt(g,"Promise"),ne=Tt(g,"Set"),se=Tt(g,"WeakMap"),ee=Tt(Object,"create"),de=vt(V),ie=vt(J),he=vt(re),le=vt(ne),be=vt(se),ye=M?M.prototype:void 0,xe=ye?ye.valueOf:void 0;function Ee(Ce){var _e=-1,De=Ce==null?0:Ce.length;for(this.clear();++_e<De;){var dt=Ce[_e];this.set(dt[0],dt[1])}}function Be(Ce){var _e=-1,De=Ce==null?0:Ce.length;for(this.clear();++_e<De;){var dt=Ce[_e];this.set(dt[0],dt[1])}}function Pe(Ce){var _e=-1,De=Ce==null?0:Ce.length;for(this.clear();++_e<De;){var dt=Ce[_e];this.set(dt[0],dt[1])}}function Ue(Ce){var _e=-1,De=Ce==null?0:Ce.length;for(this.__data__=new Pe;++_e<De;)this.add(Ce[_e])}function He(Ce){var _e=this.__data__=new Be(Ce);this.size=_e.size}function $e(Ce,_e){var De=wr(Ce),dt=!De&&Wt(Ce),$t=!De&&!dt&&Ct(Ce),yt=!De&&!dt&&!$t&&Br(Ce),zt=De||dt||$t||yt,Bt=zt?function(Vt,ur){for(var Hr=-1,wt=Array(Vt);++Hr<Vt;)wt[Hr]=ur(Hr);return wt}(Ce.length,String):[],jt=Bt.length;for(var Xt in Ce)!C.call(Ce,Xt)||zt&&(Xt=="length"||$t&&(Xt=="offset"||Xt=="parent")||yt&&(Xt=="buffer"||Xt=="byteLength"||Xt=="byteOffset")||Ot(Xt,jt))||Bt.push(Xt);return Bt}function Ke(Ce,_e){for(var De=Ce.length;De--;)if(ut(Ce[De][0],_e))return De;return-1}function st(Ce){return Ce==null?Ce===void 0?"[object Undefined]":"[object Null]":Q&&Q in Object(Ce)?function(_e){var De=C.call(_e,Q),dt=_e[Q];try{_e[Q]=void 0;var $t=!0}catch{}var yt=x.call(_e);return $t&&(De?_e[Q]=dt:delete _e[Q]),yt}(Ce):function(_e){return x.call(_e)}(Ce)}function Ve(Ce){return mr(Ce)&&st(Ce)==a}function pt(Ce,_e,De,dt,$t){return Ce===_e||(Ce==null||_e==null||!mr(Ce)&&!mr(_e)?Ce!=Ce&&_e!=_e:function(yt,zt,Bt,jt,Xt,Vt){var ur=wr(yt),Hr=wr(zt),wt=ur?"[object Array]":ot(yt),we=Hr?"[object Array]":ot(zt),nt=(wt=wt==a?l:wt)==l,_t=(we=we==a?l:we)==l,pe=wt==we;if(pe&&Ct(yt)){if(!Ct(zt))return!1;ur=!0,nt=!1}if(pe&&!nt)return Vt||(Vt=new He),ur||Br(yt)?qe(yt,zt,Bt,jt,Xt,Vt):function(At,xt,Zt,dr,Ar,nr,Tr){switch(Zt){case"[object DataView]":if(At.byteLength!=xt.byteLength||At.byteOffset!=xt.byteOffset)return!1;At=At.buffer,xt=xt.buffer;case"[object ArrayBuffer]":return!(At.byteLength!=xt.byteLength||!nr(new z(At),new z(xt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ut(+At,+xt);case"[object Error]":return At.name==xt.name&&At.message==xt.message;case"[object RegExp]":case"[object String]":return At==xt+"";case o:var Pr=R;case c:var Kr=1&dr;if(Pr||(Pr=j),At.size!=xt.size&&!Kr)return!1;var vr=Tr.get(At);if(vr)return vr==xt;dr|=2,Tr.set(At,xt);var Kn=qe(Pr(At),Pr(xt),dr,Ar,nr,Tr);return Tr.delete(At),Kn;case"[object Symbol]":if(xe)return xe.call(At)==xe.call(xt)}return!1}(yt,zt,wt,Bt,jt,Xt,Vt);if(!(1&Bt)){var Fe=nt&&C.call(yt,"__wrapped__"),Qe=_t&&C.call(zt,"__wrapped__");if(Fe||Qe){var tt=Fe?yt.value():yt,Et=Qe?zt.value():zt;return Vt||(Vt=new He),Xt(tt,Et,Bt,jt,Vt)}}return pe?(Vt||(Vt=new He),function(At,xt,Zt,dr,Ar,nr){var Tr=1&Zt,Pr=gt(At),Kr=Pr.length,vr=gt(xt).length;if(Kr!=vr&&!Tr)return!1;for(var Kn=Kr;Kn--;){var Cn=Pr[Kn];if(!(Tr?Cn in xt:C.call(xt,Cn)))return!1}var ns=nr.get(At);if(ns&&nr.get(xt))return ns==xt;var To=!0;nr.set(At,xt),nr.set(xt,At);for(var Hi=Tr;++Kn<Kr;){Cn=Pr[Kn];var Sn=At[Cn],$s=xt[Cn];if(dr)var Qr=Tr?dr($s,Sn,Cn,xt,At,nr):dr(Sn,$s,Cn,At,xt,nr);if(!(Qr===void 0?Sn===$s||Ar(Sn,$s,Zt,dr,nr):Qr)){To=!1;break}Hi||(Hi=Cn=="constructor")}if(To&&!Hi){var Mr=At.constructor,jo=xt.constructor;Mr==jo||!("constructor"in At)||!("constructor"in xt)||typeof Mr=="function"&&Mr instanceof Mr&&typeof jo=="function"&&jo instanceof jo||(To=!1)}return nr.delete(At),nr.delete(xt),To}(yt,zt,Bt,jt,Xt,Vt)):!1}(Ce,_e,De,dt,pt,$t))}function Je(Ce){return!(!ht(Ce)||function(_e){return!!E&&E in _e}(Ce))&&(cr(Ce)?F:u).test(vt(Ce))}function ze(Ce){if(De=(_e=Ce)&&_e.constructor,dt=typeof De=="function"&&De.prototype||P,_e!==dt)return O(Ce);var _e,De,dt,$t=[];for(var yt in Object(Ce))C.call(Ce,yt)&&yt!="constructor"&&$t.push(yt);return $t}function qe(Ce,_e,De,dt,$t,yt){var zt=1&De,Bt=Ce.length,jt=_e.length;if(Bt!=jt&&!(zt&&jt>Bt))return!1;var Xt=yt.get(Ce);if(Xt&&yt.get(_e))return Xt==_e;var Vt=-1,ur=!0,Hr=2&De?new Ue:void 0;for(yt.set(Ce,_e),yt.set(_e,Ce);++Vt<Bt;){var wt=Ce[Vt],we=_e[Vt];if(dt)var nt=zt?dt(we,wt,Vt,_e,Ce,yt):dt(wt,we,Vt,Ce,_e,yt);if(nt!==void 0){if(nt)continue;ur=!1;break}if(Hr){if(!B(_e,function(_t,pe){if(Fe=pe,!Hr.has(Fe)&&(wt===_t||$t(wt,_t,De,dt,yt)))return Hr.push(pe);var Fe})){ur=!1;break}}else if(wt!==we&&!$t(wt,we,De,dt,yt)){ur=!1;break}}return yt.delete(Ce),yt.delete(_e),ur}function gt(Ce){return function(_e,De,dt){var $t=De(_e);return wr(_e)?$t:function(yt,zt){for(var Bt=-1,jt=zt.length,Xt=yt.length;++Bt<jt;)yt[Xt+Bt]=zt[Bt];return yt}($t,dt(_e))}(Ce,qt,St)}function We(Ce,_e){var De,dt,$t=Ce.__data__;return((dt=typeof(De=_e))=="string"||dt=="number"||dt=="symbol"||dt=="boolean"?De!=="__proto__":De===null)?$t[typeof _e=="string"?"string":"hash"]:$t.map}function Tt(Ce,_e){var De=function(dt,$t){return dt?.[$t]}(Ce,_e);return Je(De)?De:void 0}Ee.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},Ee.prototype.delete=function(Ce){var _e=this.has(Ce)&&delete this.__data__[Ce];return this.size-=_e?1:0,_e},Ee.prototype.get=function(Ce){var _e=this.__data__;if(ee){var De=_e[Ce];return De==="__lodash_hash_undefined__"?void 0:De}return C.call(_e,Ce)?_e[Ce]:void 0},Ee.prototype.has=function(Ce){var _e=this.__data__;return ee?_e[Ce]!==void 0:C.call(_e,Ce)},Ee.prototype.set=function(Ce,_e){var De=this.__data__;return this.size+=this.has(Ce)?0:1,De[Ce]=ee&&_e===void 0?"__lodash_hash_undefined__":_e,this},Be.prototype.clear=function(){this.__data__=[],this.size=0},Be.prototype.delete=function(Ce){var _e=this.__data__,De=Ke(_e,Ce);return!(De<0)&&(De==_e.length-1?_e.pop():Y.call(_e,De,1),--this.size,!0)},Be.prototype.get=function(Ce){var _e=this.__data__,De=Ke(_e,Ce);return De<0?void 0:_e[De][1]},Be.prototype.has=function(Ce){return Ke(this.__data__,Ce)>-1},Be.prototype.set=function(Ce,_e){var De=this.__data__,dt=Ke(De,Ce);return dt<0?(++this.size,De.push([Ce,_e])):De[dt][1]=_e,this},Pe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(J||Be),string:new Ee}},Pe.prototype.delete=function(Ce){var _e=We(this,Ce).delete(Ce);return this.size-=_e?1:0,_e},Pe.prototype.get=function(Ce){return We(this,Ce).get(Ce)},Pe.prototype.has=function(Ce){return We(this,Ce).has(Ce)},Pe.prototype.set=function(Ce,_e){var De=We(this,Ce),dt=De.size;return De.set(Ce,_e),this.size+=De.size==dt?0:1,this},Ue.prototype.add=Ue.prototype.push=function(Ce){return this.__data__.set(Ce,"__lodash_hash_undefined__"),this},Ue.prototype.has=function(Ce){return this.__data__.has(Ce)},He.prototype.clear=function(){this.__data__=new Be,this.size=0},He.prototype.delete=function(Ce){var _e=this.__data__,De=_e.delete(Ce);return this.size=_e.size,De},He.prototype.get=function(Ce){return this.__data__.get(Ce)},He.prototype.has=function(Ce){return this.__data__.has(Ce)},He.prototype.set=function(Ce,_e){var De=this.__data__;if(De instanceof Be){var dt=De.__data__;if(!J||dt.length<199)return dt.push([Ce,_e]),this.size=++De.size,this;De=this.__data__=new Pe(dt)}return De.set(Ce,_e),this.size=De.size,this};var St=q?function(Ce){return Ce==null?[]:(Ce=Object(Ce),function(_e,De){for(var dt=-1,$t=_e==null?0:_e.length,yt=0,zt=[];++dt<$t;){var Bt=_e[dt];De(Bt,dt,_e)&&(zt[yt++]=Bt)}return zt}(q(Ce),function(_e){return G.call(Ce,_e)}))}:function(){return[]},ot=st;function Ot(Ce,_e){return!!(_e=_e??9007199254740991)&&(typeof Ce=="number"||d.test(Ce))&&Ce>-1&&Ce%1==0&&Ce<_e}function vt(Ce){if(Ce!=null){try{return S.call(Ce)}catch{}try{return Ce+""}catch{}}return""}function ut(Ce,_e){return Ce===_e||Ce!=Ce&&_e!=_e}(V&&ot(new V(new ArrayBuffer(1)))!="[object DataView]"||J&&ot(new J)!=o||re&&ot(re.resolve())!="[object Promise]"||ne&&ot(new ne)!=c||se&&ot(new se)!="[object WeakMap]")&&(ot=function(Ce){var _e=st(Ce),De=_e==l?Ce.constructor:void 0,dt=De?vt(De):"";if(dt)switch(dt){case de:return"[object DataView]";case ie:return o;case he:return"[object Promise]";case le:return c;case be:return"[object WeakMap]"}return _e});var Wt=Ve(function(){return arguments}())?Ve:function(Ce){return mr(Ce)&&C.call(Ce,"callee")&&!G.call(Ce,"callee")},wr=Array.isArray,Ct=D||function(){return!1};function cr(Ce){if(!ht(Ce))return!1;var _e=st(Ce);return _e=="[object Function]"||_e=="[object GeneratorFunction]"||_e=="[object AsyncFunction]"||_e=="[object Proxy]"}function Nr(Ce){return typeof Ce=="number"&&Ce>-1&&Ce%1==0&&Ce<=9007199254740991}function ht(Ce){var _e=typeof Ce;return Ce!=null&&(_e=="object"||_e=="function")}function mr(Ce){return Ce!=null&&typeof Ce=="object"}var Br=_?function(Ce){return function(_e){return Ce(_e)}}(_):function(Ce){return mr(Ce)&&Nr(Ce.length)&&!!h[st(Ce)]};function qt(Ce){return(_e=Ce)!=null&&Nr(_e.length)&&!cr(_e)?$e(Ce):ze(Ce);var _e}n.exports=function(Ce,_e){return pt(Ce,_e)}}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,n,i){(function(s){(function(){var a=typeof s=="object"&&s&&s.Object===Object&&s,o=typeof self=="object"&&self&&self.Object===Object&&self,l=a||o||Function("return this")(),c=Object.prototype,u=c.hasOwnProperty,d=c.toString,h=l.Symbol,f=h?h.toStringTag:void 0;function p(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":f&&f in Object(g)?function(m){var v=u.call(m,f),y=m[f];try{m[f]=void 0;var b=!0}catch{}var w=d.call(m);return b&&(v?m[f]=y:delete m[f]),w}(g):function(m){return d.call(m)}(g)}n.exports=function(g){if(!function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")}(g))return!1;var m=p(g);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,n,i){n.exports=function(s){return s==null}},{}],448:[function(t,n,i){n.exports=function(s){return s===void 0}},{}],449:[function(t,n,i){(function(s){(function(){var a=/^\[object .+?Constructor\]$/,o=typeof s=="object"&&s&&s.Object===Object&&s,l=typeof self=="object"&&self&&self.Object===Object&&self,c=o||l||Function("return this")();function u(M,z){return!!(M&&M.length)&&function(G,Y,Q){if(Y!=Y)return function(O,V,J,re){for(var ne=O.length,se=J+-1;++se<ne;)if(V(O[se],se,O))return se;return-1}(G,d,Q);for(var q=Q-1,D=G.length;++q<D;)if(G[q]===Y)return q;return-1}(M,z,0)>-1}function d(M){return M!=M}function h(M,z){return M.has(z)}function f(M){var z=-1,G=Array(M.size);return M.forEach(function(Y){G[++z]=Y}),G}var p,g=Array.prototype,m=Function.prototype,v=Object.prototype,y=c["__core-js_shared__"],b=(p=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",w=m.toString,_=v.hasOwnProperty,B=v.toString,R=RegExp("^"+w.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=g.splice,k=F(c,"Map"),L=F(c,"Set"),H=F(Object,"create");function I(M){var z=-1,G=M?M.length:0;for(this.clear();++z<G;){var Y=M[z];this.set(Y[0],Y[1])}}function T(M){var z=-1,G=M?M.length:0;for(this.clear();++z<G;){var Y=M[z];this.set(Y[0],Y[1])}}function P(M){var z=-1,G=M?M.length:0;for(this.clear();++z<G;){var Y=M[z];this.set(Y[0],Y[1])}}function N(M){var z=-1,G=M?M.length:0;for(this.__data__=new P;++z<G;)this.add(M[z])}function S(M,z){for(var G,Y,Q=M.length;Q--;)if((G=M[Q][0])===(Y=z)||G!=G&&Y!=Y)return Q;return-1}function C(M){return!(!U(M)||(z=M,b&&b in z))&&(function(G){var Y=U(G)?B.call(G):"";return Y=="[object Function]"||Y=="[object GeneratorFunction]"}(M)||function(G){var Y=!1;if(G!=null&&typeof G.toString!="function")try{Y=!!(G+"")}catch{}return Y}(M)?R:a).test(function(G){if(G!=null){try{return w.call(G)}catch{}try{return G+""}catch{}}return""}(M));var z}I.prototype.clear=function(){this.__data__=H?H(null):{}},I.prototype.delete=function(M){return this.has(M)&&delete this.__data__[M]},I.prototype.get=function(M){var z=this.__data__;if(H){var G=z[M];return G==="__lodash_hash_undefined__"?void 0:G}return _.call(z,M)?z[M]:void 0},I.prototype.has=function(M){var z=this.__data__;return H?z[M]!==void 0:_.call(z,M)},I.prototype.set=function(M,z){return this.__data__[M]=H&&z===void 0?"__lodash_hash_undefined__":z,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(M){var z=this.__data__,G=S(z,M);return!(G<0)&&(G==z.length-1?z.pop():j.call(z,G,1),!0)},T.prototype.get=function(M){var z=this.__data__,G=S(z,M);return G<0?void 0:z[G][1]},T.prototype.has=function(M){return S(this.__data__,M)>-1},T.prototype.set=function(M,z){var G=this.__data__,Y=S(G,M);return Y<0?G.push([M,z]):G[Y][1]=z,this},P.prototype.clear=function(){this.__data__={hash:new I,map:new(k||T),string:new I}},P.prototype.delete=function(M){return x(this,M).delete(M)},P.prototype.get=function(M){return x(this,M).get(M)},P.prototype.has=function(M){return x(this,M).has(M)},P.prototype.set=function(M,z){return x(this,M).set(M,z),this},N.prototype.add=N.prototype.push=function(M){return this.__data__.set(M,"__lodash_hash_undefined__"),this},N.prototype.has=function(M){return this.__data__.has(M)};var E=L&&1/f(new L([,-0]))[1]==1/0?function(M){return new L(M)}:function(){};function x(M,z){var G,Y,Q=M.__data__;return((Y=typeof(G=z))=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?G!=="__proto__":G===null)?Q[typeof z=="string"?"string":"hash"]:Q.map}function F(M,z){var G=function(Y,Q){return Y?.[Q]}(M,z);return C(G)?G:void 0}function U(M){var z=typeof M;return!!M&&(z=="object"||z=="function")}n.exports=function(M){return M&&M.length?function(z,G,Y){var Q=-1,q=u,D=z.length,O=!0,V=[],J=V;if(D>=200){var re=E(z);if(re)return f(re);O=!1,q=h,J=new N}else J=V;e:for(;++Q<D;){var ne=z[Q],se=ne;if(ne=ne!==0?ne:0,O&&se==se){for(var ee=J.length;ee--;)if(J[ee]===se)continue e;V.push(ne)}else q(J,se,Y)||(J!==V&&J.push(se),V.push(ne))}return V}(M):[]}}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,n,i){var s=t("inherits"),a=t("hash-base"),o=t("safe-buffer").Buffer,l=new Array(16);function c(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(g,m){return g<<m|g>>>32-m}function d(g,m,v,y,b,w,_){return u(g+(m&v|~m&y)+b+w|0,_)+m|0}function h(g,m,v,y,b,w,_){return u(g+(m&y|v&~y)+b+w|0,_)+m|0}function f(g,m,v,y,b,w,_){return u(g+(m^v^y)+b+w|0,_)+m|0}function p(g,m,v,y,b,w,_){return u(g+(v^(m|~y))+b+w|0,_)+m|0}s(c,a),c.prototype._update=function(){for(var g=l,m=0;m<16;++m)g[m]=this._block.readInt32LE(4*m);var v=this._a,y=this._b,b=this._c,w=this._d;v=d(v,y,b,w,g[0],3614090360,7),w=d(w,v,y,b,g[1],3905402710,12),b=d(b,w,v,y,g[2],606105819,17),y=d(y,b,w,v,g[3],3250441966,22),v=d(v,y,b,w,g[4],4118548399,7),w=d(w,v,y,b,g[5],1200080426,12),b=d(b,w,v,y,g[6],2821735955,17),y=d(y,b,w,v,g[7],4249261313,22),v=d(v,y,b,w,g[8],1770035416,7),w=d(w,v,y,b,g[9],2336552879,12),b=d(b,w,v,y,g[10],4294925233,17),y=d(y,b,w,v,g[11],2304563134,22),v=d(v,y,b,w,g[12],1804603682,7),w=d(w,v,y,b,g[13],4254626195,12),b=d(b,w,v,y,g[14],2792965006,17),v=h(v,y=d(y,b,w,v,g[15],1236535329,22),b,w,g[1],4129170786,5),w=h(w,v,y,b,g[6],3225465664,9),b=h(b,w,v,y,g[11],643717713,14),y=h(y,b,w,v,g[0],3921069994,20),v=h(v,y,b,w,g[5],3593408605,5),w=h(w,v,y,b,g[10],38016083,9),b=h(b,w,v,y,g[15],3634488961,14),y=h(y,b,w,v,g[4],3889429448,20),v=h(v,y,b,w,g[9],568446438,5),w=h(w,v,y,b,g[14],3275163606,9),b=h(b,w,v,y,g[3],4107603335,14),y=h(y,b,w,v,g[8],1163531501,20),v=h(v,y,b,w,g[13],2850285829,5),w=h(w,v,y,b,g[2],4243563512,9),b=h(b,w,v,y,g[7],1735328473,14),v=f(v,y=h(y,b,w,v,g[12],2368359562,20),b,w,g[5],4294588738,4),w=f(w,v,y,b,g[8],2272392833,11),b=f(b,w,v,y,g[11],1839030562,16),y=f(y,b,w,v,g[14],4259657740,23),v=f(v,y,b,w,g[1],2763975236,4),w=f(w,v,y,b,g[4],1272893353,11),b=f(b,w,v,y,g[7],4139469664,16),y=f(y,b,w,v,g[10],3200236656,23),v=f(v,y,b,w,g[13],681279174,4),w=f(w,v,y,b,g[0],3936430074,11),b=f(b,w,v,y,g[3],3572445317,16),y=f(y,b,w,v,g[6],76029189,23),v=f(v,y,b,w,g[9],3654602809,4),w=f(w,v,y,b,g[12],3873151461,11),b=f(b,w,v,y,g[15],530742520,16),v=p(v,y=f(y,b,w,v,g[2],3299628645,23),b,w,g[0],4096336452,6),w=p(w,v,y,b,g[7],1126891415,10),b=p(b,w,v,y,g[14],2878612391,15),y=p(y,b,w,v,g[5],4237533241,21),v=p(v,y,b,w,g[12],1700485571,6),w=p(w,v,y,b,g[3],2399980690,10),b=p(b,w,v,y,g[10],4293915773,15),y=p(y,b,w,v,g[1],2240044497,21),v=p(v,y,b,w,g[8],1873313359,6),w=p(w,v,y,b,g[15],4264355552,10),b=p(b,w,v,y,g[6],2734768916,15),y=p(y,b,w,v,g[13],1309151649,21),v=p(v,y,b,w,g[4],4149444226,6),w=p(w,v,y,b,g[11],3174756917,10),b=p(b,w,v,y,g[2],718787259,15),y=p(y,b,w,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+b|0,this._d=this._d+w|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=o.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,n,i){var s=t("bn.js"),a=t("brorand");function o(l){this.rand=l||new a.Rand}n.exports=o,o.create=function(l){return new o(l)},o.prototype._randbelow=function(l){var c=l.bitLength(),u=Math.ceil(c/8);do var d=new s(this.rand.generate(u));while(d.cmp(l)>=0);return d},o.prototype._randrange=function(l,c){var u=c.sub(l);return l.add(this._randbelow(u))},o.prototype.test=function(l,c,u){var d=l.bitLength(),h=s.mont(l),f=new s(1).toRed(h);c||(c=Math.max(1,d/48|0));for(var p=l.subn(1),g=0;!p.testn(g);g++);for(var m=l.shrn(g),v=p.toRed(h);c>0;c--){var y=this._randrange(new s(2),p);u&&u(y);var b=y.toRed(h).redPow(m);if(b.cmp(f)!==0&&b.cmp(v)!==0){for(var w=1;w<g;w++){if((b=b.redSqr()).cmp(f)===0)return!1;if(b.cmp(v)===0)break}if(w===g)return!1}}return!0},o.prototype.getDivisor=function(l,c){var u=l.bitLength(),d=s.mont(l),h=new s(1).toRed(d);c||(c=Math.max(1,u/48|0));for(var f=l.subn(1),p=0;!f.testn(p);p++);for(var g=l.shrn(p),m=f.toRed(d);c>0;c--){var v=this._randrange(new s(2),f),y=l.gcd(v);if(y.cmpn(1)!==0)return y;var b=v.toRed(d).redPow(g);if(b.cmp(h)!==0&&b.cmp(m)!==0){for(var w=1;w<p;w++){if((b=b.redSqr()).cmp(h)===0)return b.fromRed().subn(1).gcd(l);if(b.cmp(m)===0)break}if(w===p)return(b=b.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(t,n,i){function s(a,o){if(!a)throw new Error(o||"Assertion failed")}n.exports=s,s.equal=function(a,o,l){if(a!=o)throw new Error(l||"Assertion failed: "+a+" != "+o)}},{}],454:[function(t,n,i){var s=i;function a(l){return l.length===1?"0"+l:l}function o(l){for(var c="",u=0;u<l.length;u++)c+=a(l[u].toString(16));return c}s.toArray=function(l,c){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var d=0;d<l.length;d++)u[d]=0|l[d];return u}if(c==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),d=0;d<l.length;d+=2)u.push(parseInt(l[d]+l[d+1],16));else for(d=0;d<l.length;d++){var h=l.charCodeAt(d),f=h>>8,p=255&h;f?u.push(f,p):u.push(p)}return u},s.zero2=a,s.toHex=o,s.encode=function(l,c){return c==="hex"?o(l):l}},{}],455:[function(t,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,n,i){var s=t("asn1.js");i.certificate=t("./certificate");var a=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=a;var o=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=o;var l=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});i.PublicKey=l;var c=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var d=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=d;var h=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=h,i.DSAparam=s.define("DSAparam",function(){this.int()});var f=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=f;var p=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,n,i){var s=t("asn1.js"),a=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=s.define("RelativeDistinguishedName",function(){this.setof(o)}),d=s.define("RDNSequence",function(){this.seqof(u)}),h=s.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),f=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),p=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),m=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=m},{"asn1.js":170}],458:[function(t,n,i){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=t("evp_bytestokey"),c=t("browserify-aes"),u=t("safe-buffer").Buffer;n.exports=function(d,h){var f,p=d.toString(),g=p.match(s);if(g){var m="aes"+g[1],v=u.from(g[2],"hex"),y=u.from(g[3].replace(/[\r\n]/g,""),"base64"),b=l(h,v.slice(0,8),parseInt(g[1],10)).key,w=[],_=c.createDecipheriv(m,b,v);w.push(_.update(y)),w.push(_.final()),f=u.concat(w)}else{var B=p.match(o);f=u.from(B[2].replace(/[\r\n]/g,""),"base64")}return{tag:p.match(a)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,n,i){var s=t("./asn1"),a=t("./aesid.json"),o=t("./fixProc"),l=t("browserify-aes"),c=t("pbkdf2"),u=t("safe-buffer").Buffer;function d(h){var f;typeof h!="object"||u.isBuffer(h)||(f=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var p,g,m=o(h,f),v=m.tag,y=m.data;switch(v){case"CERTIFICATE":g=s.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=s.PublicKey.decode(y,"der")),p=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=s.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"ENCRYPTED PRIVATE KEY":y=function(b,w){var _=b.algorithm.decrypt.kde.kdeparams.salt,B=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),R=a[b.algorithm.decrypt.cipher.algo.join(".")],j=b.algorithm.decrypt.cipher.iv,k=b.subjectPrivateKey,L=parseInt(R.split("-")[1],10)/8,H=c.pbkdf2Sync(w,_,B,L,"sha1"),I=l.createDecipheriv(R,H,j),T=[];return T.push(I.update(k)),T.push(I.final()),u.concat(T)}(y=s.EncryptedPrivateKey.decode(y,"der"),f);case"PRIVATE KEY":switch(p=(g=s.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:s.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=s.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+p)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=s.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=d,d.signature=s.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,n,i){i.pbkdf2=t("./lib/async"),i.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,n,i){(function(s){(function(){var a,o,l=t("safe-buffer").Buffer,c=t("./precondition"),u=t("./default-encoding"),d=t("./sync"),h=t("./to-buffer"),f=s.crypto&&s.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function m(){return o||(o=s.process&&s.process.nextTick?s.process.nextTick:s.queueMicrotask?s.queueMicrotask:s.setImmediate?s.setImmediate:s.setTimeout)}function v(y,b,w,_,B){return f.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(R){return f.deriveBits({name:"PBKDF2",salt:b,iterations:w,hash:{name:B}},R,_<<3)}).then(function(R){return l.from(R)})}n.exports=function(y,b,w,_,B,R){typeof B=="function"&&(R=B,B=void 0);var j=p[(B=B||"sha1").toLowerCase()];if(j&&typeof s.Promise=="function"){if(c(w,_),y=h(y,u,"Password"),b=h(b,u,"Salt"),typeof R!="function")throw new Error("No callback provided to pbkdf2");(function(k,L){k.then(function(H){m()(function(){L(null,H)})},function(H){m()(function(){L(H)})})})(function(k){if(s.process&&!s.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(g[k]!==void 0)return g[k];var L=v(a=a||l.alloc(8),a,10,128,k).then(function(){return!0}).catch(function(){return!1});return g[k]=L,L}(j).then(function(k){return k?v(y,b,w,_,j):d(y,b,w,_,B)}),R)}else m()(function(){var k;try{k=d(y,b,w,_,B)}catch(L){return R(L)}R(null,k)})}}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,n,i){(function(s,a){(function(){var o;a.process&&a.process.browser?o="utf-8":a.process&&a.process.version?o=parseInt(s.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,n,i){var s=Math.pow(2,30)-1;n.exports=function(a,o){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>s||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(t,n,i){var s=t("create-hash/md5"),a=t("ripemd160"),o=t("sha.js"),l=t("safe-buffer").Buffer,c=t("./precondition"),u=t("./default-encoding"),d=t("./to-buffer"),h=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function p(g,m,v){var y=function(j){function k(L){return o(j).update(L).digest()}return j==="rmd160"||j==="ripemd160"?function(L){return new a().update(L).digest()}:j==="md5"?s:k}(g),b=g==="sha512"||g==="sha384"?128:64;m.length>b?m=y(m):m.length<b&&(m=l.concat([m,h],b));for(var w=l.allocUnsafe(b+f[g]),_=l.allocUnsafe(b+f[g]),B=0;B<b;B++)w[B]=54^m[B],_[B]=92^m[B];var R=l.allocUnsafe(b+v+4);w.copy(R,0,0,b),this.ipad1=R,this.ipad2=w,this.opad=_,this.alg=g,this.blocksize=b,this.hash=y,this.size=f[g]}p.prototype.run=function(g,m){return g.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,m,v,y,b){c(v,y);var w=new p(b=b||"sha1",g=d(g,u,"Password"),(m=d(m,u,"Salt")).length),_=l.allocUnsafe(y),B=l.allocUnsafe(m.length+4);m.copy(B,0,0,m.length);for(var R=0,j=f[b],k=Math.ceil(y/j),L=1;L<=k;L++){B.writeUInt32BE(L,m.length);for(var H=w.run(B,w.ipad1),I=H,T=1;T<v;T++){I=w.run(I,w.ipad2);for(var P=0;P<j;P++)H[P]^=I[P]}H.copy(_,R),R+=j}return _}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,n,i){var s=t("safe-buffer").Buffer;n.exports=function(a,o,l){if(s.isBuffer(a))return a;if(typeof a=="string")return s.from(a,o);if(ArrayBuffer.isView(a))return s.from(a.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,n,i){(function(s){(function(){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,o,l,c){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,d,h=arguments.length;switch(h){case 0:case 1:return s.nextTick(a);case 2:return s.nextTick(function(){a.call(null,o)});case 3:return s.nextTick(function(){a.call(null,o,l)});case 4:return s.nextTick(function(){a.call(null,o,l,c)});default:for(u=new Array(h-1),d=0;d<u.length;)u[d++]=arguments[d];return s.nextTick(function(){a.apply(null,u)})}}}:n.exports=s}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,n,i){var s,a,o=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(b){if(s===setTimeout)return setTimeout(b,0);if((s===l||!s)&&setTimeout)return s=setTimeout,setTimeout(b,0);try{return s(b,0)}catch{try{return s.call(null,b,0)}catch{return s.call(this,b,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:l}catch{s=l}try{a=typeof clearTimeout=="function"?clearTimeout:c}catch{a=c}})();var d,h=[],f=!1,p=-1;function g(){f&&d&&(f=!1,d.length?h=d.concat(h):p=-1,h.length&&m())}function m(){if(!f){var b=u(g);f=!0;for(var w=h.length;w;){for(d=h,h=[];++p<w;)d&&d[p].run();p=-1,w=h.length}d=null,f=!1,function(_){if(a===clearTimeout)return clearTimeout(_);if((a===c||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(_);try{a(_)}catch{try{return a.call(null,_)}catch{return a.call(this,_)}}}(b)}}function v(b,w){this.fun=b,this.array=w}function y(){}o.nextTick=function(b){var w=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)w[_-1]=arguments[_];h.push(new v(b,w)),h.length!==1||f||u(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(t,n,i){i.publicEncrypt=t("./publicEncrypt"),i.privateDecrypt=t("./privateDecrypt"),i.privateEncrypt=function(s,a){return i.publicEncrypt(s,a,!0)},i.publicDecrypt=function(s,a){return i.privateDecrypt(s,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,n,i){var s=t("create-hash"),a=t("safe-buffer").Buffer;function o(l){var c=a.allocUnsafe(4);return c.writeUInt32BE(l,0),c}n.exports=function(l,c){for(var u,d=a.alloc(0),h=0;d.length<c;)u=o(h++),d=a.concat([d,s("sha1").update(l).update(u).digest()]);return d.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(t,n,i){var s=t("parse-asn1"),a=t("./mgf"),o=t("./xor"),l=t("bn.js"),c=t("browserify-rsa"),u=t("create-hash"),d=t("./withPublic"),h=t("safe-buffer").Buffer;n.exports=function(f,p,g){var m;m=f.padding?f.padding:g?1:4;var v,y=s(f),b=y.modulus.byteLength();if(p.length>b||new l(p).cmp(y.modulus)>=0)throw new Error("decryption error");v=g?d(new l(p),y):c(p,y);var w=h.alloc(b-v.length);if(v=h.concat([w,v],b),m===4)return function(_,B){var R=_.modulus.byteLength(),j=u("sha1").update(h.alloc(0)).digest(),k=j.length;if(B[0]!==0)throw new Error("decryption error");var L=B.slice(1,k+1),H=B.slice(k+1),I=o(L,a(H,k)),T=o(H,a(I,R-k-1));if(function(N,S){N=h.from(N),S=h.from(S);var C=0,E=N.length;N.length!==S.length&&(C++,E=Math.min(N.length,S.length));for(var x=-1;++x<E;)C+=N[x]^S[x];return C}(j,T.slice(0,k)))throw new Error("decryption error");for(var P=k;T[P]===0;)P++;if(T[P++]!==1)throw new Error("decryption error");return T.slice(P)}(y,v);if(m===1)return function(_,B,R){for(var j=B.slice(0,2),k=2,L=0;B[k++]!==0;)if(k>=B.length){L++;break}var H=B.slice(2,k-1);if((j.toString("hex")!=="0002"&&!R||j.toString("hex")!=="0001"&&R)&&L++,H.length<8&&L++,L)throw new Error("decryption error");return B.slice(k)}(0,v,g);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,n,i){var s=t("parse-asn1"),a=t("randombytes"),o=t("create-hash"),l=t("./mgf"),c=t("./xor"),u=t("bn.js"),d=t("./withPublic"),h=t("browserify-rsa"),f=t("safe-buffer").Buffer;n.exports=function(p,g,m){var v;v=p.padding?p.padding:m?1:4;var y,b=s(p);if(v===4)y=function(w,_){var B=w.modulus.byteLength(),R=_.length,j=o("sha1").update(f.alloc(0)).digest(),k=j.length,L=2*k;if(R>B-L-2)throw new Error("message too long");var H=f.alloc(B-R-L-2),I=B-k-1,T=a(k),P=c(f.concat([j,H,f.alloc(1,1),_],I),l(T,I)),N=c(T,l(P,k));return new u(f.concat([f.alloc(1),N,P],B))}(b,g);else if(v===1)y=function(w,_,B){var R,j=_.length,k=w.modulus.byteLength();if(j>k-11)throw new Error("message too long");return R=B?f.alloc(k-j-3,255):function(L){for(var H,I=f.allocUnsafe(L),T=0,P=a(2*L),N=0;T<L;)N===P.length&&(P=a(2*L),N=0),(H=P[N++])&&(I[T++]=H);return I}(k-j-3),new u(f.concat([f.from([0,B?1:2]),R,f.alloc(1),_],k))}(b,g,m);else{if(v!==3)throw new Error("unknown padding");if((y=new u(g)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return m?h(y,b):d(y,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,n,i){var s=t("bn.js"),a=t("safe-buffer").Buffer;n.exports=function(o,l){return a.from(o.toRed(s.mont(l.modulus)).redPow(new s(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,n,i){n.exports=function(s,a){for(var o=s.length,l=-1;++l<o;)s[l]^=a[l];return s}},{}],475:[function(t,n,i){(function(s,a){(function(){var o=t("safe-buffer").Buffer,l=a.crypto||a.msCrypto;l&&l.getRandomValues?n.exports=function(c,u){if(c>4294967295)throw new RangeError("requested too many random bytes");var d=o.allocUnsafe(c);if(c>0)if(c>65536)for(var h=0;h<c;h+=65536)l.getRandomValues(d.slice(h,h+65536));else l.getRandomValues(d);return typeof u=="function"?s.nextTick(function(){u(null,d)}):d}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,n,i){(function(s,a){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=t("safe-buffer"),c=t("randombytes"),u=l.Buffer,d=l.kMaxLength,h=a.crypto||a.msCrypto,f=Math.pow(2,32)-1;function p(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>f||v<0)throw new TypeError("offset must be a uint32");if(v>d||v>y)throw new RangeError("offset out of range")}function g(v,y,b){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>f||v<0)throw new TypeError("size must be a uint32");if(v+y>b||v>d)throw new RangeError("buffer too small")}function m(v,y,b,w){if(s.browser){var _=v.buffer,B=new Uint8Array(_,y,b);return h.getRandomValues(B),w?void s.nextTick(function(){w(null,v)}):v}if(!w)return c(b).copy(v,y),v;c(b,function(R,j){if(R)return w(R);j.copy(v,y),w(null,v)})}h&&h.getRandomValues||!s.browser?(i.randomFill=function(v,y,b,w){if(!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")w=y,y=0,b=v.length;else if(typeof b=="function")w=b,b=v.length-y;else if(typeof w!="function")throw new TypeError('"cb" argument must be a function');return p(y,v.length),g(b,y,v.length),m(v,y,b,w)},i.randomFillSync=function(v,y,b){if(y===void 0&&(y=0),!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return p(y,v.length),b===void 0&&(b=v.length-y),g(b,y,v.length),m(v,y,b)}):(i.randomFill=o,i.randomFillSync=o)}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,n,i){var s={};function a(l,c,u){u||(u=Error);var d=function(h){var f,p;function g(m,v,y){return h.call(this,function(b,w,_){return typeof c=="string"?c:c(b,w,_)}(m,v,y))||this}return p=h,(f=g).prototype=Object.create(p.prototype),f.prototype.constructor=f,f.__proto__=p,g}(u);d.prototype.name=u.name,d.prototype.code=l,s[l]=d}function o(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(d){return String(d)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}return"of ".concat(c," ").concat(String(l))}a("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(l,c,u){var d,h,f;if(typeof c=="string"&&(h="not ",c.substr(0,h.length)===h)?(d="must not be",c=c.replace(/^not /,"")):d="must be",function(g,m,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-m.length,v)===m}(l," argument"))f="The ".concat(l," ").concat(d," ").concat(o(c,"type"));else{var p=function(g,m,v){return typeof v!="number"&&(v=0),!(v+m.length>g.length)&&g.indexOf(m,v)!==-1}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(p," ").concat(d," ").concat(o(c,"type"))}return f+=". Received type ".concat(typeof u)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=s},{}],478:[function(t,n,i){(function(s){(function(){var a=Object.keys||function(g){var m=[];for(var v in g)m.push(v);return m};n.exports=h;var o=t("./_stream_readable"),l=t("./_stream_writable");t("inherits")(h,o);for(var c=a(l.prototype),u=0;u<c.length;u++){var d=c[u];h.prototype[d]||(h.prototype[d]=l.prototype[d])}function h(g){if(!(this instanceof h))return new h(g);o.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||s.nextTick(p,this)}function p(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,n,i){n.exports=a;var s=t("./_stream_transform");function a(o){if(!(this instanceof a))return new a(o);s.call(this,o)}t("inherits")(a,s),a.prototype._transform=function(o,l,c){c(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(t,n,i){(function(s,a){(function(){var o;n.exports=I,I.ReadableState=H,t("events").EventEmitter;var l=function(D,O){return D.listeners(O).length},c=t("./internal/streams/stream"),u=t("buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,f=t("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g,m,v=t("./internal/streams/buffer_list"),y=t("./internal/streams/destroy"),b=t("./internal/streams/state").getHighWaterMark,w=t("../errors").codes,_=w.ERR_INVALID_ARG_TYPE,B=w.ERR_STREAM_PUSH_AFTER_EOF,R=w.ERR_METHOD_NOT_IMPLEMENTED,j=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(I,c);var k=y.errorOrDestroy,L=["error","close","destroy","pause","resume"];function H(D,O,V){o=o||t("./_stream_duplex"),D=D||{},typeof V!="boolean"&&(V=O instanceof o),this.objectMode=!!D.objectMode,V&&(this.objectMode=this.objectMode||!!D.readableObjectMode),this.highWaterMark=b(this,D,"readableHighWaterMark",V),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(p||(p=t("string_decoder/").StringDecoder),this.decoder=new p(D.encoding),this.encoding=D.encoding)}function I(D){if(o=o||t("./_stream_duplex"),!(this instanceof I))return new I(D);var O=this instanceof o;this._readableState=new H(D,this,O),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),c.call(this)}function T(D,O,V,J,re){h("readableAddChunk",O);var ne,se=D._readableState;if(O===null)se.reading=!1,function(ee,de){if(h("onEofChunk"),!de.ended){if(de.decoder){var ie=de.decoder.end();ie&&ie.length&&(de.buffer.push(ie),de.length+=de.objectMode?1:ie.length)}de.ended=!0,de.sync?S(ee):(de.needReadable=!1,de.emittedReadable||(de.emittedReadable=!0,C(ee)))}}(D,se);else if(re||(ne=function(ee,de){var ie;he=de,u.isBuffer(he)||he instanceof d||typeof de=="string"||de===void 0||ee.objectMode||(ie=new _("chunk",["string","Buffer","Uint8Array"],de));var he;return ie}(se,O)),ne)k(D,ne);else if(se.objectMode||O&&O.length>0)if(typeof O=="string"||se.objectMode||Object.getPrototypeOf(O)===u.prototype||(O=function(ee){return u.from(ee)}(O)),J)se.endEmitted?k(D,new j):P(D,se,O,!0);else if(se.ended)k(D,new B);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!V?(O=se.decoder.write(O),se.objectMode||O.length!==0?P(D,se,O,!1):E(D,se)):P(D,se,O,!1)}else J||(se.reading=!1,E(D,se));return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function P(D,O,V,J){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,D.emit("data",V)):(O.length+=O.objectMode?1:V.length,J?O.buffer.unshift(V):O.buffer.push(V),O.needReadable&&S(D)),E(D,O)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(D,O){O(D)},I.prototype.push=function(D,O){var V,J=this._readableState;return J.objectMode?V=!0:typeof D=="string"&&((O=O||J.defaultEncoding)!==J.encoding&&(D=u.from(D,O),O=""),V=!0),T(this,D,O,!1,V)},I.prototype.unshift=function(D){return T(this,D,null,!0,!1)},I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(D){p||(p=t("string_decoder/").StringDecoder);var O=new p(D);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,J="";V!==null;)J+=O.write(V.data),V=V.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};function N(D,O){return D<=0||O.length===0&&O.ended?0:O.objectMode?1:D!=D?O.flowing&&O.length?O.buffer.head.data.length:O.length:(D>O.highWaterMark&&(O.highWaterMark=function(V){return V>=1073741824?V=1073741824:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}(D)),D<=O.length?D:O.ended?O.length:(O.needReadable=!0,0))}function S(D){var O=D._readableState;h("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(h("emitReadable",O.flowing),O.emittedReadable=!0,s.nextTick(C,D))}function C(D){var O=D._readableState;h("emitReadable_",O.destroyed,O.length,O.ended),O.destroyed||!O.length&&!O.ended||(D.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,z(D)}function E(D,O){O.readingMore||(O.readingMore=!0,s.nextTick(x,D,O))}function x(D,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var V=O.length;if(h("maybeReadMore read 0"),D.read(0),V===O.length)break}O.readingMore=!1}function F(D){var O=D._readableState;O.readableListening=D.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:D.listenerCount("data")>0&&D.resume()}function U(D){h("readable nexttick read 0"),D.read(0)}function M(D,O){h("resume",O.reading),O.reading||D.read(0),O.resumeScheduled=!1,D.emit("resume"),z(D),O.flowing&&!O.reading&&D.read(0)}function z(D){var O=D._readableState;for(h("flow",O.flowing);O.flowing&&D.read()!==null;);}function G(D,O){return O.length===0?null:(O.objectMode?V=O.buffer.shift():!D||D>=O.length?(V=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.first():O.buffer.concat(O.length),O.buffer.clear()):V=O.buffer.consume(D,O.decoder),V);var V}function Y(D){var O=D._readableState;h("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,s.nextTick(Q,O,D))}function Q(D,O){if(h("endReadableNT",D.endEmitted,D.length),!D.endEmitted&&D.length===0&&(D.endEmitted=!0,O.readable=!1,O.emit("end"),D.autoDestroy)){var V=O._writableState;(!V||V.autoDestroy&&V.finished)&&O.destroy()}}function q(D,O){for(var V=0,J=D.length;V<J;V++)if(D[V]===O)return V;return-1}I.prototype.read=function(D){h("read",D),D=parseInt(D,10);var O=this._readableState,V=D;if(D!==0&&(O.emittedReadable=!1),D===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return h("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?Y(this):S(this),null;if((D=N(D,O))===0&&O.ended)return O.length===0&&Y(this),null;var J,re=O.needReadable;return h("need readable",re),(O.length===0||O.length-D<O.highWaterMark)&&h("length less than watermark",re=!0),O.ended||O.reading?h("reading or ended",re=!1):re&&(h("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(D=N(V,O))),(J=D>0?G(D,O):null)===null?(O.needReadable=O.length<=O.highWaterMark,D=0):(O.length-=D,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),V!==D&&O.ended&&Y(this)),J!==null&&this.emit("data",J),J},I.prototype._read=function(D){k(this,new R("_read()"))},I.prototype.pipe=function(D,O){var V=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=D;break;case 1:J.pipes=[J.pipes,D];break;default:J.pipes.push(D)}J.pipesCount+=1,h("pipe count=%d opts=%j",J.pipesCount,O);var re=(!O||O.end!==!1)&&D!==s.stdout&&D!==s.stderr?se:ye;function ne(xe,Ee){h("onunpipe"),xe===V&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,h("cleanup"),D.removeListener("close",le),D.removeListener("finish",be),D.removeListener("drain",ee),D.removeListener("error",he),D.removeListener("unpipe",ne),V.removeListener("end",se),V.removeListener("end",ye),V.removeListener("data",ie),de=!0,!J.awaitDrain||D._writableState&&!D._writableState.needDrain||ee())}function se(){h("onend"),D.end()}J.endEmitted?s.nextTick(re):V.once("end",re),D.on("unpipe",ne);var ee=function(xe){return function(){var Ee=xe._readableState;h("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&l(xe,"data")&&(Ee.flowing=!0,z(xe))}}(V);D.on("drain",ee);var de=!1;function ie(xe){h("ondata");var Ee=D.write(xe);h("dest.write",Ee),Ee===!1&&((J.pipesCount===1&&J.pipes===D||J.pipesCount>1&&q(J.pipes,D)!==-1)&&!de&&(h("false write response, pause",J.awaitDrain),J.awaitDrain++),V.pause())}function he(xe){h("onerror",xe),ye(),D.removeListener("error",he),l(D,"error")===0&&k(D,xe)}function le(){D.removeListener("finish",be),ye()}function be(){h("onfinish"),D.removeListener("close",le),ye()}function ye(){h("unpipe"),V.unpipe(D)}return V.on("data",ie),function(xe,Ee,Be){if(typeof xe.prependListener=="function")return xe.prependListener(Ee,Be);xe._events&&xe._events[Ee]?Array.isArray(xe._events[Ee])?xe._events[Ee].unshift(Be):xe._events[Ee]=[Be,xe._events[Ee]]:xe.on(Ee,Be)}(D,"error",he),D.once("close",le),D.once("finish",be),D.emit("pipe",V),J.flowing||(h("pipe resume"),V.resume()),D},I.prototype.unpipe=function(D){var O=this._readableState,V={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return D&&D!==O.pipes||(D||(D=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,D&&D.emit("unpipe",this,V)),this;if(!D){var J=O.pipes,re=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ne=0;ne<re;ne++)J[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var se=q(O.pipes,D);return se===-1||(O.pipes.splice(se,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),D.emit("unpipe",this,V)),this},I.prototype.on=function(D,O){var V=c.prototype.on.call(this,D,O),J=this._readableState;return D==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):D==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,h("on readable",J.length,J.reading),J.length?S(this):J.reading||s.nextTick(U,this))),V},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(D,O){var V=c.prototype.removeListener.call(this,D,O);return D==="readable"&&s.nextTick(F,this),V},I.prototype.removeAllListeners=function(D){var O=c.prototype.removeAllListeners.apply(this,arguments);return D!=="readable"&&D!==void 0||s.nextTick(F,this),O},I.prototype.resume=function(){var D=this._readableState;return D.flowing||(h("resume"),D.flowing=!D.readableListening,function(O,V){V.resumeScheduled||(V.resumeScheduled=!0,s.nextTick(M,O,V))}(this,D)),D.paused=!1,this},I.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(D){var O=this,V=this._readableState,J=!1;for(var re in D.on("end",function(){if(h("wrapped end"),V.decoder&&!V.ended){var se=V.decoder.end();se&&se.length&&O.push(se)}O.push(null)}),D.on("data",function(se){h("wrapped data"),V.decoder&&(se=V.decoder.write(se)),V.objectMode&&se==null||(V.objectMode||se&&se.length)&&(O.push(se)||(J=!0,D.pause()))}),D)this[re]===void 0&&typeof D[re]=="function"&&(this[re]=function(se){return function(){return D[se].apply(D,arguments)}}(re));for(var ne=0;ne<L.length;ne++)D.on(L[ne],this.emit.bind(this,L[ne]));return this._read=function(se){h("wrapped _read",se),J&&(J=!1,D.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=t("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),I._fromList=G,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(I.from=function(D,O){return m===void 0&&(m=t("./internal/streams/from")),m(I,D,O)})}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,n,i){n.exports=h;var s=t("../errors").codes,a=s.ERR_METHOD_NOT_IMPLEMENTED,o=s.ERR_MULTIPLE_CALLBACK,l=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=s.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function d(g,m){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),y(g);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);u.call(this,g),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",f)}function f(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush(function(m,v){p(g,m,v)})}function p(g,m,v){if(m)return g.emit("error",m);if(v!=null&&g.push(v),g._writableState.length)throw new c;if(g._transformState.transforming)throw new l;return g.push(null)}t("inherits")(h,u),h.prototype.push=function(g,m){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,m)},h.prototype._transform=function(g,m,v){v(new a("_transform()"))},h.prototype._write=function(g,m,v){var y=this._transformState;if(y.writecb=v,y.writechunk=g,y.writeencoding=m,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},h.prototype._read=function(g){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},h.prototype._destroy=function(g,m){u.prototype._destroy.call(this,g,function(v){m(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,n,i){(function(s,a){(function(){function o(x){var F=this;this.next=null,this.entry=null,this.finish=function(){(function(U,M,z){var G=U.entry;for(U.entry=null;G;){var Y=G.callback;M.pendingcb--,Y(z),G=G.next}M.corkedRequestsFree.next=U})(F,x)}}var l;n.exports=I,I.WritableState=H;var c={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),d=t("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,p=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,w=m.ERR_STREAM_CANNOT_PIPE,_=m.ERR_STREAM_DESTROYED,B=m.ERR_STREAM_NULL_VALUES,R=m.ERR_STREAM_WRITE_AFTER_END,j=m.ERR_UNKNOWN_ENCODING,k=p.errorOrDestroy;function L(){}function H(x,F,U){l=l||t("./_stream_duplex"),x=x||{},typeof U!="boolean"&&(U=F instanceof l),this.objectMode=!!x.objectMode,U&&(this.objectMode=this.objectMode||!!x.writableObjectMode),this.highWaterMark=g(this,x,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var M=x.decodeStrings===!1;this.decodeStrings=!M,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){(function(G,Y){var Q=G._writableState,q=Q.sync,D=Q.writecb;if(typeof D!="function")throw new b;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(Q),Y)(function(V,J,re,ne,se){--J.pendingcb,re?(s.nextTick(se,ne),s.nextTick(E,V,J),V._writableState.errorEmitted=!0,k(V,ne)):(se(ne),V._writableState.errorEmitted=!0,k(V,ne),E(V,J))})(G,Q,q,Y,D);else{var O=S(Q)||G.destroyed;O||Q.corked||Q.bufferProcessing||!Q.bufferedRequest||N(G,Q),q?s.nextTick(P,G,Q,O,D):P(G,Q,O,D)}})(F,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=x.emitClose!==!1,this.autoDestroy=!!x.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function I(x){var F=this instanceof(l=l||t("./_stream_duplex"));if(!F&&!f.call(I,this))return new I(x);this._writableState=new H(x,this,F),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),u.call(this)}function T(x,F,U,M,z,G,Y){F.writelen=M,F.writecb=Y,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new _("write")):U?x._writev(z,F.onwrite):x._write(z,G,F.onwrite),F.sync=!1}function P(x,F,U,M){U||function(z,G){G.length===0&&G.needDrain&&(G.needDrain=!1,z.emit("drain"))}(x,F),F.pendingcb--,M(),E(x,F)}function N(x,F){F.bufferProcessing=!0;var U=F.bufferedRequest;if(x._writev&&U&&U.next){var M=F.bufferedRequestCount,z=new Array(M),G=F.corkedRequestsFree;G.entry=U;for(var Y=0,Q=!0;U;)z[Y]=U,U.isBuf||(Q=!1),U=U.next,Y+=1;z.allBuffers=Q,T(x,F,!0,F.length,z,"",G.finish),F.pendingcb++,F.lastBufferedRequest=null,G.next?(F.corkedRequestsFree=G.next,G.next=null):F.corkedRequestsFree=new o(F),F.bufferedRequestCount=0}else{for(;U;){var q=U.chunk,D=U.encoding,O=U.callback;if(T(x,F,!1,F.objectMode?1:q.length,q,D,O),U=U.next,F.bufferedRequestCount--,F.writing)break}U===null&&(F.lastBufferedRequest=null)}F.bufferedRequest=U,F.bufferProcessing=!1}function S(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function C(x,F){x._final(function(U){F.pendingcb--,U&&k(x,U),F.prefinished=!0,x.emit("prefinish"),E(x,F)})}function E(x,F){var U=S(F);if(U&&(function(z,G){G.prefinished||G.finalCalled||(typeof z._final!="function"||G.destroyed?(G.prefinished=!0,z.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,s.nextTick(C,z,G)))}(x,F),F.pendingcb===0&&(F.finished=!0,x.emit("finish"),F.autoDestroy))){var M=x._readableState;(!M||M.autoDestroy&&M.endEmitted)&&x.destroy()}return U}t("inherits")(I,u),H.prototype.getBuffer=function(){for(var x=this.bufferedRequest,F=[];x;)F.push(x),x=x.next;return F},function(){try{Object.defineProperty(H.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(x){return!!f.call(this,x)||this===I&&x&&x._writableState instanceof H}})):f=function(x){return x instanceof this},I.prototype.pipe=function(){k(this,new w)},I.prototype.write=function(x,F,U){var M,z=this._writableState,G=!1,Y=!z.objectMode&&(M=x,d.isBuffer(M)||M instanceof h);return Y&&!d.isBuffer(x)&&(x=function(Q){return d.from(Q)}(x)),typeof F=="function"&&(U=F,F=null),Y?F="buffer":F||(F=z.defaultEncoding),typeof U!="function"&&(U=L),z.ending?function(Q,q){var D=new R;k(Q,D),s.nextTick(q,D)}(this,U):(Y||function(Q,q,D,O){var V;return D===null?V=new B:typeof D=="string"||q.objectMode||(V=new v("chunk",["string","Buffer"],D)),!V||(k(Q,V),s.nextTick(O,V),!1)}(this,z,x,U))&&(z.pendingcb++,G=function(Q,q,D,O,V,J){if(!D){var re=function(de,ie,he){return de.objectMode||de.decodeStrings===!1||typeof ie!="string"||(ie=d.from(ie,he)),ie}(q,O,V);O!==re&&(D=!0,V="buffer",O=re)}var ne=q.objectMode?1:O.length;q.length+=ne;var se=q.length<q.highWaterMark;if(se||(q.needDrain=!0),q.writing||q.corked){var ee=q.lastBufferedRequest;q.lastBufferedRequest={chunk:O,encoding:V,isBuf:D,callback:J,next:null},ee?ee.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else T(Q,q,!1,ne,O,V,J);return se}(this,z,Y,x,F,U)),G},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,x.writing||x.corked||x.bufferProcessing||!x.bufferedRequest||N(this,x))},I.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new j(x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(x,F,U){U(new y("_write()"))},I.prototype._writev=null,I.prototype.end=function(x,F,U){var M=this._writableState;return typeof x=="function"?(U=x,x=null,F=null):typeof F=="function"&&(U=F,F=null),x!=null&&this.write(x,F),M.corked&&(M.corked=1,this.uncork()),M.ending||function(z,G,Y){G.ending=!0,E(z,G),Y&&(G.finished?s.nextTick(Y):z.once("finish",Y)),G.ended=!0,z.writable=!1}(this,M,U),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(x,F){F(x)}}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,n,i){(function(s){(function(){var a;function o(_,B,R){return(B=function(j){var k=function(L,H){if(typeof L!="object"||L===null)return L;var I=L[Symbol.toPrimitive];if(I!==void 0){var T=I.call(L,H);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(L)}(j,"string");return typeof k=="symbol"?k:String(k)}(B))in _?Object.defineProperty(_,B,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[B]=R,_}var l=t("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),d=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),p=Symbol("handlePromise"),g=Symbol("stream");function m(_,B){return{value:_,done:B}}function v(_){var B=_[c];if(B!==null){var R=_[g].read();R!==null&&(_[f]=null,_[c]=null,_[u]=null,B(m(R,!1)))}}function y(_){s.nextTick(v,_)}var b=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((o(a={get stream(){return this[g]},next:function(){var _=this,B=this[d];if(B!==null)return Promise.reject(B);if(this[h])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(L,H){s.nextTick(function(){_[d]?H(_[d]):L(m(void 0,!0))})});var R,j=this[f];if(j)R=new Promise(function(L,H){return function(I,T){L.then(function(){H[h]?I(m(void 0,!0)):H[p](I,T)},T)}}(j,this));else{var k=this[g].read();if(k!==null)return Promise.resolve(m(k,!1));R=new Promise(this[p])}return this[f]=R,R}},Symbol.asyncIterator,function(){return this}),o(a,"return",function(){var _=this;return new Promise(function(B,R){_[g].destroy(null,function(j){j?R(j):B(m(void 0,!0))})})}),a),b);n.exports=function(_){var B,R=Object.create(w,(o(B={},g,{value:_,writable:!0}),o(B,c,{value:null,writable:!0}),o(B,u,{value:null,writable:!0}),o(B,d,{value:null,writable:!0}),o(B,h,{value:_._readableState.endEmitted,writable:!0}),o(B,p,{value:function(j,k){var L=R[g].read();L?(R[f]=null,R[c]=null,R[u]=null,j(m(L,!1))):(R[c]=j,R[u]=k)},writable:!0}),B));return R[f]=null,l(_,function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var k=R[u];return k!==null&&(R[f]=null,R[c]=null,R[u]=null,k(j)),void(R[d]=j)}var L=R[c];L!==null&&(R[f]=null,R[c]=null,R[u]=null,L(m(void 0,!0))),R[h]=!0}),_.on("readable",y.bind(null,R)),R}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,n,i){function s(f,p){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);p&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),g.push.apply(g,m)}return g}function a(f){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?s(Object(g),!0).forEach(function(m){o(f,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):s(Object(g)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(g,m))})}return f}function o(f,p,g){return(p=c(p))in f?Object.defineProperty(f,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[p]=g,f}function l(f,p){for(var g=0;g<p.length;g++){var m=p[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,c(m.key),m)}}function c(f){var p=function(g,m){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var y=v.call(g,m);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}(f,"string");return typeof p=="symbol"?p:String(p)}var u=t("buffer").Buffer,d=t("util").inspect,h=d&&d.custom||"inspect";n.exports=function(){function f(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var p,g;return p=f,(g=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=m+v.data;return y}},{key:"concat",value:function(m){if(this.length===0)return u.alloc(0);for(var v,y,b,w=u.allocUnsafe(m>>>0),_=this.head,B=0;_;)v=_.data,y=w,b=B,u.prototype.copy.call(v,y,b),B+=_.data.length,_=_.next;return w}},{key:"consume",value:function(m,v){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,y=1,b=v.data;for(m-=b.length;v=v.next;){var w=v.data,_=m>w.length?w.length:m;if(_===w.length?b+=w:b+=w.slice(0,m),(m-=_)==0){_===w.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(_));break}++y}return this.length-=y,b}},{key:"_getBuffer",value:function(m){var v=u.allocUnsafe(m),y=this.head,b=1;for(y.data.copy(v),m-=y.data.length;y=y.next;){var w=y.data,_=m>w.length?w.length:m;if(w.copy(v,v.length-m,0,_),(m-=_)==0){_===w.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=w.slice(_));break}++b}return this.length-=b,v}},{key:h,value:function(m,v){return d(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,g),Object.defineProperty(p,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(t,n,i){(function(s){(function(){function a(c,u){l(c,u),o(c)}function o(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function l(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var d=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(l,this,c)):s.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(p){!u&&p?d._writableState?d._writableState.errorEmitted?s.nextTick(o,d):(d._writableState.errorEmitted=!0,s.nextTick(a,d,p)):s.nextTick(a,d,p):u?(s.nextTick(o,d),u(p)):s.nextTick(o,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,u){var d=c._readableState,h=c._writableState;d&&d.autoDestroy||h&&h.autoDestroy?c.destroy(u):c.emit("error",u)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,n,i){var s=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function o(l,c,u){if(typeof c=="function")return o(l,null,c);c||(c={}),u=function(_){var B=!1;return function(){if(!B){B=!0;for(var R=arguments.length,j=new Array(R),k=0;k<R;k++)j[k]=arguments[k];_.apply(this,j)}}}(u||a);var d=c.readable||c.readable!==!1&&l.readable,h=c.writable||c.writable!==!1&&l.writable,f=function(){l.writable||g()},p=l._writableState&&l._writableState.finished,g=function(){h=!1,p=!0,d||u.call(l)},m=l._readableState&&l._readableState.endEmitted,v=function(){d=!1,m=!0,h||u.call(l)},y=function(_){u.call(l,_)},b=function(){var _;return d&&!m?(l._readableState&&l._readableState.ended||(_=new s),u.call(l,_)):h&&!p?(l._writableState&&l._writableState.ended||(_=new s),u.call(l,_)):void 0},w=function(){l.req.on("finish",g)};return function(_){return _.setHeader&&typeof _.abort=="function"}(l)?(l.on("complete",g),l.on("abort",b),l.req?w():l.on("request",w)):h&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",v),l.on("finish",g),c.error!==!1&&l.on("error",y),l.on("close",b),function(){l.removeListener("complete",g),l.removeListener("abort",b),l.removeListener("request",w),l.req&&l.req.removeListener("finish",g),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",y),l.removeListener("close",b)}}},{"../../../errors":477}],487:[function(t,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,n,i){var s,a=t("../../../errors").codes,o=a.ERR_MISSING_ARGS,l=a.ERR_STREAM_DESTROYED;function c(p){if(p)throw p}function u(p,g,m,v){v=function(w){var _=!1;return function(){_||(_=!0,w.apply(void 0,arguments))}}(v);var y=!1;p.on("close",function(){y=!0}),s===void 0&&(s=t("./end-of-stream")),s(p,{readable:g,writable:m},function(w){if(w)return v(w);y=!0,v()});var b=!1;return function(w){if(!y&&!b)return b=!0,function(_){return _.setHeader&&typeof _.abort=="function"}(p)?p.abort():typeof p.destroy=="function"?p.destroy():void v(w||new l("pipe"))}}function d(p){p()}function h(p,g){return p.pipe(g)}function f(p){return p.length?typeof p[p.length-1]!="function"?c:p.pop():c}n.exports=function(){for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];var v,y=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new o("streams");var b=g.map(function(w,_){var B=_<g.length-1;return u(w,B,_>0,function(R){v||(v=R),R&&b.forEach(d),B||(b.forEach(d),y(v))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,n,i){var s=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,o,l,c){var u=function(d,h,f){return d.highWaterMark!=null?d.highWaterMark:h?d[f]:null}(o,c,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new s(c?l:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,n,i){n.exports=t("events").EventEmitter},{events:422}],491:[function(t,n,i){(i=n.exports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js"),i.finished=t("./lib/internal/streams/end-of-stream.js"),i.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,n,i){var s=function(a){var o=Object.prototype,l=o.hasOwnProperty,c=Object.defineProperty||function(E,x,F){E[x]=F.value},u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function p(E,x,F){return Object.defineProperty(E,x,{value:F,enumerable:!0,configurable:!0,writable:!0}),E[x]}try{p({},"")}catch{p=function(x,F,U){return x[F]=U}}function g(E,x,F,U){var M=x&&x.prototype instanceof y?x:y,z=Object.create(M.prototype),G=new N(U||[]);return c(z,"_invoke",{value:H(E,F,G)}),z}function m(E,x,F){try{return{type:"normal",arg:E.call(x,F)}}catch(U){return{type:"throw",arg:U}}}a.wrap=g;var v={};function y(){}function b(){}function w(){}var _={};p(_,d,function(){return this});var B=Object.getPrototypeOf,R=B&&B(B(S([])));R&&R!==o&&l.call(R,d)&&(_=R);var j=w.prototype=y.prototype=Object.create(_);function k(E){["next","throw","return"].forEach(function(x){p(E,x,function(F){return this._invoke(x,F)})})}function L(E,x){var F;c(this,"_invoke",{value:function(U,M){function z(){return new x(function(G,Y){(function Q(q,D,O,V){var J=m(E[q],E,D);if(J.type!=="throw"){var re=J.arg,ne=re.value;return ne&&typeof ne=="object"&&l.call(ne,"__await")?x.resolve(ne.__await).then(function(se){Q("next",se,O,V)},function(se){Q("throw",se,O,V)}):x.resolve(ne).then(function(se){re.value=se,O(re)},function(se){return Q("throw",se,O,V)})}V(J.arg)})(U,M,G,Y)})}return F=F?F.then(z,z):z()}})}function H(E,x,F){var U="suspendedStart";return function(M,z){if(U==="executing")throw new Error("Generator is already running");if(U==="completed"){if(M==="throw")throw z;return C()}for(F.method=M,F.arg=z;;){var G=F.delegate;if(G){var Y=I(G,F);if(Y){if(Y===v)continue;return Y}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(U==="suspendedStart")throw U="completed",F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);U="executing";var Q=m(E,x,F);if(Q.type==="normal"){if(U=F.done?"completed":"suspendedYield",Q.arg===v)continue;return{value:Q.arg,done:F.done}}Q.type==="throw"&&(U="completed",F.method="throw",F.arg=Q.arg)}}}function I(E,x){var F=x.method,U=E.iterator[F];if(U===void 0)return x.delegate=null,F==="throw"&&E.iterator.return&&(x.method="return",x.arg=void 0,I(E,x),x.method==="throw")||F!=="return"&&(x.method="throw",x.arg=new TypeError("The iterator does not provide a '"+F+"' method")),v;var M=m(U,E.iterator,x.arg);if(M.type==="throw")return x.method="throw",x.arg=M.arg,x.delegate=null,v;var z=M.arg;return z?z.done?(x[E.resultName]=z.value,x.next=E.nextLoc,x.method!=="return"&&(x.method="next",x.arg=void 0),x.delegate=null,v):z:(x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,v)}function T(E){var x={tryLoc:E[0]};1 in E&&(x.catchLoc=E[1]),2 in E&&(x.finallyLoc=E[2],x.afterLoc=E[3]),this.tryEntries.push(x)}function P(E){var x=E.completion||{};x.type="normal",delete x.arg,E.completion=x}function N(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(T,this),this.reset(!0)}function S(E){if(E){var x=E[d];if(x)return x.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var F=-1,U=function M(){for(;++F<E.length;)if(l.call(E,F))return M.value=E[F],M.done=!1,M;return M.value=void 0,M.done=!0,M};return U.next=U}}return{next:C}}function C(){return{value:void 0,done:!0}}return b.prototype=w,c(j,"constructor",{value:w,configurable:!0}),c(w,"constructor",{value:b,configurable:!0}),b.displayName=p(w,f,"GeneratorFunction"),a.isGeneratorFunction=function(E){var x=typeof E=="function"&&E.constructor;return!!x&&(x===b||(x.displayName||x.name)==="GeneratorFunction")},a.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,w):(E.__proto__=w,p(E,f,"GeneratorFunction")),E.prototype=Object.create(j),E},a.awrap=function(E){return{__await:E}},k(L.prototype),p(L.prototype,h,function(){return this}),a.AsyncIterator=L,a.async=function(E,x,F,U,M){M===void 0&&(M=Promise);var z=new L(g(E,x,F,U),M);return a.isGeneratorFunction(x)?z:z.next().then(function(G){return G.done?G.value:z.next()})},k(j),p(j,f,"Generator"),p(j,d,function(){return this}),p(j,"toString",function(){return"[object Generator]"}),a.keys=function(E){var x=Object(E),F=[];for(var U in x)F.push(U);return F.reverse(),function M(){for(;F.length;){var z=F.pop();if(z in x)return M.value=z,M.done=!1,M}return M.done=!0,M}},a.values=S,N.prototype={constructor:N,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!E)for(var x in this)x.charAt(0)==="t"&&l.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var x=this;function F(Q,q){return z.type="throw",z.arg=E,x.next=Q,q&&(x.method="next",x.arg=void 0),!!q}for(var U=this.tryEntries.length-1;U>=0;--U){var M=this.tryEntries[U],z=M.completion;if(M.tryLoc==="root")return F("end");if(M.tryLoc<=this.prev){var G=l.call(M,"catchLoc"),Y=l.call(M,"finallyLoc");if(G&&Y){if(this.prev<M.catchLoc)return F(M.catchLoc,!0);if(this.prev<M.finallyLoc)return F(M.finallyLoc)}else if(G){if(this.prev<M.catchLoc)return F(M.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return F(M.finallyLoc)}}}},abrupt:function(E,x){for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F];if(U.tryLoc<=this.prev&&l.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var M=U;break}}M&&(E==="break"||E==="continue")&&M.tryLoc<=x&&x<=M.finallyLoc&&(M=null);var z=M?M.completion:{};return z.type=E,z.arg=x,M?(this.method="next",this.next=M.finallyLoc,v):this.complete(z)},complete:function(E,x){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&x&&(this.next=x),v},finish:function(E){for(var x=this.tryEntries.length-1;x>=0;--x){var F=this.tryEntries[x];if(F.finallyLoc===E)return this.complete(F.completion,F.afterLoc),P(F),v}},catch:function(E){for(var x=this.tryEntries.length-1;x>=0;--x){var F=this.tryEntries[x];if(F.tryLoc===E){var U=F.completion;if(U.type==="throw"){var M=U.arg;P(F)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(E,x,F){return this.delegate={iterator:S(E),resultName:x,nextLoc:F},this.method==="next"&&(this.arg=void 0),v}},a}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},{}],493:[function(t,n,i){var s=t("buffer").Buffer,a=t("inherits"),o=t("hash-base"),l=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function g(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(B,R){return B<<R|B>>>32-R}function v(B,R,j,k,L,H,I,T){return m(B+(R^j^k)+H+I|0,T)+L|0}function y(B,R,j,k,L,H,I,T){return m(B+(R&j|~R&k)+H+I|0,T)+L|0}function b(B,R,j,k,L,H,I,T){return m(B+((R|~j)^k)+H+I|0,T)+L|0}function w(B,R,j,k,L,H,I,T){return m(B+(R&k|j&~k)+H+I|0,T)+L|0}function _(B,R,j,k,L,H,I,T){return m(B+(R^(j|~k))+H+I|0,T)+L|0}a(g,o),g.prototype._update=function(){for(var B=l,R=0;R<16;++R)B[R]=this._block.readInt32LE(4*R);for(var j=0|this._a,k=0|this._b,L=0|this._c,H=0|this._d,I=0|this._e,T=0|this._a,P=0|this._b,N=0|this._c,S=0|this._d,C=0|this._e,E=0;E<80;E+=1){var x,F;E<16?(x=v(j,k,L,H,I,B[c[E]],f[0],d[E]),F=_(T,P,N,S,C,B[u[E]],p[0],h[E])):E<32?(x=y(j,k,L,H,I,B[c[E]],f[1],d[E]),F=w(T,P,N,S,C,B[u[E]],p[1],h[E])):E<48?(x=b(j,k,L,H,I,B[c[E]],f[2],d[E]),F=b(T,P,N,S,C,B[u[E]],p[2],h[E])):E<64?(x=w(j,k,L,H,I,B[c[E]],f[3],d[E]),F=y(T,P,N,S,C,B[u[E]],p[3],h[E])):(x=_(j,k,L,H,I,B[c[E]],f[4],d[E]),F=v(T,P,N,S,C,B[u[E]],p[4],h[E])),j=I,I=H,H=m(L,10),L=k,k=x,T=C,C=S,S=m(N,10),N=P,P=F}var U=this._b+L+S|0;this._b=this._c+H+C|0,this._c=this._d+I+T|0,this._d=this._e+j+P|0,this._e=this._a+k+N|0,this._a=U},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var B=s.alloc?s.alloc(20):new s(20);return B.writeInt32LE(this._a,0),B.writeInt32LE(this._b,4),B.writeInt32LE(this._c,8),B.writeInt32LE(this._d,12),B.writeInt32LE(this._e,16),B},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var s=t("buffer"),a=s.Buffer;function o(c,u){for(var d in c)u[d]=c[d]}function l(c,u,d){return a(c,u,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=s:(o(s,i),i.Buffer=l),l.prototype=Object.create(a.prototype),o(a,l),l.from=function(c,u,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,u,d)},l.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=a(c);return u!==void 0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(c)}},{buffer:220}],495:[function(t,n,i){(function(s){(function(){var a,o=t("buffer"),l=o.Buffer,c={};for(a in o)o.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(c[a]=o[a]);var u=c.Buffer={};for(a in l)l.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=l[a]);if(c.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(d,h,f){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return l(d,h,f)}),u.alloc||(u.alloc=function(d,h,f){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var p=l(d);return h&&h.length!==0?typeof f=="string"?p.fill(h,f):p.fill(h):p.fill(0),p}),!c.kStringMaxLength)try{c.kStringMaxLength=s.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),n.exports=c}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});const s=t("xmlchars/xml/1.0/ed5"),a=t("xmlchars/xml/1.1/ed2"),o=t("xmlchars/xmlns/1.0/ed3");var l=s.isS,c=s.isChar,u=s.isNameStartChar,d=s.isNameChar,h=s.S_LIST,f=s.NAME_RE,p=a.isChar,g=o.isNCNameStartChar,m=o.isNCNameChar,v=o.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:y,xmlns:b},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},B=S=>S===34||S===39,R=[34,39],j=[...R,91,62],k=[...R,60,93],L=[61,63,...h],H=[...h,62,38,60];function I(S,C,E){switch(C){case"xml":E!==y&&S.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":E!==b&&S.fail(`xmlns prefix must be bound to ${b}.`)}switch(E){case b:S.fail(C===""?`the default namespace may not be set to ${E}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case y:switch(C){case"xml":break;case"":S.fail(`the default namespace may not be set to ${E}.`);break;default:S.fail("may not assign the xml namespace to another prefix.")}}}const T=S=>v.test(S),P=S=>f.test(S);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const N={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(S){this.opt=S??{},this.fragmentOpt=!!this.opt.fragment;const C=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,C){this.nameStartCheck=g,this.nameCheck=m,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},w);const E=this.opt.additionalNamespaces;E!=null&&(function(x,F){for(const U of Object.keys(F))I(x,U,F[U])}(this,E),Object.assign(this.ns,E))}else this.nameStartCheck=u,this.nameCheck=d,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var S;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:C}=this;this.state=C?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=C,this.xmlDeclPossible=!C,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:E}=this.opt;if(E===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");E="1.0"}this.setXMLVersion(E),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(_),(S=this.readyHandler)===null||S===void 0||S.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(S,C){this[N[S]]=C}off(S){this[N[S]]=void 0}makeError(S){var C;let E=(C=this.fileName)!==null&&C!==void 0?C:"";return this.trackPosition&&(E.length>0&&(E+=":"),E+=`${this.line}:${this.column}`),E.length>0&&(E+=": "),new Error(E+S)}fail(S){const C=this.makeError(S),E=this.errorHandler;if(E===void 0)throw C;return E(C),this}write(S){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let C=!1;S===null?(C=!0,S=""):typeof S=="object"&&(S=S.toString()),this.carriedFromPrevious!==void 0&&(S=`${this.carriedFromPrevious}${S}`,this.carriedFromPrevious=void 0);let E=S.length;const x=S.charCodeAt(E-1);!C&&(x===13||x>=55296&&x<=56319)&&(this.carriedFromPrevious=S[E-1],E--,S=S.slice(0,E));const{stateTable:F}=this;for(this.chunk=S,this.i=0;this.i<E;)F[this.state].call(this);return this.chunkPosition+=E,C?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:S,i:C}=this;if(this.prevI=C,this.i=C+1,C>=S.length)return-1;const E=S.charCodeAt(C);if(this.column++,E<55296){if(E>=32||E===9)return E;switch(E){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return S.charCodeAt(C+1)===10&&(this.i=C+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),E}}if(E>56319)return E>=57344&&E<=65533||this.fail("disallowed character."),E;const x=65536+1024*(E-55296)+(S.charCodeAt(C+1)-56320);return this.i=C+2,x>1114111&&this.fail("disallowed character."),x}getCode11(){const{chunk:S,i:C}=this;if(this.prevI=C,this.i=C+1,C>=S.length)return-1;const E=S.charCodeAt(C);if(this.column++,E<55296){if(E>31&&E<127||E>159&&E!==8232||E===9)return E;switch(E){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const F=S.charCodeAt(C+1);F!==10&&F!==133||(this.i=C+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),E}}if(E>56319)return E>=57344&&E<=65533||this.fail("disallowed character."),E;const x=65536+1024*(E-55296)+(S.charCodeAt(C+1)-56320);return this.i=C+2,x>1114111&&this.fail("disallowed character."),x}getCodeNorm(){const S=this.getCode();return S===-2?10:S}unget(){this.i=this.prevI,this.column--}captureTo(S){let{i:C}=this;const{chunk:E}=this;for(;;){const x=this.getCode(),F=x===-2,U=F?10:x;if(U===-1||S.includes(U))return this.text+=E.slice(C,this.prevI),U;F&&(this.text+=E.slice(C,this.prevI)+`
`,C=this.i)}}captureToChar(S){let{i:C}=this;const{chunk:E}=this;for(;;){let x=this.getCode();switch(x){case-2:this.text+=E.slice(C,this.prevI)+`
`,C=this.i,x=10;break;case-1:return this.text+=E.slice(C),!1}if(x===S)return this.text+=E.slice(C,this.prevI),!0}}captureNameChars(){const{chunk:S,i:C}=this;for(;;){const E=this.getCode();if(E===-1)return this.name+=S.slice(C),-1;if(!d(E))return this.name+=S.slice(C,this.prevI),E===-2?10:E}}skipSpaces(){for(;;){const S=this.getCodeNorm();if(S===-1||!l(S))return S}}setXMLVersion(S){this.currentXMLVersion=S,S==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=p,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const S=this.i,C=this.skipSpaces();switch(this.prevI!==S&&(this.xmlDeclPossible=!1),C){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var S;const C=this.captureTo(j);switch(C){case 62:(S=this.doctypeHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(C),C===91?this.state=4:B(C)&&(this.state=3,this.q=C)}}sDoctypeQuote(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.q=null,this.state=2)}sDTD(){const S=this.captureTo(k);S!==-1&&(this.text+=String.fromCodePoint(S),S===93?this.state=2:S===60?this.state=6:B(S)&&(this.state=5,this.q=S))}sDTDQuoted(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.state=4,this.q=null)}sDTDOpenWaka(){const S=this.getCodeNorm();switch(this.text+=String.fromCodePoint(S),S){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const S=String.fromCodePoint(this.getCodeNorm()),C=this.openWakaBang+=S;this.text+=S,C!=="-"&&(this.state=C==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),this.state=S===45?10:8}sDTDCommentEnded(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:S}=this;const{chunk:C}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=C.slice(S,this.prevI)+`
`,S=this.i;break;case 59:{const{entityReturnState:E}=this,x=this.entity+C.slice(S,this.prevI);let F;this.state=E,x===""?(this.fail("empty entity name."),F="&;"):(F=this.parseEntity(x),this.entity=""),E===13&&this.textHandler===void 0||(this.text+=F);break e}case-1:this.entity+=C.slice(S);break e}}sOpenWaka(){const S=this.getCode();if(u(S))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(S){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var S;const C=this.getCodeNorm();C===45?(this.state=19,(S=this.commentHandler)===null||S===void 0||S.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(C),this.state=17)}sCommentEnded(){const S=this.getCodeNorm();S!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(S),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const S=this.getCodeNorm();S===93?this.state=22:(this.text+="]"+String.fromCodePoint(S),this.state=20)}sCDataEnding2(){var S;const C=this.getCodeNorm();switch(C){case 62:(S=this.cdataHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(C),this.state=20}}sPIFirstChar(){const S=this.getCodeNorm();this.nameStartCheck(S)?(this.piTarget+=String.fromCodePoint(S),this.state=24):S===63||l(S)?(this.fail("processing instruction without a target."),this.state=S===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S),this.state=24)}sPIRest(){const{chunk:S,i:C}=this;for(;;){const E=this.getCodeNorm();if(E===-1)return void(this.piTarget+=S.slice(C));if(!this.nameCheck(E)){this.piTarget+=S.slice(C,this.prevI);const x=E===63;x||l(E)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=x?33:27):this.state=x?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(E));break}}}sPIBody(){if(this.text.length===0){const S=this.getCodeNorm();S===63?this.state=26:l(S)||(this.text=String.fromCodePoint(S))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var S;const C=this.getCodeNorm();if(C===62){const{piTarget:E}=this;E.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(S=this.piHandler)===null||S===void 0||S.call(this,{target:E,body:this.text}),this.piTarget=this.text="",this.state=13}else C===63?this.text+="?":(this.text+="?"+String.fromCodePoint(C),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const S=this.skipSpaces();S!==63?S!==-1&&(this.state=28,this.name=String.fromCodePoint(S)):this.state=33}sXMLDeclName(){const S=this.captureTo(L);if(S===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(S)||S===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=S===61?30:29}}sXMLDeclEq(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(S)||(S!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(S)||(B(S)?this.q=S:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const S=this.captureTo([this.q,63]);if(S===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(S===-1)return;const C=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const E=C;this.xmlDecl.version=E,/^1\.[0-9]+$/.test(E)?this.opt.forceXMLVersion||this.setXMLVersion(E):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(C)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=C;break;case"standalone":C!=="yes"&&C!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=C}this.name="",this.state=32}sXMLDeclSeparator(){const S=this.getCodeNorm();S!==63?(l(S)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var S;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(S=this.xmldeclHandler)===null||S===void 0||S.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var S;const C=this.captureNameChars();if(C===-1)return;const E=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=E.ns=Object.create(null)),(S=this.openTagStartHandler)===null||S===void 0||S.call(this,E),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),C){case 62:this.openTag();break;case 47:this.state=35;break;default:l(C)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const S=this.skipSpaces();S!==-1&&(u(S)?(this.unget(),this.state=37):S===62?this.openTag():S===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const S=this.captureNameChars();S===61?this.state=39:l(S)?this.state=38:S===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):S!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const S=this.skipSpaces();switch(S){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",S===62?this.openTag():u(S)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const S=this.getCodeNorm();B(S)?(this.q=S,this.state=40):l(S)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:S,chunk:C}=this;let{i:E}=this;for(;;)switch(this.getCode()){case S:return this.pushAttrib(this.name,this.text+C.slice(E,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=C.slice(E,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=C.slice(E,this.prevI)+" ",E=this.i;break;case 60:return this.text+=C.slice(E,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=C.slice(E))}}sAttribValueClosed(){const S=this.getCodeNorm();l(S)?this.state=36:S===62?this.openTag():S===47?this.state=35:u(S)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const S=this.captureTo(H);switch(S){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",S===62?this.openTag():this.state=36}}sCloseTag(){const S=this.captureNameChars();S===62?this.closeTag():l(S)?this.state=44:S!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:S,forbiddenState:C}=this;const{chunk:E,textHandler:x}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,x!==void 0){const{text:F}=this,U=E.slice(S,this.prevI);F.length!==0?(x(F+U),this.text=""):U.length!==0&&x(U)}C=0;break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=E.slice(S,this.prevI)),C=0;break e;case 93:switch(C){case 0:C=1;break;case 1:C=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:C===2&&this.fail('the string "]]>" is disallowed in char data.'),C=0;break;case-2:x!==void 0&&(this.text+=E.slice(S,this.prevI)+`
`),S=this.i,C=0;break;case-1:x!==void 0&&(this.text+=E.slice(S));break e;default:C=0}this.forbiddenState=C}handleTextOutsideRoot(){let{i:S}=this;const{chunk:C,textHandler:E}=this;let x=!1;e:for(;;){const F=this.getCode();switch(F){case 60:if(this.state=15,E!==void 0){const{text:U}=this,M=C.slice(S,this.prevI);U.length!==0?(E(U+M),this.text=""):M.length!==0&&E(M)}break e;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=C.slice(S,this.prevI)),x=!0;break e;case-2:E!==void 0&&(this.text+=C.slice(S,this.prevI)+`
`),S=this.i;break;case-1:E!==void 0&&(this.text+=C.slice(S));break e;default:l(F)||(x=!0)}}x&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(S,C){var E;const{prefix:x,local:F}=this.qname(S),U={name:S,prefix:x,local:F,value:C};if(this.attribList.push(U),(E=this.attributeHandler)===null||E===void 0||E.call(this,U),x==="xmlns"){const M=C.trim();this.currentXMLVersion==="1.0"&&M===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[F]=M,I(this,F,M)}else if(S==="xmlns"){const M=C.trim();this.topNS[""]=M,I(this,"",M)}}pushAttribPlain(S,C){var E;const x={name:S,value:C};this.attribList.push(x),(E=this.attributeHandler)===null||E===void 0||E.call(this,x)}end(){var S,C;this.sawRoot||this.fail("document must contain a root element.");const{tags:E}=this;for(;E.length>0;){const F=E.pop();this.fail("unclosed tag: "+F.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:x}=this;return x.length!==0&&((S=this.textHandler)===null||S===void 0||S.call(this,x),this.text=""),this._closed=!0,(C=this.endHandler)===null||C===void 0||C.call(this),this._init(),this}resolve(S){var C,E;let x=this.topNS[S];if(x!==void 0)return x;const{tags:F}=this;for(let U=F.length-1;U>=0;U--)if(x=F[U].ns[S],x!==void 0)return x;return x=this.ns[S],x!==void 0?x:(E=(C=this.opt).resolvePrefix)===null||E===void 0?void 0:E.call(C,S)}qname(S){const C=S.indexOf(":");if(C===-1)return{prefix:"",local:S};const E=S.slice(C+1),x=S.slice(0,C);return(x===""||E===""||E.includes(":"))&&this.fail(`malformed name: ${S}.`),{prefix:x,local:E}}processAttribsNS(){var S;const{attribList:C}=this,E=this.tag;{const{prefix:U,local:M}=this.qname(E.name);E.prefix=U,E.local=M;const z=E.uri=(S=this.resolve(U))!==null&&S!==void 0?S:"";U!==""&&(U==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),z===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),E.uri=U))}if(C.length===0)return;const{attributes:x}=E,F=new Set;for(const U of C){const{name:M,prefix:z,local:G}=U;let Y,Q;z===""?(Y=M==="xmlns"?b:"",Q=M):(Y=this.resolve(z),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(z)}.`),Y=z),Q=`{${Y}}${G}`),F.has(Q)&&this.fail(`duplicate attribute: ${Q}.`),F.add(Q),U.uri=Y,x[M]=U}this.attribList=[]}processAttribsPlain(){const{attribList:S}=this,C=this.tag.attributes;for(const{name:E,value:x}of S)C[E]!==void 0&&this.fail(`duplicate attribute: ${E}.`),C[E]=x;this.attribList=[]}openTag(){var S;this.processAttribs();const{tags:C}=this,E=this.tag;E.isSelfClosing=!1,(S=this.openTagHandler)===null||S===void 0||S.call(this,E),C.push(E),this.state=13,this.name=""}openSelfClosingTag(){var S,C,E;this.processAttribs();const{tags:x}=this,F=this.tag;F.isSelfClosing=!0,(S=this.openTagHandler)===null||S===void 0||S.call(this,F),(C=this.closeTagHandler)===null||C===void 0||C.call(this,F),(this.tag=(E=x[x.length-1])!==null&&E!==void 0?E:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:S,name:C}=this;if(this.state=13,this.name="",C==="")return this.fail("weird empty close tag."),void(this.text+="</>");const E=this.closeTagHandler;let x=S.length;for(;x-- >0;){const F=this.tag=S.pop();if(this.topNS=F.ns,E?.(F),F.name===C)break;this.fail("unexpected close tag.")}x===0?this.closedRoot=!0:x<0&&(this.fail(`unmatched closing tag: ${C}.`),this.text+=`</${C}>`)}parseEntity(S){if(S[0]!=="#"){const E=this.ENTITIES[S];return E!==void 0?E:(this.fail(this.isName(S)?"undefined entity.":"disallowed character in entity name."),`&${S};`)}let C=NaN;return S[1]==="x"&&/^#x[0-9a-f]+$/i.test(S)?C=parseInt(S.slice(2),16):/^#[0-9]+$/.test(S)&&(C=parseInt(S.slice(1),10)),this.isChar(C)?String.fromCodePoint(C):(this.fail("malformed character entity."),`&${S};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,n,i){var s=t("safe-buffer").Buffer;function a(o,l){this._block=s.alloc(o),this._finalSize=l,this._blockSize=o,this._len=0}a.prototype.update=function(o,l){typeof o=="string"&&(l=l||"utf8",o=s.from(o,l));for(var c=this._block,u=this._blockSize,d=o.length,h=this._len,f=0;f<d;){for(var p=h%u,g=Math.min(d-f,u-p),m=0;m<g;m++)c[p+m]=o[f+m];f+=g,(h+=g)%u==0&&this._update(c)}return this._len+=d,this},a.prototype.digest=function(o){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var u=(4294967295&c)>>>0,d=(c-u)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(t,n,i){var s=n.exports=function(a){a=a.toLowerCase();var o=s[a];if(!o)throw new Error(a+" is not supported (we accept pull requests)");return new o};s.sha=t("./sha"),s.sha1=t("./sha1"),s.sha224=t("./sha224"),s.sha256=t("./sha256"),s.sha384=t("./sha384"),s.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,n,i){var s=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,a.call(this,64,56)}function d(f){return f<<30|f>>>2}function h(f,p,g,m){return f===0?p&g|~p&m:f===2?p&g|p&m|g&m:p^g^m}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(f){for(var p,g=this._w,m=0|this._a,v=0|this._b,y=0|this._c,b=0|this._d,w=0|this._e,_=0;_<16;++_)g[_]=f.readInt32BE(4*_);for(;_<80;++_)g[_]=g[_-3]^g[_-8]^g[_-14]^g[_-16];for(var B=0;B<80;++B){var R=~~(B/20),j=0|((p=m)<<5|p>>>27)+h(R,v,y,b)+w+g[B]+l[R];w=b,b=y,y=d(v),v=m,m=j}this._a=m+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=b+this._d|0,this._e=w+this._e|0},u.prototype._hash=function(){var f=o.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,n,i){var s=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,a.call(this,64,56)}function d(p){return p<<5|p>>>27}function h(p){return p<<30|p>>>2}function f(p,g,m,v){return p===0?g&m|~g&v:p===2?g&m|g&v|m&v:g^m^v}s(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(p){for(var g,m=this._w,v=0|this._a,y=0|this._b,b=0|this._c,w=0|this._d,_=0|this._e,B=0;B<16;++B)m[B]=p.readInt32BE(4*B);for(;B<80;++B)m[B]=(g=m[B-3]^m[B-8]^m[B-14]^m[B-16])<<1|g>>>31;for(var R=0;R<80;++R){var j=~~(R/20),k=d(v)+f(j,y,b,w)+_+m[R]+l[j]|0;_=w,w=b,b=h(y),y=v,v=k}this._a=v+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=w+this._d|0,this._e=_+this._e|0},u.prototype._hash=function(){var p=o.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,n,i){var s=t("inherits"),a=t("./sha256"),o=t("./hash"),l=t("safe-buffer").Buffer,c=new Array(64);function u(){this.init(),this._w=c,o.call(this,64,56)}s(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var d=l.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,n,i){var s=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function u(){this.init(),this._w=c,a.call(this,64,56)}function d(m,v,y){return y^m&(v^y)}function h(m,v,y){return m&v|y&(m|v)}function f(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function p(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}s(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(m){for(var v,y=this._w,b=0|this._a,w=0|this._b,_=0|this._c,B=0|this._d,R=0|this._e,j=0|this._f,k=0|this._g,L=0|this._h,H=0;H<16;++H)y[H]=m.readInt32BE(4*H);for(;H<64;++H)y[H]=0|(((v=y[H-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[H-7]+g(y[H-15])+y[H-16];for(var I=0;I<64;++I){var T=L+p(R)+d(R,j,k)+l[I]+y[I]|0,P=f(b)+h(b,w,_)|0;L=k,k=j,j=R,R=B+T|0,B=_,_=w,w=b,b=T+P|0}this._a=b+this._a|0,this._b=w+this._b|0,this._c=_+this._c|0,this._d=B+this._d|0,this._e=R+this._e|0,this._f=j+this._f|0,this._g=k+this._g|0,this._h=L+this._h|0},u.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,n,i){var s=t("inherits"),a=t("./sha512"),o=t("./hash"),l=t("safe-buffer").Buffer,c=new Array(160);function u(){this.init(),this._w=c,o.call(this,128,112)}s(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var d=l.allocUnsafe(48);function h(f,p,g){d.writeInt32BE(f,g),d.writeInt32BE(p,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),d},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,n,i){var s=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function u(){this.init(),this._w=c,a.call(this,128,112)}function d(w,_,B){return B^w&(_^B)}function h(w,_,B){return w&_|B&(w|_)}function f(w,_){return(w>>>28|_<<4)^(_>>>2|w<<30)^(_>>>7|w<<25)}function p(w,_){return(w>>>14|_<<18)^(w>>>18|_<<14)^(_>>>9|w<<23)}function g(w,_){return(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7}function m(w,_){return(w>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)}function v(w,_){return(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6}function y(w,_){return(w>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26)}function b(w,_){return w>>>0<_>>>0?1:0}s(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(w){for(var _=this._w,B=0|this._ah,R=0|this._bh,j=0|this._ch,k=0|this._dh,L=0|this._eh,H=0|this._fh,I=0|this._gh,T=0|this._hh,P=0|this._al,N=0|this._bl,S=0|this._cl,C=0|this._dl,E=0|this._el,x=0|this._fl,F=0|this._gl,U=0|this._hl,M=0;M<32;M+=2)_[M]=w.readInt32BE(4*M),_[M+1]=w.readInt32BE(4*M+4);for(;M<160;M+=2){var z=_[M-30],G=_[M-30+1],Y=g(z,G),Q=m(G,z),q=v(z=_[M-4],G=_[M-4+1]),D=y(G,z),O=_[M-14],V=_[M-14+1],J=_[M-32],re=_[M-32+1],ne=Q+V|0,se=Y+O+b(ne,Q)|0;se=(se=se+q+b(ne=ne+D|0,D)|0)+J+b(ne=ne+re|0,re)|0,_[M]=se,_[M+1]=ne}for(var ee=0;ee<160;ee+=2){se=_[ee],ne=_[ee+1];var de=h(B,R,j),ie=h(P,N,S),he=f(B,P),le=f(P,B),be=p(L,E),ye=p(E,L),xe=l[ee],Ee=l[ee+1],Be=d(L,H,I),Pe=d(E,x,F),Ue=U+ye|0,He=T+be+b(Ue,U)|0;He=(He=(He=He+Be+b(Ue=Ue+Pe|0,Pe)|0)+xe+b(Ue=Ue+Ee|0,Ee)|0)+se+b(Ue=Ue+ne|0,ne)|0;var $e=le+ie|0,Ke=he+de+b($e,le)|0;T=I,U=F,I=H,F=x,H=L,x=E,L=k+He+b(E=C+Ue|0,C)|0,k=j,C=S,j=R,S=N,R=B,N=P,B=He+Ke+b(P=Ue+$e|0,Ue)|0}this._al=this._al+P|0,this._bl=this._bl+N|0,this._cl=this._cl+S|0,this._dl=this._dl+C|0,this._el=this._el+E|0,this._fl=this._fl+x|0,this._gl=this._gl+F|0,this._hl=this._hl+U|0,this._ah=this._ah+B+b(this._al,P)|0,this._bh=this._bh+R+b(this._bl,N)|0,this._ch=this._ch+j+b(this._cl,S)|0,this._dh=this._dh+k+b(this._dl,C)|0,this._eh=this._eh+L+b(this._el,E)|0,this._fh=this._fh+H+b(this._fl,x)|0,this._gh=this._gh+I+b(this._gl,F)|0,this._hh=this._hh+T+b(this._hl,U)|0},u.prototype._hash=function(){var w=o.allocUnsafe(64);function _(B,R,j){w.writeInt32BE(B,j),w.writeInt32BE(R,j+4)}return _(this._ah,this._al,0),_(this._bh,this._bl,8),_(this._ch,this._cl,16),_(this._dh,this._dl,24),_(this._eh,this._el,32),_(this._fh,this._fl,40),_(this._gh,this._gl,48),_(this._hh,this._hl,56),w},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,n,i){n.exports=a;var s=t("events").EventEmitter;function a(){s.call(this)}t("inherits")(a,s),a.Readable=t("readable-stream/readable.js"),a.Writable=t("readable-stream/writable.js"),a.Duplex=t("readable-stream/duplex.js"),a.Transform=t("readable-stream/transform.js"),a.PassThrough=t("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(o,l){var c=this;function u(v){o.writable&&o.write(v)===!1&&c.pause&&c.pause()}function d(){c.readable&&c.resume&&c.resume()}c.on("data",u),o.on("drain",d),o._isStdio||l&&l.end===!1||(c.on("end",f),c.on("close",p));var h=!1;function f(){h||(h=!0,o.end())}function p(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function g(v){if(m(),s.listenerCount(this,"error")===0)throw v}function m(){c.removeListener("data",u),o.removeListener("drain",d),c.removeListener("end",f),c.removeListener("close",p),c.removeListener("error",g),o.removeListener("error",g),c.removeListener("end",m),c.removeListener("close",m),o.removeListener("close",m)}return c.on("error",g),o.on("error",g),c.on("end",m),c.on("close",m),o.on("close",m),o.emit("pipe",c),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,n,i){var s={}.toString;n.exports=Array.isArray||function(a){return s.call(a)=="[object Array]"}},{}],507:[function(t,n,i){n.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,n,i){var s=t("process-nextick-args"),a=Object.keys||function(m){var v=[];for(var y in m)v.push(y);return v};n.exports=f;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var l=t("./_stream_readable"),c=t("./_stream_writable");o.inherits(f,l);for(var u=a(c.prototype),d=0;d<u.length;d++){var h=u[d];f.prototype[h]||(f.prototype[h]=c.prototype[h])}function f(m){if(!(this instanceof f))return new f(m);l.call(this,m),c.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||s.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),f.prototype._destroy=function(m,v){this.push(null),this.end(),s.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,n,i){n.exports=o;var s=t("./_stream_transform"),a=Object.create(t("core-util-is"));function o(l){if(!(this instanceof o))return new o(l);s.call(this,l)}a.inherits=t("inherits"),a.inherits(o,s),o.prototype._transform=function(l,c,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,n,i){(function(s,a){(function(){var o=t("process-nextick-args");n.exports=B;var l,c=t("isarray");B.ReadableState=_,t("events").EventEmitter;var u=function(U,M){return U.listeners(M).length},d=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p=Object.create(t("core-util-is"));p.inherits=t("inherits");var g=t("util"),m=void 0;m=g&&g.debuglog?g.debuglog("stream"):function(){};var v,y=t("./internal/streams/BufferList"),b=t("./internal/streams/destroy");p.inherits(B,d);var w=["error","close","destroy","pause","resume"];function _(U,M){U=U||{};var z=M instanceof(l=l||t("./_stream_duplex"));this.objectMode=!!U.objectMode,z&&(this.objectMode=this.objectMode||!!U.readableObjectMode);var G=U.highWaterMark,Y=U.readableHighWaterMark,Q=this.objectMode?16:16384;this.highWaterMark=G||G===0?G:z&&(Y||Y===0)?Y:Q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(v||(v=t("string_decoder/").StringDecoder),this.decoder=new v(U.encoding),this.encoding=U.encoding)}function B(U){if(l=l||t("./_stream_duplex"),!(this instanceof B))return new B(U);this._readableState=new _(U,this),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),d.call(this)}function R(U,M,z,G,Y){var Q,q=U._readableState;return M===null?(q.reading=!1,function(D,O){if(!O.ended){if(O.decoder){var V=O.decoder.end();V&&V.length&&(O.buffer.push(V),O.length+=O.objectMode?1:V.length)}O.ended=!0,L(D)}}(U,q)):(Y||(Q=function(D,O){var V;J=O,h.isBuffer(J)||J instanceof f||typeof O=="string"||O===void 0||D.objectMode||(V=new TypeError("Invalid non-string/buffer chunk"));var J;return V}(q,M)),Q?U.emit("error",Q):q.objectMode||M&&M.length>0?(typeof M=="string"||q.objectMode||Object.getPrototypeOf(M)===h.prototype||(M=function(D){return h.from(D)}(M)),G?q.endEmitted?U.emit("error",new Error("stream.unshift() after end event")):j(U,q,M,!0):q.ended?U.emit("error",new Error("stream.push() after EOF")):(q.reading=!1,q.decoder&&!z?(M=q.decoder.write(M),q.objectMode||M.length!==0?j(U,q,M,!1):I(U,q)):j(U,q,M,!1))):G||(q.reading=!1)),function(D){return!D.ended&&(D.needReadable||D.length<D.highWaterMark||D.length===0)}(q)}function j(U,M,z,G){M.flowing&&M.length===0&&!M.sync?(U.emit("data",z),U.read(0)):(M.length+=M.objectMode?1:z.length,G?M.buffer.unshift(z):M.buffer.push(z),M.needReadable&&L(U)),I(U,M)}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),B.prototype.destroy=b.destroy,B.prototype._undestroy=b.undestroy,B.prototype._destroy=function(U,M){this.push(null),M(U)},B.prototype.push=function(U,M){var z,G=this._readableState;return G.objectMode?z=!0:typeof U=="string"&&((M=M||G.defaultEncoding)!==G.encoding&&(U=h.from(U,M),M=""),z=!0),R(this,U,M,!1,z)},B.prototype.unshift=function(U){return R(this,U,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(U){return v||(v=t("string_decoder/").StringDecoder),this._readableState.decoder=new v(U),this._readableState.encoding=U,this};function k(U,M){return U<=0||M.length===0&&M.ended?0:M.objectMode?1:U!=U?M.flowing&&M.length?M.buffer.head.data.length:M.length:(U>M.highWaterMark&&(M.highWaterMark=function(z){return z>=8388608?z=8388608:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(U)),U<=M.length?U:M.ended?M.length:(M.needReadable=!0,0))}function L(U){var M=U._readableState;M.needReadable=!1,M.emittedReadable||(m("emitReadable",M.flowing),M.emittedReadable=!0,M.sync?o.nextTick(H,U):H(U))}function H(U){m("emit readable"),U.emit("readable"),S(U)}function I(U,M){M.readingMore||(M.readingMore=!0,o.nextTick(T,U,M))}function T(U,M){for(var z=M.length;!M.reading&&!M.flowing&&!M.ended&&M.length<M.highWaterMark&&(m("maybeReadMore read 0"),U.read(0),z!==M.length);)z=M.length;M.readingMore=!1}function P(U){m("readable nexttick read 0"),U.read(0)}function N(U,M){M.reading||(m("resume read 0"),U.read(0)),M.resumeScheduled=!1,M.awaitDrain=0,U.emit("resume"),S(U),M.flowing&&!M.reading&&U.read(0)}function S(U){var M=U._readableState;for(m("flow",M.flowing);M.flowing&&U.read()!==null;);}function C(U,M){return M.length===0?null:(M.objectMode?z=M.buffer.shift():!U||U>=M.length?(z=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.head.data:M.buffer.concat(M.length),M.buffer.clear()):z=function(G,Y,Q){var q;return G<Y.head.data.length?(q=Y.head.data.slice(0,G),Y.head.data=Y.head.data.slice(G)):q=G===Y.head.data.length?Y.shift():Q?function(D,O){var V=O.head,J=1,re=V.data;for(D-=re.length;V=V.next;){var ne=V.data,se=D>ne.length?ne.length:D;if(se===ne.length?re+=ne:re+=ne.slice(0,D),(D-=se)===0){se===ne.length?(++J,V.next?O.head=V.next:O.head=O.tail=null):(O.head=V,V.data=ne.slice(se));break}++J}return O.length-=J,re}(G,Y):function(D,O){var V=h.allocUnsafe(D),J=O.head,re=1;for(J.data.copy(V),D-=J.data.length;J=J.next;){var ne=J.data,se=D>ne.length?ne.length:D;if(ne.copy(V,V.length-D,0,se),(D-=se)===0){se===ne.length?(++re,J.next?O.head=J.next:O.head=O.tail=null):(O.head=J,J.data=ne.slice(se));break}++re}return O.length-=re,V}(G,Y),q}(U,M.buffer,M.decoder),z);var z}function E(U){var M=U._readableState;if(M.length>0)throw new Error('"endReadable()" called on non-empty stream');M.endEmitted||(M.ended=!0,o.nextTick(x,M,U))}function x(U,M){U.endEmitted||U.length!==0||(U.endEmitted=!0,M.readable=!1,M.emit("end"))}function F(U,M){for(var z=0,G=U.length;z<G;z++)if(U[z]===M)return z;return-1}B.prototype.read=function(U){m("read",U),U=parseInt(U,10);var M=this._readableState,z=U;if(U!==0&&(M.emittedReadable=!1),U===0&&M.needReadable&&(M.length>=M.highWaterMark||M.ended))return m("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?E(this):L(this),null;if((U=k(U,M))===0&&M.ended)return M.length===0&&E(this),null;var G,Y=M.needReadable;return m("need readable",Y),(M.length===0||M.length-U<M.highWaterMark)&&m("length less than watermark",Y=!0),M.ended||M.reading?m("reading or ended",Y=!1):Y&&(m("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(U=k(z,M))),(G=U>0?C(U,M):null)===null?(M.needReadable=!0,U=0):M.length-=U,M.length===0&&(M.ended||(M.needReadable=!0),z!==U&&M.ended&&E(this)),G!==null&&this.emit("data",G),G},B.prototype._read=function(U){this.emit("error",new Error("_read() is not implemented"))},B.prototype.pipe=function(U,M){var z=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=U;break;case 1:G.pipes=[G.pipes,U];break;default:G.pipes.push(U)}G.pipesCount+=1,m("pipe count=%d opts=%j",G.pipesCount,M);var Y=(!M||M.end!==!1)&&U!==s.stdout&&U!==s.stderr?q:ee;function Q(de,ie){m("onunpipe"),de===z&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,m("cleanup"),U.removeListener("close",ne),U.removeListener("finish",se),U.removeListener("drain",D),U.removeListener("error",re),U.removeListener("unpipe",Q),z.removeListener("end",q),z.removeListener("end",ee),z.removeListener("data",J),O=!0,!G.awaitDrain||U._writableState&&!U._writableState.needDrain||D())}function q(){m("onend"),U.end()}G.endEmitted?o.nextTick(Y):z.once("end",Y),U.on("unpipe",Q);var D=function(de){return function(){var ie=de._readableState;m("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&u(de,"data")&&(ie.flowing=!0,S(de))}}(z);U.on("drain",D);var O=!1,V=!1;function J(de){m("ondata"),V=!1,U.write(de)!==!1||V||((G.pipesCount===1&&G.pipes===U||G.pipesCount>1&&F(G.pipes,U)!==-1)&&!O&&(m("false write response, pause",G.awaitDrain),G.awaitDrain++,V=!0),z.pause())}function re(de){m("onerror",de),ee(),U.removeListener("error",re),u(U,"error")===0&&U.emit("error",de)}function ne(){U.removeListener("finish",se),ee()}function se(){m("onfinish"),U.removeListener("close",ne),ee()}function ee(){m("unpipe"),z.unpipe(U)}return z.on("data",J),function(de,ie,he){if(typeof de.prependListener=="function")return de.prependListener(ie,he);de._events&&de._events[ie]?c(de._events[ie])?de._events[ie].unshift(he):de._events[ie]=[he,de._events[ie]]:de.on(ie,he)}(U,"error",re),U.once("close",ne),U.once("finish",se),U.emit("pipe",z),G.flowing||(m("pipe resume"),z.resume()),U},B.prototype.unpipe=function(U){var M=this._readableState,z={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return U&&U!==M.pipes||(U||(U=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,U&&U.emit("unpipe",this,z)),this;if(!U){var G=M.pipes,Y=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var Q=0;Q<Y;Q++)G[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var q=F(M.pipes,U);return q===-1||(M.pipes.splice(q,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),U.emit("unpipe",this,z)),this},B.prototype.on=function(U,M){var z=d.prototype.on.call(this,U,M);if(U==="data")this._readableState.flowing!==!1&&this.resume();else if(U==="readable"){var G=this._readableState;G.endEmitted||G.readableListening||(G.readableListening=G.needReadable=!0,G.emittedReadable=!1,G.reading?G.length&&L(this):o.nextTick(P,this))}return z},B.prototype.addListener=B.prototype.on,B.prototype.resume=function(){var U=this._readableState;return U.flowing||(m("resume"),U.flowing=!0,function(M,z){z.resumeScheduled||(z.resumeScheduled=!0,o.nextTick(N,M,z))}(this,U)),this},B.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},B.prototype.wrap=function(U){var M=this,z=this._readableState,G=!1;for(var Y in U.on("end",function(){if(m("wrapped end"),z.decoder&&!z.ended){var q=z.decoder.end();q&&q.length&&M.push(q)}M.push(null)}),U.on("data",function(q){m("wrapped data"),z.decoder&&(q=z.decoder.write(q)),z.objectMode&&q==null||(z.objectMode||q&&q.length)&&(M.push(q)||(G=!0,U.pause()))}),U)this[Y]===void 0&&typeof U[Y]=="function"&&(this[Y]=function(q){return function(){return U[q].apply(U,arguments)}}(Y));for(var Q=0;Q<w.length;Q++)U.on(w[Q],this.emit.bind(this,w[Q]));return this._read=function(q){m("wrapped _read",q),G&&(G=!1,U.resume())},this},Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),B._fromList=C}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,n,i){n.exports=l;var s=t("./_stream_duplex"),a=Object.create(t("core-util-is"));function o(d,h){var f=this._transformState;f.transforming=!1;var p=f.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,h!=null&&this.push(h),p(d);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);s.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"?this._flush(function(h,f){u(d,h,f)}):u(this,null,null)}function u(d,h,f){if(h)return d.emit("error",h);if(f!=null&&d.push(f),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}a.inherits=t("inherits"),a.inherits(l,s),l.prototype.push=function(d,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,h)},l.prototype._transform=function(d,h,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(d,h,f){var p=this._transformState;if(p.writecb=f,p.writechunk=d,p.writeencoding=h,!p.transforming){var g=this._readableState;(p.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(d,h){var f=this;s.prototype._destroy.call(this,d,function(p){h(p),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,n,i){(function(s,a,o){(function(){var l=t("process-nextick-args");function c(I){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(P,N,S){var C=P.entry;for(P.entry=null;C;){var E=C.callback;N.pendingcb--,E(S),C=C.next}N.corkedRequestsFree.next=P})(T,I)}}n.exports=_;var u,d=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?o:l.nextTick;_.WritableState=w;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var f={deprecate:t("util-deprecate")},p=t("./internal/streams/stream"),g=t("safe-buffer").Buffer,m=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=t("./internal/streams/destroy");function b(){}function w(I,T){u=u||t("./_stream_duplex"),I=I||{};var P=T instanceof u;this.objectMode=!!I.objectMode,P&&(this.objectMode=this.objectMode||!!I.writableObjectMode);var N=I.highWaterMark,S=I.writableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:P&&(S||S===0)?S:C,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var E=I.decodeStrings===!1;this.decodeStrings=!E,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(x){(function(F,U){var M=F._writableState,z=M.sync,G=M.writecb;if(function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}(M),U)(function(Q,q,D,O,V){--q.pendingcb,D?(l.nextTick(V,O),l.nextTick(H,Q,q),Q._writableState.errorEmitted=!0,Q.emit("error",O)):(V(O),Q._writableState.errorEmitted=!0,Q.emit("error",O),H(Q,q))})(F,M,z,U,G);else{var Y=k(M);Y||M.corked||M.bufferProcessing||!M.bufferedRequest||j(F,M),z?d(R,F,M,Y,G):R(F,M,Y,G)}})(T,x)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function _(I){if(u=u||t("./_stream_duplex"),!(v.call(_,this)||this instanceof u))return new _(I);this._writableState=new w(I,this),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),p.call(this)}function B(I,T,P,N,S,C,E){T.writelen=N,T.writecb=E,T.writing=!0,T.sync=!0,P?I._writev(S,T.onwrite):I._write(S,C,T.onwrite),T.sync=!1}function R(I,T,P,N){P||function(S,C){C.length===0&&C.needDrain&&(C.needDrain=!1,S.emit("drain"))}(I,T),T.pendingcb--,N(),H(I,T)}function j(I,T){T.bufferProcessing=!0;var P=T.bufferedRequest;if(I._writev&&P&&P.next){var N=T.bufferedRequestCount,S=new Array(N),C=T.corkedRequestsFree;C.entry=P;for(var E=0,x=!0;P;)S[E]=P,P.isBuf||(x=!1),P=P.next,E+=1;S.allBuffers=x,B(I,T,!0,T.length,S,"",C.finish),T.pendingcb++,T.lastBufferedRequest=null,C.next?(T.corkedRequestsFree=C.next,C.next=null):T.corkedRequestsFree=new c(T),T.bufferedRequestCount=0}else{for(;P;){var F=P.chunk,U=P.encoding,M=P.callback;if(B(I,T,!1,T.objectMode?1:F.length,F,U,M),P=P.next,T.bufferedRequestCount--,T.writing)break}P===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=P,T.bufferProcessing=!1}function k(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function L(I,T){I._final(function(P){T.pendingcb--,P&&I.emit("error",P),T.prefinished=!0,I.emit("prefinish"),H(I,T)})}function H(I,T){var P=k(T);return P&&(function(N,S){S.prefinished||S.finalCalled||(typeof N._final=="function"?(S.pendingcb++,S.finalCalled=!0,l.nextTick(L,N,S)):(S.prefinished=!0,N.emit("prefinish")))}(I,T),T.pendingcb===0&&(T.finished=!0,I.emit("finish"))),P}h.inherits(_,p),w.prototype.getBuffer=function(){for(var I=this.bufferedRequest,T=[];I;)T.push(I),I=I.next;return T},function(){try{Object.defineProperty(w.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(I){return!!v.call(this,I)||this===_&&I&&I._writableState instanceof w}})):v=function(I){return I instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(I,T,P){var N,S=this._writableState,C=!1,E=!S.objectMode&&(N=I,g.isBuffer(N)||N instanceof m);return E&&!g.isBuffer(I)&&(I=function(x){return g.from(x)}(I)),typeof T=="function"&&(P=T,T=null),E?T="buffer":T||(T=S.defaultEncoding),typeof P!="function"&&(P=b),S.ended?function(x,F){var U=new Error("write after end");x.emit("error",U),l.nextTick(F,U)}(this,P):(E||function(x,F,U,M){var z=!0,G=!1;return U===null?G=new TypeError("May not write null values to stream"):typeof U=="string"||U===void 0||F.objectMode||(G=new TypeError("Invalid non-string/buffer chunk")),G&&(x.emit("error",G),l.nextTick(M,G),z=!1),z}(this,S,I,P))&&(S.pendingcb++,C=function(x,F,U,M,z,G){if(!U){var Y=function(O,V,J){return O.objectMode||O.decodeStrings===!1||typeof V!="string"||(V=g.from(V,J)),V}(F,M,z);M!==Y&&(U=!0,z="buffer",M=Y)}var Q=F.objectMode?1:M.length;F.length+=Q;var q=F.length<F.highWaterMark;if(q||(F.needDrain=!0),F.writing||F.corked){var D=F.lastBufferedRequest;F.lastBufferedRequest={chunk:M,encoding:z,isBuf:U,callback:G,next:null},D?D.next=F.lastBufferedRequest:F.bufferedRequest=F.lastBufferedRequest,F.bufferedRequestCount+=1}else B(x,F,!1,Q,M,z,G);return q}(this,S,E,I,T,P)),C},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||j(this,I))},_.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(I,T,P){P(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(I,T,P){var N=this._writableState;typeof I=="function"?(P=I,I=null,T=null):typeof T=="function"&&(P=T,T=null),I!=null&&this.write(I,T),N.corked&&(N.corked=1,this.uncork()),N.ending||function(S,C,E){C.ending=!0,H(S,C),E&&(C.finished?l.nextTick(E):S.once("finish",E)),C.ended=!0,S.writable=!1}(this,N,P)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),_.prototype.destroy=y.destroy,_.prototype._undestroy=y.undestroy,_.prototype._destroy=function(I,T){this.end(),T(I)}}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,n,i){var s=t("safe-buffer").Buffer,a=t("util");n.exports=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},o.prototype.unshift=function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var c=this.head,u=""+c.data;c=c.next;)u+=l+c.data;return u},o.prototype.concat=function(l){if(this.length===0)return s.alloc(0);for(var c,u,d,h=s.allocUnsafe(l>>>0),f=this.head,p=0;f;)c=f.data,u=h,d=p,c.copy(u,d),p+=f.data.length,f=f.next;return h},o}(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var o=a.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(t,n,i){var s=t("process-nextick-args");function a(o,l){o.emit("error",l)}n.exports={destroy:function(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(a,this,o)):s.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,s.nextTick(a,c,h)):s.nextTick(a,c,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(t,n,i){n.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,n,i){(i=n.exports=t("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=t("./lib/_stream_writable.js"),i.Duplex=t("./lib/_stream_duplex.js"),i.Transform=t("./lib/_stream_transform.js"),i.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,n,i){n.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,n,i){n.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(t,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,n,i){(function(s,a){(function(){var o=t("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,u={},d=0;function h(f,p){this._id=f,this._clearFn=p}i.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(f){f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(f,p){clearTimeout(f._idleTimeoutId),f._idleTimeout=p},i.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},i._unrefActive=i.active=function(f){clearTimeout(f._idleTimeoutId);var p=f._idleTimeout;p>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},p))},i.setImmediate=typeof s=="function"?s:function(f){var p=d++,g=!(arguments.length<2)&&c.call(arguments,1);return u[p]=!0,o(function(){u[p]&&(g?f.apply(null,g):f.call(null),i.clearImmediate(p))}),p},i.clearImmediate=typeof a=="function"?a:function(f){delete u[f]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,n,i){(function(s){(function(){function a(o){try{if(!s.localStorage)return!1}catch{return!1}var l=s.localStorage[o];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(o,l){if(a("noDeprecation"))return o;var c=!1;return function(){if(!c){if(a("throwDeprecation"))throw new Error(l);a("traceDeprecation")?console.trace(l):console.warn(l),c=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,n,i){typeof Object.create=="function"?n.exports=function(s,a){s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(s,a){s.super_=a;var o=function(){};o.prototype=a.prototype,s.prototype=new o,s.prototype.constructor=s}},{}],526:[function(t,n,i){n.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},{}],527:[function(t,n,i){(function(s,a){(function(){var o=/%[sdj%]/g;i.format=function(S){if(!w(S)){for(var C=[],E=0;E<arguments.length;E++)C.push(u(arguments[E]));return C.join(" ")}E=1;for(var x=arguments,F=x.length,U=String(S).replace(o,function(z){if(z==="%%")return"%";if(E>=F)return z;switch(z){case"%s":return String(x[E++]);case"%d":return Number(x[E++]);case"%j":try{return JSON.stringify(x[E++])}catch{return"[Circular]"}default:return z}}),M=x[E];E<F;M=x[++E])y(M)||!R(M)?U+=" "+M:U+=" "+u(M);return U},i.deprecate=function(S,C){if(_(a.process))return function(){return i.deprecate(S,C).apply(this,arguments)};if(s.noDeprecation===!0)return S;var E=!1;return function(){if(!E){if(s.throwDeprecation)throw new Error(C);s.traceDeprecation?console.trace(C):console.error(C),E=!0}return S.apply(this,arguments)}};var l,c={};function u(S,C){var E={seen:[],stylize:h};return arguments.length>=3&&(E.depth=arguments[2]),arguments.length>=4&&(E.colors=arguments[3]),v(C)?E.showHidden=C:C&&i._extend(E,C),_(E.showHidden)&&(E.showHidden=!1),_(E.depth)&&(E.depth=2),_(E.colors)&&(E.colors=!1),_(E.customInspect)&&(E.customInspect=!0),E.colors&&(E.stylize=d),f(E,S,E.depth)}function d(S,C){var E=u.styles[C];return E?"\x1B["+u.colors[E][0]+"m"+S+"\x1B["+u.colors[E][1]+"m":S}function h(S,C){return S}function f(S,C,E){if(S.customInspect&&C&&L(C.inspect)&&C.inspect!==i.inspect&&(!C.constructor||C.constructor.prototype!==C)){var x=C.inspect(E,S);return w(x)||(x=f(S,x,E)),x}var F=function(D,O){if(_(O))return D.stylize("undefined","undefined");if(w(O)){var V="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(V,"string")}if(b(O))return D.stylize(""+O,"number");if(v(O))return D.stylize(""+O,"boolean");if(y(O))return D.stylize("null","null")}(S,C);if(F)return F;var U=Object.keys(C),M=function(D){var O={};return D.forEach(function(V,J){O[V]=!0}),O}(U);if(S.showHidden&&(U=Object.getOwnPropertyNames(C)),k(C)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return p(C);if(U.length===0){if(L(C)){var z=C.name?": "+C.name:"";return S.stylize("[Function"+z+"]","special")}if(B(C))return S.stylize(RegExp.prototype.toString.call(C),"regexp");if(j(C))return S.stylize(Date.prototype.toString.call(C),"date");if(k(C))return p(C)}var G,Y="",Q=!1,q=["{","}"];return m(C)&&(Q=!0,q=["[","]"]),L(C)&&(Y=" [Function"+(C.name?": "+C.name:"")+"]"),B(C)&&(Y=" "+RegExp.prototype.toString.call(C)),j(C)&&(Y=" "+Date.prototype.toUTCString.call(C)),k(C)&&(Y=" "+p(C)),U.length!==0||Q&&C.length!=0?E<0?B(C)?S.stylize(RegExp.prototype.toString.call(C),"regexp"):S.stylize("[Object]","special"):(S.seen.push(C),G=Q?function(D,O,V,J,re){for(var ne=[],se=0,ee=O.length;se<ee;++se)N(O,String(se))?ne.push(g(D,O,V,J,String(se),!0)):ne.push("");return re.forEach(function(de){de.match(/^\d+$/)||ne.push(g(D,O,V,J,de,!0))}),ne}(S,C,E,M,U):U.map(function(D){return g(S,C,E,M,D,Q)}),S.seen.pop(),function(D,O,V){return D.reduce(function(J,re){return re.indexOf(`
`)>=0,J+re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?V[0]+(O===""?"":O+`
 `)+" "+D.join(`,
  `)+" "+V[1]:V[0]+O+" "+D.join(", ")+" "+V[1]}(G,Y,q)):q[0]+Y+q[1]}function p(S){return"["+Error.prototype.toString.call(S)+"]"}function g(S,C,E,x,F,U){var M,z,G;if((G=Object.getOwnPropertyDescriptor(C,F)||{value:C[F]}).get?z=G.set?S.stylize("[Getter/Setter]","special"):S.stylize("[Getter]","special"):G.set&&(z=S.stylize("[Setter]","special")),N(x,F)||(M="["+F+"]"),z||(S.seen.indexOf(G.value)<0?(z=y(E)?f(S,G.value,null):f(S,G.value,E-1)).indexOf(`
`)>-1&&(z=U?z.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+z.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):z=S.stylize("[Circular]","special")),_(M)){if(U&&F.match(/^\d+$/))return z;(M=JSON.stringify(""+F)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.substr(1,M.length-2),M=S.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=S.stylize(M,"string"))}return M+": "+z}function m(S){return Array.isArray(S)}function v(S){return typeof S=="boolean"}function y(S){return S===null}function b(S){return typeof S=="number"}function w(S){return typeof S=="string"}function _(S){return S===void 0}function B(S){return R(S)&&H(S)==="[object RegExp]"}function R(S){return typeof S=="object"&&S!==null}function j(S){return R(S)&&H(S)==="[object Date]"}function k(S){return R(S)&&(H(S)==="[object Error]"||S instanceof Error)}function L(S){return typeof S=="function"}function H(S){return Object.prototype.toString.call(S)}function I(S){return S<10?"0"+S.toString(10):S.toString(10)}i.debuglog=function(S){if(_(l)&&(l=s.env.NODE_DEBUG||""),S=S.toUpperCase(),!c[S])if(new RegExp("\\b"+S+"\\b","i").test(l)){var C=s.pid;c[S]=function(){var E=i.format.apply(i,arguments);console.error("%s %d: %s",S,C,E)}}else c[S]=function(){};return c[S]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=m,i.isBoolean=v,i.isNull=y,i.isNullOrUndefined=function(S){return S==null},i.isNumber=b,i.isString=w,i.isSymbol=function(S){return typeof S=="symbol"},i.isUndefined=_,i.isRegExp=B,i.isObject=R,i.isDate=j,i.isError=k,i.isFunction=L,i.isPrimitive=function(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||S===void 0},i.isBuffer=t("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var S=new Date,C=[I(S.getHours()),I(S.getMinutes()),I(S.getSeconds())].join(":");return[S.getDate(),T[S.getMonth()],C].join(" ")}function N(S,C){return Object.prototype.hasOwnProperty.call(S,C)}i.log=function(){console.log("%s - %s",P(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(S,C){if(!C||!R(C))return S;for(var E=Object.keys(C),x=E.length;x--;)S[E[x]]=C[E[x]];return S}}).call(this)}).call(this,t("_process"),typeof Sr<"u"?Sr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return f.default}});var s=p(t("./v1.js")),a=p(t("./v3.js")),o=p(t("./v4.js")),l=p(t("./v5.js")),c=p(t("./nil.js")),u=p(t("./version.js")),d=p(t("./validate.js")),h=p(t("./stringify.js")),f=p(t("./parse.js"));function p(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,n,i){function s(f){return 14+(f+64>>>9<<4)+1}function a(f,p){const g=(65535&f)+(65535&p);return(f>>16)+(p>>16)+(g>>16)<<16|65535&g}function o(f,p,g,m,v,y){return a((b=a(a(p,f),a(m,y)))<<(w=v)|b>>>32-w,g);var b,w}function l(f,p,g,m,v,y,b){return o(p&g|~p&m,f,p,v,y,b)}function c(f,p,g,m,v,y,b){return o(p&m|g&~m,f,p,v,y,b)}function u(f,p,g,m,v,y,b){return o(p^g^m,f,p,v,y,b)}function d(f,p,g,m,v,y,b){return o(g^(p|~m),f,p,v,y,b)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(f){if(typeof f=="string"){const p=unescape(encodeURIComponent(f));f=new Uint8Array(p.length);for(let g=0;g<p.length;++g)f[g]=p.charCodeAt(g)}return function(p){const g=[],m=32*p.length;for(let v=0;v<m;v+=8){const y=p[v>>5]>>>v%32&255,b=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);g.push(b)}return g}(function(p,g){p[g>>5]|=128<<g%32,p[s(g)-1]=g;let m=1732584193,v=-271733879,y=-1732584194,b=271733878;for(let w=0;w<p.length;w+=16){const _=m,B=v,R=y,j=b;m=l(m,v,y,b,p[w],7,-680876936),b=l(b,m,v,y,p[w+1],12,-389564586),y=l(y,b,m,v,p[w+2],17,606105819),v=l(v,y,b,m,p[w+3],22,-1044525330),m=l(m,v,y,b,p[w+4],7,-176418897),b=l(b,m,v,y,p[w+5],12,1200080426),y=l(y,b,m,v,p[w+6],17,-1473231341),v=l(v,y,b,m,p[w+7],22,-45705983),m=l(m,v,y,b,p[w+8],7,1770035416),b=l(b,m,v,y,p[w+9],12,-1958414417),y=l(y,b,m,v,p[w+10],17,-42063),v=l(v,y,b,m,p[w+11],22,-1990404162),m=l(m,v,y,b,p[w+12],7,1804603682),b=l(b,m,v,y,p[w+13],12,-40341101),y=l(y,b,m,v,p[w+14],17,-1502002290),v=l(v,y,b,m,p[w+15],22,1236535329),m=c(m,v,y,b,p[w+1],5,-165796510),b=c(b,m,v,y,p[w+6],9,-1069501632),y=c(y,b,m,v,p[w+11],14,643717713),v=c(v,y,b,m,p[w],20,-373897302),m=c(m,v,y,b,p[w+5],5,-701558691),b=c(b,m,v,y,p[w+10],9,38016083),y=c(y,b,m,v,p[w+15],14,-660478335),v=c(v,y,b,m,p[w+4],20,-405537848),m=c(m,v,y,b,p[w+9],5,568446438),b=c(b,m,v,y,p[w+14],9,-1019803690),y=c(y,b,m,v,p[w+3],14,-187363961),v=c(v,y,b,m,p[w+8],20,1163531501),m=c(m,v,y,b,p[w+13],5,-1444681467),b=c(b,m,v,y,p[w+2],9,-51403784),y=c(y,b,m,v,p[w+7],14,1735328473),v=c(v,y,b,m,p[w+12],20,-1926607734),m=u(m,v,y,b,p[w+5],4,-378558),b=u(b,m,v,y,p[w+8],11,-2022574463),y=u(y,b,m,v,p[w+11],16,1839030562),v=u(v,y,b,m,p[w+14],23,-35309556),m=u(m,v,y,b,p[w+1],4,-1530992060),b=u(b,m,v,y,p[w+4],11,1272893353),y=u(y,b,m,v,p[w+7],16,-155497632),v=u(v,y,b,m,p[w+10],23,-1094730640),m=u(m,v,y,b,p[w+13],4,681279174),b=u(b,m,v,y,p[w],11,-358537222),y=u(y,b,m,v,p[w+3],16,-722521979),v=u(v,y,b,m,p[w+6],23,76029189),m=u(m,v,y,b,p[w+9],4,-640364487),b=u(b,m,v,y,p[w+12],11,-421815835),y=u(y,b,m,v,p[w+15],16,530742520),v=u(v,y,b,m,p[w+2],23,-995338651),m=d(m,v,y,b,p[w],6,-198630844),b=d(b,m,v,y,p[w+7],10,1126891415),y=d(y,b,m,v,p[w+14],15,-1416354905),v=d(v,y,b,m,p[w+5],21,-57434055),m=d(m,v,y,b,p[w+12],6,1700485571),b=d(b,m,v,y,p[w+3],10,-1894986606),y=d(y,b,m,v,p[w+10],15,-1051523),v=d(v,y,b,m,p[w+1],21,-2054922799),m=d(m,v,y,b,p[w+8],6,1873313359),b=d(b,m,v,y,p[w+15],10,-30611744),y=d(y,b,m,v,p[w+6],15,-1560198380),v=d(v,y,b,m,p[w+13],21,1309151649),m=d(m,v,y,b,p[w+4],6,-145523070),b=d(b,m,v,y,p[w+11],10,-1120210379),y=d(y,b,m,v,p[w+2],15,718787259),v=d(v,y,b,m,p[w+9],21,-343485551),m=a(m,_),v=a(v,B),y=a(y,R),b=a(b,j)}return[m,v,y,b]}(function(p){if(p.length===0)return[];const g=8*p.length,m=new Uint32Array(s(g));for(let v=0;v<g;v+=8)m[v>>5]|=(255&p[v/8])<<v%32;return m}(f),8*f.length))};i.default=h},{}],530:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=t("./validate.js"))&&s.__esModule?s:{default:s},o=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");let c;const u=new Uint8Array(16);return u[0]=(c=parseInt(l.slice(0,8),16))>>>24,u[1]=c>>>16&255,u[2]=c>>>8&255,u[3]=255&c,u[4]=(c=parseInt(l.slice(9,13),16))>>>8,u[5]=255&c,u[6]=(c=parseInt(l.slice(14,18),16))>>>8,u[7]=255&c,u[8]=(c=parseInt(l.slice(19,23),16))>>>8,u[9]=255&c,u[10]=(c=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=c/4294967296&255,u[12]=c>>>24&255,u[13]=c>>>16&255,u[14]=c>>>8&255,u[15]=255&c,u};i.default=o},{"./validate.js":541}],532:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,n,i){let s;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!s&&(s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(a)};const a=new Uint8Array(16)},{}],534:[function(t,n,i){function s(l,c,u,d){switch(l){case 0:return c&u^~c&d;case 1:return c^u^d;case 2:return c&u^c&d^u&d;case 3:return c^u^d}}function a(l,c){return l<<c|l>>>32-c}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=function(l){const c=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const p=unescape(encodeURIComponent(l));l=[];for(let g=0;g<p.length;++g)l.push(p.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const d=l.length/4+2,h=Math.ceil(d/16),f=new Array(h);for(let p=0;p<h;++p){const g=new Uint32Array(16);for(let m=0;m<16;++m)g[m]=l[64*p+4*m]<<24|l[64*p+4*m+1]<<16|l[64*p+4*m+2]<<8|l[64*p+4*m+3];f[p]=g}f[h-1][14]=8*(l.length-1)/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=8*(l.length-1)&4294967295;for(let p=0;p<h;++p){const g=new Uint32Array(80);for(let _=0;_<16;++_)g[_]=f[p][_];for(let _=16;_<80;++_)g[_]=a(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);let m=u[0],v=u[1],y=u[2],b=u[3],w=u[4];for(let _=0;_<80;++_){const B=Math.floor(_/20),R=a(m,5)+s(B,v,y,b)+w+c[B]+g[_]>>>0;w=b,b=y,y=a(v,30)>>>0,v=m,m=R}u[0]=u[0]+m>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+y>>>0,u[3]=u[3]+b>>>0,u[4]=u[4]+w>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=o},{}],535:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=t("./validate.js"))&&s.__esModule?s:{default:s};const o=[];for(let c=0;c<256;++c)o.push((c+256).toString(16).substr(1));var l=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(o[c[u+0]]+o[c[u+1]]+o[c[u+2]]+o[c[u+3]]+"-"+o[c[u+4]]+o[c[u+5]]+"-"+o[c[u+6]]+o[c[u+7]]+"-"+o[c[u+8]]+o[c[u+9]]+"-"+o[c[u+10]]+o[c[u+11]]+o[c[u+12]]+o[c[u+13]]+o[c[u+14]]+o[c[u+15]]).toLowerCase();if(!(0,a.default)(d))throw TypeError("Stringified UUID is invalid");return d};i.default=l},{"./validate.js":541}],536:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(t("./rng.js")),a=o(t("./stringify.js"));function o(f){return f&&f.__esModule?f:{default:f}}let l,c,u=0,d=0;var h=function(f,p,g){let m=p&&g||0;const v=p||new Array(16);let y=(f=f||{}).node||l,b=f.clockseq!==void 0?f.clockseq:c;if(y==null||b==null){const k=f.random||(f.rng||s.default)();y==null&&(y=l=[1|k[0],k[1],k[2],k[3],k[4],k[5]]),b==null&&(b=c=16383&(k[6]<<8|k[7]))}let w=f.msecs!==void 0?f.msecs:Date.now(),_=f.nsecs!==void 0?f.nsecs:d+1;const B=w-u+(_-d)/1e4;if(B<0&&f.clockseq===void 0&&(b=b+1&16383),(B<0||w>u)&&f.nsecs===void 0&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=w,d=_,c=b,w+=122192928e5;const R=(1e4*(268435455&w)+_)%4294967296;v[m++]=R>>>24&255,v[m++]=R>>>16&255,v[m++]=R>>>8&255,v[m++]=255&R;const j=w/4294967296*1e4&268435455;v[m++]=j>>>8&255,v[m++]=255&j,v[m++]=j>>>24&15|16,v[m++]=j>>>16&255,v[m++]=b>>>8|128,v[m++]=255&b;for(let k=0;k<6;++k)v[m+k]=y[k];return p||(0,a.default)(v)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(t("./v35.js")),a=o(t("./md5.js"));function o(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v3",48,a.default);i.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,d,h){function f(p,g,m,v){if(typeof p=="string"&&(p=function(b){b=unescape(encodeURIComponent(b));const w=[];for(let _=0;_<b.length;++_)w.push(b.charCodeAt(_));return w}(p)),typeof g=="string"&&(g=(0,a.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+p.length);if(y.set(g),y.set(p,g.length),y=h(y),y[6]=15&y[6]|d,y[8]=63&y[8]|128,m){v=v||0;for(let b=0;b<16;++b)m[v+b]=y[b];return m}return(0,s.default)(y)}try{f.name=u}catch{}return f.DNS=l,f.URL=c,f},i.URL=i.DNS=void 0;var s=o(t("./stringify.js")),a=o(t("./parse.js"));function o(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=l;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(t("./rng.js")),a=o(t("./stringify.js"));function o(c){return c&&c.__esModule?c:{default:c}}var l=function(c,u,d){const h=(c=c||{}).random||(c.rng||s.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){d=d||0;for(let f=0;f<16;++f)u[d+f]=h[f];return u}return(0,a.default)(h)};i.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=o(t("./v35.js")),a=o(t("./sha1.js"));function o(c){return c&&c.__esModule?c:{default:c}}var l=(0,s.default)("v5",80,a.default);i.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=t("./regex.js"))&&s.__esModule?s:{default:s},o=function(l){return typeof l=="string"&&a.default.test(l)};i.default=o},{"./regex.js":532}],542:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,a=(s=t("./validate.js"))&&s.__esModule?s:{default:s},o=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};i.default=o},{"./validate.js":541}],543:[function(t,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(t,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function s(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},i.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},i.isS=function(a){return a===32||a===10||a===13||a===9},i.isNameStartChar=s,i.isNameChar=function(a){return s(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(t,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function s(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=s,i.isNCNameChar=function(a){return s(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)})})(QY);var YEe=QY.exports;const vB=No(YEe),ma=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),yB=[.001,0,0,.001,0,0],cS=1.35,ho={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Jd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Qv="pdfjs_internal_editor_",_r={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},zr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},JEe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bB={TRIANGLES:1,LATTICE:2},Bs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tw={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ii={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},sp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},JC={ERRORS:0,WARNINGS:1,INFOS:5},$v={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},V0={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},ZEe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ZC=JC.WARNINGS;function e_e(r){Number.isInteger(r)&&(ZC=r)}function t_e(){return ZC}function e4(r){ZC>=JC.INFOS&&console.info(`Info: ${r}`)}function br(r){ZC>=JC.WARNINGS&&console.warn(`Warning: ${r}`)}function bn(r){throw new Error(r)}function Vr(r,e){r||bn(e)}function r_e(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function $Y(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=o_e(r)}catch{}const n=e?URL.parse(r,e):URL.parse(r);return r_e(n)?n:null}function zY(r,e,t=!1){const n=URL.parse(r);return n?(n.hash=e,n.href):t&&$Y(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function xr(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const wA=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class aD extends wA{constructor(e,t){super(e,"PasswordException"),this.code=t}}class uS extends wA{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class xB extends wA{constructor(e){super(e,"InvalidPDFException")}}class G2 extends wA{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class n_e extends wA{constructor(e){super(e,"FormatError")}}class Fh extends wA{constructor(e){super(e,"AbortException")}}function VY(r){(typeof r!="object"||r?.length===void 0)&&bn("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function zy(r){typeof r!="string"&&bn("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function i_e(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function s_e(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function a_e(){try{return new Function(""),!0}catch{return!1}}class Us{static get isLittleEndian(){return xr(this,"isLittleEndian",s_e())}static get isEvalSupported(){return xr(this,"isEvalSupported",a_e())}static get isOffscreenCanvasSupported(){return xr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return xr(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return xr(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return xr(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return xr(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return xr(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const dS=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class Ut{static makeHexColor(e,t,n){return`#${dS[e]}${dS[t]}${dS[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],s=e[n+1];e[n]=i*t[0]+s*t[2]+t[4],e[n+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],c=t[5];for(let u=0;u<6;u+=2){const d=e[n+u],h=e[n+u+1];e[n+u]=d*i+h*a+l,e[n+u+1]=d*s+h*o+c}}static applyInverseTransform(e,t){const n=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,n){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],c=t[5],u=e[0],d=e[1],h=e[2],f=e[3];let p=i*u+l,g=p,m=i*h+l,v=m,y=o*d+c,b=y,w=o*f+c,_=w;if(s!==0||a!==0){const B=s*u,R=s*h,j=a*d,k=a*f;p+=j,v+=j,m+=k,g+=k,y+=B,_+=B,w+=R,b+=R}n[0]=Math.min(n[0],p,m,g,v),n[1]=Math.min(n[1],y,w,b,_),n[2]=Math.max(n[2],p,m,g,v),n[3]=Math.max(n[3],y,w,b,_)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],s=e[2],a=e[3],o=n**2+i**2,l=n*s+i*a,c=s**2+a**2,u=(o+c)/2,d=Math.sqrt(u**2-(o*c-l**2));t[0]=Math.sqrt(u+d||1),t[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,s){s[0]=Math.min(s[0],e,n),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,n),s[3]=Math.max(s[3],t,i)}static#e(e,t,n,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,p=d*(d*(d*e+3*c*t)+3*h*n)+f*i,g=d*(d*(d*s+3*c*a)+3*h*o)+f*l;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],g)}static#t(e,t,n,i,s,a,o,l,c,u,d,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,t,n,i,s,a,o,l,-d/u,h);return}const f=u**2-4*d*c;if(f<0)return;const p=Math.sqrt(f),g=2*c;this.#e(e,t,n,i,s,a,o,l,(-u+p)/g,h),this.#e(e,t,n,i,s,a,o,l,(-u-p)/g,h)}static bezierBoundingBox(e,t,n,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,l),this.#t(e,n,s,o,t,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),c),this.#t(e,n,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),c)}}function o_e(r){return decodeURIComponent(escape(r))}let hS=null,oD=null;function l_e(r){return hS||(hS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oD=new Map([["","t"]])),r.replaceAll(hS,(e,t,n)=>t?t.normalize("NFKC"):oD.get(n))}function GY(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),VY(r)}const kp="pdfjs_internal_id_";function c_e(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...s]=t;if(!r(n)&&!Number.isInteger(n)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function ga(r,e,t){return Math.min(Math.max(r,e),t)}function KY(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(VY(r))}function u_e(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):zy(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});class zv{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(zv.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const l of s.children)i(l)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class WY{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const d=document.createTextNode(i.value);a.append(d),o&&zv.shouldBuildText(i.name)&&c.push(d)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[d,h,f]=u.at(-1);if(h+1===d.children.length){u.pop();continue}const p=d.children[++u.at(-1)[1]];if(p===null)continue;const{name:g}=p;if(g==="#text"){const v=document.createTextNode(p.value);c.push(v),f.append(v);continue}const m=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,g):document.createElement(g);if(f.append(m),p.attributes&&this.setAttributes({html:m,element:p,storage:t,intent:s,linkService:n}),p.children?.length>0)u.push([p,-1,m]);else if(p.value){const v=document.createTextNode(p.value);o&&zv.shouldBuildText(g)&&c.push(v),m.append(v)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const bu="http://www.w3.org/2000/svg";class wm{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Vy(r,e="text"){if(wg(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Gy{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,g,m,v;u===0?(p=Math.abs(c-e[1])*n+s,g=Math.abs(l-e[0])*n+a,m=(e[3]-e[1])*n,v=(e[2]-e[0])*n):(p=Math.abs(l-e[0])*n+s,g=Math.abs(c-e[1])*n+a,m=(e[2]-e[0])*n,v=(e[3]-e[1])*n),this.transform=[u*n,d*n,h*n,f*n,p-u*n*l-h*n*c,g-d*n*l-f*n*c],this.width=m,this.height=v}get rawDims(){const e=this.viewBox;return xr(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Gy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const n=[e,t];return Ut.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Ut.applyTransform(t,this.transform);const n=[e[2],e[3]];return Ut.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Ut.applyInverseTransform(n,this.transform),n}}class E8 extends wA{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function t4(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function _8(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function d_e(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function h_e(r,e="document.pdf"){if(typeof r!="string")return e;if(t4(r))return br('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(r);if(!n)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(s.test(a))return i(a);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(n.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return i(l[0])}return e}class lD{started=Object.create(null);times=[];time(e){e in this.started&&br(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||br(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function wg(r,e){const t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function dl(r){r.preventDefault()}function ci(r){r.preventDefault(),r.stopPropagation()}function f_e(r){console.log("Deprecated API usage: "+r)}class wB{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=u,o+=d):c==="+"&&(a-=u,o-=d),new Date(Date.UTC(n,i,s,a,o,l))}}function A_e(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new Gy({viewBox:s,userUnit:1,scale:e,rotation:t})}function Ky(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(br(`Not a valid color format: "${r}"`),[0,0,0])}function p_e(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,Ky(n))}e.remove()}function qn(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function lc(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function cA(r,e,t=!1,n=!0){if(e instanceof Gy){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,o=Us.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}n&&r.setAttribute("data-main-rotation",e.rotation)}class Hc{constructor(){const{pixelRatio:e}=Hc;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,s=-1){let a=1/0,o=1/0,l=1/0;n=Hc.capPixels(n,s),n>0&&(a=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,l=i/t);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const CB=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class m_e{static get isDarkMode(){return xr(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class g_e{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),xr(this,"commentForegroundColor",Ky(n))}}function v_e(r,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return r=Math.round(r*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[r,e,t]}function cD(r,e){const t=r[0]/255,n=r[1]/255,i=r[2]/255,s=Math.max(t,n,i),a=Math.min(t,n,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((n-i)/l+(n<i?6:0))*60;break;case n:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-n)/l+4)*60;break}}e[2]=o}function SB(r,e){const t=r[0],n=r[1],i=r[2],s=(1-Math.abs(2*i-1))*n,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function uD(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function dD(r,e,t){SB(r,t),t.map(uD);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];SB(e,t),t.map(uD);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const hD=new Map;function y_e(r,e){const t=r[0]+r[1]*256+r[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=hD.get(t);if(n)return n;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);cD(r,a);const o=i.subarray(6,9);cD(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),dD(a,o,s)<c){let u,d;l?(u=a[2],d=1):(u=0,d=a[2]);const h=.005;for(;d-u>h;){const f=a[2]=(u+d)/2;l===dD(a,o,s)<c?u=f:d=f}a[2]=l?d:u}return SB(a,s),n=Ut.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),hD.set(t,n),n}function qY({html:r,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof r=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=r.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else WY.render({xfaHtml:r,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",t),n.append(i)}function XY(r){const e=new Path2D;if(!r)return e;for(let t=0,n=r.length;t<n;)switch(r[t++]){case V0.moveTo:e.moveTo(r[t++],r[t++]);break;case V0.lineTo:e.lineTo(r[t++],r[t++]);break;case V0.curveTo:e.bezierCurveTo(r[t++],r[t++],r[t++],r[t++],r[t++],r[t++]);break;case V0.quadraticCurveTo:e.quadraticCurveTo(r[t++],r[t++],r[t++],r[t++]);break;case V0.closePath:e.closePath();break;default:br(`Unrecognized drawing path operator: ${r[t-1]}`);break}return e}class zg{#e=null;#t=null;#n;#r=null;#a=null;#s=null;#i=null;#o=null;static#c=null;constructor(e){this.#n=e,zg.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",dl,{signal:t}),e.addEventListener("pointerdown",zg.#l,{signal:t}));const n=this.#r=document.createElement("div");n.className="buttons",e.append(n);const i=this.#n.toolbarPosition;if(i){const{style:s}=e,a=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#n._focusEventsAllowed=!1,ci(e)}#d(e){this.#n._focusEventsAllowed=!0,ci(e)}#f(e){const t=this.#n._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",dl,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",zg.#c[e]),this.#f(n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#r.append(n)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#r.append(t,this.#m),this.#a=e}addComment(e,t=null){if(this.#s)return;const n=e.renderForToolbar();if(!n)return;this.#f(n);const i=this.#i=this.#m;t?(this.#r.insertBefore(n,t),this.#r.insertBefore(i,t)):this.#r.append(n,i),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#r.append(t,this.#m)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#n);this.#f(t),this.#r.append(t,this.#m)}removeButton(e){switch(e){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#i?.remove(),this.#i=null;break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,n){if(!t&&e==="comment")return;const i=this.#r.querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class b_e{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#n._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",dl,{signal:t});const n=this.#e=document.createElement("div");return n.className="buttons",e.append(n),this.#n.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#n.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#n.highlightSelection("floating_button")}),e}#a(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]}show(e,t,n){const[i,s]=this.#a(t,n),{style:a}=this.#t||=this.#r();e.append(this.#t),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,n,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const o=this.#n._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",dl,{signal:o}),s.addEventListener("click",i,{signal:o})),this.#e.append(s)}}function YY(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}class rn{static#e=NaN;static#t=null;static#n=NaN;static#r=null;static initializeAndAddPointerId(e){(rn.#t||=new Set).add(e)}static setPointer(e,t){rn.#e||=t,rn.#r??=e}static setTimeStamp(e){rn.#n=e}static isSamePointerId(e){return rn.#e===e}static isSamePointerIdOrRemove(e){return rn.#e===e?!0:(rn.#t?.delete(e),!1)}static isSamePointerType(e){return rn.#r===e}static isInitializedAndDifferentPointerType(e){return rn.#r!==null&&!rn.isSamePointerType(e)}static isSameTimeStamp(e){return rn.#n===e}static isUsingMultiplePointers(){return rn.#t?.size>=1}static clearPointerType(){rn.#r=null}static clearPointerIds(){rn.#e=NaN,rn.#t=null}static clearTimeStamp(){rn.#n=NaN}}class x_e{#e=0;get id(){return`${Qv}${this.#e++}`}}class N8{#e=GY();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return xr(this,"_isSVGFittingCanvas",s)}async#r(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(n.url=t,i=await Vy(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=N8._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const d=n.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){br(i),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return this.#r(`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,t){const n=await t;return this.#r(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=i.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class w_e{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:t,post:n,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(l);return}if(a&&this.#e[this.#r].type===s){o&&(l.undo=this.#e[this.#r].undo),this.#e[this.#r]=l;return}const c=this.#r+1;c===this.#n?this.#e.splice(0,1):(this.#r=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let t=this.#r;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#r-t),this.#r=t;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class Wy{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Us.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),s||ci(t))}}class B8{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return p_e(e),xr(this,"_colors",e)}convert(e){const t=Ky(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return B8._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ut.makeHexColor(...t):e}}class Ih{#e=new AbortController;#t=null;#n=null;#r=new Map;#a=new Map;#s=null;#i=null;#o=null;#c=new w_e;#l=null;#h=null;#d=null;#f=0;#m=new Set;#p=null;#u=null;#A=new Set;_editorUndoBar=null;#g=!1;#y=!1;#v=!1;#E=null;#C=null;#x=null;#N=null;#b=!1;#S=null;#T=new x_e;#B=!1;#k=!1;#R=!1;#F=null;#M=null;#L=null;#O=null;#z=null;#_=_r.NONE;#w=new Set;#I=null;#D=null;#H=null;#K=null;#G=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#Q=[0,0];#P=null;#V=null;#J=null;#Z=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Ih.prototype,t=a=>a.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return xr(this,"_keyboardManager",new Wy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#V.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,i,s,a,o,l,c,u,d,h,f,p,g,m){const v=this._signal=this.#e.signal;this.#V=e,this.#J=t,this.#Z=n,this.#s=i,this.#l=s,this.#D=a,this.#G=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:v}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),o._on("setpreference",this.onSetPreference.bind(this),{signal:v}),o._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:v}),window.addEventListener("pointerdown",()=>{this.#k=!0},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{this.#k=!1},{capture:!0,signal:v}),this.#ae(),this.#he(),this.#te(),this.#i=l.annotationStorage,this.#E=l.filterFactory,this.#H=c,this.#N=u||null,this.#g=d,this.#y=h,this.#v=f,this.#z=p||null,this.viewParameters={realScale:wm.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=m!==!1,s?.setSidebarUiManager(this)}destroy(){this.#U?.resolve(),this.#U=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#r.clear(),this.#A.clear(),this.#O?.clear(),this.#t=null,this.#w.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#D?.destroy(),this.#S?.hide(),this.#S=null,this.#L?.destroy(),this.#L=null,this.#n=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return xr(this,"hcmFilter",this.#H?this.#E.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return xr(this,"direction",getComputedStyle(this.#V).direction)}get _highlightColors(){return xr(this,"_highlightColors",this.#N?new Map(this.#N.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return xr(this,"highlightColors",null);const t=new Map,n=!!this.#H;for(const[i,s]of e){const a=i.endsWith("_HCM");if(n&&a){t.set(i.replace("_HCM",""),s);continue}!n&&!a&&t.set(i,s)}return xr(this,"highlightColors",t)}get highlightColorNames(){return xr(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,n,i){this.#l?.showDialog(this,e,t,n,i)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,n=void 0){this.#l?.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){this.#D?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#D}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#v=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#V.focus()}findParent(e,t){for(const n of this.#a.values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#A.add(e)}removeShouldRescale(e){this.#A.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*wm.PDF_TO_CSS_UNITS;for(const t of this.#A)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Y({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#a.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=n,l=n.toString(),u=this.#Y(n).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;n.empty();const h=this.#ee(u),f=this.#_===_r.NONE,p=()=>{const g=h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});f&&this.showAllEditors("highlight",!0,!0),t&&g?.editComment()};if(f){this.switchToMode(_r.HIGHLIGHT,p);return}p()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#Y(e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(this.#S||=new b_e(this),this.#S.show(n,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const t=`${Qv}${e}`,n=this.#i.getRawValue(t);return n&&this.#i.remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#Z;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#S?.hide(),this.#I=null,this.#j({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const i=this.#Y(e).closest(".textLayer");if(!i){this.#I&&(this.#S?.hide(),this.#I=null,this.#j({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#I=t,this.#j({hasSelectedText:!0}),!(this.#_!==_r.HIGHLIGHT&&this.#_!==_r.NONE)&&(this.#_===_r.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#b=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#_===_r.HIGHLIGHT?this.#ee(i):null;if(s?.toggleDrawing(),this.#k){const a=new AbortController,o=this.combinedSignal(a),l=c=>{c.type==="pointerup"&&c.button!==0||(a.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#q("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else s?.toggleDrawing(!0),this.#q("main_toolbar")}}#q(e=""){this.#_===_r.HIGHLIGHT?this.highlightSelection(e):this.#g&&this.#ie()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#x)return;this.#x=new AbortController;const e=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#b&&(this.#b=!1,this.#q("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#w)if(t.div.contains(e)){this.#M=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[e,t]=this.#M;this.#M=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#F)return;this.#F=new AbortController;const e=this.combinedSignal(this.#F);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#F?.abort(),this.#F=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#w){const i=n.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){br(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)this.#re(l);this.#ne(s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){br(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#_!==_r.NONE&&!this.isEditorHandlingKeyboard&&Ih._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#b&&(this.#b=!1,this.#q("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#j(e){Object.entries(e).some(([n,i])=>this.#W[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,e)}),this.#_===_r.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[zr.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#j({isEditing:this.#_!==_r.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#j({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#$(t.defaultPropertiesToUpdate)}}getId(){return this.#T.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#B?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,s=!1){if(this.#_!==e&&!(this.#U&&(await this.#U.promise,!this.#U))){if(this.#U=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#_===_r.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#_=e,e===_r.NONE){this.setEditingState(!1),this.#Ae();for(const a of this.#r.values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#U.resolve();return}for(const a of this.#r.values())a.addStandaloneCommentButton();e===_r.SIGNATURE&&await this.#D?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const a of this.#a.values())a.updateMode(e);if(e===_r.POPUP){this.#n||=await this.#G.getAnnotationsByType(new Set(this.#u.map(l=>l._editorType)));const a=new Set,o=[];for(const l of this.#r.values()){const{annotationElementId:c,hasComment:u,deleted:d}=l;c&&a.add(c),u&&!d&&o.push(l.getData())}for(const l of this.#n){const{id:c,popupRef:u,contentsObj:d}=l;u&&d?.str&&!a.has(c)&&!this.#m.has(c)&&o.push(l)}this.#l?.showSidebar(o)}if(!t){n&&this.addNewEditorFromKeyboard(),this.#U.resolve();return}for(const a of this.#r.values())a.uid===t?(this.setSelected(a),s?a.editComment():i?a.enterInEditMode():a.focus()):a.unselect();this.#U.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#_&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case zr.CREATE:this.currentLayer.addNewEditor(t);return;case zr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#K||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of this.#w)n.updateParams(e,t);else for(const n of this.#u)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const s of this.#r.values())s.editorType===e&&s.show(t);(this.#K?.get(zr.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#$([[zr.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#R!==e){this.#R=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#B){this.#B=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#r.values())t.enable()}}#Ae(){if(this.unselectAll(),this.#B){this.#B=!1;for(const e of this.#a.values())e.disable();for(const e of this.#r.values())e.disable()}}*getEditors(e){for(const t of this.#r.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#r.get(e)}addEditor(e){this.#r.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#r.delete(e.id),e.annotationElementId&&this.#O?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#re(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#pe(){let e=null;for(e of this.#w);return e}updateUI(e){this.#pe===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#j({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#j({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const t of this.#w)t!==e&&t.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#j({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#j({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#j({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#j({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#j({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(this.#r.size===0)return!0;if(this.#r.size===1)for(const e of this.#r.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#w],n=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},i=()=>{for(const s of t)this.#re(s)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ne(e){for(const t of this.#w)t.unselect();this.#w.clear();for(const t of e)t.isEmpty()||(this.#w.add(t),t.select());this.#j({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#ne(this.#r.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#_!==_r.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#j({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#Q[0]+=e,this.#Q[1]+=t;const[i,s]=this.#Q,a=[...this.#w],o=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#Q[0]=this.#Q[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#r.has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)this.#r.has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#w)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex;if(!t)return!1;const n=(i,s,a,o)=>{if(this.#r.has(i.id)){const l=this.#a.get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#p)for(const n of this.#p.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#_}isEditingMode(){return this.#_!==_r.NONE}get imageManager(){return xr(this,"imageManager",new N8)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,d,h)=>({x:(u-i)/a,y:1-(c+d-n)/s,width:h/a,height:d/s});break;case"180":o=(c,u,d,h)=>({x:1-(c+d-n)/s,y:1-(u+h-i)/a,width:d/s,height:h/a});break;case"270":o=(c,u,d,h)=>({x:1-(u+h-i)/a,y:(c-n)/s,width:h/a,height:d/s});break;default:o=(c,u,d,h)=>({x:(c-n)/s,y:(u-i)/a,width:d/s,height:h/a});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:h,y:f,width:p,height:g}of d.getClientRects())p===0||g===0||l.push(o(h,f,p,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const n=this.#i.getRawValue(t);n&&(this.#_===_r.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const i=this.#O?.get(e);i&&(i.setCanvas(t,n),this.#O.delete(e))}addMissingCanvas(e,t){(this.#O||=new Map).set(e,t)}}class vc{#e=null;#t=!1;#n=null;#r=null;#a=null;#s=null;#i=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,vc.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){vc._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#r=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",vc.#f.missing),t.setAttribute("data-l10n-id",vc.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;e.addEventListener("contextmenu",dl,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,i(s))},{signal:n}),await this.#p(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await vc._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(this.#l=n,this.#h=i),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#n;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",vc.#f[this.#m]),this.#r?.setAttribute("data-l10n-id",vc.#f[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const i=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Cb{#e=null;#t=null;#n=!1;#r=null;#a=null;#s=null;#i=null;#o=null;#c=!1;#l=null;constructor(e){this.#r=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#r.commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(this.#r._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=this.#r.commentButtonColor;i&&(n.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#r.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#r._uiManager.updatePopupColor(this.#r)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#r.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:n}=this.#e.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#r.parent.boundingClientRect;return[(e-i)/a,(t+n-s)/o]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#r._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#r._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=this.#r._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",dl,{signal:n}),t&&(e.addEventListener("focusin",s=>{this.#r._focusEventsAllowed=!1,ci(s)},{capture:!0,signal:n}),e.addEventListener("focusout",s=>{this.#r._focusEventsAllowed=!0,ci(s)},{capture:!0,signal:n})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),e===this.#t?this.edit():this.#r.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#n=!0,i(s))},{signal:n}),e.addEventListener("pointerenter",()=>{this.#r.toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{this.#r.toggleComment(!1,!1)},{signal:n}),e}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=this.#r.commentButtonPosition;const{width:u,height:d,x:h,y:f}=this.#r;n=h+n*u,i=f+i*d}const s=this.#r.parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;this.#r._uiManager.editComment(this.#r,a+n*l,o+i*c,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#n}),this.#n=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#a}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#s=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#s=null,this.#o=null,this.#r=null,this.#n=!1,this.#c=!1}}class r4{#e;#t=!1;#n=null;#r;#a;#s;#i;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){this.#e=e,this.#n=n,this.#r=t,this.#a=i,this.#s=s,this.#i=a,this.#h=new AbortController,this.#c=AbortSignal.any([o,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Hc.pixelRatio}#f(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,s=AbortSignal.any([this.#c,i.signal]),a=this.#e,o={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(ci(c),l(c))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,a={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#m.bind(this),a);const o=this.#p.bind(this);s.addEventListener("touchend",o,a),s.addEventListener("touchcancel",o,a),a.capture=!0,s.addEventListener("pointerdown",ci,a),s.addEventListener("pointermove",ci,a),s.addEventListener("pointercancel",ci,a),s.addEventListener("pointerup",ci,a),this.#a?.()}if(ci(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(e){if(!this.#l||e.touches.length!==2)return;ci(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=n,l=this.#l,{touch0X:c,touch0Y:u,touch1X:d,touch1Y:h}=l,f=d-c,p=h-u,g=a-i,m=o-s,v=Math.hypot(g,m)||1,y=Math.hypot(f,p)||1;if(!this.#t&&Math.abs(y-v)<=r4.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!this.#t){this.#t=!0;return}const b=[(i+a)/2,(s+o)/2];this.#s?.(b,y,v)}#p(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(ci(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class ar{#e=null;#t=null;#n=null;#r=null;#a=null;#s=!1;#i=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#m="";#p=!1;#u=null;#A=!1;#g=!1;#y=!1;#v=null;#E=0;#C=0;#x=null;#N=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#b=!1;#S=ar._zIndex++;static _borderLineWidth=-1;static _colorManager=new B8;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=ar.prototype._resizeWithKeyboard,t=Ih.TRANSLATE_SMALL,n=Ih.TRANSLATE_BIG;return xr(this,"_resizerKeyboardManager",new Wy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ar.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return xr(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new C_e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ar._l10n??=e,ar._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ar._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ar._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){bn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#b}set _isDraggable(e){this.#b=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#P(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}#T([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#T(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#T(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=n;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=ar,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=ga(s,0,n-o),a=ga(a,0,i-l);break;case 90:s=ga(s,0,n-l),a=ga(a,o,i);break;case 180:s=ga(s,o,n),a=ga(a,l,i);break;case 270:s=ga(s,l,n),a=ga(a,0,i-o);break}this.x=s/=n,this.y=a/=i;const[c,u]=this.getBaseTranslation();s+=c,a+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#B(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return ar.#B(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return ar.#B(e,t,360-this.parentRotation)}#k(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#R(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",this.#F.bind(this,n),{signal:t}),i.addEventListener("contextmenu",dl,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#c)}#F(e,t){t.preventDefault();const{isMac:n}=Us.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#O.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",ci,{passive:!1,signal:a}),window.addEventListener("contextmenu",dl,{signal:a}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#L()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#M(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#L(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#h;this.#h=null;const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===n&&l===i||this.addCommands({cmd:this.#M.bind(this,s,a,o,l),undo:this.#M.bind(this,e,t,n,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#O(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=ar.MIN_SIZE/n,u=ar.MIN_SIZE/i,d=this.#k(this.rotation),h=(S,C)=>[d[0]*S+d[2]*C,d[1]*S+d[3]*C],f=this.#k(360-this.rotation),p=(S,C)=>[f[0]*S+f[2]*C,f[1]*S+f[3]*C];let g,m,v=!1,y=!1;switch(e){case"topLeft":v=!0,g=(S,C)=>[0,0],m=(S,C)=>[S,C];break;case"topMiddle":g=(S,C)=>[S/2,0],m=(S,C)=>[S/2,C];break;case"topRight":v=!0,g=(S,C)=>[S,0],m=(S,C)=>[0,C];break;case"middleRight":y=!0,g=(S,C)=>[S,C/2],m=(S,C)=>[0,C/2];break;case"bottomRight":v=!0,g=(S,C)=>[S,C],m=(S,C)=>[0,0];break;case"bottomMiddle":g=(S,C)=>[S/2,C],m=(S,C)=>[S/2,0];break;case"bottomLeft":v=!0,g=(S,C)=>[0,C],m=(S,C)=>[S,0];break;case"middleLeft":y=!0,g=(S,C)=>[0,C/2],m=(S,C)=>[S,C/2];break}const b=g(o,l),w=m(o,l);let _=h(...w);const B=ar._round(s+_[0]),R=ar._round(a+_[1]);let j=1,k=1,L,H;if(t.fromKeyboard)({deltaX:L,deltaY:H}=t);else{const{screenX:S,screenY:C}=t,[E,x]=this.#l;[L,H]=this.screenToPageTranslation(S-E,C-x),this.#l[0]=S,this.#l[1]=C}if([L,H]=p(L/n,H/i),v){const S=Math.hypot(o,l);j=k=Math.max(Math.min(Math.hypot(w[0]-b[0]-L,w[1]-b[1]-H)/S,1/o,1/l),c/o,u/l)}else y?j=ga(Math.abs(w[0]-b[0]-L),c,1)/o:k=ga(Math.abs(w[1]-b[1]-H),u,1)/l;const I=ar._round(o*j),T=ar._round(l*k);_=h(...m(I,T));const P=B-_[0],N=R-_[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=I,this.height=T,this.x=P,this.y=N,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#g)return this._editToolbar;this._editToolbar=new zg(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#n?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(vc.initialize(ar._l10n),this.#n=new vc(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}focusCommentButton(){this.#r?.focusButton()}addCommentButton(){return this.canAddComment?this.#r||=new Cb(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#r.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#r.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=this.#r;return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#r||=new Cb(this),this.#r.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(this.#r||=new Cb(this),this.#r.setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#r?.hasBeenEdited()}get hasDeletedComment(){return this.#r?.isDeleted()}get hasComment(){return!!this.#r&&!this.#r.isEmpty()&&!this.#r.isDeleted()}async editComment(e){this.#r||=new Cb(this),this.#r.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#r.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#r.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#H();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),YY(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#N||=new r4({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#z.bind(this),onPinching:this.#_.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#z(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#_(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const a=this.#k(this.rotation),o=(B,R)=>[a[0]*B+a[2]*R,a[1]*B+a[3]*R],[l,c]=this.parentDimensions,u=this.x,d=this.y,h=this.width,f=this.height,p=ar.MIN_SIZE/l,g=ar.MIN_SIZE/c;s=Math.max(Math.min(s,1/h,1/f),p/h,g/f);const m=ar._round(h*s),v=ar._round(f*s);if(m===h&&v===f)return;this.#u||=[u,d,h,f];const y=o(h/2,f/2),b=ar._round(u+y[0]),w=ar._round(d+y[1]),_=o(m/2,v/2);this.x=b-_[0],this.y=w-_[1],this.width=m,this.height=v,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#L()}pointerdown(e){const{isMac:t}=Us.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#D(e);return}this.#I(e)}#I(e){const{isMac:t}=Us.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#D(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),this.#i=null,this.#p=!1,this._uiManager.endDragSession()||this.#I(c),n&&this._onStopDragging()};t&&(this.#E=e.clientX,this.#C=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",c=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:h}=c;if(h!==this.#i){ci(c);return}const[f,p]=this.screenToPageTranslation(u-this.#E,d-this.#C);this.#E=u,this.#C=d,this._uiManager.dragSelectedEditors(f,p)},a),window.addEventListener("touchmove",ci,a),window.addEventListener("pointerdown",c=>{c.pointerType===this.#o&&(this.#N||c.isPrimary)&&o(c),ci(c)},a));const l=c=>{if(!this.#i||this.#i===c.pointerId){o(c);return}ci(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=t/i,d=this.x*s,h=this.y*a,f=this.width*s,p=this.height*a;switch(n){case 0:return[d+c+o,a-h-u-p+l,d+c+f+o,a-h-u+l];case 90:return[d+u+o,a-h+c+l,d+u+p+o,a-h+c+f+l];case 180:return[d-c-f+o,a-h+u+l,d-c+o,a-h+u+p+l];case 270:return[d-u-p+o,a-h-c-f+l,d-u+o,a-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,t-a,o,l];case 90:return[n,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ar._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#r?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:n||u,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#g=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#g=!1,!0):!1}isInEditMode(){return this.#g}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&n>0}#H(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#H()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#P(),this.removeEditToolbar(),this.#x){for(const e of this.#x.values())clearTimeout(e);this.#x=null}this.parent=null,this.#N?.destroy(),this.#N=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#R(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,s,a]=this.getPDFRect();return[ar._round(n+(s-n)*e),ar._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#r.commentPopupPositionInLayer}set commentPopupPosition(e){this.#r.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#r.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#r.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#r?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const a=this.#K.bind(this),o=this.#G.bind(this),l=this._uiManager._signal;for(const c of this.#t){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",this.#W.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",ar._l10nResizer[u])}}const n=this.#t[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)this.#c.append(this.#c.firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)this.#c.firstElementChild.before(this.#c.lastElementChild);let a=0;for(const o of t){const c=this.#t[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ar._l10nResizer[c])}}this.#Q(0),this.#y=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#K(e){ar._resizerKeyboardManager.exec(this,e)}#G(e){this.#y&&e.relatedTarget?.parentNode!==this.#c&&this.#P()}#W(e){this.#m=this.#y?e:""}#Q(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#y&&this.#O(this.#m,{deltaX:e,deltaY:t,fromKeyboard:!0})}#P(){this.#y=!1,this.#Q(-1),this.#L()}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#A}set isEditing(e){this.#A=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#x||=new Map;const{action:n}=e;let i=this.#x.get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},ar._telemetryTimeout),this.#x.set(n,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class C_e extends ar{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const fD=3285377520,Do=4294901760,cc=65535;class JY{constructor(e){this.h1=e?e&4294967295:fD,this.h2=e?e&4294967295:fD}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let g=0,m=e.length;g<m;g++){const v=e.charCodeAt(g);v<=255?t[n++]=v:(t[n++]=v>>>8,t[n++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&cc,p=h&cc;for(let g=0;g<i;g++)g&1?(o=a[g],o=o*d&Do|o*f&cc,o=o<<15|o>>>17,o=o*h&Do|o*p&cc,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[g],l=l*d&Do|l*f&cc,l=l<<15|l>>>17,l=l*h&Do|l*p&cc,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*d&Do|o*f&cc,o=o<<15|o>>>17,o=o*h&Do|o*p&cc,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Do|e*36045&cc,t=t*4283543511&Do|((t<<16|e>>>16)*2950163797&Do)>>>16,e^=t>>>1,e=e*444984403&Do|e*60499&cc,t=t*3301882366&Do|((t<<16|e>>>16)*3120437893&Do)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const EB=Object.freeze({map:null,hash:"",transfer:void 0});class k8{#e=!1;#t=null;#n=null;#r=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#r.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#r.get(e)}remove(e){const t=this.#r.get(e);if(t!==void 0&&(t instanceof ar&&this.#n.delete(t.annotationElementId),this.#r.delete(e),this.#r.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#r.values())if(n instanceof ar)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#r.get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,this.#r.set(e,t);i&&this.#a(),t instanceof ar&&((this.#n||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#r.has(e)}get size(){return this.#r.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ZY(this)}get serializable(){if(this.#r.size===0)return EB;const e=new Map,t=new JY,n=[],i=Object.create(null);let s=!1;for(const[a,o]of this.#r){const l=o instanceof ar?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:EB}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const s of this.#r.values()){if(!(s instanceof ar)){s.popup&&(s.popup.deleted?i+=1:n+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(n+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const l=e[o]||=new Map;for(const[c,u]of Object.entries(a)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const h=d.get(u)??0;d.set(u,h+1)}}if((i>0||n>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:n}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const n=this.#n?.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#n?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#n)for(const t of this.#n.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#r.entries()}}class ZY extends k8{#e;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);this.#e={map:s,hash:n,transfer:i}}get print(){bn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return xr(this,"modifiedIds",{ids:new Set,hash:""})}}class S_e{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(Vr(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),this.#e.add(i),n?.(e)}catch{br(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}bn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw br(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return xr(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return xr(this,"isSyncFontLoadingSupported",ma||Us.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Vr(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return xr(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(w,_){return w.charCodeAt(_)<<24|w.charCodeAt(_+1)<<16|w.charCodeAt(_+2)<<8|w.charCodeAt(_+3)&255}function i(w,_,B,R){const j=w.substring(0,_),k=w.substring(_+B);return j+R+k}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(w,_){if(++c>30){br("Load test font never loaded."),_();return}if(l.font="30px "+w,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(u.bind(null,w,_))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const p=16,g=1482184792;let m=n(h,p);for(s=0,a=d.length-3;s<a;s+=4)m=m-g+n(d,s)|0;s<d.length&&(m=m-g+n(d+"XXX",s)|0),h=i(h,p,4,i_e(m));const v=`url(data:font/opentype;base64,${btoa(h)});`,y=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(y);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const w of[e.loadedName,d]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=w,b.append(_)}this._document.body.append(b),u(d,()=>{b.remove(),t.complete()})}}class E_e{#e;constructor(e,t=null,n,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${KY(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){br(`getPathGenerator - ignoring character: "${a}".`)}const s=XY(i);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){xr(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){xr(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class qp{#e;#t;#n;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,n={};let i=0;for(const c of qp.strings){const u=t.encode(e[c]);n[c]=u,i+=4+u.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of qp.strings){const u=n[c],d=u.length;o.setUint32(l,d),a.set(u,l+4),l+=4+d}return Vr(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}#r(e){Vr(e<qp.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get fontFamily(){return this.#r(0)}get fontWeight(){return this.#r(1)}get italicAngle(){return this.#r(2)}}class Xp{#e;#t;#n;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,n={};let i=0;for(const h of Xp.strings){const f=t.encode(e[h]);n[h]=f,i+=4+f.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;u.setUint8(d++,e.guessFallback?1:0),u.setUint32(d,0),d+=4,i=0;for(const h of Xp.strings){const f=n[h],p=f.length;i+=4+p,u.setUint32(d,p),c.set(f,d+4),d+=4+p}return u.setUint32(d-i-4,i),e.style&&(u.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,u.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length),Vr(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#n=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#r(e){Vr(e<Xp.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const n=this.#t.getUint32(t);return this.#n.decode(new Uint8Array(this.#e,t+4,n))}get css(){return this.#r(0)}get loadedName(){return this.#r(1)}get baseFontName(){return this.#r(2)}get src(){return this.#r(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),n=this.#n.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const i=this.#t.getUint32(e),s=this.#n.decode(new Uint8Array(this.#e,e+4,i));return{style:n,weight:s}}}class An{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#n=this.#t+1+2*4;static#r=this.#n+1+8*6;static#a=this.#r+1+2*3;#s;#i;#o;constructor({data:e,extra:t}){this.#s=e,this.#i=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#c(e){Vr(e<An.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=this.#o.getUint8(t)>>n&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Vr(e<An.numbers.length,"Invalid number index"),this.#o.getFloat64(An.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=An.#t;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=An.#n;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(this.#o.getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=An.#r;if(this.#o.getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(this.#o.getInt16(e,!0)),e+=2;return n}#h(e){Vr(e<An.strings.length,"Invalid string index");let t=An.#a+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const n=this.#o.getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(this.#s,t+4,n)),this.#i.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=An.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=An.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=An.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);e+=4+n;const i=this.#o.getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(this.#s,e+4,i)),new qp(s.buffer)}get systemFontInfo(){let e=An.#a;const t=this.#o.getUint32(e);e+=4+t;const n=this.#o.getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(this.#s,e+4,n)),new Xp(i.buffer)}static write(e){const t=e.systemFontInfo?Xp.write(e.systemFontInfo):null,n=e.cssFontInfo?qp.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const g of An.strings)s[g]=i.encode(e[g]),a+=4+s[g].length;const o=An.#a+4+a+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;const h=An.bools.length;let f=0,p=0;for(let g=0;g<h;g++){const m=e[An.bools[g]];f|=(m===void 0?0:m?2:1)<<p,p+=2,(p===8||g===h-1)&&(u.setUint8(d++,f),f=0,p=0)}Vr(d===An.#e,"FontInfo.write: Boolean properties offset mismatch");for(const g of An.numbers)u.setFloat64(d,e[g]),d+=8;if(Vr(d===An.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(d++,4);for(const g of e.bbox)u.setInt16(d,g,!0),d+=2}else u.setUint8(d++,0),d+=2*4;if(Vr(d===An.#n,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(d++,6);for(const g of e.fontMatrix)u.setFloat64(d,g,!0),d+=8}else u.setUint8(d++,0),d+=8*6;if(Vr(d===An.#r,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(d++,1);for(const g of e.defaultVMetrics)u.setInt16(d,g,!0),d+=2}else u.setUint8(d++,0),d+=3*2;Vr(d===An.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(An.#a,0),d+=4;for(const g of An.strings){const m=s[g],v=m.length;u.setUint32(d,v),c.set(m,d+4),d+=4+v}if(u.setUint32(An.#a,d-An.#a-4),!t)u.setUint32(d,0),d+=4;else{const g=t.byteLength;u.setUint32(d,g),Vr(d+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),d+4),d+=4+g}if(!n)u.setUint32(d,0),d+=4;else{const g=n.byteLength;u.setUint32(d,g),Vr(d+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+g}return e.data===void 0?(u.setUint32(d,0),d+=4):(u.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),Vr(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}}class cs{static#e=0;static#t=1;static#n=2;static#r=3;static#a=4;static#s=8;static#i=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,n=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,n=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],n=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),d=Math.floor(s.length/3),h=a.length,f=o.length;let p=0;for(const _ of o)p+=1,p=Math.ceil(p/4)*4,p+=4+_.coords.length*4,p+=4+_.colors.length*4,_.verticesPerRow!==void 0&&(p+=4);const g=20+u*8+d*3+h*8+(n?16:0)+(c?3:0)+p,m=new ArrayBuffer(g),v=new DataView(m),y=new Uint8Array(m);v.setUint8(cs.#e,t),v.setUint8(cs.#t,n?1:0),v.setUint8(cs.#n,c?1:0),v.setUint8(cs.#r,l),v.setUint32(cs.#a,u,!0),v.setUint32(cs.#s,d,!0),v.setUint32(cs.#i,h,!0),v.setUint32(cs.#o,f,!0);let b=20;new Float32Array(m,b,u*2).set(i),b+=u*8,y.set(s,b),b+=d*3;for(const[_,B]of a)v.setFloat32(b,_,!0),b+=4,v.setUint32(b,parseInt(B.slice(1),16),!0),b+=4;if(n)for(const _ of n)v.setFloat32(b,_,!0),b+=4;c&&(y.set(c,b),b+=3);for(let _=0;_<o.length;_++){const B=o[_];v.setUint8(b,B.type),b+=1,b=Math.ceil(b/4)*4,v.setUint32(b,B.coords.length,!0),b+=4,new Int32Array(m,b,B.coords.length).set(B.coords),b+=B.coords.length*4,v.setUint32(b,B.colors.length,!0),b+=4,new Int32Array(m,b,B.colors.length).set(B.colors),b+=B.colors.length*4,B.verticesPerRow!==void 0&&(v.setUint32(b,B.verticesPerRow,!0),b+=4)}return m}getIR(){const e=this.view,t=this.data[cs.#e],n=!!this.data[cs.#t],i=!!this.data[cs.#n],s=e.getUint32(cs.#a,!0),a=e.getUint32(cs.#s,!0),o=e.getUint32(cs.#i,!0),l=e.getUint32(cs.#o,!0);let c=20;const u=new Float32Array(this.buffer,c,s*2);c+=s*8;const d=new Uint8Array(this.buffer,c,a*3);c+=a*3;const h=[];for(let m=0;m<o;++m){const v=e.getFloat32(c,!0);c+=4;const y=e.getUint32(c,!0);c+=4,h.push([v,`#${y.toString(16).padStart(6,"0")}`])}let f=null;if(n){f=[];for(let m=0;m<4;++m)f.push(e.getFloat32(c,!0)),c+=4}let p=null;i&&(p=new Uint8Array(this.buffer,c,3),c+=3);const g=[];for(let m=0;m<l;++m){const v=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const y=e.getUint32(c,!0);c+=4;const b=new Int32Array(this.buffer,c,y);c+=y*4;const w=e.getUint32(c,!0);c+=4;const _=new Int32Array(this.buffer,c,w);c+=w*4;const B={type:v,coords:b,colors:_};v===bB.LATTICE&&(B.verticesPerRow=e.getUint32(c,!0),c+=4),g.push(B)}if(t===1)return["RadialAxial","axial",f,h,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",f,h,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(t===3){const m=this.data[cs.#r];let v=null;if(u.length>0){let y=u[0],b=u[0],w=u[1],_=u[1];for(let B=0;B<u.length;B+=2){const R=u[B],j=u[B+1];y=y>R?R:y,w=w>j?j:w,b=b<R?R:b,_=_<j?j:_}v=[y,w,b,_]}return["Mesh",m,u,d,g,v,f,p]}throw new Error(`Unsupported pattern kind: ${t}`)}}function __e(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(ma)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function N_e(r){if(ma&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return zy(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Sb(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const _B=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,B_e=r=>typeof r=="object"&&typeof r?.name=="string",k_e=c_e.bind(null,_B,B_e);class T_e{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if(n?.signal instanceof AbortSignal){const{signal:s}=n;if(s.aborted){br("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Eb={DATA:1,ERROR:2},ji={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function AD(){}function Ra(r){if(r instanceof Fh||r instanceof xB||r instanceof aD||r instanceof G2||r instanceof uS)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||bn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Fh(r.message);case"InvalidPDFException":return new xB(r.message);case"PasswordException":return new aD(r.message,r.code);case"ResponseException":return new G2(r.message,r.status,r.missing);case"UnknownErrorException":return new uS(r.message,r.details)}return new uS(r.message,r.toString())}class Cg{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Eb.DATA)i.resolve(e.data);else if(e.callback===Eb.ERROR)i.reject(Ra(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:Eb.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:Eb.ERROR,callbackId:e.callbackId,reason:Ra(a)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:ji.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Vr(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:ji.CANCEL,streamId:s,reason:Ra(c)}),u.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:ji.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:ji.CLOSE,streamId:t}),delete a.streamSinks[t])},error(c){Vr(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:ji.ERROR,streamId:t,reason:Ra(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:ji.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:ji.START_COMPLETE,streamId:t,reason:Ra(c)})})}#r(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case ji.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Ra(e.reason));break;case ji.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Ra(e.reason));break;case ji.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:ji.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||AD).then(function(){s.postMessage({sourceName:n,targetName:i,stream:ji.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:ji.PULL_COMPLETE,streamId:t,reason:Ra(c)})});break;case ji.ENQUEUE:if(Vr(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case ji.CLOSE:if(Vr(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#a(a,t);break;case ji.ERROR:Vr(a,"error should have stream controller"),a.controller.error(Ra(e.reason)),this.#a(a,t);break;case ji.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Ra(e.reason)),this.#a(a,t);break;case ji.CANCEL:if(!o)break;const l=Ra(e.reason);Promise.try(o.onCancel||AD,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:ji.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:n,targetName:i,stream:ji.CANCEL_COMPLETE,streamId:t,reason:Ra(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class eJ{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){bn("Abstract method `_createCanvas` called.")}}class j_e extends eJ{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class tJ{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){bn("Abstract method `_fetch` called.")}}class pD extends tJ{async _fetch(e){const t=await Vy(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):zy(t)}}class rJ{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}class F_e extends rJ{#e;#t;#n;#r;#a;#s;#i=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#a=t}get#o(){return this.#t||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#n){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#a.createElementNS(bu,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#a.createElementNS(bu,"defs"),e.append(n),n.append(this.#n),this.#a.body.append(e)}return this.#n}#h(e){if(e.length===1){const l=e[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;const u=c.join(",");return[u,u,u]}const[t,n,i]=e,s=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)s[l]=t[l]/255,a[l]=n[l]/255,o[l]=i[l]/255;return[s.join(","),a.join(","),o.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(t4(t)?br('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=zY(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,i,s]=this.#h(e),a=e.length===1?n:`${n}${i}${s}`;if(t=this.#o.get(a),t)return this.#o.set(e,t),t;const o=`g_${this.#r}_transfer_map_${this.#i++}`,l=this.#d(o);this.#o.set(e,l),this.#o.set(a,l);const c=this.#p(o);return this.#A(n,i,s,c),l}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let s=this.#c.get(i);if(s?.key===n||(s?(s.filter?.remove(),s.key=n,s.url="none",s.filter=null):(s={key:n,url:"none",filter:null},this.#c.set(i,s)),!e||!t))return s.url;const a=this.#y(e);e=Ut.makeHexColor(...a);const o=this.#y(t);if(t=Ut.makeHexColor(...o),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const l=new Array(256);for(let f=0;f<=255;f++){const p=f/255;l[f]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}const c=l.join(","),u=`g_${this.#r}_hcm_filter`,d=s.filter=this.#p(u);this.#A(c,c,c,d),this.#m(d);const h=(f,p)=>{const g=a[f]/255,m=o[f]/255,v=new Array(p+1);for(let y=0;y<=p;y++)v[y]=g+y/p*(m-g);return v.join(",")};return this.#A(h(0,5),h(1,5),h(2,5),d),s.url=this.#d(u),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#h([e]),i=`alpha_${n}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_alpha_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#p(s);return this.#g(n,o),a}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,i;if(e?([n]=this.#h([e]),i=`luminosity_${n}`):i="luminosity",t=this.#o.get(i),t)return this.#o.set(e,t),t;const s=`g_${this.#r}_luminosity_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#p(s);return this.#f(o),e&&this.#g(n,o),a}addHighlightHCMFilter(e,t,n,i,s){const a=`${t}-${n}-${i}-${s}`;let o=this.#c.get(e);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#c.set(e,o)),!t||!n))return o.url;const[l,c]=[t,n].map(this.#y.bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,f]=[i,s].map(this.#y.bind(this));d<u&&([u,d,h,f]=[d,u,f,h]),this.#l.style.color="";const p=(v,y,b)=>{const w=new Array(256),_=(d-u)/b,B=v/255,R=(y-v)/(255*b);let j=0;for(let k=0;k<=b;k++){const L=Math.round(u+k*_),H=B+k*R;for(let I=j;I<=L;I++)w[I]=H;j=L+1}for(let k=j;k<256;k++)w[k]=w[j-1];return w.join(",")},g=`g_${this.#r}_hcm_${e}_filter`,m=o.filter=this.#p(g);return this.#m(m),this.#A(p(h[0],f[0],5),p(h[1],f[1],5),p(h[2],f[2],5),m),o.url=this.#d(g),o.url}destroy(e=!1){e&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#i=0)}#f(e){const t=this.#a.createElementNS(bu,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(bu,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#a.createElementNS(bu,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,n){const i=this.#a.createElementNS(bu,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#A(e,t,n,i){const s=this.#a.createElementNS(bu,"feComponentTransfer");i.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",n)}#g(e,t){const n=this.#a.createElementNS(bu,"feComponentTransfer");t.append(n),this.#u(n,"feFuncA",e)}#y(e){return this.#l.style.color=e,Ky(getComputedStyle(this.#l).getPropertyValue("color"))}}class nJ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){bn("Abstract method `_fetch` called.")}}class mD extends nJ{async _fetch(e){const t=await Vy(e,"arraybuffer");return new Uint8Array(t)}}class iJ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){bn("Abstract method `_fetch` called.")}}class gD extends iJ{async _fetch(e){const t=await Vy(e,"arraybuffer");return new Uint8Array(t)}}ma&&br("Please use the `legacy` build in Node.js environments.");async function T8(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class I_e extends rJ{}class M_e extends eJ{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class O_e extends tJ{async _fetch(e){return T8(e)}}class P_e extends nJ{async _fetch(e){return T8(e)}}class R_e extends iJ{async _fetch(e){return T8(e)}}const VA="__forcedDependency",{floor:vD,ceil:yD}=Math;function _b(r,e,t,n,i,s){r[e*4+0]=Math.min(r[e*4+0],t),r[e*4+1]=Math.min(r[e*4+1],n),r[e*4+2]=Math.max(r[e*4+2],i),r[e*4+3]=Math.max(r[e*4+3],s)}const NB=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class L_e{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===NB}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Nb=(r,e)=>{if(!r)return;let t=r.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},r.set(e,t)),t};class D_e{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[VA]:[]};#n=new Map;#r=[];#a=[];#s=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#m;#p;#u;#A;constructor(e,t,n=!1){this.#f=e.width,this.#m=e.height,this.#g(t),n&&(this.#A=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#g(e,this.#u)}#g(e,t){const n=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),t&&t.length>0?(this.#u.set(t),this.#u.fill(NB,t.length)):this.#u.fill(NB)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[VA]:{__proto__:this.#t[VA]}},this.#i={__proto__:this.#i},this.#r.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const n=this.#r.pop();return n!==void 0&&(Nb(this.#A,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}recordOpenMarker(e){return this.#r.push(e),this}getOpenMarker(){return this.#r.length===0?null:this.#r.at(-1)}recordCloseMarker(e){const t=this.#r.pop();return t!==void 0&&(Nb(this.#A,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(Nb(this.#A,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#s.push(Ut.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#n.set(e,t),this}recordSimpleDataFromNamed(e,t,n){this.#e[e]=this.#n.get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(VA,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(VA,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,n,i,s,a){const o=Ut.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ut.axialAlignedBoundingBox([n,s,i,a],o,l);const c=Ut.intersect(this.#i,l);return c?(this.#i[0]=c[0],this.#i[1]=c[1],this.#i[2]=c[2],this.#i[3]=c[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,t,n,i,s,a){const o=this.#i;if(o[0]===1/0)return this;const l=Ut.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(o[0]===-1/0)return Ut.axialAlignedBoundingBox([n,s,i,a],l,this.#o),this;const c=[1/0,1/0,-1/0,-1/0];return Ut.axialAlignedBoundingBox([n,s,i,a],l,c),this.#o[0]=Math.min(this.#o[0],Math.max(c[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(c[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(c[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,t,n,i=1,s=0,a=0,o){const l=n.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&this.#d.get(n),c!==!1&&(u=[0,0,0,0],Ut.axialAlignedBoundingBox(l,n.fontMatrix,u),(i!==1||s!==0||a!==0)&&Ut.scaleMinMax([i,0,0,-i,s,a],u),c)))return this.recordBBox(e,t,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&u&&c===void 0&&(c=u[0]<=s-d.actualBoundingBoxLeft&&u[2]>=s+d.actualBoundingBoxRight&&u[1]<=a-d.actualBoundingBoxAscent&&u[3]>=a+d.actualBoundingBoxDescent,this.#d.set(n,c),c)?this.recordBBox(e,t,u[0],u[2],u[1],u[3]):this.recordBBox(e,t,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#f,this.#i[2]),this.#o[3]=Math.min(this.#m,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const n=this.#l,i=this.#e,s=this.#t;for(const a of t)a in this.#e?n.add(i[a]):a in s&&s[a].forEach(n.add,n);return this}recordNamedDependency(e,t){return this.#n.has(t)&&this.#l.add(this.#n.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[VA]),this.#A){const n=Nb(this.#A,e),{dependencies:i}=n;this.#l.forEach(i.add,i),this.#r.forEach(i.add,i),this.#a.forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(this.#c===e){const n=vD(this.#o[0]*256/this.#f),i=vD(this.#o[1]*256/this.#m),s=yD(this.#o[2]*256/this.#f),a=yD(this.#o[3]*256/this.#m);_b(this.#p,e,n,i,s,a);for(const o of this.#l)o!==e&&_b(this.#p,o,n,i,s,a);for(const o of this.#r)o!==e&&_b(this.#p,o,n,i,s,a);for(const o of this.#a)o!==e&&_b(this.#p,o,n,i,s,a);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const n=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new L_e(this.#u,this.#p)}takeDebugMetadata(){return this.#A}}class K2{#e;#t;#n;#r=0;#a=0;constructor(e,t,n){if(e instanceof K2&&e.#n===!!n)return e;this.#e=e,this.#t=t,this.#n=!!n}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#r++,this}getOpenMarker(){return this.#r>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#r--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#n||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,n,i,s,a){return this.#n||this.#e.recordClipBox(this.#t,t,n,i,s,a),this}recordBBox(e,t,n,i,s,a){return this.#n||this.#e.recordBBox(this.#t,t,n,i,s,a),this}recordCharacterBBox(e,t,n,i,s,a,o){return this.#n||this.#e.recordCharacterBBox(this.#t,t,n,i,s,a,o),this}recordFullPageBBox(e){return this.#n||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#n||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Uo={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Os={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function BB(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class j8{isModifyingCurrentTransform(){return!1}getPattern(){bn("Abstract method `getPattern` called.")}}class U_e extends j8{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===Os.STROKE||i===Os.FILL){const a=t.current.getClippedPathBoundingBox(i,qn(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),n=Ut.transform(n,[1,0,0,1,a[0],a[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),BB(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(n);s.setTransform(d)}else BB(e,this._bbox),s=this._createGradient(e);return s}}function fS(r,e,t,n,i,s,a,o){const l=e.coords,c=e.colors,u=r.data,d=r.width*4;let h;l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=s,s=a,a=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=a,a=o,o=h),l[t+1]>l[n+1]&&(h=t,t=n,n=h,h=s,s=a,a=h);const f=(l[t]+e.offsetX)*e.scaleX,p=(l[t+1]+e.offsetY)*e.scaleY,g=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,y=(l[i+1]+e.offsetY)*e.scaleY;if(p>=y)return;const b=c[s],w=c[s+1],_=c[s+2],B=c[a],R=c[a+1],j=c[a+2],k=c[o],L=c[o+1],H=c[o+2],I=Math.round(p),T=Math.round(y);let P,N,S,C,E,x,F,U;for(let M=I;M<=T;M++){if(M<m){const q=M<p?0:(p-M)/(p-m);P=f-(f-g)*q,N=b-(b-B)*q,S=w-(w-R)*q,C=_-(_-j)*q}else{let q;M>y?q=1:m===y?q=0:q=(m-M)/(m-y),P=g-(g-v)*q,N=B-(B-k)*q,S=R-(R-L)*q,C=j-(j-H)*q}let z;M<p?z=0:M>y?z=1:z=(p-M)/(p-y),E=f-(f-v)*z,x=b-(b-k)*z,F=w-(w-L)*z,U=_-(_-H)*z;const G=Math.round(Math.min(P,E)),Y=Math.round(Math.max(P,E));let Q=d*M+G*4;for(let q=G;q<=Y;q++)z=(P-q)/(P-E),z<0?z=0:z>1&&(z=1),u[Q++]=N-(N-x)*z|0,u[Q++]=S-(S-F)*z|0,u[Q++]=C-(C-U)*z|0,u[Q++]=255}}function H_e(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case bB.LATTICE:const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let d=0;d<c;d++,u++)fS(r,t,n[u],n[u+1],n[u+o],i[u],i[u+1],i[u+o]),fS(r,t,n[u+o+1],n[u+1],n[u+o],i[u+o+1],i[u+1],i[u+o])}break;case bB.TRIANGLES:for(s=0,a=n.length;s<a;s+=3)fS(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Q_e extends j8{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,p=u/h,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/f,scaleY:1/p},m=d+2*2,v=h+2*2,y=n.getCanvas("mesh",m,v),b=y.context,w=b.createImageData(d,h);if(t){const B=w.data;for(let R=0,j=B.length;R<j;R+=4)B[R]=t[0],B[R+1]=t[1],B[R+2]=t[2],B[R+3]=255}for(const B of this._figures)H_e(w,B,g);return b.putImageData(w,2,2),{canvas:y.canvas,offsetX:o-2*f,offsetY:l-2*p,scaleX:f,scaleY:p}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){BB(e,this._bbox);const s=new Float32Array(2);if(i===Os.SHADING)Ut.singularValueDecompose2dScale(qn(e),s);else if(this.matrix){Ut.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ut.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Ut.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===Os.SHADING?null:this._background,t.cachedCanvases);return i!==Os.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class $_e extends j8{getPattern(){return"hotpink"}}function z_e(r){switch(r[0]){case"RadialAxial":return new U_e(r);case"Mesh":return new Q_e(r);case"Dummy":return new $_e}throw new Error(`Unknown IR type: ${r[0]}`)}const bD={COLORED:1,UNCOLORED:2};class F8{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){const{bbox:n,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),e4("TilingType: "+a);const d=n[0],h=n[1],f=n[2],p=n[3],g=f-d,m=p-h,v=new Float32Array(2);Ut.singularValueDecompose2dScale(this.matrix,v);const[y,b]=v;Ut.singularValueDecompose2dScale(this.baseTransform,v);const w=y*v[0],_=b*v[1];let B=g,R=m,j=!1,k=!1;const L=Math.ceil(c*w),H=Math.ceil(u*_),I=Math.ceil(g*w),T=Math.ceil(m*_);L>=I?B=c:j=!0,H>=T?R=u:k=!0;const P=this.getSizeAndScale(B,this.ctx.canvas.width,w),N=this.getSizeAndScale(R,this.ctx.canvas.height,_),S=e.cachedCanvases.getCanvas("pattern",P.size,N.size),C=S.context,E=l.createCanvasGraphics(C,t);if(E.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(E,s,o),C.translate(-P.scale*d,-N.scale*h),E.transform(0,P.scale,0,0,N.scale,0,0),C.save(),E.dependencyTracker?.save(),this.clipBbox(E,d,h,f,p),E.baseTransform=qn(E.ctx),E.executeOperatorList(i),E.endDrawing(),E.dependencyTracker?.restore(),C.restore(),j||k){const x=S.canvas;j&&(B=c),k&&(R=u);const F=this.getSizeAndScale(B,this.ctx.canvas.width,w),U=this.getSizeAndScale(R,this.ctx.canvas.height,_),M=F.size,z=U.size,G=e.cachedCanvases.getCanvas("pattern-workaround",M,z),Y=G.context,Q=j?Math.floor(g/c):0,q=k?Math.floor(m/u):0;for(let D=0;D<=Q;D++)for(let O=0;O<=q;O++)Y.drawImage(x,M*D,z*O,M,z,0,0,M,z);return{canvas:G.canvas,scaleX:F.scale,scaleY:U.scale,offsetX:d,offsetY:h}}return{canvas:S.canvas,scaleX:P.scale,scaleY:N.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,n){const i=Math.max(F8.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),Ut.axialAlignedBoundingBox([t,n,i,s],qn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case bD.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case bD.UNCOLORED:i.fillStyle=i.strokeStyle=n,s.fillColor=s.strokeColor=n;break;default:throw new n_e(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,s){let a=n;i!==Os.SHADING&&(a=Ut.transform(a,t.baseTransform),this.matrix&&(a=Ut.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}function V_e({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Us.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=n>>3,d=n&7,h=r.length;t=new Uint32Array(t.buffer);let f=0;for(let p=0;p<i;p++){for(const m=e+u;e<m;e++){const v=e<h?r[e]:255;t[f++]=v&128?c:l,t[f++]=v&64?c:l,t[f++]=v&32?c:l,t[f++]=v&16?c:l,t[f++]=v&8?c:l,t[f++]=v&4?c:l,t[f++]=v&2?c:l,t[f++]=v&1?c:l}if(d===0)continue;const g=e<h?r[e++]:255;for(let m=0;m<d;m++)t[f++]=g&1<<7-m?c:l}return{srcPos:e,destPos:f}}const xD=16,wD=100,G_e=15,CD=10,La=16,AS=new DOMMatrix,po=new Float32Array(2),Tp=new Float32Array([1/0,1/0,-1/0,-1/0]);function K_e(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},r.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},r.transform=function(t,n,i,s,a,o){e.transform(t,n,i,s,a,o),this.__originalTransform(t,n,i,s,a,o)},r.setTransform=function(t,n,i,s,a,o){e.setTransform(t,n,i,s,a,o),this.__originalSetTransform(t,n,i,s,a,o)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,o){e.bezierCurveTo(t,n,i,s,a,o),this.__originalBezierCurveTo(t,n,i,s,a,o)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class W_e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Bb(r,e,t,n,i,s,a,o,l,c){const[u,d,h,f,p,g]=qn(r);if(d===0&&h===0){const y=a*u+p,b=Math.round(y),w=o*f+g,_=Math.round(w),B=(a+l)*u+p,R=Math.abs(Math.round(B)-b)||1,j=(o+c)*f+g,k=Math.abs(Math.round(j)-_)||1;return r.setTransform(Math.sign(u),0,0,Math.sign(f),b,_),r.drawImage(e,t,n,i,s,0,0,R,k),r.setTransform(u,d,h,f,p,g),[R,k]}if(u===0&&f===0){const y=o*h+p,b=Math.round(y),w=a*d+g,_=Math.round(w),B=(o+c)*h+p,R=Math.abs(Math.round(B)-b)||1,j=(a+l)*d+g,k=Math.abs(Math.round(j)-_)||1;return r.setTransform(0,Math.sign(d),Math.sign(h),0,b,_),r.drawImage(e,t,n,i,s,0,0,k,R),r.setTransform(u,d,h,f,p,g),[k,R]}r.drawImage(e,t,n,i,s,a,o,l,c);const m=Math.hypot(u,d),v=Math.hypot(h,f);return[m*l,v*c]}class SD{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=yB;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Bs.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Tp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Os.FILL,t=null){const n=this.minMax.slice();if(e===Os.STROKE){t||bn("Stroke bounding box must include transform."),Ut.singularValueDecompose2dScale(t,po);const i=po[0]*this.lineWidth/2,s=po[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const e=Ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Tp,0)}getClippedPathBoundingBox(e=Os.FILL,t=null){return Ut.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function ED(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%La,s=(t-i)/La,a=i===0?s:s+1,o=r.createImageData(n,La);let l=0,c;const u=e.data,d=o.data;let h,f,p,g;if(e.kind===tw.GRAYSCALE_1BPP){const m=u.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),y=v.length,b=n+7>>3,w=4294967295,_=Us.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(p=h<s?La:i,c=0,f=0;f<p;f++){const B=m-l;let R=0;const j=B>b?n:B*8-7,k=j&-8;let L=0,H=0;for(;R<k;R+=8)H=u[l++],v[c++]=H&128?w:_,v[c++]=H&64?w:_,v[c++]=H&32?w:_,v[c++]=H&16?w:_,v[c++]=H&8?w:_,v[c++]=H&4?w:_,v[c++]=H&2?w:_,v[c++]=H&1?w:_;for(;R<j;R++)L===0&&(H=u[l++],L=128),v[c++]=H&L?w:_,L>>=1}for(;c<y;)v[c++]=0;r.putImageData(o,0,h*La)}}else if(e.kind===tw.RGBA_32BPP){for(f=0,g=n*La*4,h=0;h<s;h++)d.set(u.subarray(l,l+g)),l+=g,r.putImageData(o,0,f),f+=La;h<a&&(g=n*i*4,d.set(u.subarray(l,l+g)),r.putImageData(o,0,f))}else if(e.kind===tw.RGB_24BPP)for(p=La,g=n*p,h=0;h<a;h++){for(h>=s&&(p=i,g=n*p),c=0,f=g;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;r.putImageData(o,0,h*La)}else throw new Error(`bad image kind: ${e.kind}`)}function _D(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%La,s=(t-i)/La,a=i===0?s:s+1,o=r.createImageData(n,La);let l=0;const c=e.data,u=o.data;for(let d=0;d<a;d++){const h=d<s?La:i;({srcPos:l}=V_e({src:c,srcPos:l,dest:u,width:n,height:h,nonBlackColor:0})),r.putImageData(o,0,d*La)}}function G0(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function kb(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function ND(r,e){if(e)return!0;Ut.singularValueDecompose2dScale(r,po);const t=Math.fround(Hc.pixelRatio*wm.PDF_TO_CSS_UNITS);return po[0]<=t&&po[1]<=t}const q_e=["butt","round","square"],X_e=["miter","round","bevel"],Y_e={},BD={};class Yp{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){this.ctx=e,this.current=new SD(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new W_e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,t,n=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...qn(this.compositeCtx))}this.ctx.save(),kb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=qn(this.ctx)}executeOperatorList(e,t,n,i,s){const a=e.argsArray,o=e.fnArray;let l=t||0;const c=a.length;if(c===l)return l;const u=c-l>CD&&typeof n=="function",d=u?Date.now()+G_e:0;let h=0;const f=this.commonObjs,p=this.objs;let g,m;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if(!s||s(l))if(g=o[l],m=a[l]??null,g!==$v.dependency)m===null?this[g](l):this[g](l,...m);else for(const v of m){this.dependencyTracker?.recordNamedData(v,l);const y=v.startsWith("g_")?f:p;if(!y.has(v))return y.get(v,n),l}if(l++,l===c)return l;if(u&&++h>CD){if(Date.now()>d)return n(),l;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,c="prescale1",u,d;for(;s>2&&o>1||a>2&&l>1;){let h=o,f=l;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,o,l,0,0,h,f),e=u.canvas,o=h,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){const n=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=qn(n);let c,u,d,h;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(L),c||(c=new Map,this._cachedBitmapsMap.set(L,c));const H=c.get(u);if(H&&!o){const I=Math.round(Math.min(l[0],l[2])+l[4]),T=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(e,Uo.transformAndFill),{canvas:H,offsetX:I,offsetY:T}}d=H}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,s),_D(h.context,t));let f=Ut.transform(l,[1/i,0,0,-1/s,0,0]);f=Ut.transform(f,[1,0,0,1,0,-s]);const p=Tp.slice();Ut.axialAlignedBoundingBox([0,0,i,s],f,p);const[g,m,v,y]=p,b=Math.round(v-g)||1,w=Math.round(y-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",b,w),B=_.context,R=g,j=m;B.translate(-R,-j),B.transform(...f),d||(d=this._scaleImage(h.canvas,lc(B)),d=d.img,c&&o&&c.set(u,d)),B.imageSmoothingEnabled=ND(qn(B),t.interpolate),Bb(B,d,0,0,d.width,d.height,0,0,i,s),B.globalCompositeOperation="source-in";const k=Ut.transform(lc(B),[1,0,0,1,-R,-j]);return B.fillStyle=o?a.getPattern(n,this,k,Os.FILL,e):a,B.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,_.canvas)),this.dependencyTracker?.recordDependencies(e,Uo.transformAndFill),{canvas:_.canvas,offsetX:Math.round(R),offsetY:Math.round(j)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=q_e[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=X_e[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,i]of t)switch(n){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),G0(this.suspendedCtx,a),K_e(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),G0(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,o,l,c,u,d){let h=e.canvas,f=l-u,p=c-d;if(a)if(f<0||p<0||f+n>h.width||p+i>h.height){const m=this.cachedCanvases.getCanvas("maskExtension",n,i),v=m.context;v.drawImage(h,-f,-p),v.globalCompositeOperation="destination-atop",v.fillStyle=a,v.fillRect(0,0,n,i),v.globalCompositeOperation="source-over",h=m.canvas,f=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(f,p,n,i),e.clip(m),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(f,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(l,c,n,i),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,f,p,n,i,l,c,n,i),t.restore()}save(e){this.inSMaskMode&&G0(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&G0(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,s,a,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[s]=n;if(!i){s||=n[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===$v.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=n[0]=XY(s)),Ut.axialAlignedBoundingBox(i,qn(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,lc(i),Os.STROKE,e),a){const o=new Path2D;o.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=o}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,Uo.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Os.STROKE,qn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const c=s.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=s.getPattern(i,this,lc(i),Os.FILL,e),c){const u=new Path2D;u.addPath(t,i.getTransform().invertSelf().multiplySelf(c)),t=u}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),this.dependencyTracker?.recordDependencies(e,Uo.fill),o&&(i.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,Uo.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Y_e}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=BD}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of t)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||yB,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&br("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=n;n<xD?u=xD:n>wD&&(u=wD),this.current.fontSizeScale=n/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#n(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i}paintChar(e,t,n,i,s,a){const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=u&Bs.FILL_STROKE_MASK,f=!!(u&Bs.ADD_TO_PATH_FLAG),p=l.patternFill&&!c.missingFile,g=l.patternStroke&&!c.missingFile;let m;if((c.disableFontFace||f||p||g)&&!c.missingFile&&(m=c.getPathGenerator(this.commonObjs,t)),m&&(c.disableFontFace||p||g)){o.save(),o.translate(n,i),o.scale(d,-d),this.dependencyTracker?.recordCharacterBBox(e,o,c);let v;if(h===Bs.FILL||h===Bs.FILL_STROKE)if(s){v=o.getTransform(),o.setTransform(...s);const y=this.#n(m,v,s);o.fill(y)}else o.fill(m);if(h===Bs.STROKE||h===Bs.FILL_STROKE)if(a){v||=o.getTransform(),o.setTransform(...a);const{a:y,b,c:w,d:_}=v,B=Ut.inverseTransform(a),R=Ut.transform([y,b,w,_,0,0],B);Ut.singularValueDecompose2dScale(R,po),o.lineWidth*=Math.max(po[0],po[1])/d,o.stroke(this.#n(m,v,a))}else o.lineWidth/=d,o.stroke(m);o.restore()}else(h===Bs.FILL||h===Bs.FILL_STROKE)&&(o.fillText(t,n,i),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(t))),(h===Bs.STROKE||h===Bs.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(t)).recordDependencies(e,Uo.stroke),o.strokeText(t,n,i));f&&((this.pendingTextPaths||=[]).push({transform:qn(o),x:n,y:i,fontSize:d,path:m}),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return xr(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Uo.showText).resetBBox(e),this.current.textRenderingMode&Bs.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=n.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,o=n.fontSizeScale,l=n.charSpacing,c=n.wordSpacing,u=n.fontDirection,d=n.textHScale*u,h=t.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,m=s*n.fontMatrix[0],v=n.textRenderingMode===Bs.FILL&&!i.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),u>0?a.scale(d,-1):a.scale(d,1);let y,b;if(n.patternFill){a.save();const j=n.fillColor.getPattern(a,this,lc(a),Os.FILL,e);y=qn(a),a.restore(),a.fillStyle=j}if(n.patternStroke){a.save();const j=n.strokeColor.getPattern(a,this,lc(a),Os.STROKE,e);b=qn(a),a.restore(),a.strokeStyle=j}let w=n.lineWidth;const _=n.textMatrixScale;if(_===0||w===0){const j=n.textRenderingMode&Bs.FILL_STROKE_MASK;(j===Bs.STROKE||j===Bs.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=_;if(o!==1&&(a.scale(o,o),w/=o),a.lineWidth=w,i.isInvalidPDFjsFont){const j=[];let k=0;for(const H of t)j.push(H.unicode),k+=H.width;const L=j.join("");if(a.fillText(L,0,0),this.dependencyTracker!==null){const H=a.measureText(L);this.dependencyTracker.recordBBox(e,this.ctx,-H.actualBoundingBoxLeft,H.actualBoundingBoxRight,-H.actualBoundingBoxAscent,H.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=k*m*d,a.restore(),this.compose();return}let B=0,R;for(R=0;R<h;++R){const j=t[R];if(typeof j=="number"){B+=p*j*s/1e3;continue}let k=!1;const L=(j.isSpace?c:0)+l,H=j.fontChar,I=j.accent;let T,P,N=j.width;if(f){const E=j.vmetric||g,x=-(j.vmetric?E[1]:N*.5)*m,F=E[2]*m;N=E?-E[0]:N,T=x/o,P=(B+F)/o}else T=B/o,P=0;let S;if(i.remeasure&&N>0){S=a.measureText(H);const E=S.width*1e3/s*o;if(N<E&&this.isFontSubpixelAAEnabled){const x=N/E;k=!0,a.save(),a.scale(x,1),T/=x}else N!==E&&(T+=(N-E)/2e3*s/o)}if(this.contentVisible&&(j.isInFont||i.missingFile)){if(v&&!I)a.fillText(H,T,P),this.dependencyTracker?.recordCharacterBBox(e,a,S?{bbox:null}:i,s/o,T,P,()=>S??a.measureText(H));else if(this.paintChar(e,H,T,P,y,b),I){const E=T+s*I.offset.x/o,x=P-s*I.offset.y/o;this.paintChar(e,I.fontChar,E,x,y,b)}}const C=f?N*m-L*u:N*m+L*u;B+=C,k&&a.restore()}f?n.y-=B:n.x+=B*d,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,d=i.textHScale*o,h=i.fontMatrix||yB,f=t.length,p=i.textRenderingMode===Bs.INVISIBLE;let g,m,v,y;if(p||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,o);const b=this.dependencyTracker;for(this.dependencyTracker=b?new K2(b,e):null,g=0;g<f;++g){if(m=t[g],typeof m=="number"){y=l*m*a/1e3,this.ctx.translate(y,0),i.x+=y*d;continue}const w=(m.isSpace?u:0)+c,_=s.charProcOperatorList[m.operatorListId];_?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(_),this.restore()):br(`Type3 character "${m.operatorListId}" is not available.`);const B=[m.width,0];Ut.applyTransform(B,h),v=B[0]*a+w,n.translate(v,0),i.x+=v*d}n.restore(),b&&(this.dependencyTracker=b)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,s,a,o){const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||qn(this.ctx),s={createCanvasGraphics:(a,o)=>new Yp(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new K2(this.dependencyTracker,o,!0):null)};n=new F8(t,this.ctx,s,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=z_e(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,lc(n),Os.SHADING,e);const s=lc(n);if(s){const{width:a,height:o}=n.canvas,l=Tp.slice();Ut.axialAlignedBoundingBox([0,0,a,o],s,l);const[c,u,d,h]=l;this.ctx.fillRect(c,u,d-c,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Uo.transform).recordDependencies(e,Uo.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){bn("Should not call beginInlineImage")}beginImageData(){bn("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=qn(this.ctx),n)){Ut.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,s,a,o]=n,l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||e4("TODO: Support non-isolated groups."),t.knockout&&br("Knockout groups not supported.");const i=qn(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Tp.slice();Ut.axialAlignedBoundingBox(t.bbox,qn(n),s);const a=[0,0,n.canvas.width,n.canvas.height];s=Ut.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-o,-l),f.transform(...i);let p=new Path2D;const[g,m,v,y]=t.bbox;if(p.rect(g,m,v-g,y-m),t.matrix){const b=new Path2D;b.addPath(p,new DOMMatrix(t.matrix)),p=b}f.clip(p),t.smask&&this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),G0(n,f),this.ctx=f,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=qn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const a=Tp.slice();Ut.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,a),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,n,i,s,a){if(this.#e(),kb(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,Ut.singularValueDecompose2dScale(qn(this.ctx),po);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(po[0],0,0,-po[1],0,l*po[1]),kb(this.ctx)}else{kb(this.ctx),this.endPath(e);const c=new Path2D;c.rect(n[0],n[1],o,l),this.ctx.clip(c)}}this.current=new SD(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,s=0,a,o){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const c=qn(l);l.transform(n,i,s,a,0,0);const u=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),this.dependencyTracker?.resetBBox(e);for(let d=0,h=o.length;d<h;d+=2){const f=Ut.transform(c,[n,i,s,a,o[d],o[d+1]]);l.drawImage(u.canvas,f[4],f[5]),this.dependencyTracker?.recordBBox(e,this.ctx,f[4],f[4]+u.canvas.width,f[5],f[5]+u.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Uo.transformAndFill);for(const a of t){const{data:o,width:l,height:c,transform:u}=a,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),h=d.context;h.save();const f=this.getObject(e,o,a);_D(h,f),h.globalCompositeOperation="source-in",h.fillStyle=s?i.getPattern(h,this,lc(n),Os.FILL,e):i,h.fillRect(0,0,l,c),h.restore(),n.save(),n.transform(...u),n.scale(1,-1),Bb(n,d.canvas,0,0,l,c,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,l,0,c),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){br("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){br("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[n,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/n,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const u=this.cachedCanvases.getCanvas("inlineImage",n,i).context;ED(u,t),o=this.applyTransferMapsToCanvas(u)}const l=this._scaleImage(o,lc(s));s.imageSmoothingEnabled=ND(qn(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,n,-i,0).recordDependencies(e,Uo.imageXObject).recordOperation(e),Bb(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const a=t.width,o=t.height,c=this.cachedCanvases.getCanvas("inlineImage",a,o).context;ED(c,t),s=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(e);for(const a of n)i.save(),i.transform(...a.transform),i.scale(1,-1),Bb(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Uo.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===BD?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=qn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,d=c*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(t*s-n*i),c=Math.hypot(t,n),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const d=e*l;a=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){n.lineWidth=(i||1)*s,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(s,a),AS.a=1/s,AS.d=1/a;const l=new Path2D;if(l.addPath(e,AS),o.length>0){const c=Math.max(s,a);n.setLineDash(o.map(u=>u/c)),n.lineDashOffset/=c}n.lineWidth=i||1,n.stroke(l),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const r in $v)Yp.prototype[r]!==void 0&&(Yp.prototype[$v[r]]=Yp.prototype[r]);class yh{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class J_e{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const ap=Symbol("INTERNAL");class Z_e{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){this.#e=!!(e&ho.DISPLAY),this.#t=!!(e&ho.PRINT),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==ap&&bn("Internal method `_setVisible` called."),this.#n=n,this.#r=t}}class eNe{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=ho.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const n of e.groups)this.#t.set(n.id,new Z_e(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(ap,!1);for(const n of e.on)this.#t.get(n)._setVisible(ap,!0);for(const n of e.off)this.#t.get(n)._setVisible(ap,!1);this.#n=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=this.#a(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return br(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return e4("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(br(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return br(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return br(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return br(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return br(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return br(`Unknown optional content policy ${e.policy}.`),!0}return br(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const i=this.#t.get(e);if(!i){br(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const s of i.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(ap,!1,!0);i._setVisible(ap,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=this.#t.get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new JY;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class tNe{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Vr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Vr(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Vr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new rNe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new nNe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class rNe{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=_8(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nNe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function iNe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let u=o(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=a(r),t){const u=c(t);return s(u)}if(t=n("filename","i").exec(r),t){t=t[1];let u=o(t);return u=c(u),s(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=zy(d);d=h.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const d=[];let h;const f=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,g,m,v]=h;if(g=parseInt(g,10),g in d){if(g===0)break;continue}d[g]=[m,v]}const p=[];for(let g=0;g<d.length&&g in d;++g){let[m,v]=d[g];v=o(v),m&&(v=unescape(v),g===0&&(v=l(v))),p.push(v)}return p.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),p=u.slice(d+1).replace(/^[^']*'/,"");return i(h,p)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,p){if(f==="q"||f==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,m){return String.fromCharCode(parseInt(m,16))}),i(h,p);try{p=atob(p)}catch{}return i(h,p)})}return""}function sJ(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function n4(r){return URL.parse(r)?.origin??null}function aJ({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function oJ(r){const e=r.get("Content-Disposition");if(e){let t=iNe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(_8(t))return t}return null}function qy(r,e){return new G2(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function lJ(r){return r===200||r===206}function cJ(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function uJ(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(br(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class sNe{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=sJ(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Vr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aNe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new oNe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class aNe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,cJ(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=n4(s.url),!lJ(s.status))throw qy(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=aJ({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=oJ(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fh("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:uJ(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class oNe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,cJ(s,this._withCredentials,this._abortController)).then(o=>{const l=n4(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!lJ(o.status))throw qy(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:uJ(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const pS=200,mS=206;function lNe(r){const e=r.response;return typeof e!="string"?e:zy(e).buffer}class cNe{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=sJ(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=mS):i.expectedStatus=pS,t.responseType="arraybuffer",Vr(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||pS;if(!(s===pS&&n.expectedStatus===mS)&&s!==n.expectedStatus){n.onError(i.status);return}const o=lNe(i);if(s===mS){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?n.onDone({begin:parseInt(c[1],10),chunk:o}):(br('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class uNe{constructor(e){this._source=e,this._manager=new cNe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Vr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dNe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new hNe(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class dNe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=n4(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=aJ({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=oJ(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=qy(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class hNe{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=n4(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=qy(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fNe=/^[a-z][a-z0-9\-+.]+:/i;function ANe(r){if(fNe.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class pNe{constructor(e){this.source=e,this.url=ANe(e.url),Vr(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Vr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new mNe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new gNe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class mNe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=qy(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fh("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class gNe{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const K0=Symbol("INITIAL_DATA");class dJ{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:K0}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const n=this.#e[e];if(!n||n.data===K0)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==K0}delete(e){const t=this.#e[e];return!t||t.data===K0?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==K0&&(yield[e,t])}}}const vNe=1e5,kD=30;class Aa{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#i=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#m=[];#p=null;#u=[];#A=new WeakMap;#g=null;static#y=new Map;static#v=new Map;static#E=new WeakMap;static#C=null;static#x=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=n.scale*Hc.pixelRatio,this.#h=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;this.#g=[1,0,0,-1,-a,o+s],this.#o=i,this.#i=s,Aa.#k(),cA(t,n),this.#e.promise.finally(()=>{Aa.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Us.platform;return xr(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#N(t.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),Aa.#x.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*Hc.pixelRatio,i=e.rotation;if(i!==this.#h&&(t?.(),this.#h=i,cA(this.#l,{rotation:i})),n!==this.#d){t?.(),this.#d=n;const s={div:null,properties:null,ctx:Aa.#T(this.#a)};for(const a of this.#u)s.properties=this.#A.get(a),s.div=a,this.#S(s)}}cancel(){const e=new Fh("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#N(e){if(this.#n)return;this.#s.ctx??=Aa.#T(this.#a);const t=this.#u,n=this.#m;for(const i of e){if(t.length>vNe){br("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(i.str),this.#b(i)}}#b(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const i=Ut.transform(this.#g,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#r&&a.fontSubstitution||a.fontFamily;o=Aa.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*Aa.#R(o,a,this.#a);let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const h="calc(var(--total-scale-factor) *",f=t.style;this.#t===this.#l?(f.left=`${(100*u/this.#o).toFixed(2)}%`,f.top=`${(100*d/this.#i).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(Aa.#C*l).toFixed(2)}px)`,f.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(p=!0)}if(p&&(n.canvasWidth=a.vertical?e.height:e.width),this.#A.set(t,n),this.#s.div=t,this.#s.properties=n,this.#S(this.#s),n.hasText&&this.#t.append(t),n.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#S(e){const{div:t,properties:n,ctx:i}=e,{style:s}=t;let a="";if(Aa.#C>1&&(a=`scale(${1/Aa.#C})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=n;Aa.#B(i,c*this.#d,o);const{width:u}=i.measureText(t.textContent);u>0&&(a=`scaleX(${l*this.#d/u}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#x.size>0)){this.#y.clear();for(const{canvas:e}of this.#v.values())e.remove();this.#v.clear()}}static#T(e=null){let t=this.#v.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(e,t),this.#E.set(t,{size:0,family:""})}return t}static#B(e,t,n){const i=this.#E.get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)}static#k(){if(this.#C!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#C=e.getBoundingClientRect().height,e.remove()}static#R(e,t,n){const i=this.#y.get(e);if(i)return i;const s=this.#T(n);s.canvas.width=s.canvas.height=kD,this.#B(s,kD,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(Us.platform.isFirefox&&br("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),this.#y.set(e,c),c}}const yNe=100;function Cm(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new I8,{docId:t}=e,n=r.url?__e(r.url):null,i=r.data?N_e(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,o=r.password??null,l=r.range instanceof hJ?r.range:null,c=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let u=r.worker instanceof js?r.worker:null;const d=r.verbosity,h=typeof r.docBaseUrl=="string"&&!t4(r.docBaseUrl)?r.docBaseUrl:null,f=Sb(r.cMapUrl),p=r.cMapPacked!==!1,g=r.CMapReaderFactory||(ma?O_e:pD),m=Sb(r.iccUrl),v=Sb(r.standardFontDataUrl),y=r.StandardFontDataFactory||(ma?P_e:mD),b=Sb(r.wasmUrl),w=r.WasmFactory||(ma?R_e:gD),_=r.stopAtErrors!==!0,B=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,R=r.isEvalSupported!==!1,j=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!ma,k=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!ma&&(Us.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,H=typeof r.disableFontFace=="boolean"?r.disableFontFace:ma,I=r.fontExtraProperties===!0,T=r.enableXfa===!0,P=r.ownerDocument||globalThis.document,N=r.disableRange===!0,S=r.disableStream===!0,C=r.disableAutoFetch===!0,E=r.pdfBug===!0,x=r.CanvasFactory||(ma?M_e:j_e),F=r.FilterFactory||(ma?I_e:F_e),U=r.enableHWA===!0,M=r.useWasm!==!1,z=l?l.length:r.length??NaN,G=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!ma&&!H,Y=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(g===pD&&y===mD&&w===gD&&f&&v&&b&&wg(f,document.baseURI)&&wg(v,document.baseURI)&&wg(b,document.baseURI)),Q=null;e_e(d);const q={canvasFactory:new x({ownerDocument:P,enableHWA:U}),filterFactory:new F({docId:t,ownerDocument:P}),cMapReaderFactory:Y?null:new g({baseUrl:f,isCompressed:p}),standardFontDataFactory:Y?null:new y({baseUrl:v}),wasmFactory:Y?null:new w({baseUrl:b})};u||(u=js.create({verbosity:d,port:yh.workerPort}),e._worker=u);const D={docId:t,apiVersion:"5.4.449",data:i,password:o,disableAutoFetch:C,rangeChunkSize:c,length:z,docBaseUrl:h,enableXfa:T,evaluatorOptions:{maxImageSize:B,disableFontFace:H,ignoreErrors:_,isEvalSupported:R,isOffscreenCanvasSupported:j,isImageDecoderSupported:k,canvasMaxAreaInBytes:L,fontExtraProperties:I,useSystemFonts:G,useWasm:M,useWorkerFetch:Y,cMapUrl:f,iccUrl:m,standardFontDataUrl:v,wasmUrl:b}},O={ownerDocument:P,pdfBug:E,styleElement:Q,loadingParams:{disableAutoFetch:C,enableXfa:T}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const V=u.messageHandler.sendWithPromise("GetDocRequest",D,i?[i.buffer]:null);let J;if(l)J=new tNe(l,{disableRange:N,disableStream:S});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const re=wg(n)?sNe:ma?pNe:uNe;J=new re({url:n,length:z,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:N,disableStream:S})}return V.then(re=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ne=new Cg(t,re,u.port),se=new wNe(ne,e,J,O,q,U);e._transport=se,ne.send("Ready",null)})}).catch(e._capability.reject),e}class I8{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${I8.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class hJ{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#a=[];constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#a)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#r)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){bn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class bNe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return xr(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class xNe{#e=!1;constructor(e,t,n,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new lD:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new dJ,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new Gy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return xr(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:s=Jd.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1,recordOperations:f=!1,operationsFilter:p=null}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(i,s,d,h),{renderingIntent:m,cacheKey:v}=g;this.#e=!1,l||=this._transport.getOptionalContentConfig(m);let y=this._intentStates.get(v);y||(y=Object.create(null),this._intentStates.set(v,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const b=!!(m&ho.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const w=!!(this._pdfBug&&globalThis.StepperManager?.enabled),_=!this.recordedBBoxes&&(f||w),B=k=>{if(y.renderTasks.delete(R),_){const L=R.gfx?.dependencyTracker.take();L&&(R.stepper&&R.stepper.setOperatorBBoxes(L,R.gfx.dependencyTracker.takeDebugMetadata()),f&&(this.recordedBBoxes=L))}b&&(this.#e=!0),this.#t(),k?(R.capability.reject(k),this._abortOperatorList({intentState:y,reason:k instanceof Error?k:new Error(k)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new jp({callback:B,params:{canvas:t,canvasContext:e,dependencyTracker:_?new D_e(t,y.operatorList.length,w):null,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:p});(y.renderTasks||=new Set).add(R);const j=R.task;return Promise.all([y.displayReadyCapability.promise,l]).then(([k,L])=>{if(this.destroyed){B();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:k,optionalContentConfig:L}),R.operatorListChanged()}).catch(B),j}getOperatorList({intent:e="display",annotationMode:t=Jd.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>zv.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new lD),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();this.#t()}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof E8){let i=yNe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Fh(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class js{#e=Promise.withResolvers();#t=null;#n=null;#r=null;static#a=0;static#s=!1;static#i=new WeakMap;static{ma&&(this.#s=!0,yh.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},this._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},this.fromPort=e=>{if(f_e("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(e)}}constructor({name:e=null,port:t=null,verbosity:n=t_e()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(js.#i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");js.#i.set(t,this),this.#c(t)}else this.#l()}get promise(){return this.#e.promise}#o(){this.#e.resolve(),this.#t.send("configure",{verbosity:this.verbosity})}get port(){return this.#n}get messageHandler(){return this.#t}#c(e){this.#n=e,this.#t=new Cg("main","worker",e),this.#t.on("ready",()=>{}),this.#o()}#l(){if(js.#s||js.#d){this.#h();return}let{workerSrc:e}=js;try{js._isSameOrigin(window.location,e)||(e=js._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Cg("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this.#e.reject(new Error("Worker was destroyed")):this.#h()},s=new AbortController;t.addEventListener("error",()=>{this.#r||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this.#t=n,this.#n=t,this.#r=t,this.#o()}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this.#h()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{e4("The worker has been disabled.")}this.#h()}#h(){js.#s||(br("Setting up fake worker."),js.#s=!0),js._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this.#e.reject(new Error("Worker was destroyed"));return}const t=new T_e;this.#n=t;const n=`fake${js.#a++}`,i=new Cg(n+"_worker",n,t);e.setup(i,t),this.#t=new Cg(n,n+"_worker",t),this.#o()}).catch(e=>{this.#e.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this.#r?.terminate(),this.#r=null,js.#i.delete(this.#n),this.#n=null,this.#t?.destroy(),this.#t=null}static create(e){const t=this.#i.get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new js(e)}static get workerSrc(){if(yh.workerSrc)return yh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#d(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return xr(this,"_setupFakeWorkerGlobal",(async()=>this.#d?this.#d:(await import(this.workerSrc)).WorkerMessageHandler)())}}class wNe{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#a=null;constructor(e,t,n,i,s,a){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new dJ,this.fontLoader=new S_e({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#s(e,t=null){const n=this.#e.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return xr(this,"annotationStorage",new k8)}getRenderingIntent(e,t=Jd.ENABLE,n=null,i=!1,s=!1){let a=ho.DISPLAY,o=EB;switch(e){case"any":a=ho.ANY;break;case"display":break;case"print":a=ho.PRINT;break;default:br(`getRenderingIntent - invalid intent: ${e}`)}const l=a&ho.PRINT&&n instanceof ZY?n:this.annotationStorage;switch(t){case Jd.DISABLE:a+=ho.ANNOTATIONS_DISABLE;break;case Jd.ENABLE:break;case Jd.ENABLE_FORMS:a+=ho.ANNOTATIONS_FORMS;break;case Jd.ENABLE_STORAGE:a+=ho.ANNOTATIONS_STORAGE,o=l.serializable;break;default:br(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=ho.IS_EDITING),s&&(a+=ho.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Aa.cleanup(),this._networkStream?.cancelAllRequests(new Fh("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Vr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Vr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{Vr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Vr(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new bNe(n,this))}),e.on("DocException",n=>{t._capability.reject(Ra(n))}),e.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw Ra(n);const i=s=>{s instanceof Error?this.#a.reject(s):this.#a.resolve({password:s})};t.onPassword(i,n.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in s){const d=s.error;br(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const a=new An(s),o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,l=new E_e(a,o,s.extra,s.charProcOperatorList);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l.fontExtraProperties&&l.data&&l.clearData(),this.commonObjs.resolve(n,l)});break;case"CopyLocalImage":const{imageRef:c}=s;Vr(c,"The imageRef must be defined.");for(const d of this.#t.values())for(const[,h]of d.objs)if(h?.ref===c)return h.dataLen?(this.commonObjs.resolve(n,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(n,s);break;case"Pattern":const u=new cs(s);this.commonObjs.resolve(n,u.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&br("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const a=new xNe(t,s,this,this._params.pdfBug);return this.#t.set(t,a),a});return this.#n.set(t,i),i}getPageIndex(e){return _B(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new eNe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new J_e(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:i[2]}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Aa.cleanup()}}cachedPageNumber(e){if(!_B(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}}class CNe{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class jp{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:f=!1,operationsFilter:p=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CNe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=f,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=p}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(jp.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");jp.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Yp(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),jp.#t.delete(this._canvas),e||=new E8(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),jp.#t.delete(this._canvas),this.callback())))}}const i4="5.4.449",SNe="f44e5f0e6";class Ko{#e=null;#t=null;#n;#r=null;#a=!1;#s=!1;#i=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return xr(this,"_keyboardManager",new Wy([[["Escape","mac+Escape"],Ko.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ko.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ko.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ko.prototype._moveToPrevious],[["Home","mac+Home"],Ko.prototype._moveToBeginning],[["End","mac+End"],Ko.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#i=e):this.#s=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ko.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#m.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#r=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",dl,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[n,i]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",Ko.#h[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===this.#n,s.addEventListener("click",this.#f.bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#m.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:zr.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#A){this.#p(e);return}if(e.target===this.#e){this.#r.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstElementChild||e.target===this.#e){this.#A&&this._hideDropdownFromKeyboard();return}this.#A||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#A){this.#p(e);return}this.#r.firstElementChild?.focus()}_moveToEnd(e){if(!this.#A){this.#p(e);return}this.#r.lastElementChild?.focus()}#m(e){Ko._keyboardManager.exec(this,e)}#p(e){if(this.#A){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const t=this.#r=this.#d();this.#e.append(t)}#u(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#A(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#A){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const t=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class Vv{#e=null;#t=null;#n=null;static#r=null;constructor(e){this.#t=e,this.#n=e._uiManager,Vv.#r||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:n}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Vv.#r[e]),i.addEventListener("input",()=>{this.#n.updateParams(t,i.value)},{signal:this.#n._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function TD(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function W0(r){return Math.max(0,Math.min(255,255*r))}class jD{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=W0(e),[e,e,e]}static G_HTML([e]){const t=TD(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(W0)}static RGB_HTML(e){return`#${e.map(TD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[W0(1-Math.min(1,e+i)),W0(1-Math.min(1,n+i)),W0(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class ENe{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){bn("Abstract method `_createSVG` called.")}}class W2 extends ENe{_createSVG(e){return document.createElementNS(bu,e)}}const _Ne=9,uA=new WeakSet,NNe=new Date().getTimezoneOffset()*60*1e3;class gS{static create(e){switch(e.data.annotationType){case Ii.LINK:return new M8(e);case Ii.TEXT:return new kNe(e);case Ii.WIDGET:switch(e.data.fieldType){case"Tx":return new TNe(e);case"Btn":return e.data.radioButton?new fJ(e):e.data.checkBox?new FNe(e):new INe(e);case"Ch":return new MNe(e);case"Sig":return new jNe(e)}return new CA(e);case Ii.POPUP:return new kB(e);case Ii.FREETEXT:return new AJ(e);case Ii.LINE:return new PNe(e);case Ii.SQUARE:return new RNe(e);case Ii.CIRCLE:return new LNe(e);case Ii.POLYLINE:return new pJ(e);case Ii.CARET:return new UNe(e);case Ii.INK:return new O8(e);case Ii.POLYGON:return new DNe(e);case Ii.HIGHLIGHT:return new mJ(e);case Ii.UNDERLINE:return new HNe(e);case Ii.SQUIGGLY:return new QNe(e);case Ii.STRIKEOUT:return new $Ne(e);case Ii.STAMP:return new gJ(e);case Ii.FILEATTACHMENT:return new zNe(e);default:return new ei(e)}}}class ei{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ei._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let s=-1/0,a=-1/0;if(t?.length>=8){for(let o=0;o<t.length;o+=8)t[o+1]>a?(a=t[o+1],s=t[o+2]):t[o+1]===a&&(s=Math.max(s,t[o+2]));return[s,a]}if(n?.length>=1){for(const o of n)for(let l=0,c=o.length;l<c;l+=2)o[l+1]>a?(a=o[l+1],s=o[l]):o[l+1]===a&&(s=Math.max(s,o[l]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/n,e[1]=100*(e[1]-a)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Qv}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Qv}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#n?.popup||this.popup)?.remove(),this.#n=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#r(t);let i=this.#n?.popup||this.popup;!i&&n?.text&&(this._createPopup(n),i=this.#n.popup),i&&(i.updateEdited(e),n?.deleted&&(i.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof CA)&&!(this instanceof M8)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof kB){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,m=t.borderStyle.verticalCornerRadius;if(g>0||m>0){const y=`calc(${g}px * var(--total-scale-factor)) / calc(${m}px * var(--total-scale-factor))`;a.borderRadius=y}else if(this instanceof fJ){const y=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=y}switch(t.borderStyle.style){case sp.SOLID:a.borderStyle="solid";break;case sp.DASHED:a.borderStyle="dashed";break;case sp.BEVELED:br("Unimplemented border style: beveled");break;case sp.INSET:br("Unimplemented border style: inset");break;case sp.UNDERLINE:a.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(this.#t=!0,a.borderColor=Ut.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const c=Ut.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=i.rawDims;a.left=`${100*(c[0]-h)/u}%`,a.top=`${100*(c[1]-f)/d}%`;const{rotation:p}=t;return t.hasOwnCanvas||p===0?(a.width=`${100*o/u}%`,a.height=`${100*l/d}%`):this.setRotation(p,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/n}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[n]=jD[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:jD[`${a}_rgb`](o)})};return xr(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||n[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,m,v,y]=e.subarray(2,6);if(i===g&&s===m&&t===v&&n===y)return}const{style:a}=this.container;let o;if(this.#t){const{borderColor:g,borderWidth:m}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${m}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),p=`clippath_${this.data.id}`;f.setAttribute("id",p),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let g=2,m=e.length;g<m;g+=8){const v=e[g],y=e[g+1],b=e[g+2],w=e[g+3],_=u.createElement("rect"),B=(b-t)/l,R=(s-y)/c,j=(v-b)/l,k=(y-w)/c;_.setAttribute("x",B),_.setAttribute("y",R),_.setAttribute("width",j),_.setAttribute("height",k),f.append(_),o?.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${R}" width="${j}" height="${k}"/>`)}this.#t&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate),this.#n=new kB({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#n}render(){bn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!uA.has(c)){br(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&uA.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class BNe extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class M8 extends ei{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(n,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#n(n,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=n,this.container.append(n)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#e()}#t(e,t,n="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=n.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){br('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:i,refs:s,include:a}=t,o=[];if(i.length!==0||s.length!==0){const u=new Set(s);for(const d of i){const h=this._fieldObjects[d]||[];for(const{id:f}of h)u.add(f)}for(const d of Object.values(this._fieldObjects))for(const h of d)u.has(h.id)===a&&o.push(h)}else for(const u of Object.values(this._fieldObjects))o.push(...u);const l=this.annotationStorage,c=[];for(const u of o){const{id:d}=u;switch(c.push(d),u.type){case"text":{const f=u.defaultValue||"";l.setValue(d,{value:f});break}case"checkbox":case"radiobutton":{const f=u.defaultValue===u.exportValues;l.setValue(d,{value:f});break}case"combobox":case"listbox":{const f=u.defaultValue||"";l.setValue(d,{value:f});break}default:continue}const h=document.querySelector(`[data-element-id="${d}"]`);if(h){if(!uA.has(h)){br(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;h.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class kNe extends ei{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class CA extends ei{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Us.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}})})}_setEventListeners(e,t,n,i){for(const[s,a]of n)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,a,i),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ut.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||_Ne,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(cS*i))||1,d=c/u;a=Math.min(i,l(d/cS))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/cS))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ut.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class TNe extends CA{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=o??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",o??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),uA.add(n),this.contentElement=n,n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:c,datetimeType:u,timeStep:d}=this.data,h=!!u&&this.enableScripting;c&&(n.title=c),this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(n,"value",p.target.value,"value"),l.formattedValue=null}),n.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";n.value=l.userValue=g,l.formattedValue=null});let f=p=>{const{formattedValue:g}=l;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{if(l.focused)return;const{target:m}=g;if(h&&(m.type=u,d&&(m.step=d)),l.userValue){const v=l.userValue;if(h)if(u==="time"){const y=new Date(v),b=[y.getHours(),y.getMinutes(),y.getSeconds()];m.value=b.map(w=>w.toString().padStart(2,"0")).join(":")}else m.value=new Date(v-NNe).toISOString().split(u==="date"?"T":".",1)[0];else m.value=v}l.lastCommittedValue=m.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(v){l.userValue=v.detail.value??"",h||e.setValue(t,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){const{formattedValue:y}=v.detail;l.formattedValue=y,y!=null&&v.target!==document.activeElement&&(v.target.value=y);const b={formattedValue:y};h&&(b.value=y),e.setValue(t,b)},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:y}=v.detail,{target:b}=v;if(y===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",y);let w=l.userValue;!w||w.length<=y||(w=w.slice(0,y),b.value=l.userValue=w,e.setValue(t,{value:w}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),n.addEventListener("keydown",g=>{l.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(l.commitKey=3),m===-1)return;const{value:v}=g.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=f;f=null,n.addEventListener("blur",g=>{if(!l.focused||!g.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:m}=g;let{value:v}=m;if(h){if(v&&u==="time"){const y=v.split(":").map(b=>parseInt(b,10));v=new Date(2e3,0,1,y[0],y[1],y[2]||0).valueOf(),m.step=""}else v.includes("T")||(v=`${v}T00:00`),v=new Date(v).valueOf();m.type="text"}l.userValue=v,l.lastCommittedValue!==v&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:l.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),p(g)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",g=>{l.lastCommittedValue=null;const{data:m,target:v}=g,{value:y,selectionStart:b,selectionEnd:w}=v;let _=b,B=w;switch(g.inputType){case"deleteWordBackward":{const R=y.substring(0,b).match(/\w*[^\w]*$/);R&&(_-=R[0].length);break}case"deleteWordForward":{const R=y.substring(b).match(/^[^\w]*\w*/);R&&(B+=R[0].length);break}case"deleteContentBackward":b===w&&(_-=1);break;case"deleteContentForward":b===w&&(B+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,change:m||"",willCommit:!1,selStart:_,selEnd:B}})}),this._setEventListeners(n,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class jNe extends CA{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class FNe extends CA{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return uA.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class fJ extends CA{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(uA.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))e.setValue(c.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===n;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class INe extends M8{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class MNe extends CA{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");uA.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,p=>p.selected).map(p=>p[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){a?.();const f=h.detail.value,p=new Set(Array.isArray(f)?f:[f]);for(const g of i.options)g.selected=p.has(g.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,p=h.detail.remove;f[p].selected=!1,i.remove(p),f.length>0&&Array.prototype.findIndex.call(f,m=>m.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(h){const{index:f,displayValue:p,exportValue:g}=h.detail.insert,m=i.children[f],v=document.createElement("option");v.textContent=p,v.value=g,m?m.before(v):i.append(v),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const p of f){const{displayValue:g,exportValue:m}=p,v=document.createElement("option");v.textContent=g,v.value=m,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(h)}),l=o(!1)},indices(h){const f=new Set(h.detail.indices);for(const p of h.target.options)p.selected=f.has(p.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{const d=o(!0),h=o(!1);e.setValue(t,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class kB extends ei{constructor(e){const{data:t,elements:n,parent:i}=e,s=!!i._commentManager;if(super(e,{isRenderable:!s&&ei._hasPopupData(t)}),this.elements=n,s&&ei._hasPopupData(t)){const a=this.popup=this.#e();for(const o of n)o.popup=a}else this.popup=null}#e(){return new ONe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${kp}${i}`).join(",")),this.container}}class ONe{#e=null;#t=this.#z.bind(this);#n=this.#D.bind(this);#r=this.#I.bind(this);#a=this.#w.bind(this);#s=null;#i=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#m=null;#p=null;#u=null;#A=null;#g=null;#y=null;#v=null;#E=null;#C=null;#x=null;#N=!1;#b=null;#S=null;constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d,commentManager:h=null}){this.#i=e,this.#C=i,this.#o=a,this.#E=o,this.#h=l,this.#s=t,this.#v=c,this.#d=u,this.#l=n,this.#e=h,this.#b=n[0],this.#c=wB.toDateObject(s),this.trigger=n.flatMap(f=>f.getElementsToTriggerPopup()),h||(this.#T(),this.#i.hidden=!0,d&&this.#w())}#T(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#r,{signal:e}),t.addEventListener("pointerleave",this.#n,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#B(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#g=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#A){this.#A.parentNode||this.#b.container.after(this.#A);return}if(this.#g||this.#B(),!this.#g)return;const{signal:e}=this.#p=new AbortController,t=this.#b.hasOwnCommentButton,n=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#A=this.#b.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#A=document.createElement("button");a.className="annotationCommentButton";const o=this.#b.container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#R(),this.#k(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",n,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}#k(){if(this.#b.extraPopupElement&&!this.#b.editor)return;this.#A||this.renderCommentButton();const[e,t]=this.#g,{style:n}=this.#A;n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`}#R(){this.#b.extraPopupElement||(this.#A||this.renderCommentButton(),this.#A.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#b.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#A?.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}=this.#b.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:s}}get elementBeforePopup(){return this.#A}get comment(){return this.#S||=this.#b.commentText,this.#S}set comment(e){e!==this.comment&&(this.#b.commentText=this.#S=e)}focus(){this.#b.container?.focus()}get parentBoundingClientRect(){return this.#b.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#A&&(this.#A.classList.toggle("selected",e),this.#A.ariaExpanded=t)}setSelectedCommentButton(e){this.#A.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#y)return this.#y;const{x:e,y:t,height:n}=this.#A.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#b.layer.getBoundingClientRect();return[(e-i)/a,(t+n-s)/o]}set commentPopupPosition(e){this.#y=e}hasDefaultPopupPosition(){return this.#y===null}get commentButtonPosition(){return this.#g}get commentButtonWidth(){return this.#A.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=this.#y||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;this.#e.showDialog(null,this,s+t*o,a+n*l,{...e,parentDimensions:i})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#s){const n=e.style.outlineColor=Ut.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#C?.str){const n=document.createElement("span");n.className="title",t.append(n),{dir:n.dir,str:n.textContent}=this.#C}if(e.append(t),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),t.append(n)}qY({html:this.#F||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#F(){const e=this.#E,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#E.html||null}get#M(){return this.#F?.attributes?.style?.fontSize||0}get#L(){return this.#F?.attributes?.style?.color||null}#O(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#L,fontSize:this.#M?`calc(${this.#M}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n}#z(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:e,popup:t,deleted:n}){if(this.#e){n?(this.remove(),this.#S=null):t&&(t.deleted?this.remove():(this.#R(),this.#S=t.text)),e&&(this.#g=null,this.#B(),this.#k());return}if(n||t?.deleted){this.remove();return}this.#T(),this.#x||={contentsObj:this.#o,richText:this.#E},e&&(this.#u=null),t&&t.text&&(this.#E=this.#O(t.text),this.#c=wB.toDateObject(t.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#E}=this.#x,this.#x=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#N=!1,this.#f=!1,this.#A?.remove(),this.#A=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#_(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=this.#h;let a=!!this.#d,o=a?this.#d:this.#v;for(const p of this.#l)if(!o||Ut.intersect(p.data.rect,o)!==null){o=p.data.rect,a=!0;break}const l=Ut.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=l[0]+u,h=l[1];this.#u=[100*(d-i)/t,100*(h-s)/n];const{style:f}=this.#i;f.left=`${this.#u[0]}%`,f.top=`${this.#u[1]}%`}#w(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#I(),this.#i.addEventListener("click",this.#a),this.#i.addEventListener("keydown",this.#t)):(this.#D(),this.#i.removeEventListener("click",this.#a),this.#i.removeEventListener("keydown",this.#t))}#I(){this.#m||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#_(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#D(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#N=this.isVisible,this.#N&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#T(),this.#N&&(this.#m||this.#I(),this.#N=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class AJ extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=_r.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class PNe extends ei{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class RNe extends ei{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",t-s),a.setAttribute("height",n-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class LNe extends ei{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-s/2),a.setAttribute("ry",n/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class pJ extends ei{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:s,height:a}=this;if(!t)return this.container;const o=this.svgFactory.create(s,a,!0);let l=[];for(let u=0,d=t.length;u<d;u+=2){const h=t[u]-e[0],f=e[3]-t[u+1];l.push(`${h},${f}`)}l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class DNe extends pJ{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class UNe extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class O8 extends ei{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?_r.HIGHLIGHT:_r.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:s}}=this,{transform:a,width:o,height:l}=this.#n(t,e),c=this.svgFactory.create(o,l,!0),u=this.#e=this.svgFactory.createElement("svg:g");c.append(u),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",a);for(let d=0,h=n.length;d<h;d++){const f=this.svgFactory.createElement(this.svgElementName);this.#t.push(f),f.setAttribute("points",n[d].join(",")),u.append(f)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),n)for(let a=0,o=this.#t.length;a<o;a++)this.#t[a].setAttribute("points",n[a].join(","));if(i){const{transform:a,width:o,height:l}=this.#n(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class mJ extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=_r.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class HNe extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class QNe extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class $Ne extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class gJ extends ei{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=_r.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class zNe extends ei{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:i}=Us.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class P8{#e=null;#t=null;#n=null;#r=new Map;#a=null;#s=null;#i=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){this.div=e,this.#e=t,this.#t=n,this.#a=o||null,this.#s=c||null,this.#n=u||new k8,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return this.#r.size>0}async render(e){const{annotations:t}=e,n=this.div;cA(n,this.viewport);const i=new Map,s=[],a={data:null,layer:n,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new W2,annotationStorage:this.#n,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===Ii.POPUP;if(l){const d=i.get(o.id);if(!d)continue;if(!this._commentManager){s.push(o);continue}a.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const c=gS.create(a);if(!c.isRenderable)continue;if(!l&&(this.#i.push(c),o.popupRef)){const d=i.get(o.popupRef);d?d.push(c):i.set(o.popupRef,[c])}const u=c.render();o.hidden&&(u.style.visibility="hidden"),c._isEditable&&(this.#r.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}await this.#c();for(const o of s){const l=a.elements=i.get(o.id);a.data=o;const c=gS.create(a);if(!c.isRenderable)continue;const u=c.render();c.contentElement.id=`${kp}${o.id}`,o.hidden&&(u.style.visibility="hidden"),l.at(-1).container.after(u)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:n,data:{id:i}}of this.#i){const s=n.id=`${kp}${i}`;e.push(this.#a?.getAriaAttributes(s).then(a=>{if(a)for(const[o,l]of a)n.setAttribute(o,l)}))}}this.#i.sort(({data:{rect:[n,i,s,a]}},{data:{rect:[o,l,c,u]}})=>{if(n===s&&i===a)return 1;if(o===c&&l===u)return-1;const d=a,h=i,f=(i+a)/2,p=u,g=l,m=(l+u)/2;if(f>=p&&m<=h)return-1;if(m>=d&&f<=g)return 1;const v=(n+s)/2,y=(o+c)/2;return v-y});const t=document.createDocumentFragment();for(const n of this.#i)t.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&t.append(n.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const n of this.#i)this.#e.addPointerInTextLayer(n.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new W2,parent:this};for(const n of e){n.borderStyle||=P8._defaultBorderStyle,t.data=n;const i=gS.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${kp}${n.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const t=this.div;this.viewport=e,cA(t,{rotation:e.rotation}),this.#l(),t.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n);const a=this.#r.get(t);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,n),a._hasNoCanvas=!1):a.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(e){return this.#r.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:i}=e,s=new BNe({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#n});return s.render(),s.contentElement.id=`${kp}${n}`,s.createOrUpdatePopup(),this.#i.push(s),s}removeAnnotation(e){const t=this.#i.findIndex(i=>i.data.id===e);if(t<0)return;const[n]=this.#i.splice(t,1);this.#e?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return xr(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:sp.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Tb=/\r\n?|\n/g;class us extends ar{#e="";#t=`${this.id}-editor`;#n=null;#r;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=us.prototype,t=s=>s.isEmpty(),n=Ih.TRANSLATE_SMALL,i=Ih.TRANSLATE_BIG;return xr(this,"_keyboardManager",new Wy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=_r.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||us._defaultColor||ar._defaultLineColor,this.#r=e.fontSize||us._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){ar.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case zr.FREETEXT_SIZE:us._defaultFontSize=t;break;case zr.FREETEXT_COLOR:us._defaultColor=t;break}}updateParams(e,t){switch(e){case zr.FREETEXT_SIZE:this.#a(t);break;case zr.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[zr.FREETEXT_SIZE,us._defaultFontSize],[zr.FREETEXT_COLOR,us._defaultColor||ar._defaultLineColor]]}get propertiesToUpdate(){return[[zr.FREETEXT_SIZE,this.#r],[zr.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Vv(this),[["colorPicker",this._colorPicker]]}get colorType(){return zr.FREETEXT_COLOR}#a(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#r)*this.parentScale),this.#r=i,this.#o()},n=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=i=>{this.color=i,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-us._internalPadding*e,-(us._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const e=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(us.#c(n)),t=n);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),n=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#i().trimEnd();if(e===t)return;const n=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){us._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[c,u]=this.pageDimensions,[d,h]=this.pageTranslation;let f,p;switch(this.rotation){case 0:f=e+(a[0]-d)/c,p=t+this.height-(a[1]-h)/u;break;case 90:f=e+(a[0]-d)/c,p=t-(a[1]-h)/u,[o,l]=[l,-o];break;case 180:f=e-this.width+(a[0]-d)/c,p=t-(a[1]-h)/u,[o,l]=[-o,-l];break;case 270:f=e+(a[0]-d-this.height*u)/c,p=t+(a[1]-h-this.width*c)/u,[o,l]=[-l,o];break}this.setAt(f*i,p*s,o,l)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Tb,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const i=us.#d(t.getData("text")||"").replaceAll(Tb,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:o,startOffset:l}=a,c=[],u=[];if(o.nodeType===Node.TEXT_NODE){const f=o.parentElement;if(u.push(o.nodeValue.slice(l).replaceAll(Tb,"")),f!==this.editorDiv){let p=c;for(const g of this.editorDiv.childNodes){if(g===f){p=u;continue}p.push(us.#c(g))}}c.push(o.nodeValue.slice(0,l).replaceAll(Tb,""))}else if(o===this.editorDiv){let f=c,p=0;for(const g of this.editorDiv.childNodes)p++===l&&(f=u),f.push(us.#c(g))}this.#e=`${c.join(`
`)}${i}${u.join(`
`)}`,this.#l();const d=new Range;let h=Math.sumPrecise(c.map(f=>f.length));for(const{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){const p=f.nodeValue.length;if(h<=p){d.setStart(f,h),d.setEnd(f,h);break}h-=p}s.removeAllRanges(),s.addRange(d)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=us._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let i=null;if(e instanceof AJ){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:c,id:u,popupRef:d,richText:h,contentsObj:f,creationDate:p,modificationDate:g},textContent:m,textPosition:v,parent:{page:{pageNumber:y}}}=e;if(!m||m.length===0)return null;i=e={annotationType:_r.FREETEXT,color:Array.from(o),fontSize:a,value:m.join(`
`),position:v,pageIndex:y-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:d,comment:f?.str||null,richText:h,creationDate:p,modificationDate:g}}const s=await super.deserialize(e,t,n);return s.#r=e.fontSize,s.color=Ut.makeHexColor(...e.color),s.#e=us.#d(e.value),s._initialData=i,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=ar._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:this.#r,value:this.#h()});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(e){const{value:t,fontSize:n,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((a,o)=>a!==i[o])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const i of this.#e.split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Pt{static PRECISION=1e-4;toSVGPath(){bn("Abstract method `toSVGPath` must be implemented.")}get box(){bn("Abstract getter `box` must be implemented.")}serialize(e,t){bn("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,t,n,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,t,n,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}class Of{#e;#t=[];#n;#r;#a=[];#s=new Float32Array(18);#i;#o;#c;#l;#h;#d;#f=[];static#m=8;static#p=2;static#u=Of.#m+Of.#p;constructor({x:e,y:t},n,i,s,a,o=0){this.#e=n,this.#d=s*i,this.#r=a,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=o,this.#l=Of.#m*i,this.#c=Of.#u*i,this.#h=i,this.#f.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#A(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[n,i,s,a]=this.#e;return[(this.#i+(e[0]-t[0])/2-n)/s,(this.#o+(e[1]-t[1])/2-i)/a,(this.#i+(t[0]-e[0])/2-n)/s,(this.#o+(t[1]-e[1])/2-i)/a]}add({x:e,y:t}){this.#i=e,this.#o=t;const[n,i,s,a]=this.#e;let[o,l,c,u]=this.#s.subarray(8,12);const d=e-c,h=t-u,f=Math.hypot(d,h);if(f<this.#c)return!1;const p=f-this.#l,g=p/f,m=g*d,v=g*h;let y=o,b=l;o=c,l=u,c+=m,u+=v,this.#f?.push(e,t);const w=-v/p,_=m/p,B=w*this.#d,R=_*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([c+B,u+R],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([c-B,u-R],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([o+B,l+R],2),this.#a.push(NaN,NaN,NaN,NaN,(o+B-n)/s,(l+R-i)/a),this.#s.set([o-B,l-R],14),this.#t.push(NaN,NaN,NaN,NaN,(o-B-n)/s,(l-R-i)/a)),this.#s.set([y,b,o,l,c,u],6),!this.isEmpty()):(this.#s.set([y,b,o,l,c,u],6),Math.abs(Math.atan2(b-l,y-o)-Math.atan2(v,m))<Math.PI/2?([o,l,c,u]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((o+c)/2-n)/s,((l+u)/2-i)/a),[o,l,y,b]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((y+o)/2-n)/s,((b+l)/2-i)/a),!0):([y,b,o,l,c,u]=this.#s.subarray(0,6),this.#a.push(((y+5*o)/6-n)/s,((b+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),[c,u,o,l,y,b]=this.#s.subarray(12,18),this.#t.push(((y+5*o)/6-n)/s,((b+5*l)/6-i)/a,((5*o+c)/6-n)/s,((5*l+u)/6-i)/a,((o+c)/2-n)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#g();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#v(n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#y(n),n.join(" ")}#g(){const[e,t,n,i]=this.#e,[s,a,o,l]=this.#A();return`M${(this.#s[2]-e)/n} ${(this.#s[3]-t)/i} L${(this.#s[4]-e)/n} ${(this.#s[5]-t)/i} L${s} ${a} L${o} ${l} L${(this.#s[16]-e)/n} ${(this.#s[17]-t)/i} L${(this.#s[14]-e)/n} ${(this.#s[15]-t)/i} Z`}#y(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#v(e){const[t,n,i,s]=this.#e,a=this.#s.subarray(4,6),o=this.#s.subarray(16,18),[l,c,u,d]=this.#A();e.push(`L${(a[0]-t)/i} ${(a[1]-n)/s} L${l} ${c} L${u} ${d} L${(o[0]-t)/i} ${(o[1]-n)/s}`)}newFreeDrawOutline(e,t,n,i,s,a){return new vJ(e,t,n,i,s,a)}getOutlines(){const e=this.#a,t=this.#t,n=this.#s,[i,s,a,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let d=0,h=l.length-2;d<h;d+=2)l[d]=(this.#f[d]-i)/a,l[d+1]=(this.#f[d+1]-s)/o;if(l[l.length-2]=(this.#i-i)/a,l[l.length-1]=(this.#o-s)/o,isNaN(n[6])&&!this.isEmpty())return this.#E(l);const c=new Float32Array(this.#a.length+24+this.#t.length);let u=e.length;for(let d=0;d<u;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}u=this.#x(c,u);for(let d=t.length-6;d>=6;d-=6)for(let h=0;h<6;h+=2){if(isNaN(t[d+h])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[d+h],c[u+1]=t[d+h+1],u+=2}return this.#C(c,u),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#n,this.#r)}#E(e){const t=this.#s,[n,i,s,a]=this.#e,[o,l,c,u]=this.#A(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(d,e,this.#e,this.#h,this.#n,this.#r)}#C(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#x(e,t){const n=this.#s.subarray(4,6),i=this.#s.subarray(16,18),[s,a,o,l]=this.#e,[c,u,d,h]=this.#A();return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24}}class vJ extends Pt{#e;#t=new Float32Array(4);#n;#r;#a;#s;#i;constructor(e,t,n,i,s,a){super(),this.#i=e,this.#a=t,this.#e=n,this.#s=i,this.#n=s,this.#r=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,c,u]=this.#t;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-o)/c,e[d+1]=(e[d+1]-l)/u;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-o)/c,t[d+1]=(t[d+1]-l)/u}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let t=6,n=this.#i.length;t<n;t+=6){if(isNaN(this.#i[t])){e.push(`L${this.#i[t+4]} ${this.#i[t+5]}`);continue}e.push(`C${this.#i[t]} ${this.#i[t+1]} ${this.#i[t+2]} ${this.#i[t+3]} ${this.#i[t+4]} ${this.#i[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,i],s){const a=n-e,o=i-t;let l,c;switch(s){case 0:l=Pt._rescale(this.#i,e,i,a,-o),c=Pt._rescale(this.#a,e,i,a,-o);break;case 90:l=Pt._rescaleAndSwap(this.#i,e,t,a,o),c=Pt._rescaleAndSwap(this.#a,e,t,a,o);break;case 180:l=Pt._rescale(this.#i,n,t,-a,o),c=Pt._rescale(this.#a,n,t,-a,o);break;case 270:l=Pt._rescaleAndSwap(this.#i,n,i,-a,-o),c=Pt._rescaleAndSwap(this.#a,n,i,-a,-o);break}return{outline:Array.from(l),points:[Array.from(c)]}}#o(e){const t=this.#i;let n=t[4],i=t[5];const s=[n,i,n,i];let a=n,o=i,l=n,c=i;const u=e?Math.max:Math.min,d=new Float32Array(4);for(let f=6,p=t.length;f<p;f+=6){const g=t[f+4],m=t[f+5];isNaN(t[f])?(Ut.pointBoundingBox(g,m,s),o>m?(a=g,o=m):o===m&&(a=u(a,g)),c<m?(l=g,c=m):c===m&&(l=u(l,g))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,Ut.bezierBoundingBox(n,i,...t.slice(f,f+6),d),Ut.rectBoundingBox(d[0],d[1],d[2],d[3],s),o>d[1]?(a=d[0],o=d[1]):o===d[1]&&(a=u(a,d[0])),c<d[3]?(l=d[2],c=d[3]):c===d[3]&&(l=u(l,d[2]))),n=g,i=m}const h=this.#t;h[0]=s[0]-this.#n,h[1]=s[1]-this.#n,h[2]=s[2]-s[0]+2*this.#n,h[3]=s[3]-s[1]+2*this.#n,this.firstPoint=[a,o],this.lastPoint=[l,c]}get box(){return this.#t}newOutliner(e,t,n,i,s,a=0){return new Of(e,t,n,i,s,a)}getNewOutline(e,t){const[n,i,s,a]=this.#t,[o,l,c,u]=this.#e,d=s*c,h=a*u,f=n*c+o,p=i*u+l,g=this.newOutliner({x:this.#a[0]*d+f,y:this.#a[1]*h+p},this.#e,this.#s,e,this.#r,t??this.#n);for(let m=2;m<this.#a.length;m+=2)g.add({x:this.#a[m]*d+f,y:this.#a[m+1]*h+p});return g.getOutlines()}}class TB{#e;#t;#n;#r=[];#a=[];constructor(e,t=0,n=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:g,y:m,width:v,height:y}of e){const b=Math.floor((g-t)/a)*a,w=Math.ceil((g+v+t)/a)*a,_=Math.floor((m-t)/a)*a,B=Math.ceil((m+y+t)/a)*a,R=[b,_,B,!0],j=[w,_,B,!1];this.#r.push(R,j),Ut.rectBoundingBox(b,_,w,B,s)}const o=s[2]-s[0]+2*n,l=s[3]-s[1]+2*n,c=s[0]-n,u=s[1]-n;let d=i?-1/0:1/0,h=1/0;const f=this.#r.at(i?-1:-2),p=[f[0],f[2]];for(const g of this.#r){const[m,v,y,b]=g;!b&&i?v<h?(h=v,d=m):v===h&&(d=Math.max(d,m)):b&&!i&&(v<h?(h=v,d=m):v===h&&(d=Math.min(d,m))),g[0]=(m-c)/o,g[1]=(v-u)/l,g[2]=(y-u)/l}this.#e=new Float32Array([c,u,o,l]),this.#t=[d,h],this.#n=p}getOutlines(){this.#r.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#r)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],n=new Set;for(const a of e){const[o,l,c]=a;t.push([o,l,a],[o,c,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],c=t[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,u,d]=a;n.delete(a);let h=o,f=l;for(s=[o,c],i.push(s);;){let p;if(n.has(u))p=u;else if(n.has(d))p=d;else break;n.delete(p),[o,l,c,u,d]=p,h!==o&&(s.push(h,f,o,f===l?l:c),h=o),f=f===l?c:l}s.push(h,f)}return new VNe(i,this.#e,this.#t,this.#n)}#i(e){const t=this.#a;let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1}#o([,e,t]){const n=this.#i(e);this.#a.splice(n,0,[e,t])}#c([,e,t]){const n=this.#i(e);for(let i=n;i<this.#a.length;i++){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===t){this.#a.splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===t){this.#a.splice(i,1);return}}}#l(e){const[t,n,i]=e,s=[[t,n,i]],a=this.#i(i);for(let o=0;o<a;o++){const[l,c]=this.#a[o];for(let u=0,d=s.length;u<d;u++){const[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s}}class VNe extends Pt{#e;#t;constructor(e,t,n,i){super(),this.#t=e,this.#e=t,this.firstPoint=n,this.lastPoint=i}toSVGPath(){const e=[];for(const t of this.#t){let[n,i]=t;e.push(`M${n} ${i}`);for(let s=2;s<t.length;s+=2){const a=t[s],o=t[s+1];a===n?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${a}`),n=a)}e.push("Z")}return e.join(" ")}serialize([e,t,n,i],s){const a=[],o=n-e,l=i-t;for(const c of this.#t){const u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=e+c[d]*o,u[d+1]=i-c[d+1]*l;a.push(u)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class jB extends Of{newFreeDrawOutline(e,t,n,i,s,a){return new GNe(e,t,n,i,s,a)}}class GNe extends vJ{newOutliner(e,t,n,i,s,a=0){return new jB(e,t,n,i,s,a)}}class xi extends ar{#e=null;#t=0;#n;#r=null;#a=null;#s=null;#i=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#m=null;#p=null;#u="";#A;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=_r.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=xi.prototype;return xr(this,"_keyboardManager",new Wy([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||xi._defaultColor,this.#A=e.thickness||xi._defaultThickness,this.opacity=e.opacity||xi._defaultOpacity,this.#n=e.boxes||null,this.#g=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#v(e),this.#b()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#y(),this.#b(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#A,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new TB(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new TB(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:i}=this.#s;this.#m=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#v({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const i=1.5;if(this.#s=e.getNewOutline(this.#A/2+i,.0025),t>=0)this.#h=t,this.#r=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:xi.#S(this.#l.box,(d-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:xi.#S(this.#s.box,d),path:{d:this.#s.toSVGPath()}})}const[s,a,o,l]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=l;break;case 90:{const[d,h]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*h/d,this.height=l*d/h;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[d,h]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*h/d,this.height=l*d/h;break}}const{firstPoint:c}=e;this.#f=[(c[0]-s)/o,(c[1]-a)/l];const{lastPoint:u}=this.#s;this.#m=[(u[0]-s)/o,(u[1]-a)/l]}static initialize(e,t){ar.initialize(e,t),xi._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case zr.HIGHLIGHT_COLOR:xi._defaultColor=t;break;case zr.HIGHLIGHT_THICKNESS:xi._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case zr.HIGHLIGHT_COLOR:this.#E(t);break;case zr.HIGHLIGHT_THICKNESS:this.#C(t);break}}static get defaultPropertiesToUpdate(){return[[zr.HIGHLIGHT_COLOR,xi._defaultColor],[zr.HIGHLIGHT_THICKNESS,xi._defaultThickness]]}get propertiesToUpdate(){return[[zr.HIGHLIGHT_COLOR,this.color||xi._defaultColor],[zr.HIGHLIGHT_THICKNESS,this.#A||xi._defaultThickness],[zr.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(e){const t=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:t.bind(this,e,xi._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#C(e){const t=this.#A,n=i=>{this.#A=i,this.#x(i)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Ko({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#k())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#N(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#b(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#N():e&&(this.#b(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#x(e){this.#d&&(this.#v({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#N(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#b(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#r))}static#S([e,t,n,i],s){switch(s){case 90:return[1-t-i,e,i,n];case 180:return[1-e-n,1-t-i,n,i];case 270:return[t,1-e-n,i,n]}return[e,t,n,i]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#d?(e=(e-this.rotation+360)%360,n=xi.#S(this.#l.box,e)):n=xi.#S([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:xi.#S(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r,this.setDims(),YY(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#T(e){xi._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#B(!0);break;case 1:case 3:this.#B(!1);break}}#B(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#i,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#B(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#k(){return this.#d?this.rotation:0}#R(){if(this.#d)return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,s=this.#n,a=new Float32Array(s.length*8);let o=0;for(const{x:l,y:c,width:u,height:d}of s){const h=l*e+n,f=(1-c)*t+i;a[o]=a[o+4]=h,a[o+1]=a[o+3]=f,a[o+2]=a[o+6]=h+u*e,a[o+5]=a[o+7]=f-d*t,o+=8}return a}#F(e){return this.#l.serialize(e,this.#k())}static startHighlighting(e,t,{target:n,x:i,y:s}){const{x:a,y:o,width:l,height:c}=n.getBoundingClientRect(),u=new AbortController,d=e.combinedSignal(u),h=f=>{u.abort(),this.#L(e,f)};window.addEventListener("blur",h,{signal:d}),window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("pointerdown",ci,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",dl,{signal:d}),n.addEventListener("pointermove",this.#M.bind(this,e),{signal:d}),this._freeHighlight=new jB({x:i,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#M(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#L(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let i=null;if(e instanceof mJ){const{data:{quadPoints:p,rect:g,rotation:m,id:v,color:y,opacity:b,popupRef:w,richText:_,contentsObj:B,creationDate:R,modificationDate:j},parent:{page:{pageNumber:k}}}=e;i=e={annotationType:_r.HIGHLIGHT,color:Array.from(y),opacity:b,quadPoints:p,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:m,annotationElementId:v,id:v,deleted:!1,popupRef:w,richText:_,comment:B?.str||null,creationDate:R,modificationDate:j}}else if(e instanceof O8){const{data:{inkLists:p,rect:g,rotation:m,id:v,color:y,borderStyle:{rawWidth:b},popupRef:w,richText:_,contentsObj:B,creationDate:R,modificationDate:j},parent:{page:{pageNumber:k}}}=e;i=e={annotationType:_r.HIGHLIGHT,color:Array.from(y),thickness:b,inkLists:p,boxes:null,pageIndex:k-1,rect:g.slice(0),rotation:m,annotationElementId:v,id:v,deleted:!1,popupRef:w,richText:_,comment:B?.str||null,creationDate:R,modificationDate:j}}const{color:s,quadPoints:a,inkLists:o,opacity:l}=e,c=await super.deserialize(e,t,n);c.color=Ut.makeHexColor(...s),c.opacity=l||1,o&&(c.#A=e.thickness),c._initialData=i,e.comment&&c.setCommentData(e);const[u,d]=c.pageDimensions,[h,f]=c.pageTranslation;if(a){const p=c.#n=[];for(let g=0;g<a.length;g+=8)p.push({x:(a[g]-h)/u,y:1-(a[g+1]-f)/d,width:(a[g+2]-a[g])/u,height:(a[g+1]-a[g+5])/d});c.#y(),c.#b(),c.rotate(c.rotation)}else if(o){c.#d=!0;const p=o[0],g={x:p[0]-h,y:d-(p[1]-f)},m=new jB(g,[0,0,u,d],1,c.#A/2,!0,.001);for(let b=0,w=p.length;b<w;b+=2)g.x=p[b]-h,g.y=d-(p[b+1]-f),m.add(g);const{id:v,clipPathId:y}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:m.toSVGPath()}},!0,!0);c.#v({highlightOutlines:m.getOutlines(),highlightId:v,clipPathId:y}),c.#b(),c.rotate(c.parentRotation)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=ar._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:this.#A,quadPoints:this.#R(),outlines:this.#F(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#O(n)?null:(n.id=this.annotationElementId,n)}#O(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((n,i)=>n!==t[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class yJ{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){bn("Not implemented")}}class tn extends ar{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#c())}#s({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,t){const{id:n}=t.drawLayer.draw(tn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,s]of Object.entries(t))n.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){bn("Not implemented")}static get typesMap(){bn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(tn.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,s=i[t],a=o=>{i.updateProperty(t,o);const l=this.#e.updateProperty(t,o);l&&this.#d(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,t,n,i]){const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[t,1-e,n*(a/s),i*(s/a)];case 180:return[1-e,1-t,n,i];case 270:return[1-t,e,n*(a/s),i*(s/a)];default:return[e,t,n,i]}}#h(){const{x:e,y:t,width:n,height:i,parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[1-t,e,n*(s/a),i*(a/s)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(s/a),i*(a/s)];default:return[e,t,n,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:t,width:n,height:i,rotation:s,parentRotation:a,parentDimensions:[o,l]}=this;switch((s*4+a)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(o/l),i*(l/o),n*(o/l)];case 5:return[1-t,e,n*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-t,i*(l/o),n*(o/l)];case 7:return[t-n*(o/l),1-e-i*(l/o),n*(o/l),i*(l/o)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(l/o),t,i*(l/o),n*(o/l)];case 13:return[1-t-n*(o/l),e-i*(l/o),n*(o/l),i*(l/o)];case 14:return[1-e,1-t-n*(o/l),i*(l/o),n*(o/l)];case 15:return[t,1-e,n*(o/l),i*(l/o)];default:return[e,t,n,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,tn._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,s){bn("Not implemented")}static startDrawing(e,t,n,i){const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=i;if(rn.isInitializedAndDifferentPointerType(c))return;const{viewport:{rotation:u}}=e,{width:d,height:h}=s.getBoundingClientRect(),f=tn.#r=new AbortController,p=e.combinedSignal(f);if(rn.setPointer(c,l),window.addEventListener("pointerup",g=>{rn.isSamePointerIdOrRemove(g.pointerId)&&this._endDraw(g)},{signal:p}),window.addEventListener("pointercancel",g=>{rn.isSamePointerIdOrRemove(g.pointerId)&&this._currentParent.endDrawingSession()},{signal:p}),window.addEventListener("pointerdown",g=>{rn.isSamePointerType(g.pointerType)&&(rn.initializeAndAddPointerId(g.pointerId),tn.#n.isCancellable()&&(tn.#n.removeLastElement(),tn.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",dl,{signal:p}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:p}),s.addEventListener("touchmove",g=>{rn.isSameTimeStamp(g.timeStamp)&&ci(g)},{signal:p}),e.toggleDrawing(),t._editorUndoBar?.hide(),tn.#n){e.drawLayer.updateProperties(this._currentDrawId,tn.#n.startNew(a,o,d,h,u));return}t.updateUIForDefaultProperties(this),tn.#n=this.createDrawerInstance(a,o,d,h,u),tn.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(tn.#a.toSVGProperties(),tn.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(rn.isSameTimeStamp(e.timeStamp),!tn.#n)return;const{offsetX:t,offsetY:n,pointerId:i}=e;if(rn.isSamePointerId(i)){if(rn.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,tn.#n.add(t,n)),rn.setTimeStamp(e.timeStamp),ci(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,tn.#n=null,tn.#a=null,rn.clearPointerType(),rn.clearTimeStamp()),tn.#r&&(tn.#r.abort(),tn.#r=null,rn.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,tn.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=tn.#n,i=this._currentDrawId,s=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,n.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(i,n.removeLastElement())},mustExec:!1,type:zr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(zr.DRAW_STEP),!tn.#n.isEmpty()){const{pageDimensions:[n,i],scale:s}=t,a=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:tn.#n.getOutlines(n*s,i*s,s,this._INNER_MARGIN),drawingOptions:tn.#a,mustBeCommitted:!e});return this._cleanup(!0),a}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,s,a){bn("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}=t.viewport,l=this.deserializeDraw(a,o,i,s,this._INNER_MARGIN,e),c=await super.deserialize(e,t,n);return c.createDrawingOptions(e),c.#s({drawOutlines:l}),c.#c(),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[t,n]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([t,n,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class KNe{#e=new Float64Array(6);#t;#n;#r;#a;#s;#i="";#o=0;#c=new Xy;#l;#h;constructor(e,t,n,i,s,a){this.#l=n,this.#h=i,this.#r=s,this.#a=a,[e,t]=this.#d(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#n=[{line:o,points:this.#s}],this.#e.set(o,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#d(e,t){return Pt._normalizePoint(e,t,this.#l,this.#h,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#d(e,t);const[n,i,s,a]=this.#e.subarray(2,6),o=e-s,l=t-a;return Math.hypot(this.#l*o,this.#h*l)<=2?null:(this.#s.push(e,t),isNaN(n)?(this.#e.set([s,a,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,i,s,a,e,t],0),this.#t.push(...Pt.createBezierPoints(n,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){this.#l=n,this.#h=i,this.#r=s,[e,t]=this.#d(e,t);const a=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const o=this.#n.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#n.push({line:a,points:this.#s}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#c.removeLastElement();this.#n.pop(),this.#i="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:i}=this.#n[e];this.#t=n,this.#s=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=Pt.svgRound(this.#t[4]),t=Pt.svgRound(this.#t[5]);if(this.#s.length===2)return this.#i=`${this.#i} M ${e} ${t} Z`,this.#i;if(this.#s.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const i=Pt.svgRound(this.#t[10]),s=Pt.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${s}`,this.#o=12,this.#i}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let i=this.#o,s=this.#t.length;i<s;i+=6){const[a,o,l,c,u,d]=this.#t.slice(i,i+6).map(Pt.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}return this.#i+=n.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,t,n,i){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#n,e,t,n,this.#r,this.#a,i),this.#e=null,this.#t=null,this.#n=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Xy extends Pt{#e;#t=0;#n;#r;#a;#s;#i;#o;#c;build(e,t,n,i,s,a,o){this.#a=t,this.#s=n,this.#i=i,this.#o=s,this.#c=a,this.#n=o??0,this.#r=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#r){if(e.push(`M${Pt.svgRound(t[4])} ${Pt.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Pt.svgRound(t[10])} ${Pt.svgRound(t[11])}`);continue}for(let n=6,i=t.length;n<i;n+=6){const[s,a,o,l,c,u]=t.subarray(n,n+6).map(Pt.svgRound);e.push(`C${s} ${a} ${o} ${l} ${c} ${u}`)}}return e.join("")}serialize([e,t,n,i],s){const a=[],o=[],[l,c,u,d]=this.#h();let h,f,p,g,m,v,y,b,w;switch(this.#o){case 0:w=Pt._rescale,h=e,f=t+i,p=n,g=-i,m=e+l*n,v=t+(1-c-d)*i,y=e+(l+u)*n,b=t+(1-c)*i;break;case 90:w=Pt._rescaleAndSwap,h=e,f=t,p=n,g=i,m=e+c*n,v=t+l*i,y=e+(c+d)*n,b=t+(l+u)*i;break;case 180:w=Pt._rescale,h=e+n,f=t,p=-n,g=i,m=e+(1-l-u)*n,v=t+c*i,y=e+(1-l)*n,b=t+(c+d)*i;break;case 270:w=Pt._rescaleAndSwap,h=e+n,f=t+i,p=-n,g=-i,m=e+(1-c-d)*n,v=t+(1-l-u)*i,y=e+(1-c)*n,b=t+(1-l)*i;break}for(const{line:_,points:B}of this.#r)a.push(w(_,h,f,p,g,s?new Array(_.length):null)),o.push(w(B,h,f,p,g,s?new Array(B.length):null));return{lines:a,points:o,rect:[m,v,y,b]}}static deserialize(e,t,n,i,s,{paths:{lines:a,points:o},rotation:l,thickness:c}){const u=[];let d,h,f,p,g;switch(l){case 0:g=Pt._rescale,d=-e/n,h=t/i+1,f=1/n,p=-1/i;break;case 90:g=Pt._rescaleAndSwap,d=-t/i,h=-e/n,f=1/i,p=1/n;break;case 180:g=Pt._rescale,d=e/n+1,h=-t/i,f=-1/n,p=1/i;break;case 270:g=Pt._rescaleAndSwap,d=t/i+1,h=e/n+1,f=-1/i,p=-1/n;break}if(!a){a=[];for(const v of o){const y=v.length;if(y===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1]]));continue}if(y===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1],NaN,NaN,NaN,NaN,v[2],v[3]]));continue}const b=new Float32Array(3*(y-2));a.push(b);let[w,_,B,R]=v.subarray(0,4);b.set([NaN,NaN,NaN,NaN,w,_],0);for(let j=4;j<y;j+=2){const k=v[j],L=v[j+1];b.set(Pt.createBezierPoints(w,_,B,R,k,L),(j-2)*3),[w,_,B,R]=[B,R,k,L]}}}for(let v=0,y=a.length;v<y;v++)u.push({line:g(a[v].map(b=>b??NaN),d,h,f,p),points:g(o[v].map(b=>b??NaN),d,h,f,p)});const m=new this.prototype.constructor;return m.build(u,n,i,1,l,c,s),m}#l(e=this.#c){const t=this.#n+e/2*this.#i;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#h(){const[e,t,n,i]=this.#e,[s,a]=this.#l(0);return[e+s,t+a,n-2*s,i-2*a]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#r){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6)Ut.pointBoundingBox(i[o],i[o+1],e);continue}let s=i[4],a=i[5];for(let o=6,l=i.length;o<l;o+=6){const[c,u,d,h,f,p]=i.subarray(o,o+6);Ut.bezierBoundingBox(s,a,c,u,d,h,f,p,e),s=f,a=p}}const[t,n]=this.#l();e[0]=ga(e[0]-t,0,1),e[1]=ga(e[1]-n,0,1),e[2]=ga(e[2]+t,0,1),e[3]=ga(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#l();this.#c=e;const[i,s]=this.#l(),[a,o]=[i-t,s-n],l=this.#e;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([e,t],n){const[i,s]=this.#l();this.#a=e,this.#s=t,this.#i=n;const[a,o]=this.#l(),l=a-i,c=o-s,u=this.#e;return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Pt.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pt.svgRound(e)} ${Pt.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,i=0,s=0,a=0,o=0,l=0;switch(this.#t){case 90:i=t/e,s=-e/t,o=e;break;case 180:n=-1,a=-1,o=e,l=t;break;case 270:i=-t/e,s=e/t,l=t;break;default:return""}return`matrix(${n} ${i} ${s} ${a} ${Pt.svgRound(o)} ${Pt.svgRound(l)})`}getPathResizingSVGProperties([e,t,n,i]){const[s,a]=this.#l(),[o,l,c,u]=this.#e;if(Math.abs(c-s)<=Pt.PRECISION||Math.abs(u-a)<=Pt.PRECISION){const g=e+n/2-(o+c/2),m=t+i/2-(l+u/2);return{path:{"transform-origin":`${Pt.svgRound(e)} ${Pt.svgRound(t)}`,transform:`${this.rotationTransform} translate(${g} ${m})`}}}const d=(n-2*s)/(c-2*s),h=(i-2*a)/(u-2*a),f=c/n,p=u/i;return{path:{"transform-origin":`${Pt.svgRound(o)} ${Pt.svgRound(l)}`,transform:`${this.rotationTransform} scale(${f} ${p}) translate(${Pt.svgRound(s)} ${Pt.svgRound(a)}) scale(${d} ${h}) translate(${Pt.svgRound(-s)} ${Pt.svgRound(-a)})`}}}getPathResizedSVGProperties([e,t,n,i]){const[s,a]=this.#l(),o=this.#e,[l,c,u,d]=o;if(o[0]=e,o[1]=t,o[2]=n,o[3]=i,Math.abs(u-s)<=Pt.PRECISION||Math.abs(d-a)<=Pt.PRECISION){const m=e+n/2-(l+u/2),v=t+i/2-(c+d/2);for(const{line:y,points:b}of this.#r)Pt._translate(y,m,v,y),Pt._translate(b,m,v,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pt.svgRound(e)} ${Pt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(n-2*s)/(u-2*s),f=(i-2*a)/(d-2*a),p=-h*(l+s)+e+s,g=-f*(c+a)+t+a;if(h!==1||f!==1||p!==0||g!==0)for(const{line:m,points:v}of this.#r)Pt._rescale(m,p,g,h,f,m),Pt._rescale(v,p,g,h,f,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pt.svgRound(e)} ${Pt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[i,s]=n,a=this.#e,o=e-a[0],l=t-a[1];if(this.#a===i&&this.#s===s)for(const{line:c,points:u}of this.#r)Pt._translate(c,o,l,c),Pt._translate(u,o,l,u);else{const c=this.#a/i,u=this.#s/s;this.#a=i,this.#s=s;for(const{line:d,points:h}of this.#r)Pt._rescale(d,o,l,c,u,d),Pt._rescale(h,o,l,c,u,h);a[2]*=c,a[3]*=u}return a[0]=e,a[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Pt.svgRound(e)} ${Pt.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Pt.svgRound(e[0])} ${Pt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class s4 extends yJ{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ar._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new s4(this._viewParameters);return e.updateAll(this),e}}class R8 extends tn{static _type="ink";static _editorType=_r.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){ar.initialize(e,t),this._defaultDrawingOptions=new s4(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return xr(this,"typesMap",new Map([[zr.INK_THICKNESS,"stroke-width"],[zr.INK_COLOR,"stroke"],[zr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,s){return new KNe(e,t,n,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,s,a){return Xy.deserialize(e,t,n,i,s,a)}static async deserialize(e,t,n){let i=null;if(e instanceof O8){const{data:{inkLists:a,rect:o,rotation:l,id:c,color:u,opacity:d,borderStyle:{rawWidth:h},popupRef:f,richText:p,contentsObj:g,creationDate:m,modificationDate:v},parent:{page:{pageNumber:y}}}=e;i=e={annotationType:_r.INK,color:Array.from(u),thickness:h,opacity:d,paths:{points:a},boxes:null,pageIndex:y-1,rect:o.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:f,richText:p,comment:g?.str||null,creationDate:m,modificationDate:v}}const s=await super.deserialize(e,t,n);return s._initialData=i,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Vv(this),[["colorPicker",this._colorPicker]]}get colorType(){return zr.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=R8.getDefaultDrawingOptions({stroke:Ut.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":a}}=this,o=Object.assign(super.serialize(e),{color:ar._colorManager.convert(i),opacity:s,thickness:a,paths:{lines:t,points:n}});return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!this.#e(o)?null:(o.id=this.annotationElementId,o)}#e(e){const{color:t,thickness:n,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,o)=>a!==t[o])||e.thickness!==n||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class FB extends Xy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const jb=8,q0=3;class op{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,t,n,i,s,a,o){const l=this.#t(n,i,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,d=this.#n[2*u],h=this.#n[2*u+1];if(e[(n+d)*t+(i+h)]!==0)return u}return-1}static#a(e,t,n,i,s,a,o){const l=this.#t(n,i,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,d=this.#n[2*u],h=this.#n[2*u+1];if(e[(n+d)*t+(i+h)]!==0)return u}return-1}static#s(e,t,n,i){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<n-1;u++)a[u*t]=a[u*t+t-1]=0;for(let u=0;u<t;u++)a[u]=a[t*n-1-u]=0;let o=1,l;const c=[];for(let u=1;u<n-1;u++){l=1;for(let d=1;d<t-1;d++){const h=u*t+d,f=a[h];if(f===0)continue;let p=u,g=d;if(f===1&&a[h-1]===0)o+=1,g-=1;else if(f>=1&&a[h+1]===0)o+=1,g+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const m=[d,u],v=g===d+1,y={isHole:v,points:m,id:o,parent:0};c.push(y);let b;for(const H of c)if(H.id===l){b=H;break}b?b.isHole?y.parent=v?b.parent:l:y.parent=v?l:b.parent:y.parent=v?l:0;const w=this.#r(a,t,u,d,p,g,0);if(w===-1){a[h]=-o,a[h]!==1&&(l=Math.abs(a[h]));continue}let _=this.#n[2*w],B=this.#n[2*w+1];const R=u+_,j=d+B;p=R,g=j;let k=u,L=d;for(;;){const H=this.#a(a,t,k,L,p,g,1);_=this.#n[2*H],B=this.#n[2*H+1];const I=k+_,T=L+B;m.push(T,I);const P=k*t+L;if(a[P+1]===0?a[P]=-o:a[P]===1&&(a[P]=o),I===u&&T===d&&k===R&&L===j){a[h]!==1&&(l=Math.abs(a[h]));break}else p=k,g=L,k=I,L=T}}}return c}static#i(e,t,n,i){if(n-t<=4){for(let R=t;R<n-2;R+=2)i.push(e[R],e[R+1]);return}const s=e[t],a=e[t+1],o=e[n-4]-s,l=e[n-3]-a,c=Math.hypot(o,l),u=o/c,d=l/c,h=u*a-d*s,f=l/o,p=1/c,g=Math.atan(f),m=Math.cos(g),v=Math.sin(g),y=p*(Math.abs(m)+Math.abs(v)),b=p*(1-y+y**2),w=Math.max(Math.atan(Math.abs(v+m)*b),Math.atan(Math.abs(v-m)*b));let _=0,B=t;for(let R=t+2;R<n-2;R+=2){const j=Math.abs(h-u*e[R+1]+d*e[R]);j>_&&(B=R,_=j)}_>(c*w)**2?(this.#i(e,t,B+2,i),this.#i(e,B,n,i)):i.push(s,a)}static#o(e){const t=[],n=e.length;return this.#i(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#c(e,t,n,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let g=0;g<a;g++){const m=(g-c)**2;for(let v=0;v<a;v++)o[g*a+v]=Math.exp((m+(v-c)**2)/l)}const u=new Float32Array(256),d=-2*s**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/d);const h=e.length,f=new Uint8Array(h),p=new Uint32Array(256);for(let g=0;g<n;g++)for(let m=0;m<t;m++){const v=g*t+m,y=e[v];let b=0,w=0;for(let B=0;B<a;B++){const R=g+B-c;if(!(R<0||R>=n))for(let j=0;j<a;j++){const k=m+j-c;if(k<0||k>=t)continue;const L=e[R*t+k],H=o[B*a+j]*u[Math.abs(L-y)];b+=L*H,w+=H}}const _=f[v]=Math.round(b/w);p[_]++}return[f,p]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#h(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=n.length;o<l;o++){const c=n[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-s)*a;return n}static#d(e){let t,n=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>n&&(t-a>i&&(i=t-a,o=t-1),n=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:i}=e,{maxDim:s}=this.#e;let a=n,o=i;if(n>s||i>s){let h=n,f=i,p=Math.log2(Math.max(n,i)/s);const g=Math.floor(p);p=p===g?g-1:g;for(let v=0;v<p;v++){a=Math.ceil(h/2),o=Math.ceil(f/2);const y=new OffscreenCanvas(a,o);y.getContext("2d").drawImage(e,0,0,h,f,0,0,a,o),h=a,f=o,e!==t&&e.close(),e=y.transferToImageBitmap()}const m=Math.min(s/a,s/o);a=Math.round(a*m),o=Math.round(o*m)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[this.#h(u),a,o]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,h=u.font=`${n} ${i} ${d}px ${t}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:p,actualBoundingBoxAscent:g,actualBoundingBoxDescent:m,fontBoundingBoxAscent:v,fontBoundingBoxDescent:y,width:b}=u.measureText(e),w=1.5,_=Math.ceil(Math.max(Math.abs(f)+Math.abs(p)||0,b)*w),B=Math.ceil(Math.max(Math.abs(g)+Math.abs(m)||d,Math.abs(v)+Math.abs(y)||d)*w);c=new OffscreenCanvas(_,B),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,_,B),u.fillStyle="black",u.fillText(e,_*(w-1)/2,B*(3-w)/2);const R=this.#h(u.getImageData(0,0,_,B).data),j=this.#l(R),k=this.#d(j),L=this.#s(R,_,B,k);return this.processDrawnLines({lines:{curves:L,width:_,height:B},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,s){const[a,o,l]=this.#f(e),[c,u]=this.#c(a,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),d=this.#d(u),h=this.#s(c,o,l,d);return this.processDrawnLines({lines:{curves:h,width:o,height:l},pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,h=[],f=Math.min(t/c,n/u),p=f/t,g=f/n,m=[];for(const{points:y}of l){const b=a?this.#o(y):y;if(!b)continue;m.push(b);const w=b.length,_=new Float32Array(w),B=new Float32Array(3*(w===2?2:w-2));if(h.push({line:B,points:_}),w===2){_[0]=b[0]*p,_[1]=b[1]*g,B.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[R,j,k,L]=b;R*=p,j*=g,k*=p,L*=g,_.set([R,j,k,L],0),B.set([NaN,NaN,NaN,NaN,R,j],0);for(let H=4;H<w;H+=2){const I=_[H]=b[H]*p,T=_[H+1]=b[H+1]*g;B.set(Pt.createBezierPoints(R,j,k,L,I,T),(H-2)*3),[R,j,k,L]=[k,L,I,T]}}if(h.length===0)return null;const v=o?new FB:new Xy;return v.build(h,t,n,1,i,o?0:d,s),{outline:v,newCurves:m,areContours:o,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const b of e){l+=b.length;for(let w=2,_=b.length;w<_;w++){const B=b[w]-b[w-2];a=Math.min(a,B),o=Math.max(o,B)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=jb+q0*u,h=new Uint32Array(d);let f=0;h[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=s,h[f++]=t?0:1,h[f++]=Math.max(0,Math.floor(n??0)),h[f++]=u,h[f++]=c.BYTES_PER_ELEMENT;for(const b of e)h[f++]=b.length-2,h[f++]=b[0],h[f++]=b[1];const p=new CompressionStream("deflate-raw"),g=p.writable.getWriter();await g.ready,g.write(h);const m=c.prototype.constructor;for(const b of e){const w=new m(b.length-2);for(let _=2,B=b.length;_<B;_++)w[_-2]=b[_]-b[_-2];g.write(w)}g.close();const v=await new Response(p.readable).arrayBuffer(),y=new Uint8Array(v);return KY(y)}static async decompressSignature(e){try{const t=u_e(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const b of n)a||=new Uint8Array(new Uint32Array(b.buffer,0,4)[0]),a.set(b,o),o+=b.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],h=l[4]===0,f=l[5],p=l[6],g=l[7],m=[],v=(jb+q0*p)*Uint32Array.BYTES_PER_ELEMENT;let y;switch(g){case Int8Array.BYTES_PER_ELEMENT:y=new Int8Array(a.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:y=new Int16Array(a.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:y=new Int32Array(a.buffer,v);break}o=0;for(let b=0;b<p;b++){const w=l[q0*b+jb],_=new Float32Array(w+2);m.push(_);for(let B=0;B<q0-1;B++)_[B]=l[q0*b+jb+B+1];for(let B=0;B<w;B++)_[B+2]=_[B]+y[o++]}return{areContours:h,thickness:f,outlines:m,width:u,height:d}}catch(t){return br(`decompressSignature: ${t}`),null}}}class L8 extends yJ{constructor(){super(),super.updateProperties({fill:ar._defaultLineColor,"stroke-width":0})}clone(){const e=new L8;return e.updateAll(this),e}}class D8 extends s4{constructor(e){super(e),super.updateProperties({stroke:ar._defaultLineColor,"stroke-width":1})}clone(){const e=new D8(this._viewParameters);return e.updateAll(this),e}}class gc extends tn{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=_r.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){ar.initialize(e,t),this._defaultDrawingOptions=new L8,this._defaultDrawnSignatureOptions=new D8(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return xr(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:i,mustSmooth:s,areContours:a,description:o,uuid:l,heightInPage:c}=this.#n,{rawDims:{pageWidth:u,pageHeight:d},rotation:h}=this.parent.viewport,f=op.processDrawnLines({lines:i,pageWidth:u,pageHeight:d,rotation:h,innerMargin:gc._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(f,c,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:s}=this.#n,a=Math.max(i,s),o=op.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:n,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,i){const{x:s,y:a}=this,{outline:o}=this.#n=e;this.#e=o instanceof FB,this.description=n;let l;this.#e?l=gc.getDefaultDrawingOptions():(l=gc._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[,c]=this.pageDimensions;let u=t/c;u=u>=1?.5:u,this.width*=u/this.height,this.width>=1&&(u*=.9/this.width,this.width=.9),this.height=u,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return op.process(e,t,n,i,gc._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:s}=this.parent.viewport;return op.extractContoursFromText(e,t,n,i,s,gc._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return op.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:gc._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=gc.getDefaultDrawingOptions():(this._drawingOptions=gc._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=this.#r,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,n,i,s,a){return a.areContours?FB.deserialize(e,t,n,i,s,a):Xy.deserialize(e,t,n,i,s,a)}static async deserialize(e,t,n){const i=await super.deserialize(e,t,n);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#r=e.uuid,i}}class WNe extends ar{#e=null;#t=null;#n=null;#r=null;#a=null;#s="";#i=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=_r.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){ar.initialize(e,t)}static isHandlingMimeForPasting(e){return CB.includes(e)}static paste(e,t){t.pasteEditor({mode:_r.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=await n.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#d(n,!0)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=CB.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#A()},e)}#p(){const{div:e}=this;let{width:t,height:n}=this.#e;const[i,s]=this.pageDimensions,a=.75;if(this.width)t=this.width*i,n=this.height*s;else if(t>a*i||n>a*s){const l=Math.min(a*i/t,a*s/n);t*=l,n*=l}this._uiManager.enableWaiting(!1);const o=this.#i=document.createElement("canvas");o.setAttribute("role","img"),this.addContainer(o),this.width=t/i,this.height=n/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#A(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:i,height:s}=this.#e,a=new Hc;let o=this.#e,l=i,c=s,u=null;if(t){if(i>t||s>t){const B=Math.min(t/i,t/s);l=Math.floor(i*B),c=Math.floor(s*B)}u=document.createElement("canvas");const h=u.width=Math.ceil(l*a.sx),f=u.height=Math.ceil(c*a.sy);this.#l||(o=this.#u(h,f));const p=u.getContext("2d");p.filter=this._uiManager.hcmFilter;let g="white",m="#cfcfd8";this._uiManager.hcmFilter!=="none"?m="black":m_e.isDarkMode&&(g="#8f8f9d",m="#42414d");const v=15,y=v*a.sx,b=v*a.sy,w=new OffscreenCanvas(y*2,b*2),_=w.getContext("2d");_.fillStyle=g,_.fillRect(0,0,y*2,b*2),_.fillStyle=m,_.fillRect(0,0,y,b),_.fillRect(y,b,y,b),p.fillStyle=p.createPattern(w,"repeat"),p.fillRect(0,0,h,f),p.drawImage(o,0,0,o.width,o.height,0,0,h,f)}let d=null;if(n){let h,f;if(a.symmetric&&o.width<e&&o.height<e)h=o.width,f=o.height;else if(o=this.#e,i>e||s>e){const m=Math.min(e/i,e/s);h=Math.floor(i*m),f=Math.floor(s*m),this.#l||(o=this.#u(h,f))}const g=new OffscreenCanvas(h,f).getContext("2d",{willReadFrequently:!0});g.drawImage(o,0,0,o.width,o.height,0,0,h,f),d={width:h,height:f,data:g.getImageData(0,0,h,f).data}}return{canvas:u,width:l,height:c,imageData:d}}#u(e,t){const{width:n,height:i}=this.#e;let s=n,a=i,o=this.#e;for(;s>2*e||a>2*t;){const l=s,c=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const u=new OffscreenCanvas(s,a);u.getContext("2d").drawImage(o,0,0,l,c,0,0,s,a),o=u.transferToImageBitmap()}return o}#A(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,s=new Hc,a=Math.ceil(n*e*s.sx),o=Math.ceil(i*t*s.sy),l=this.#i;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const c=this.#l?this.#e:this.#u(a,o),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#g(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,i=Math.round(this.width*t*wm.PDF_TO_CSS_UNITS),s=Math.round(this.height*n*wm.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let i=null,s=!1;if(e instanceof gJ){const{data:{rect:g,rotation:m,id:v,structParent:y,popupRef:b,richText:w,contentsObj:_,creationDate:B,modificationDate:R},container:j,parent:{page:{pageNumber:k}},canvas:L}=e;let H,I;L?(delete e.canvas,{id:H,bitmap:I}=n.imageManager.getFromCanvas(j.id,L),L.remove()):(s=!0,e._hasNoCanvas=!0);const T=(await t._structTree.getAriaAttributes(`${kp}${v}`))?.get("aria-label")||"";i=e={annotationType:_r.STAMP,bitmapId:H,bitmap:I,pageIndex:k-1,rect:g.slice(0),rotation:m,annotationElementId:v,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:T},isSvg:!1,structParent:y,popupRef:b,richText:w,comment:_?.str||null,creationDate:B,modificationDate:R}}const a=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:d,accessibilityData:h}=e;s?(n.addMissingCanvas(e.id,a),a.#o=!0):u&&n.imageManager.isValidId(u)?(a.#t=u,l&&(a.#e=l)):a.#r=c,a.#l=d;const[f,p]=a.pageDimensions;return a.width=(o[2]-o[0])/f,a.height=(o[3]-o[1])/p,h&&(a.altTextData=h),a._initialData=i,e.comment&&a.setCommentData(e),a.#h=!!i,a}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(n),e)return n.bitmapUrl=this.#g(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const o=this.#y(n);return o.isSame?null:(o.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(t===null)return n;t.stamps||=new Map;const a=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:a,serialized:n}),n.bitmap=this.#g(!1);else if(this.#l){const o=t.stamps.get(this.#t);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#g(!1))}return n}#y(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,i=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class wu{#e;#t=!1;#n=null;#r=null;#a=null;#s=new Map;#i=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#m=null;#p=-1;#u;static _initialized=!1;static#A=new Map([us,R8,WNe,xi,gc].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){const d=[...wu.#A.values()];if(!wu._initialized){wu._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),this.#u=e,this.pageIndex=t,this.div=n,this.#e=s,this.#n=a,this.viewport=c,this.#d=l,this.drawLayer=o,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===_r.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#x(),e){case _r.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case _r.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case _r.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===_r.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of wu.#A.values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.togglePointerEvents(e)}get#g(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const n of this.#g)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));const t=this.#n;if(t)for(const n of t.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#m){this.#m=new AbortController;const i=this.#u.combinedSignal(this.#m);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,u=this.#p;if(c-u>500){this.#p=c;return}this.#p=-1;const{classList:d}=this.div;d.toggle("getElements",!0);const h=document.elementsFromPoint(o,l);if(d.toggle("getElements",!1),!this.div.contains(h[0]))return;let f;const p=new RegExp(`^${Qv}[0-9]+$`);for(const m of h)if(p.test(m.id)){f=m.id;break}if(!f)return;const g=this.#s.get(f);g?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),g.dblclick(s))},{signal:i,capture:!0})}const e=this.#n,t=[];if(e){const i=new Map,s=new Map;for(const o of this.#g){if(o.disableEditing(),!o.annotationElementId){t.push(o);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}const a=e.getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(this.#u.isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let c=s.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of wu.#A.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#y(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:n}=Us.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),xi.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#u.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),ar.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#v(){return wu.#A.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#E(e){const t=this.#v;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:n,offsetY:i}=this.#C(),s=this.getNextId(),a=this.#E({parent:this,id:s,x:n,y:i,uiManager:this.#u,isCentered:!0,...t});a&&this.add(a)}async deserialize(e){return await wu.#A.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=this.#E({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...n});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#C(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),c=(s+o)/2-e,u=(a+l)/2-t,[d,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:h}}addNewEditor(e={}){this.createAndAddNewEditor(this.#C(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Us.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#i||(this.#i=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#u.getMode();if(n===_r.STAMP||n===_r.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===_r.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:t}=Us.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#i=!0,this.#v?.isDrawer){this.startDrawingSession(e);return}const n=this.#u.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#v.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(e)):null}findNewParent(e,t,n){const i=this.#u.findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#x(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,cA(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#x();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,cA(this.div,{rotation:n}),t!==n)for(const i of this.#s.values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class ks{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return xr(this,"_svgFactory",new W2)}static#a(e,[t,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`}#s(){const e=ks._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,t){const n=ks._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=ks._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i}#o(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)}draw(e,t=!1,n=!1){const i=ks.#r++,s=this.#s(),a=ks._svgFactory.createElement("defs");s.append(a);const o=ks._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(i,o);const c=n?this.#i(a,l):null,u=ks._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const n=ks.#r++,i=this.#s(),s=ks._svgFactory.createElement("defs");i.append(s);const a=ks._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const d=ks._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const h=ks._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=ks._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=ks._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(n,i),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?this.#t.get(e):e;if(o){if(n&&this.#o(o,n),i&&ks.#a(o,i),s){const{classList:l}=o;for(const[c,u]of Object.entries(s))l.toggle(c,u)}if(a){const c=o.firstElementChild.firstElementChild;this.#o(c,a)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:TB};globalThis.pdfjsLib={AbortException:Fh,AnnotationEditorLayer:wu,AnnotationEditorParamsType:zr,AnnotationEditorType:_r,AnnotationEditorUIManager:Ih,AnnotationLayer:P8,AnnotationMode:Jd,AnnotationType:Ii,applyOpacity:v_e,build:SNe,ColorPicker:Ko,createValidAbsoluteUrl:$Y,CSSConstants:g_e,DOMSVGFactory:W2,DrawLayer:ks,FeatureTest:Us,fetchData:Vy,findContrastColor:y_e,getDocument:Cm,getFilenameFromUrl:d_e,getPdfFilenameFromUrl:h_e,getRGB:Ky,getUuid:GY,getXfaPageViewport:A_e,GlobalWorkerOptions:yh,ImageKind:tw,InvalidPDFException:xB,isDataScheme:t4,isPdfFile:_8,isValidExplicitDest:k_e,MathClamp:ga,noContextMenu:dl,normalizeUnicode:l_e,OPS:$v,OutputScale:Hc,PasswordResponses:ZEe,PDFDataRangeTransport:hJ,PDFDateString:wB,PDFWorker:js,PermissionFlag:JEe,PixelsPerInch:wm,RenderingCancelledException:E8,renderRichText:qY,ResponseException:G2,setLayerDimensions:cA,shadow:xr,SignatureExtractor:op,stopEvent:ci,SupportedImageMimeTypes:CB,TextLayer:Aa,TouchManager:r4,updateUrlHash:zY,Util:Ut,VerbosityLevel:JC,version:i4,XfaLayer:WY};var qNe={exports:{}};(function(r){var e=function(t){var n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(x,F,U){x[F]=U.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(x,F,U){return Object.defineProperty(x,F,{value:U,enumerable:!0,configurable:!0,writable:!0}),x[F]}try{d({},"")}catch{d=function(F,U,M){return F[U]=M}}function h(x,F,U,M){var z=F&&F.prototype instanceof b?F:b,G=Object.create(z.prototype),Y=new S(M||[]);return s(G,"_invoke",{value:I(x,U,Y)}),G}t.wrap=h;function f(x,F,U){try{return{type:"normal",arg:x.call(F,U)}}catch(M){return{type:"throw",arg:M}}}var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function b(){}function w(){}function _(){}var B={};d(B,l,function(){return this});var R=Object.getPrototypeOf,j=R&&R(R(C([])));j&&j!==n&&i.call(j,l)&&(B=j);var k=_.prototype=b.prototype=Object.create(B);w.prototype=_,s(k,"constructor",{value:_,configurable:!0}),s(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,u,"GeneratorFunction");function L(x){["next","throw","return"].forEach(function(F){d(x,F,function(U){return this._invoke(F,U)})})}t.isGeneratorFunction=function(x){var F=typeof x=="function"&&x.constructor;return F?F===w||(F.displayName||F.name)==="GeneratorFunction":!1},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,_):(x.__proto__=_,d(x,u,"GeneratorFunction")),x.prototype=Object.create(k),x},t.awrap=function(x){return{__await:x}};function H(x,F){function U(G,Y,Q,q){var D=f(x[G],x,Y);if(D.type==="throw")q(D.arg);else{var O=D.arg,V=O.value;return V&&typeof V=="object"&&i.call(V,"__await")?F.resolve(V.__await).then(function(J){U("next",J,Q,q)},function(J){U("throw",J,Q,q)}):F.resolve(V).then(function(J){O.value=J,Q(O)},function(J){return U("throw",J,Q,q)})}}var M;function z(G,Y){function Q(){return new F(function(q,D){U(G,Y,q,D)})}return M=M?M.then(Q,Q):Q()}s(this,"_invoke",{value:z})}L(H.prototype),d(H.prototype,c,function(){return this}),t.AsyncIterator=H,t.async=function(x,F,U,M,z){z===void 0&&(z=Promise);var G=new H(h(x,F,U,M),z);return t.isGeneratorFunction(F)?G:G.next().then(function(Y){return Y.done?Y.value:G.next()})};function I(x,F,U){var M=p;return function(G,Y){if(M===m)throw new Error("Generator is already running");if(M===v){if(G==="throw")throw Y;return E()}for(U.method=G,U.arg=Y;;){var Q=U.delegate;if(Q){var q=T(Q,U);if(q){if(q===y)continue;return q}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(M===p)throw M=v,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);M=m;var D=f(x,F,U);if(D.type==="normal"){if(M=U.done?v:g,D.arg===y)continue;return{value:D.arg,done:U.done}}else D.type==="throw"&&(M=v,U.method="throw",U.arg=D.arg)}}}function T(x,F){var U=F.method,M=x.iterator[U];if(M===a)return F.delegate=null,U==="throw"&&x.iterator.return&&(F.method="return",F.arg=a,T(x,F),F.method==="throw")||U!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+U+"' method")),y;var z=f(M,x.iterator,F.arg);if(z.type==="throw")return F.method="throw",F.arg=z.arg,F.delegate=null,y;var G=z.arg;if(!G)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,y;if(G.done)F[x.resultName]=G.value,F.next=x.nextLoc,F.method!=="return"&&(F.method="next",F.arg=a);else return G;return F.delegate=null,y}L(k),d(k,u,"Generator"),d(k,l,function(){return this}),d(k,"toString",function(){return"[object Generator]"});function P(x){var F={tryLoc:x[0]};1 in x&&(F.catchLoc=x[1]),2 in x&&(F.finallyLoc=x[2],F.afterLoc=x[3]),this.tryEntries.push(F)}function N(x){var F=x.completion||{};F.type="normal",delete F.arg,x.completion=F}function S(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(P,this),this.reset(!0)}t.keys=function(x){var F=Object(x),U=[];for(var M in F)U.push(M);return U.reverse(),function z(){for(;U.length;){var G=U.pop();if(G in F)return z.value=G,z.done=!1,z}return z.done=!0,z}};function C(x){if(x){var F=x[l];if(F)return F.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var U=-1,M=function z(){for(;++U<x.length;)if(i.call(x,U))return z.value=x[U],z.done=!1,z;return z.value=a,z.done=!0,z};return M.next=M}}return{next:E}}t.values=C;function E(){return{value:a,done:!0}}return S.prototype={constructor:S,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(N),!x)for(var F in this)F.charAt(0)==="t"&&i.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=a)},stop:function(){this.done=!0;var x=this.tryEntries[0],F=x.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var F=this;function U(q,D){return G.type="throw",G.arg=x,F.next=q,D&&(F.method="next",F.arg=a),!!D}for(var M=this.tryEntries.length-1;M>=0;--M){var z=this.tryEntries[M],G=z.completion;if(z.tryLoc==="root")return U("end");if(z.tryLoc<=this.prev){var Y=i.call(z,"catchLoc"),Q=i.call(z,"finallyLoc");if(Y&&Q){if(this.prev<z.catchLoc)return U(z.catchLoc,!0);if(this.prev<z.finallyLoc)return U(z.finallyLoc)}else if(Y){if(this.prev<z.catchLoc)return U(z.catchLoc,!0)}else if(Q){if(this.prev<z.finallyLoc)return U(z.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,F){for(var U=this.tryEntries.length-1;U>=0;--U){var M=this.tryEntries[U];if(M.tryLoc<=this.prev&&i.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var z=M;break}}z&&(x==="break"||x==="continue")&&z.tryLoc<=F&&F<=z.finallyLoc&&(z=null);var G=z?z.completion:{};return G.type=x,G.arg=F,z?(this.method="next",this.next=z.finallyLoc,y):this.complete(G)},complete:function(x,F){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&F&&(this.next=F),y},finish:function(x){for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F];if(U.finallyLoc===x)return this.complete(U.completion,U.afterLoc),N(U),y}},catch:function(x){for(var F=this.tryEntries.length-1;F>=0;--F){var U=this.tryEntries[F];if(U.tryLoc===x){var M=U.completion;if(M.type==="throw"){var z=M.arg;N(U)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(x,F,U){return this.delegate={iterator:C(x),resultName:F,nextLoc:U},this.method==="next"&&(this.arg=a),y}},t}(r.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(qNe);var U8=(r,e)=>`${r}-${e}-${Math.random().toString(16).slice(3,8)}`;const XNe=U8;let FD=0;var bJ=({id:r,action:e,payload:t={}})=>{let n=r;return typeof n>"u"&&(n=XNe("Job",FD),FD+=1),{id:n,action:e,payload:t}},qm={};let H8=!1;qm.logging=H8;qm.setLogging=r=>{H8=r};qm.log=(...r)=>H8?console.log.apply(void 0,r):null;const YNe=bJ,{log:Fb}=qm,JNe=U8;let ID=0;var ZNe=()=>{const r=JNe("Scheduler",ID),e={},t={};let n=[];ID+=1;const i=()=>n.length,s=()=>Object.keys(e).length,a=()=>{if(n.length!==0){const d=Object.keys(e);for(let h=0;h<d.length;h+=1)if(typeof t[d[h]]>"u"){n[0](e[d[h]]);break}}},o=(d,h)=>new Promise((f,p)=>{const g=YNe({action:d,payload:h});n.push(async m=>{n.shift(),t[m.id]=g;try{f(await m[d].apply(void 0,[...h,g.id]))}catch(v){p(v)}finally{delete t[m.id],a()}}),Fb(`[${r}]: Add ${g.id} to JobQueue`),Fb(`[${r}]: JobQueue length=${n.length}`),a()});return{addWorker:d=>(e[d.id]=d,Fb(`[${r}]: Add ${d.id}`),Fb(`[${r}]: Number of workers=${s()}`),a(),d.id),addJob:async(d,...h)=>{if(s()===0)throw Error(`[${r}]: You need to have at least one worker before adding jobs`);return o(d,h)},terminate:async()=>{Object.keys(e).forEach(async d=>{await e[d].terminate()}),n=[]},getQueueLen:i,getNumWorkers:s}},eBe=r=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof xg=="function"&&(e.type="node"),typeof r>"u"?e:e[r]};const tBe=eBe("type")==="browser",rBe=tBe?r=>new URL(r,window.location.href).href:r=>r;var nBe=r=>{const e={...r};return["corePath","workerPath","langPath"].forEach(t=>{r[t]&&(e[t]=rBe(e[t]))}),e},xJ={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const iBe="7.0.0",sBe={version:iBe};var aBe={workerBlobURL:!0,logger:()=>{}};const oBe=sBe.version,lBe=aBe;var cBe={...lBe,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${oBe}/dist/worker.min.js`},uBe=({workerPath:r,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const n=new Blob([`importScripts("${r}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(n))}else t=new Worker(r);return t},dBe=r=>{r.terminate()},hBe=(r,e)=>{r.onmessage=({data:t})=>{e(t)}},fBe=async(r,e)=>{r.postMessage(e)};const vS=r=>new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:i}}})=>{t(Error(`File could not be read! Code=${i}`))},n.readAsArrayBuffer(r)}),IB=async r=>{let e=r;if(typeof r>"u")return"undefined";if(typeof r=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(r)?e=atob(r.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(r)).arrayBuffer();else if(typeof HTMLElement<"u"&&r instanceof HTMLElement)r.tagName==="IMG"&&(e=await IB(r.src)),r.tagName==="VIDEO"&&(e=await IB(r.poster)),r.tagName==="CANVAS"&&await new Promise(t=>{r.toBlob(async n=>{e=await vS(n),t()})});else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas){const t=await r.convertToBlob();e=await vS(t)}else(r instanceof File||r instanceof Blob)&&(e=await vS(r));return new Uint8Array(e)};var ABe=IB;const pBe=cBe,mBe=uBe,gBe=dBe,vBe=hBe,yBe=fBe,bBe=ABe;var xBe={defaultOptions:pBe,spawnWorker:mBe,terminateWorker:gBe,onMessage:vBe,send:yBe,loadImage:bBe};const wBe=nBe,uc=bJ,{log:MD}=qm,CBe=U8,uf=xJ,{defaultOptions:SBe,spawnWorker:EBe,terminateWorker:_Be,onMessage:NBe,loadImage:OD,send:BBe}=xBe;let PD=0;var wJ=async(r="eng",e=uf.LSTM_ONLY,t={},n={})=>{const i=CBe("Worker",PD),{logger:s,errorHandler:a,...o}=wBe({...SBe,...t}),l={},c=typeof r=="string"?r.split("+"):r;let u=e,d=n;const h=[uf.DEFAULT,uf.LSTM_ONLY].includes(e)&&!o.legacyCore;let f,p;const g=new Promise((C,E)=>{p=C,f=E}),m=C=>{f(C.message)};let v=EBe(o);v.onerror=m,PD+=1;const y=({id:C,action:E,payload:x})=>new Promise((F,U)=>{MD(`[${i}]: Start ${C}, action=${E}`);const M=`${E}-${C}`;l[M]={resolve:F,reject:U},BBe(v,{workerId:i,jobId:C,action:E,payload:x})}),b=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),w=C=>y(uc({id:C,action:"load",payload:{options:{lstmOnly:h,corePath:o.corePath,logging:o.logging}}})),_=(C,E,x)=>y(uc({id:x,action:"FS",payload:{method:"writeFile",args:[C,E]}})),B=(C,E)=>y(uc({id:E,action:"FS",payload:{method:"readFile",args:[C,{encoding:"utf8"}]}})),R=(C,E)=>y(uc({id:E,action:"FS",payload:{method:"unlink",args:[C]}})),j=(C,E,x)=>y(uc({id:x,action:"FS",payload:{method:C,args:E}})),k=(C,E)=>y(uc({id:E,action:"loadLanguage",payload:{langs:C,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[uf.DEFAULT,uf.LSTM_ONLY].includes(u)&&!o.legacyLang}}})),L=(C,E,x,F)=>y(uc({id:F,action:"initialize",payload:{langs:C,oem:E,config:x}})),H=(C="eng",E,x,F)=>{if(h&&[uf.TESSERACT_ONLY,uf.TESSERACT_LSTM_COMBINED].includes(E))throw Error("Legacy model requested but code missing.");const U=E||u;u=U;const M=x||d;d=M;const G=(typeof C=="string"?C.split("+"):C).filter(Y=>!c.includes(Y));return c.push(...G),G.length>0?k(G,F).then(()=>L(C,U,M,F)):L(C,U,M,F)},I=(C={},E)=>y(uc({id:E,action:"setParameters",payload:{params:C}})),T=async(C,E={},x={text:!0},F)=>y(uc({id:F,action:"recognize",payload:{image:await OD(C),options:E,output:x}})),P=async(C,E)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return y(uc({id:E,action:"detect",payload:{image:await OD(C)}}))},N=async()=>(v!==null&&(_Be(v),v=null),Promise.resolve());NBe(v,({workerId:C,jobId:E,status:x,action:F,data:U})=>{const M=`${F}-${E}`;if(x==="resolve")MD(`[${C}]: Complete ${E}`),l[M].resolve({jobId:E,data:U}),delete l[M];else if(x==="reject")if(l[M].reject(U),delete l[M],F==="load"&&f(U),a)a(U);else throw Error(U);else x==="progress"&&s({...U,userJobId:E})});const S={id:i,worker:v,load:b,writeText:_,readText:B,removeFile:R,FS:j,reinitialize:H,setParameters:I,recognize:T,detect:P,terminate:N};return w().then(()=>k(r)).then(()=>L(r,e,n)).then(()=>p(S)).catch(()=>{}),g};const CJ=wJ,kBe=async(r,e,t)=>{const n=await CJ(e,1,t);return n.recognize(r).finally(async()=>{await n.terminate()})},TBe=async(r,e)=>{const t=await CJ("osd",0,e);return t.detect(r).finally(async()=>{await t.terminate()})};var jBe={recognize:kBe,detect:TBe},FBe={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},IBe={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const MBe=ZNe,OBe=wJ,PBe=jBe,RBe=FBe,LBe=xJ,DBe=IBe,{setLogging:UBe}=qm;var HBe={languages:RBe,OEM:LBe,PSM:DBe,createScheduler:MBe,createWorker:OBe,setLogging:UBe,...PBe};yh.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${i4}/pdf.worker.min.js`;class yS{static worker=null;static isInitializing=!1;static async getWorker(){if(this.worker)return this.worker;if(this.isInitializing){for(;this.isInitializing;)await new Promise(e=>setTimeout(e,100));return this.worker}this.isInitializing=!0;try{return this.worker=await HBe.createWorker("fra+eng",1,{logger:e=>{console.log("[OCR]",e.status,Math.round((e.progress||0)*100)+"%")}}),this.worker}finally{this.isInitializing=!1}}static async recognizeImage(e,t){try{const n=await this.getWorker();let i=e;e instanceof File&&(i=await this.fileToDataUrl(e)),t?.({status:"Reconnaissance OCR en cours...",progress:0});const s=await n.recognize(i);return t?.({status:"Termin",progress:100}),{success:!0,text:s.data.text,confidence:s.data.confidence}}catch(n){return{success:!1,text:"",confidence:0,error:n instanceof Error?n.message:"Erreur OCR inconnue"}}}static async recognizePdf(e,t){try{t?.({status:"Chargement du PDF...",progress:0});const n=await e.arrayBuffer(),i=await Cm({data:n}).promise,s=[];let a=0;for(let o=1;o<=i.numPages;o++){t?.({status:`Traitement page ${o}/${i.numPages}...`,progress:(o-1)/i.numPages*100});const l=await i.getPage(o),u=l.getViewport({scale:2}),d=document.createElement("canvas"),h=d.getContext("2d");d.width=u.width,d.height=u.height,await l.render({canvasContext:h,viewport:u}).promise;const f=await new Promise(g=>{d.toBlob(m=>g(m),"image/png")}),p=await this.recognizeImage(f);p.success&&(s.push(p.text),a+=p.confidence)}return t?.({status:"Termin",progress:100}),{success:!0,text:s.join(`

--- Page suivante ---

`),confidence:a/i.numPages}}catch(n){return{success:!1,text:"",confidence:0,error:n instanceof Error?n.message:"Erreur OCR PDF inconnue"}}}static async isPdfImageBased(e){try{const t=await e.arrayBuffer();return(await(await(await Cm({data:t}).promise).getPage(1)).getTextContent()).items.filter(o=>"str"in o).reduce((o,l)=>o+l.str.length,0)<50}catch{return!0}}static fileToDataUrl(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=n,i.readAsDataURL(e)})}static async terminate(){this.worker&&(await this.worker.terminate(),this.worker=null)}}yh.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${i4}/pdf.worker.min.js`;const QBe=50*1024*1024;class $Be{static async parseFile(e,t){if(e.size>QBe)return{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:"Fichier trop volumineux. Taille maximale: 50 MB"}],transactions:[]};switch(this.detectFileType(e)){case"csv":return this.parseCSV(e,t);case"excel":return this.parseExcel(e,t);case"pdf":return this.parsePDF(e,t);case"image":return this.parseImage(e,t);default:return{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:`Type de fichier non support: ${e.type}`}],transactions:[]}}}static detectFileType(e){const t=e.name.split(".").pop()?.toLowerCase(),n=e.type;return t==="csv"||n==="text/csv"?"csv":t==="xlsx"||t==="xls"||n==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||n==="application/vnd.ms-excel"?"excel":t==="pdf"||n==="application/pdf"?"pdf":["jpg","jpeg","png","webp","bmp","tiff","tif"].includes(t||"")||n.startsWith("image/")?"image":"unknown"}static async parseCSV(e,t){return new Promise(n=>{sD.parse(e,{header:t.hasHeader!==!1,skipEmptyLines:!0,dynamicTyping:!1,encoding:"UTF-8",complete:i=>{const s=i.data,a=this.processRows(s,t);n(a)},error:i=>{n({success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:`Erreur de parsing CSV: ${i.message}`}],transactions:[]})}})})}static async parseExcel(e,t){try{const n=await e.arrayBuffer(),i=new vB.Workbook;await i.xlsx.load(n);const s=i.worksheets[0];if(!s)throw new Error("Aucune feuille trouvee dans le fichier Excel");const a=[];let o=[];return s.eachRow((l,c)=>{const d=l.values.slice(1);if(c===1&&t.hasHeader!==!1)o=d.map(h=>String(h??`Col${d.indexOf(h)+1}`));else{const h={};d.forEach((f,p)=>{const g=o[p]||`Col${p+1}`;f instanceof Date,h[g]=f}),a.push(h)}}),this.processRows(a,t)}catch(n){return{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:`Erreur de parsing Excel: ${n instanceof Error?n.message:"Erreur inconnue"}`}],transactions:[]}}}static async parsePDF(e,t){try{const n=await e.arrayBuffer(),i=await Cm({data:n}).promise,s=[];for(let o=1;o<=i.numPages;o++){const c=await(await i.getPage(o)).getTextContent(),u=new Map;for(const h of c.items)if("str"in h&&h.str.trim()){const f=Math.round(("transform"in h?h.transform[5]:0)/5)*5;u.has(f)||u.set(f,[]),u.get(f).push(h.str)}const d=Array.from(u.entries()).sort((h,f)=>f[0]-h[0]).map(([,h])=>h.join(" ").trim()).filter(h=>h.length>0);s.push(...d)}let a=this.parseTextLinesToRows(s);if(a.length===0&&(console.log("[ImportService] Aucun texte exploitable, tentative OCR..."),await yS.isPdfImageBased(e)||s.length<10)){const l=await yS.recognizePdf(e);if(l.success&&l.text){console.log(`[ImportService] OCR russi (confiance: ${l.confidence.toFixed(1)}%)`);const c=l.text.split(`
`).filter(u=>u.trim().length>0);a=this.parseTextLinesToRows(c)}}return a.length===0?{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:"Aucune transaction dtecte dans le PDF (texte et OCR). Vrifiez le format du relev."}],transactions:[]}:this.processRows(a,t)}catch(n){return{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:`Erreur de parsing PDF: ${n instanceof Error?n.message:"Erreur inconnue"}`}],transactions:[]}}}static async parseImage(e,t){try{console.log("[ImportService] Parsing image avec OCR...");const n=await yS.recognizeImage(e);if(!n.success)return{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:`Erreur OCR: ${n.error||"Impossible de lire l'image"}`}],transactions:[]};console.log(`[ImportService] OCR russi (confiance: ${n.confidence.toFixed(1)}%)`);const i=n.text.split(`
`).filter(a=>a.trim().length>0),s=this.parseTextLinesToRows(i);return s.length===0?{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:"Aucune transaction dtecte dans l'image. Vrifiez la qualit et le format du relev."}],transactions:[]}:this.processRows(s,t)}catch(n){return{success:!1,totalRows:0,importedRows:0,skippedRows:0,errors:[{row:0,message:`Erreur de parsing image: ${n instanceof Error?n.message:"Erreur inconnue"}`}],transactions:[]}}}static parseTextLinesToRows(e){const t=[],n=/(\d{1,2}[/\-.]\d{1,2}[/\-.]\d{2,4})/,i=/([+-]?\s*[\d\s]+[,.]\d{2})\s*(|EUR|XAF|XOF|FCFA)?/i;for(const s of e){if(s.length<10||/^(date|libelle|montant|solde|debit|credit|rfrence)/i.test(s))continue;const a=s.match(n);if(!a)continue;const o=s.match(new RegExp(i.source,"gi"));if(!o||o.length===0)continue;const l=s.indexOf(a[1])+a[1].length,c=s.indexOf(o[0]);let u="";c>l&&(u=s.substring(l,c).trim()),u=u.replace(/^\s*[-:]\s*/,"").trim(),u.length<3&&(u=s.substring(l).replace(i,"").trim());const d=o[0].replace(/[EUR XAF XOF FCFA]/gi,"").replace(/\s/g,"").replace(",","."),h=parseFloat(d);isNaN(h)||t.push({date:a[1],description:u||"Transaction",amount:d,balance:o.length>1?o[o.length-1].replace(/[EUR XAF XOF FCFA]/gi,"").replace(/\s/g,"").replace(",","."):void 0})}return t}static processRows(e,t){const n=[],i=[],s=t.skipRows||0,a=e.slice(s);for(let o=0;o<a.length;o++){const l=o+s+1,c=a[o];try{const u=this.rowToTransaction(c,t,l);u&&n.push(u)}catch(u){i.push({row:l,message:u instanceof Error?u.message:"Erreur de conversion"})}}return{success:i.length===0,totalRows:a.length,importedRows:n.length,skippedRows:a.length-n.length,errors:i,transactions:n}}static rowToTransaction(e,t,n){const i=t.columnMappings||this.autoDetectMappings(e),s=v=>{const y=i.find(w=>w.targetField===v);if(!y)return;const b=e[y.sourceColumn];return y.transform?y.transform(String(b??"")):b},a=s("date"),o=this.parseDate(a,t.dateFormat);if(!o)throw new Error(`Date invalide  la ligne ${n}`);const l=s("amount"),c=this.parseAmount(l,t);if(c===null)throw new Error(`Montant invalide  la ligne ${n}`);const u=String(s("description")||"").trim();if(!u)throw new Error(`Description manquante  la ligne ${n}`);const d=s("valueDate"),h=d?this.parseDate(d,t.dateFormat):o,f=s("balance"),p=f!==void 0?this.parseAmount(f,t):0,g=new Date,m=t.accountNumber||String(s("accountNumber")||"N/A");return{id:at(),clientId:t.clientId||"default",accountNumber:m,bankCode:t.bankCode||"UNKNOWN",date:o,valueDate:h||o,amount:c,balance:p||0,description:u,reference:String(s("reference")||""),type:this.detectTransactionType(c,u),createdAt:g,updatedAt:g}}static autoDetectMappings(e){const t=[],n=Object.keys(e),i={date:[/date/i,/dt/i,/jour/i],valueDate:[/date.*valeur/i,/val.*date/i,/value.*date/i],amount:[/montant/i,/amount/i,/somme/i,/debit|credit/i],balance:[/solde/i,/balance/i],description:[/libelle|libell/i,/description/i,/motif/i,/label/i],reference:[/ref|rfrence/i,/numero/i,/number/i],accountNumber:[/compte/i,/account/i,/iban/i]};for(const[s,a]of Object.entries(i))for(const o of n)if(a.some(l=>l.test(o))){t.push({sourceColumn:o,targetField:s});break}return t}static parseDate(e,t){if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const n=String(e).trim(),i=t?[t]:["dd/MM/yyyy","dd-MM-yyyy","yyyy-MM-dd","MM/dd/yyyy","d/M/yyyy","dd/MM/yy"];for(const a of i){const o=this.parseDateWithFormat(n,a);if(o)return o}const s=new Date(n);return isNaN(s.getTime())?null:s}static parseDateWithFormat(e,t){const n=e.split(/[-/]/),i=t.toLowerCase().split(/[-/]/);if(n.length!==i.length)return null;let s=1,a=1,o=2e3;for(let c=0;c<n.length;c++){const u=parseInt(n[c],10),d=i[c];d.includes("d")?s=u:d.includes("m")?a=u:d.includes("y")&&(o=u<100?2e3+u:u)}const l=new Date(o,a-1,s);return l.getFullYear()===o&&l.getMonth()===a-1&&l.getDate()===s?l:null}static parseAmount(e,t){if(e==null)return null;if(typeof e=="number")return e;let n=String(e).trim();n=n.replace(/[A-Za-z$]/g,"").trim();const i=n.startsWith("-")||n.startsWith("(")||n.endsWith("-");n=n.replace(/[()-]/g,"");const s=t.decimalSeparator||",",a=t.thousandsSeparator||" ";n=n.split(a).join(""),s===","&&(n=n.replace(",","."));const o=parseFloat(n);return isNaN(o)?null:i?-Math.abs(o):o}static detectTransactionType(e,t){const n=t.toLowerCase();return/frais|commission|fee|cost|charge/i.test(n)?Pi.FEE:/int[e]r[e]t|agios|interest/i.test(n)?Pi.INTEREST:/virement|transfer|vir\b/i.test(n)?Pi.TRANSFER:/carte|card|cb\b|tpe/i.test(n)?Pi.CARD:/retrait|dab|gab|atm|withdrawal/i.test(n)?Pi.ATM:/ch[e]que|check|chq/i.test(n)?Pi.CHECK:e>=0?Pi.CREDIT:Pi.DEBIT}static async getPreview(e,t=10){const n=this.detectFileType(e);try{if(n==="csv")return new Promise(i=>{sD.parse(e,{header:!0,skipEmptyLines:!0,preview:t,complete:s=>{const a=s.data,o=s.meta.fields||[];i({headers:o,rows:a})},error:()=>{i({headers:[],rows:[]})}})});if(n==="excel"){const i=await e.arrayBuffer(),s=new vB.Workbook;await s.xlsx.load(i);const a=s.worksheets[0];if(!a)return{headers:[],rows:[]};const o=[];let l=[],c=0;return a.eachRow((u,d)=>{if(c>=t+1)return;const f=u.values.slice(1);if(d===1)l=f.map(p=>String(p??`Col${f.indexOf(p)+1}`));else if(c<t){const p={};f.forEach((g,m)=>{const v=l[m]||`Col${m+1}`;p[v]=(g instanceof Date,g)}),o.push(p)}c++}),{headers:l,rows:o}}}catch{}return{headers:[],rows:[]}}}function zBe(r,e){if(r.size===0&&e.size===0)return 1;if(r.size===0||e.size===0)return 0;const t=new Set([...r].filter(i=>e.has(i))),n=new Set([...r,...e]);return t.size/n.size}function RD(r){return new Set(r.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(e=>e.length>1))}function q2(r,e){const t=RD(r),n=RD(e);return zBe(t,n)}function SJ(r,e,t=.01){const n=Math.abs(r),i=Math.abs(e);if(n===0&&i===0)return 1;if(n===0||i===0)return 0;const s=Math.abs(n-i),a=Math.max(n,i),o=s/a;return o<=t?1:Math.max(0,1-o)}function VBe(r,e,t=7){const i=Math.abs(r.getTime()-e.getTime())/(1e3*60*60*24);return i===0?1:i>=t?0:Math.exp(-i/(t/3))}const GBe={amount:.4,description:.4,time:.2};function LD(r,e,t=GBe,n=.01,i=7){const s=SJ(r.amount,e.amount,n),a=q2(r.description,e.description),o=VBe(r.date,e.date,i);return s*t.amount+a*t.description+o*t.time}class KBe{thresholds;constructor(e){this.thresholds=e||{similarityThreshold:.85,timeWindowDays:5,amountTolerance:.01}}detectDuplicates(e){const t=[],n=new Set,s=[...e].sort((a,o)=>new Date(a.date).getTime()-new Date(o.date).getTime()).filter(a=>a.amount<0);for(let a=0;a<s.length;a++){const o=s[a];if(n.has(o.id))continue;const l=this.findDuplicates(o,s,a+1,n);if(l.length>0){const c={original:o,duplicates:l,similarity:this.calculateGroupSimilarity(o,l)};t.push(this.createAnomaly(c)),n.add(o.id),l.forEach(u=>n.add(u.id))}}return t}findDuplicates(e,t,n,i){const s=[],a=new Date(e.date);for(let o=n;o<t.length;o++){const l=t[o],c=new Date(l.date);if(Ul(c,a)>this.thresholds.timeWindowDays)break;if(i.has(l.id)||l.id===e.id)continue;LD({amount:e.amount,description:e.description,date:a},{amount:l.amount,description:l.description,date:c},{amount:.4,description:.4,time:.2},this.thresholds.amountTolerance,this.thresholds.timeWindowDays)>=this.thresholds.similarityThreshold&&s.push(l)}return s}calculateGroupSimilarity(e,t){if(t.length===0)return 0;const n=t.map(i=>LD({amount:e.amount,description:e.description,date:new Date(e.date)},{amount:i.amount,description:i.description,date:new Date(i.date)},{amount:.4,description:.4,time:.2},this.thresholds.amountTolerance,this.thresholds.timeWindowDays));return n.reduce((i,s)=>i+s,0)/n.length}createAnomaly(e){const t=e.duplicates.reduce((n,i)=>n+Math.abs(i.amount),0);return{id:at(),type:ke.DUPLICATE_FEE,severity:this.calculateSeverity(t,e.duplicates.length),confidence:e.similarity,amount:t,transactions:[e.original,...e.duplicates],evidence:this.generateEvidence(e),recommendation:this.generateRecommendation(e,t),status:"pending",detectedAt:new Date}}calculateSeverity(e,t){return e>5e4||t>=5?je.CRITICAL:e>2e4||t>=3?je.HIGH:e>5e3||t>=2?je.MEDIUM:je.LOW}generateEvidence(e){const t=[];t.push({type:"DUPLICATE_COUNT",description:"Nombre de transactions dupliques",value:e.duplicates.length}),t.push({type:"SIMILARITY_SCORE",description:"Score de similarit moyen",value:`${Math.round(e.similarity*100)}%`});const n=[e.original,...e.duplicates].map(c=>new Date(c.date)),i=new Date(Math.min(...n.map(c=>c.getTime()))),s=new Date(Math.max(...n.map(c=>c.getTime())));t.push({type:"DATE_RANGE",description:"Priode concerne",value:`${i.toLocaleDateString("fr-FR")} - ${s.toLocaleDateString("fr-FR")}`});const a=[e.original,...e.duplicates].map(c=>c.amount);SJ(a[0],a[1],.01)===1&&t.push({type:"EXACT_AMOUNT_MATCH",description:"Montants identiques",value:`${Math.abs(e.original.amount)} FCFA`});const l=q2(e.original.description,e.duplicates[0].description);return t.push({type:"DESCRIPTION_SIMILARITY",description:"Similarit des libells",value:`${Math.round(l*100)}%`,reference:e.original.description}),t}generateRecommendation(e,t){const n=e.duplicates.length;return`Contester ${n} transaction${n>1?"s":""} en double pour un montant total de ${Math.round(t).toLocaleString("fr-FR")} FCFA. Ces frais prsentent une similarit de ${Math.round(e.similarity*100)}% avec la transaction originale. Demander le remboursement et la correction du systme de facturation pour viter les futurs doublons.`}}function Q8(r){if(!r||r.length===0)return 0;const e=new Map,t=r.toLowerCase();for(const s of t)e.set(s,(e.get(s)||0)+1);const n=t.length;let i=0;for(const s of e.values()){const a=s/n;i-=a*Math.log2(a)}return i}function WBe(r){const e=r.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(s=>s.length>0);if(e.length===0)return 0;const t=new Map;for(const s of e)t.set(s,(t.get(s)||0)+1);const n=e.length;let i=0;for(const s of t.values()){const a=s/n;i-=a*Math.log2(a)}return i}function qBe(r){if(!r||r.length<=1)return 0;const e=Q8(r),t=Math.log2(r.length);return t>0?e/t:0}function XBe(r){const e=[];let t=0;const n=Q8(r),i=qBe(r);n>4&&(t+=.3,e.push("Entropie de caractres leve"));const s=bS(r,/[a-zA-Z]/g)/r.length,a=bS(r,/\d/g)/r.length,o=bS(r,/[^a-zA-Z0-9\s]/g)/r.length;a>.3&&s>.3&&(t+=.2,e.push("Mlange inhabituel de chiffres et lettres")),o>.2&&(t+=.2,e.push("Trop de caractres spciaux")),/(.{2,})\1{2,}/.test(r)&&(t-=.1),YBe(r)||(t+=.2,e.push("Absence de mots communs"));const u=Math.min(Math.max(t,0),1);return{isRandom:u>.5,entropy:n,normalizedEntropy:i,confidence:u,reasons:e}}function bS(r,e){const t=r.match(e);return t?t.length:0}function YBe(r){const e=["de","la","le","du","des","et","en","un","une","pour","sur","par","avec","au","aux","frais","compte","virement","paiement","carte","retrait"],t=r.toLowerCase().split(/\s+/);return e.some(n=>t.some(i=>i===n||i.includes(n)))}function JBe(r){let e=0;const t=r.toLowerCase(),n=[{pattern:/frais\s+divers/i,weight:.25},{pattern:/commission\s+diverse/i,weight:.25},{pattern:/autres?\s+frais/i,weight:.2},{pattern:/prlvement\s+auto/i,weight:.15},{pattern:/frais\s+de\s+gestion/i,weight:.15},{pattern:/^frais\s*$/i,weight:.3},{pattern:/^commission\s*$/i,weight:.3}];for(const{pattern:s,weight:a}of n)s.test(t)&&(e+=a);return r.length<15&&(e+=.15),r.length<25&&WBe(r)<1.5&&(e+=.1),XBe(r).isRandom&&(e+=.2),Math.min(e,1)}function ZBe(r){const e=Math.abs(r);return[100,500,1e3,2500,5e3,1e4,25e3,5e4].some(n=>e%n===0&&e>=n)}class e6e{thresholds;feePatterns=[/frais/i,/commission/i,/taxe/i,/prlvement/i,/redevance/i,/cotisation/i,/abonnement/i,/fee/i,/charge/i];servicePatterns=[/virement/i,/retrait/i,/dpt|depot/i,/carte/i,/chque|cheque/i,/transfer/i,/paiement/i,/achat/i,/prlvement.*(?:edf|orange|sfr|free|eau|lectricit)/i];constructor(e){this.thresholds=e||{entropyThreshold:2.5,orphanWindowDays:1,minConfidence:.7}}detectGhostFees(e){const t=[],n=e.filter(i=>this.isPotentialFee(i));for(const i of n){const s=this.analyzeFee(i,e);s.isGhost&&s.suspicionScore>=this.thresholds.minConfidence&&t.push(this.createAnomaly(s))}return t}isPotentialFee(e){return e.amount>=0?!1:e.type===Pi.FEE?!0:this.feePatterns.some(t=>t.test(e.description))}analyzeFee(e,t){const n=[];let i=0;const s=JBe(e.description);s>.3&&(i+=s*.4,n.push("Description vague ou gnrique"));const a=this.findAssociatedService(e,t);a||(i+=.3,n.push("Aucun service associ trouv")),ZBe(e.amount)&&(i+=.1,n.push("Montant rond suspect"));const o=Q8(e.description);o<this.thresholds.entropyThreshold?(i+=.15,n.push("Description trop simple")):o>4&&(i+=.1,n.push("Description possiblement auto-gnre"));const l=this.checkRecurringPattern(e,t);l&&!a&&(i+=.15,n.push("Frais rcurrent sans service identifiable")),(!e.reference||e.reference.trim()==="")&&(i+=.1,n.push("Absence de rfrence"));const c=new Date(e.date),u=c.getDate(),d=new Date(c.getFullYear(),c.getMonth()+1,0).getDate();return u>=d-2&&(i+=.05,n.push("Frais en fin de mois")),{transaction:e,isGhost:i>=this.thresholds.minConfidence&&!a,suspicionScore:Math.min(i,1),hasAssociatedService:a,isRecurring:l,reasons:n}}findAssociatedService(e,t){const n=new Date(e.date),i=this.thresholds.orphanWindowDays*24*60*60*1e3;return t.some(s=>{if(s.id===e.id)return!1;const a=new Date(s.date);if(Math.abs(a.getTime()-n.getTime())>i||!this.servicePatterns.some(h=>h.test(s.description)))return!1;if(q2(e.description,s.description)>.3)return!0;const u=this.extractKeywords(e.description),d=this.extractKeywords(s.description);return u.some(h=>d.includes(h))})}extractKeywords(e){return e.toLowerCase().split(/\s+/).filter(t=>t.length>3).filter(t=>!["frais","commission","pour","avec","dans","sur"].includes(t))}checkRecurringPattern(e,t){const n=new Date(e.date),i=new Date(n);return i.setMonth(i.getMonth()-3),t.filter(a=>{if(a.id===e.id)return!1;const o=new Date(a.date);return o<i||o>=n||Math.abs(a.amount-e.amount)/Math.abs(e.amount)>.05?!1:q2(a.description,e.description)>.7}).length>=2}createAnomaly(e){const{transaction:t,suspicionScore:n,isRecurring:i}=e;return{id:at(),type:ke.GHOST_FEE,severity:this.calculateSeverity(t.amount,i),confidence:n,amount:Math.abs(t.amount),transactions:[t],evidence:this.generateEvidence(e),recommendation:this.generateRecommendation(e),status:"pending",detectedAt:new Date}}calculateSeverity(e,t){const n=Math.abs(e);return t&&n>5e3?je.CRITICAL:n>2e4?je.HIGH:n>5e3||t?je.MEDIUM:je.LOW}generateEvidence(e){const t=[];t.push({type:"SUSPICION_SCORE",description:"Score de suspicion",value:`${Math.round(e.suspicionScore*100)}%`}),e.hasAssociatedService||t.push({type:"NO_SERVICE",description:"Service associ",value:"Aucun service identifi"}),e.isRecurring&&t.push({type:"RECURRING",description:"Pattern rcurrent",value:"Frais similaires dtects sur les 3 derniers mois"});for(const n of e.reasons)t.push({type:"REASON",description:"Motif de suspicion",value:n});return t}generateRecommendation(e){const t=Math.abs(e.transaction.amount),n=Math.round(t).toLocaleString("fr-FR");return e.isRecurring?`Frais rcurrent suspect de ${n} FCFA sans service identifiable. Demander une justification dtaille et l'historique de facturation. Si non justifi, exiger le remboursement rtroactif sur les 12 derniers mois.`:`Frais non identifi de ${n} FCFA. Demander une facture dtaille et le justificatif du service rendu. En l'absence de justification valide, contester et demander le remboursement.`}}class t6e{thresholds;servicePatterns={ACCOUNT_MAINTENANCE:[/tenue.*compte/i,/frais.*compte/i,/gestion.*compte/i],TRANSFER_NATIONAL:[/virement.*national/i,/vir\b/i,/transfer.*local/i],TRANSFER_INTERNATIONAL:[/virement.*international/i,/swift/i,/transfer.*tranger/i],CARD_FEE:[/carte/i,/card/i,/visa/i,/mastercard/i],ATM:[/retrait.*dab/i,/retrait.*gab/i,/atm/i,/distributeur/i],OVERDRAFT:[/agios/i,/dcouvert/i,/intrts.*dbiteurs/i],SMS:[/sms/i,/notification/i,/alerte/i],STATEMENT:[/relev/i,/extrait/i,/statement/i],OTHER:[]};constructor(e){this.thresholds=e||{tolerancePercentage:.02,useHistoricalBaseline:!0}}detectOvercharges(e,t,n){const i=[],s=e.filter(a=>a.amount<0);for(const a of s){const o=this.analyzeFee(a,t,n);o.isOvercharge&&i.push(this.createAnomaly(o))}return i}analyzeFee(e,t,n){const i=this.detectServiceType(e),s=Math.abs(e.amount),a=[],o=this.findMatchingFee(i,t);let l=0,c=!1;if(o){l=this.calculateExpectedAmount(o,s);const h=l*this.thresholds.tolerancePercentage;s>l+h&&(c=!0,a.push("Dpasse le tarif officiel"))}if(this.thresholds.useHistoricalBaseline&&n){const h=this.getHistoricalAverage(i,n);if(h&&h>0&&s>h*1.2){const f=Math.round((s/h-1)*100);c=!0,a.push(`Augmentation de ${f}% par rapport  l'historique`),(!o||h<l)&&(l=h)}}!o&&!c&&i==="OTHER"&&s>5e4&&a.push("Frais lev sans correspondance tarifaire -  vrifier manuellement");const u=Math.max(0,s-l),d=l>0?u/l:c?1:0;return{transaction:e,isOvercharge:c,chargedAmount:s,expectedAmount:l,excessAmount:u,excessPercentage:d,serviceType:i,matchedFee:o,reasons:a}}detectServiceType(e){const t=e.description.toLowerCase();for(const[n,i]of Object.entries(this.servicePatterns))if(i.some(s=>s.test(t)))return n;return"OTHER"}findMatchingFee(e,t){const i={ACCOUNT_MAINTENANCE:["TDC","TENUE","COMPTE"],TRANSFER_NATIONAL:["VIR","VIRN","TRANSFER"],TRANSFER_INTERNATIONAL:["VIRI","SWIFT","TRANSFERI"],CARD_FEE:["CARTE","CARD","CB"],ATM:["RET","DAB","GAB","ATM"],SMS:["SMS","NOTIF"],STATEMENT:["REL","EXTRAIT","STATEMENT"]}[e]||[];for(const s of t.fees)if(i.some(a=>s.code.toUpperCase().includes(a))||i.some(a=>s.name.toUpperCase().includes(a.toUpperCase())))return s;return null}calculateExpectedAmount(e,t,n){switch(e.type){case"fixed":return e.amount;case"percentage":{const i=e.percentage||0;if(n&&i>0){const s=n*i,a=e.minAmount||0,o=e.maxAmount||1/0;return Math.min(Math.max(s,a),o)}return e.amount||e.minAmount||0}case"tiered":return e.amount;default:return e.amount}}getHistoricalAverage(e,t){const n=t[e];return!n||n.length===0?null:n.reduce((s,a)=>s+a.amount,0)/n.length}createAnomaly(e){return{id:at(),type:ke.OVERCHARGE,severity:this.calculateSeverity(e.excessAmount,e.excessPercentage),confidence:this.calculateConfidence(e),amount:e.excessAmount,transactions:[e.transaction],evidence:this.generateEvidence(e),recommendation:this.generateRecommendation(e),status:"pending",detectedAt:new Date}}calculateSeverity(e,t){return e>2e4||t>.5?je.CRITICAL:e>1e4||t>.3?je.HIGH:e>5e3||t>.2?je.MEDIUM:je.LOW}calculateConfidence(e){let t=.6;return e.matchedFee&&(t+=.25),e.excessPercentage>.3&&(t+=.1),e.reasons.length>1&&(t+=.05),Math.min(t,.98)}generateEvidence(e){const t=[];t.push({type:"CHARGED_AMOUNT",description:"Montant factur",value:`${Math.round(e.chargedAmount).toLocaleString("fr-FR")} FCFA`}),t.push({type:"EXPECTED_AMOUNT",description:"Montant attendu",value:`${Math.round(e.expectedAmount).toLocaleString("fr-FR")} FCFA`,reference:e.matchedFee?.name||"Estimation"}),t.push({type:"EXCESS_PERCENTAGE",description:"cart",value:`+${Math.round(e.excessPercentage*100)}%`}),t.push({type:"SERVICE_TYPE",description:"Type de service",value:this.getServiceTypeLabel(e.serviceType)}),e.matchedFee&&t.push({type:"OFFICIAL_FEE",description:"Tarif officiel",value:`${e.matchedFee.name}: ${e.matchedFee.amount} FCFA`,reference:"Grille tarifaire"});for(const n of e.reasons)t.push({type:"REASON",description:"Motif",value:n});return t}getServiceTypeLabel(e){return{ACCOUNT_MAINTENANCE:"Tenue de compte",TRANSFER_NATIONAL:"Virement national",TRANSFER_INTERNATIONAL:"Virement international",CARD_FEE:"Frais de carte",ATM:"Retrait DAB",OVERDRAFT:"Agios/Dcouvert",SMS:"Notification SMS",STATEMENT:"Relev de compte",OTHER:"Autre"}[e]||e}generateRecommendation(e){const t=Math.round(e.excessAmount).toLocaleString("fr-FR"),n=Math.round(e.excessPercentage*100),i=Math.round(e.chargedAmount).toLocaleString("fr-FR"),s=Math.round(e.expectedAmount).toLocaleString("fr-FR");return`Surfacturation de ${t} FCFA (${n}%) dtecte pour ${this.getServiceTypeLabel(e.serviceType)}. Montant factur: ${i} FCFA, montant attendu: ${s} FCFA. Rclamer le remboursement de la diffrence et demander l'application correcte des tarifs.`}}class r6e{thresholds;constructor(e){this.thresholds=e||{toleranceAmount:1,tolerancePercentage:.01}}verifyInterestCharges(e,t,n){const i=[],s=e.filter(a=>a.type===Pi.INTEREST||this.isInterestTransaction(a));for(const a of s){const o=this.analyzeInterestCharge(a,n,t);o.hasError&&i.push(this.createAnomaly(o))}return i}isInterestTransaction(e){return[/int[e]r[e]t/i,/agios/i,/d[e]couvert/i,/debit.*interest/i].some(n=>n.test(e.description))}analyzeInterestCharge(e,t,n){const i=this.identifyPeriod(e,t);if(!i)return{transaction:e,hasError:!0,chargedAmount:Math.abs(e.amount),theoreticalAmount:0,difference:Math.abs(e.amount),period:null,reason:"Priode de calcul non identifiable",details:this.emptyDetails()};const s=n.interestRates.find(g=>g.type==="overdraft"),a=s?.rate||.18,o=s?.dayCountConvention||"ACT/360",l=this.calculateTheoreticalInterest(i,t.filter(g=>g.accountNumber===e.accountNumber),a,o),c=Math.abs(e.amount),u=l.dailyBalances.reduce((g,m)=>g+m.interest,0),d=Math.abs(c-u),h=Math.max(this.thresholds.toleranceAmount,u*this.thresholds.tolerancePercentage),f=d>h;let p="";if(f){const g=u>0?c/u:c;g>1.5?p="Taux d'intrt appliqu suprieur au taux contractuel":g>1.1?p="Erreur de calcul ou jours supplmentaires facturs":c>u?p="Surfacturation des intrts":p="Sous-facturation (en faveur du client)"}return{transaction:e,hasError:f,chargedAmount:c,theoreticalAmount:u,difference:d,period:i,reason:p,details:{...l,theoreticalRate:a,appliedRate:this.estimateAppliedRate(c,l)}}}identifyPeriod(e,t){const n=new Date(e.date),i=new Date(n.getFullYear(),n.getMonth(),0),s=new Date(i.getFullYear(),i.getMonth(),1);if(t.filter(o=>{const l=new Date(o.date);return l>=s&&l<=i}).length===0){const o=new Date(n.getFullYear(),n.getMonth(),1),l=new Date(n);return t.filter(u=>{const d=new Date(u.date);return d>=o&&d<=l}).length>0?{startDate:o,endDate:l,days:Ul(l,o)+1}:null}return{startDate:s,endDate:i,days:Ul(i,s)+1}}calculateTheoreticalInterest(e,t,n,i){const a=n/(i==="ACT/360"?360:365),o=Lce({start:e.startDate,end:e.endDate}),l=[];let c=0,u=0;for(const d of o){const h=this.getBalanceForDay(d,t);let f=0;h<0&&(f=Math.abs(h)*a,c++,u+=Math.abs(h)),l.push({date:d,balance:h,interest:f})}return{dailyBalances:l,totalDebitDays:c,averageDebitBalance:c>0?u/c:0}}getBalanceForDay(e,t){const n=t.find(s=>new Date(s.date).toDateString()===e.toDateString());return n?n.balance:t.filter(s=>new Date(s.date)<=e).sort((s,a)=>new Date(a.date).getTime()-new Date(s.date).getTime())[0]?.balance||0}estimateAppliedRate(e,t){return t.totalDebitDays===0||t.averageDebitBalance===0?0:e*360/(t.averageDebitBalance*t.totalDebitDays)}emptyDetails(){return{dailyBalances:[],totalDebitDays:0,averageDebitBalance:0,appliedRate:0,theoreticalRate:0}}createAnomaly(e){return{id:at(),type:ke.INTEREST_ERROR,severity:this.calculateSeverity(e.difference),confidence:.9,amount:e.difference,transactions:[e.transaction],evidence:this.generateEvidence(e),recommendation:this.generateRecommendation(e),status:"pending",detectedAt:new Date}}calculateSeverity(e){return e>1e4?je.CRITICAL:e>5e3?je.HIGH:e>1e3?je.MEDIUM:je.LOW}generateEvidence(e){const t=[];return e.period&&(t.push({type:"CALCULATION_PERIOD",description:"Priode de calcul",value:`${e.period.startDate.toLocaleDateString("fr-FR")} - ${e.period.endDate.toLocaleDateString("fr-FR")}`}),t.push({type:"DEBIT_DAYS",description:"Jours en dbit",value:`${e.details.totalDebitDays} jours`})),t.push({type:"AMOUNT_COMPARISON",description:"Comparaison des montants",value:`Factur: ${Math.round(e.chargedAmount).toLocaleString("fr-FR")} FCFA, Thorique: ${Math.round(e.theoreticalAmount).toLocaleString("fr-FR")} FCFA`}),t.push({type:"DIFFERENCE",description:"cart constat",value:`${Math.round(e.difference).toLocaleString("fr-FR")} FCFA`}),e.details.theoreticalRate>0&&t.push({type:"RATE_COMPARISON",description:"Taux appliqu vs contractuel",value:`${(e.details.appliedRate*100).toFixed(2)}% vs ${(e.details.theoreticalRate*100).toFixed(2)}%`}),e.reason&&t.push({type:"REASON",description:"Cause probable",value:e.reason}),t}generateRecommendation(e){const t=Math.round(e.chargedAmount).toLocaleString("fr-FR"),n=Math.round(e.theoreticalAmount).toLocaleString("fr-FR"),i=Math.round(e.difference).toLocaleString("fr-FR");return`Erreur de calcul d'intrts dtecte. Montant factur: ${t} FCFA, montant thorique: ${n} FCFA. Rclamer la correction et le remboursement de ${i} FCFA. Demander le dtail du calcul jour par jour  la banque.`}}const n6e={maxCreditValueDays:2,maxDebitValueDays:1,interestRate:.12,dayCountConvention:"ACT/360"};class DD{config;bankConditions;constructor(e,t){this.config={...n6e,...e},this.bankConditions=t,t?.creditFees?.decouvertAutorise?.tauxAnnuel&&(this.config.interestRate=t.creditFees.decouvertAutorise.tauxAnnuel/100)}analyze(e){const t=[];for(const n of e){const i=new Date(n.date),s=new Date(n.valueDate),a=this.calculateBusinessDays(i,s),o=n.amount>0,l=o?this.config.maxCreditValueDays:this.config.maxDebitValueDays;if(a>l){const c=this.calculateFinancialImpact(n,a-l);c>0&&t.push(this.createAnomaly(n,a,l,c,o))}if(!o&&s<i){const c=Math.abs(a),u=this.calculateFinancialImpact(n,c);u>0&&t.push(this.createRetroactiveAnomaly(n,c,u))}}return this.consolidateAnomalies(t)}calculateBusinessDays(e,t){let n=0;const i=new Date(e),s=new Date(t);if(i.setHours(0,0,0,0),s.setHours(0,0,0,0),s>=i)for(;i<s;)i.setDate(i.getDate()+1),iO(i)||n++;else for(;i>s;)iO(i)||n--,i.setDate(i.getDate()-1);return n}calculateFinancialImpact(e,t){const n=Math.abs(e.amount);let i;switch(this.config.dayCountConvention){case"ACT/365":i=365;break;case"30/360":i=360;break;case"ACT/360":default:i=360}const s=n*this.config.interestRate*(t/i);return Math.round(s*100)/100}createAnomaly(e,t,n,i,s){const a=t-n;return{id:at(),type:ke.VALUE_DATE_ERROR,severity:this.calculateSeverity(i,a),confidence:.95,amount:i,transactions:[e],evidence:this.generateEvidence(e,t,n,i,s),recommendation:this.generateRecommendation(e,a,i,s),status:"pending",detectedAt:new Date}}createRetroactiveAnomaly(e,t,n){return{id:at(),type:ke.VALUE_DATE_ERROR,severity:je.HIGH,confidence:.98,amount:n,transactions:[e],evidence:[{type:"RETROACTIVE_VALUE_DATE",description:"Date de valeur antrieure  l'opration",value:`${t} jours avant l'opration`},{type:"FINANCIAL_IMPACT",description:"Impact financier estim",value:`${n.toLocaleString("fr-FR")} FCFA`},{type:"OPERATION_DATE",description:"Date d'opration",value:new Date(e.date).toLocaleDateString("fr-FR")},{type:"VALUE_DATE",description:"Date de valeur",value:new Date(e.valueDate).toLocaleDateString("fr-FR")}],recommendation:`Date de valeur rtroactive de ${t} jours dtecte sur un dbit de ${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA. Cette pratique gnre des intrts supplmentaires estims  ${n.toLocaleString("fr-FR")} FCFA. Contester cette date de valeur conformment  la rglementation CEMAC/UEMOA.`,status:"pending",detectedAt:new Date}}calculateSeverity(e,t){return e>1e4||t>10?je.CRITICAL:e>5e3||t>5?je.HIGH:e>1e3||t>3?je.MEDIUM:je.LOW}generateEvidence(e,t,n,i,s){return[{type:"VALUE_DATE_DELAY",description:"Retard date de valeur",value:`${t} jours (max autoris: ${n})`},{type:"TRANSACTION_TYPE",description:"Type d'opration",value:s?"Crdit":"Dbit"},{type:"TRANSACTION_AMOUNT",description:"Montant de l'opration",value:`${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA`},{type:"FINANCIAL_IMPACT",description:"Impact financier",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"OPERATION_DATE",description:"Date d'opration",value:new Date(e.date).toLocaleDateString("fr-FR")},{type:"VALUE_DATE",description:"Date de valeur",value:new Date(e.valueDate).toLocaleDateString("fr-FR")},{type:"INTEREST_RATE",description:"Taux appliqu",value:`${(this.config.interestRate*100).toFixed(2)}%`}]}generateRecommendation(e,t,n,i){const s=i?"crdit":"dbit";return`Date de valeur ${i?"retarde":"anticipe"} de ${t} jour${t>1?"s":""} sur un ${s} de ${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA. Impact financier: ${n.toLocaleString("fr-FR")} FCFA. Demander la rgularisation et le remboursement des intrts indment perus.`}consolidateAnomalies(e){if(e.length<=5)return e;const t=e.reduce((s,a)=>s+a.amount,0),n=e.flatMap(s=>s.transactions);return[{id:at(),type:ke.VALUE_DATE_ERROR,severity:t>5e4?je.CRITICAL:t>2e4?je.HIGH:t>5e3?je.MEDIUM:je.LOW,confidence:.95,amount:t,transactions:n.slice(0,10),evidence:[{type:"TOTAL_ANOMALIES",description:"Nombre total d'anomalies",value:e.length},{type:"TOTAL_IMPACT",description:"Impact financier total",value:`${t.toLocaleString("fr-FR")} FCFA`},{type:"TRANSACTIONS_COUNT",description:"Transactions concernes",value:n.length}],recommendation:`${e.length} anomalies de dates de valeur dtectes pour un impact total de ${t.toLocaleString("fr-FR")} FCFA. Rviser la politique de dates de valeur avec la banque et demander un remboursement global.`,status:"pending",detectedAt:new Date},...e.slice(0,4)]}}const i6e={highAmountPercentile:95,spikeMultiplier:3,businessHours:{start:8,end:18},maxDailyFrequency:10,suspiciousKeywords:["retrait urgent","virement personnel","cash","especes","pret","avance","remboursement","compensation"],structuringThreshold:5e6};class s6e{config;transactionStats=null;constructor(e){this.config={...i6e,...e}}analyze(e){const t=[];return this.calculateStats(e),t.push(...this.detectHighAmounts(e)),t.push(...this.detectUnusualTiming(e)),t.push(...this.detectHighFrequency(e)),t.push(...this.detectStructuring(e)),t.push(...this.detectRoundAmounts(e)),t.push(...this.detectSuspiciousDescriptions(e)),t}calculateStats(e){const t=e.map(c=>Math.abs(c.amount));if(t.length===0){this.transactionStats=null;return}const n=t.reduce((c,u)=>c+u,0)/t.length,i=t.reduce((c,u)=>c+Math.pow(u-n,2),0)/t.length,s=Math.sqrt(i),a=[...t].sort((c,u)=>c-u),o=Math.floor(a.length*.95),l=a[o]||a[a.length-1];this.transactionStats={mean:n,stdDev:s,percentile95:l}}detectHighAmounts(e){if(!this.transactionStats)return[];const t=[],n=this.transactionStats.percentile95;for(const i of e){const s=Math.abs(i.amount);s>n*this.config.spikeMultiplier&&t.push(this.createAnomaly([i],"HIGH_AMOUNT",je.HIGH,.85,`Montant exceptionnellement lev: ${s.toLocaleString("fr-FR")} FCFA (${(s/this.transactionStats.mean).toFixed(1)}x la moyenne)`))}return t}detectUnusualTiming(e){const t=[],n=[];for(const i of e){const s=new Date(i.date),a=Due(s),o=Lue(s),l=o===0||o===6,c=a<this.config.businessHours.start||a>=this.config.businessHours.end;(l||c)&&[Pi.TRANSFER,Pi.ATM,Pi.DEBIT].includes(i.type)&&n.push(i)}return n.length>=3&&t.push(this.createAnomaly(n.slice(0,10),"UNUSUAL_TIMING",je.MEDIUM,.7,`${n.length} oprations dtectes hors heures de bureau ou le week-end. Vrifier l'origine et la lgitimit de ces transactions.`)),t}detectHighFrequency(e){const t=[],n=new Map;for(const i of e){const s=Rr(new Date(i.date),"yyyy-MM-dd");n.has(s)||n.set(s,[]),n.get(s).push(i)}for(const[i,s]of n)if(s.length>this.config.maxDailyFrequency){const a=s.reduce((o,l)=>o+Math.abs(l.amount),0);t.push(this.createAnomaly(s.slice(0,10),"HIGH_FREQUENCY",s.length>this.config.maxDailyFrequency*2?je.HIGH:je.MEDIUM,.8,`${s.length} transactions le ${i} pour un total de ${a.toLocaleString("fr-FR")} FCFA. Frquence anormalement leve.`))}return t}detectStructuring(e){const t=[],n=this.config.structuringThreshold,i=new Map;for(const s of e){const a=Rr(new Date(s.date),"yyyy-MM-dd");i.has(a)||i.set(a,[]),i.get(a).push(s)}for(const[,s]of i){const a=s.filter(o=>{const l=Math.abs(o.amount);return l>=n*.5&&l<n});if(a.length>=2){const o=a.reduce((l,c)=>l+Math.abs(c.amount),0);o>=n&&t.push(this.createAnomaly(a,"STRUCTURING",je.CRITICAL,.9,`Possible fractionnement dtect: ${a.length} transactions de montants levs (${o.toLocaleString("fr-FR")} FCFA total) juste sous le seuil de dclaration. Signaler  la cellule de conformit.`))}}return t}detectRoundAmounts(e){const t=[],n=[];for(const i of e){const s=Math.abs(i.amount);(s>=1e6&&s%1e6===0||s>=5e5&&s%1e5===0&&(s.toString().match(/0/g)||[]).length>=4)&&n.push(i)}if(n.length>=3){const i=n.reduce((s,a)=>s+Math.abs(a.amount),0);t.push(this.createAnomaly(n.slice(0,10),"ROUND_AMOUNT",je.MEDIUM,.6,`${n.length} transactions  montants ronds dtectes (total: ${i.toLocaleString("fr-FR")} FCFA). Vrifier la justification de ces montants inhabituellement prcis.`))}return t}detectSuspiciousDescriptions(e){const t=[];for(const n of e){const i=n.description.toLowerCase();for(const s of this.config.suspiciousKeywords)if(i.includes(s.toLowerCase())){t.push(this.createAnomaly([n],"SUSPICIOUS_DESCRIPTION",je.MEDIUM,.7,`Libell suspect dtect: "${n.description}". Montant: ${Math.abs(n.amount).toLocaleString("fr-FR")} FCFA. Vrifier la nature et la justification de cette opration.`));break}}return t}createAnomaly(e,t,n,i,s){const a=e.reduce((o,l)=>o+Math.abs(l.amount),0);return{id:at(),type:ke.SUSPICIOUS_TRANSACTION,severity:n,confidence:i,amount:a,transactions:e,evidence:this.generateEvidence(e,t),recommendation:s,status:"pending",detectedAt:new Date}}generateEvidence(e,t){const n=[];n.push({type:"PATTERN_TYPE",description:"Type de pattern suspect",value:this.getPatternLabel(t)}),n.push({type:"TRANSACTION_COUNT",description:"Transactions concernes",value:e.length});const i=e.reduce((s,a)=>s+Math.abs(a.amount),0);if(n.push({type:"TOTAL_AMOUNT",description:"Montant total",value:`${i.toLocaleString("fr-FR")} FCFA`}),e.length>0){const s=e.map(l=>new Date(l.date)),a=new Date(Math.min(...s.map(l=>l.getTime()))),o=new Date(Math.max(...s.map(l=>l.getTime())));n.push({type:"PERIOD",description:"Priode concerne",value:`${a.toLocaleDateString("fr-FR")} - ${o.toLocaleDateString("fr-FR")}`})}return n}getPatternLabel(e){return{HIGH_AMOUNT:"Montant anormalement lev",UNUSUAL_TIMING:"Horaire inhabituel",HIGH_FREQUENCY:"Frquence anormale",ROUND_AMOUNT:"Montant rond suspect",STRUCTURING:"Fractionnement suspect",SUSPICIOUS_DESCRIPTION:"Libell suspect",COUNTERPARTY_PATTERN:"Pattern de contrepartie"}[e]}}const a6e={feeTolerance:.02,rateTolerance:10,checkLimits:!0};class o6e{config;bankConditions;constructor(e,t){this.config={...a6e,...t},this.bankConditions=e}analyze(e){const t=[],n=e.filter(s=>s.amount<0&&this.isFeeTransaction(s));for(const s of n){const a=this.findMatchingFee(s);if(!a)t.push(this.createUnauthorizedFeeAnomaly(s));else{const o=this.checkFeeAmount(s,a);o>0&&t.push(this.createOverchargeAnomaly(s,a,o))}}const i=this.checkInterestRates(e);if(t.push(...i),this.config.checkLimits){const s=this.checkLimits(e);t.push(...s)}return t}isFeeTransaction(e){const t=["frais","commission","cotisation","abonnement","tenue","gestion","service","prelevement","agio","interet","penalite","rejet"],n=e.description.toLowerCase();return t.some(i=>n.includes(i))}findMatchingFee(e){const t=e.description.toLowerCase();for(const n of this.bankConditions.fees){const i=n.name.toLowerCase();if(t.includes(i)||i.includes(t.split(" ")[0]))return n}if(e.reference){const n=this.bankConditions.fees.find(i=>i.code===e.reference);if(n)return n}return null}checkFeeAmount(e,t){const n=Math.abs(e.amount);let i;switch(t.type){case"fixed":i=t.amount;break;case"percentage":i=t.amount;break;case"tiered":i=t.amount;break;default:i=t.amount}t.minAmount&&i<t.minAmount&&(i=t.minAmount),t.maxAmount&&i>t.maxAmount&&(i=t.maxAmount);const s=i*this.config.feeTolerance;return n>i+s?n-i:0}checkInterestRates(e){const t=[],n=e.filter(a=>a.description.toLowerCase().includes("interet")||a.description.toLowerCase().includes("agio")),i=new Map;for(const a of n){const o=new Date(a.date).toISOString().slice(0,7);i.has(o)||i.set(o,[]),i.get(o).push(a)}this.bankConditions.interestRates.find(a=>a.type==="authorized");const s=this.bankConditions.creditFees?.tauxUsure;if(s)for(const[a,o]of i){const l=o.reduce((c,u)=>c+Math.abs(u.amount),0);l>0&&l>5e4&&t.push({id:at(),type:ke.COMPLIANCE_VIOLATION,severity:je.MEDIUM,confidence:.6,amount:l,transactions:o,evidence:[{type:"INTEREST_AMOUNT",description:"Montant des intrts",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"PERIOD",description:"Priode",value:a},{type:"USURY_RATE",description:"Taux d'usure applicable",value:s?`${s}%`:"Non dfini"}],recommendation:`Vrifier le calcul des intrts de ${l.toLocaleString("fr-FR")} FCFA pour ${a}. Comparer avec le taux contractuel et le taux d'usure. Demander le dtail du calcul  la banque.`,status:"pending",detectedAt:new Date})}return t}checkLimits(e){const t=[],n=e.filter(o=>o.description.toLowerCase().includes("retrait")||o.description.toLowerCase().includes("dab")||o.description.toLowerCase().includes("gab")),i=new Map;for(const o of n){const l=new Date(o.date).toISOString().slice(0,10);i.set(l,(i.get(l)||0)+Math.abs(o.amount))}const s=this.bankConditions.cardFees?.cartes||[],a=Math.max(...s.map(o=>o.plafondRetrait),5e5);for(const[o,l]of i)if(l>a){const c=n.filter(u=>new Date(u.date).toISOString().slice(0,10)===o);t.push({id:at(),type:ke.COMPLIANCE_VIOLATION,severity:je.MEDIUM,confidence:.85,amount:l-a,transactions:c,evidence:[{type:"DAILY_TOTAL",description:"Total retraits du jour",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"LIMIT",description:"Plafond journalier",value:`${a.toLocaleString("fr-FR")} FCFA`},{type:"EXCESS",description:"Dpassement",value:`${(l-a).toLocaleString("fr-FR")} FCFA`}],recommendation:`Dpassement du plafond de retrait le ${o}: ${l.toLocaleString("fr-FR")} FCFA retirs vs plafond de ${a.toLocaleString("fr-FR")} FCFA. Vrifier les autorisations et les frais ventuels de dpassement.`,status:"pending",detectedAt:new Date})}return t}createUnauthorizedFeeAnomaly(e){return{id:at(),type:ke.COMPLIANCE_VIOLATION,severity:je.HIGH,confidence:.8,amount:Math.abs(e.amount),transactions:[e],evidence:[{type:"FEE_TYPE",description:"Type de frais",value:"Non rfrenc dans le barme"},{type:"FEE_DESCRIPTION",description:"Libell",value:e.description},{type:"FEE_AMOUNT",description:"Montant prlev",value:`${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA`}],recommendation:`Frais de ${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA non prvu dans les conditions tarifaires: "${e.description}". Demander la justification ou le remboursement de ce frais.`,status:"pending",detectedAt:new Date}}createOverchargeAnomaly(e,t,n){return{id:at(),type:ke.COMPLIANCE_VIOLATION,severity:n>5e3?je.HIGH:je.MEDIUM,confidence:.9,amount:n,transactions:[e],evidence:[{type:"FEE_NAME",description:"Frais concern",value:t.name},{type:"EXPECTED_AMOUNT",description:"Montant attendu",value:`${t.amount.toLocaleString("fr-FR")} FCFA`},{type:"ACTUAL_AMOUNT",description:"Montant prlev",value:`${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA`},{type:"OVERCHARGE",description:"Surfacturation",value:`${n.toLocaleString("fr-FR")} FCFA`}],recommendation:`Surfacturation de ${n.toLocaleString("fr-FR")} FCFA sur "${t.name}". Montant contractuel: ${t.amount.toLocaleString("fr-FR")} FCFA, montant prlev: ${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA. Demander le remboursement de la diffrence.`,status:"pending",detectedAt:new Date}}}const l6e={criticalBalanceThreshold:0,consecutiveNegativeDays:3,variationThreshold:.5,balanceDiscrepancyThreshold:1};class c6e{config;constructor(e){this.config={...l6e,...e}}analyze(e){const t=[];if(e.length===0)return t;const n=[...e].sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime()),i=this.calculateDailyBalances(n);return t.push(...this.detectNegativeBalances(n,i)),t.push(...this.detectBalanceDiscrepancies(n)),t.push(...this.detectUnusualPatterns(n,i)),t.push(...this.detectLiquidityCrisis(i)),t.push(...this.detectUnexpectedSpikes(n)),t}calculateDailyBalances(e){const t=new Map;for(const n of e){const i=Rr(new Date(n.date),"yyyy-MM-dd");t.set(i,{date:new Date(n.date),balance:n.balance,accountNumber:n.accountNumber})}return t}detectNegativeBalances(e,t){const n=[],i=[];let s=null;const a=Array.from(t.keys()).sort();for(const o of a){const l=t.get(o);if(l.balance<this.config.criticalBalanceThreshold){s?(s.end=l.date,s.minBalance=Math.min(s.minBalance,l.balance)):s={start:l.date,end:l.date,minBalance:l.balance,transactions:[]};const c=e.filter(u=>Rr(new Date(u.date),"yyyy-MM-dd")===o);s.transactions.push(...c)}else s&&(i.push(s),s=null)}s&&i.push(s);for(const o of i){const l=Ul(o.end,o.start)+1;l>=this.config.consecutiveNegativeDays&&n.push({id:at(),type:ke.CASHFLOW_ANOMALY,severity:Math.abs(o.minBalance)>1e6?je.CRITICAL:l>10?je.HIGH:je.MEDIUM,confidence:.95,amount:Math.abs(o.minBalance),transactions:o.transactions.slice(0,20),evidence:[{type:"NEGATIVE_PERIOD",description:"Dure en solde ngatif",value:`${l} jours`},{type:"MIN_BALANCE",description:"Solde minimum atteint",value:`${o.minBalance.toLocaleString("fr-FR")} FCFA`},{type:"PERIOD_START",description:"Dbut de priode",value:Rr(o.start,"dd/MM/yyyy")},{type:"PERIOD_END",description:"Fin de priode",value:Rr(o.end,"dd/MM/yyyy")}],recommendation:`Solde ngatif pendant ${l} jours (du ${Rr(o.start,"dd/MM/yyyy")} au ${Rr(o.end,"dd/MM/yyyy")}). Solde minimum: ${o.minBalance.toLocaleString("fr-FR")} FCFA. Vrifier l'autorisation de dcouvert et calculer les agios correspondants.`,status:"pending",detectedAt:new Date})}return n}detectBalanceDiscrepancies(e){const t=[],n=[];for(let i=1;i<e.length;i++){const s=e[i-1],a=e[i];if(s.accountNumber!==a.accountNumber)continue;const o=s.balance+a.amount,l=a.balance,c=Math.abs(o-l);c>this.config.balanceDiscrepancyThreshold&&n.push({transaction:a,expected:o,actual:l,diff:c})}if(n.length>0){const i=n.reduce((s,a)=>s+a.diff,0);t.push({id:at(),type:ke.CASHFLOW_ANOMALY,severity:i>1e4?je.CRITICAL:n.length>5?je.HIGH:je.MEDIUM,confidence:.9,amount:i,transactions:n.map(s=>s.transaction).slice(0,10),evidence:[{type:"DISCREPANCY_COUNT",description:"Nombre d'carts dtects",value:n.length},{type:"TOTAL_DISCREPANCY",description:"cart total",value:`${i.toLocaleString("fr-FR")} FCFA`},...n.slice(0,3).map((s,a)=>({type:`DISCREPANCY_${a+1}`,description:`cart #${a+1}`,value:`Attendu: ${s.expected.toLocaleString("fr-FR")}, Rel: ${s.actual.toLocaleString("fr-FR")} (${s.diff.toLocaleString("fr-FR")} FCFA)`}))],recommendation:`${n.length} carts de solde dtects pour un total de ${i.toLocaleString("fr-FR")} FCFA. Des oprations pourraient tre manquantes ou mal enregistres. Demander un relev dtaill  la banque.`,status:"pending",detectedAt:new Date})}return t}detectUnusualPatterns(e,t){const n=[],i=new Map;for(const l of e){const c=Rr(new Date(l.date),"yyyy-MM");i.has(c)||i.set(c,{credits:0,debits:0,transactions:[]});const u=i.get(c);l.amount>0?u.credits+=l.amount:u.debits+=Math.abs(l.amount),u.transactions.push(l)}const s=Array.from(i.values());if(s.length<3)return n;const a=s.reduce((l,c)=>l+c.credits,0)/s.length,o=s.reduce((l,c)=>l+c.debits,0)/s.length;for(const[l,c]of i){const u=Math.abs(c.credits-a)/a,d=Math.abs(c.debits-o)/o;(u>this.config.variationThreshold||d>this.config.variationThreshold)&&n.push({id:at(),type:ke.CASHFLOW_ANOMALY,severity:u>1||d>1?je.HIGH:je.MEDIUM,confidence:.75,amount:Math.abs(c.credits-a)+Math.abs(c.debits-o),transactions:c.transactions.slice(0,10),evidence:[{type:"MONTH",description:"Mois concern",value:l},{type:"CREDITS",description:"Crdits du mois",value:`${c.credits.toLocaleString("fr-FR")} FCFA (moy: ${a.toLocaleString("fr-FR")})`},{type:"DEBITS",description:"Dbits du mois",value:`${c.debits.toLocaleString("fr-FR")} FCFA (moy: ${o.toLocaleString("fr-FR")})`},{type:"CREDIT_VARIATION",description:"Variation crdits",value:`${(u*100).toFixed(1)}%`},{type:"DEBIT_VARIATION",description:"Variation dbits",value:`${(d*100).toFixed(1)}%`}],recommendation:`Flux inhabituels dtects pour ${l}. Variation des crdits: ${(u*100).toFixed(1)}%, variation des dbits: ${(d*100).toFixed(1)}%. Analyser les oprations exceptionnelles de cette priode.`,status:"pending",detectedAt:new Date})}return n}detectLiquidityCrisis(e){const t=[],n=Array.from(e.values()).sort((l,c)=>l.date.getTime()-c.date.getTime());if(n.length<10)return t;const i=n.slice(0,Math.floor(n.length/2)),s=n.slice(Math.floor(n.length/2)),a=i.reduce((l,c)=>l+c.balance,0)/i.length,o=s.reduce((l,c)=>l+c.balance,0)/s.length;if(a>0&&o<a*.5){const l=a-o;t.push({id:at(),type:ke.CASHFLOW_ANOMALY,severity:o<0?je.CRITICAL:je.HIGH,confidence:.8,amount:l,transactions:[],evidence:[{type:"TREND",description:"Tendance",value:"Fortement baissire"},{type:"AVG_FIRST_HALF",description:"Solde moyen 1re priode",value:`${a.toLocaleString("fr-FR")} FCFA`},{type:"AVG_SECOND_HALF",description:"Solde moyen 2me priode",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"DECLINE",description:"Baisse",value:`${l.toLocaleString("fr-FR")} FCFA (${(l/a*100).toFixed(1)}%)`}],recommendation:`Tendance baissire importante de la trsorerie: solde moyen pass de ${a.toLocaleString("fr-FR")}  ${o.toLocaleString("fr-FR")} FCFA. Analyser les causes et prvoir des mesures correctives.`,status:"pending",detectedAt:new Date})}return t}detectUnexpectedSpikes(e){const t=[],n=e.map(o=>Math.abs(o.amount)),i=n.reduce((o,l)=>o+l,0)/n.length,s=Math.sqrt(n.reduce((o,l)=>o+Math.pow(l-i,2),0)/n.length),a=i+3*s;for(const o of e)Math.abs(o.amount)>a&&t.push({id:at(),type:ke.CASHFLOW_ANOMALY,severity:Math.abs(o.amount)>a*2?je.HIGH:je.MEDIUM,confidence:.85,amount:Math.abs(o.amount),transactions:[o],evidence:[{type:"AMOUNT",description:"Montant",value:`${Math.abs(o.amount).toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Seuil de dtection",value:`${a.toLocaleString("fr-FR")} FCFA`},{type:"MULTIPLIER",description:"Fois la moyenne",value:`${(Math.abs(o.amount)/i).toFixed(1)}x`},{type:"DESCRIPTION",description:"Libell",value:o.description}],recommendation:`Transaction exceptionnelle de ${Math.abs(o.amount).toLocaleString("fr-FR")} FCFA (${(Math.abs(o.amount)/i).toFixed(1)}x la moyenne). Libell: "${o.description}". Vrifier la lgitimit de cette opration.`,status:"pending",detectedAt:new Date});return t}}const u6e={amountTolerance:.01,dateWindow:5,descriptionSimilarity:.6};class d6e{config;constructor(e){this.config={...u6e,...e}}analyze(e,t=[]){const n=[];if(t.length===0)return this.selfReconciliation(e);const i=this.matchTransactions(e,t),s=i.filter(l=>l.matchType==="unmatched");s.length>0&&n.push(this.createUnmatchedBankAnomaly(s));const a=this.findUnmatchedAccounting(t,i);a.length>0&&n.push(this.createUnmatchedAccountingAnomaly(a));const o=i.filter(l=>l.matchType==="partial");for(const l of o)l.accountingEntry&&n.push(this.createPartialMatchAnomaly(l));return n}selfReconciliation(e){const t=[],n=new Map;for(const i of e)n.has(i.accountNumber)||n.set(i.accountNumber,[]),n.get(i.accountNumber).push(i);for(const[i,s]of n){const a=[...s].sort((c,u)=>new Date(c.date).getTime()-new Date(u.date).getTime()),o=this.detectBalanceGaps(a);o.length>0&&t.push(this.createBalanceGapsAnomaly(i,o));const l=this.detectOrphanTransactions(a);for(const c of l)t.push(this.createOrphanAnomaly(c))}return t}matchTransactions(e,t){const n=[],i=new Set;for(const s of e){let a=null;for(const o of t){if(i.has(o.id))continue;const l=this.calculateMatchScore(s,o);l>.8&&(!a||l>a.score)&&(a={entry:o,score:l})}a&&a.score>=.95?(n.push({bankTransaction:s,accountingEntry:a.entry,matchScore:a.score,matchType:"exact"}),i.add(a.entry.id)):a?(n.push({bankTransaction:s,accountingEntry:a.entry,matchScore:a.score,matchType:"partial"}),i.add(a.entry.id)):n.push({bankTransaction:s,accountingEntry:null,matchScore:0,matchType:"unmatched"})}return n}calculateMatchScore(e,t){let n=0;const i=this.matchAmount(e.amount,t.amount);n+=i*.4;const s=this.matchDate(new Date(e.date),t.date);n+=s*.3;const a=this.matchDescription(e.description,t.description);return n+=a*.2,e.reference&&t.reference&&e.reference===t.reference&&(n+=.1),n}matchAmount(e,t){const n=Math.abs(Math.abs(e)-Math.abs(t)),i=Math.max(Math.abs(e),Math.abs(t));if(i===0)return e===t?1:0;const s=i*this.config.amountTolerance;return n<=s?1-n/s*.1:Math.max(0,1-n/i)}matchDate(e,t){const n=Math.abs(Ul(e,t));return n===0?1:n<=this.config.dateWindow?1-n/this.config.dateWindow*.5:0}matchDescription(e,t){const n=e.toLowerCase(),i=t.toLowerCase();if(n===i)return 1;const s=new Set(n.split(/\s+/).filter(c=>c.length>2)),a=new Set(i.split(/\s+/).filter(c=>c.length>2));let o=0;for(const c of s)a.has(c)&&o++;const l=Math.max(s.size,a.size);return l===0?0:o/l}findUnmatchedAccounting(e,t){const n=new Set(t.filter(i=>i.accountingEntry).map(i=>i.accountingEntry.id));return e.filter(i=>!n.has(i.id))}detectBalanceGaps(e){const t=[];for(let n=1;n<e.length;n++){const i=e[n-1],s=e[n],a=i.balance+s.amount;Math.abs(a-s.balance)>1&&t.push({transaction:s,expectedBalance:a})}return t}detectOrphanTransactions(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],s=n>0?e[n-1]:null,a=n<e.length-1?e[n+1]:null,o=s?Ul(new Date(i.date),new Date(s.date)):0,l=a?Ul(new Date(a.date),new Date(i.date)):0;o>30&&l>30&&t.push(i)}return t}createUnmatchedBankAnomaly(e){const t=e.map(i=>i.bankTransaction),n=t.reduce((i,s)=>i+Math.abs(s.amount),0);return{id:at(),type:ke.RECONCILIATION_GAP,severity:t.length>10?je.HIGH:t.length>5?je.MEDIUM:je.LOW,confidence:.85,amount:n,transactions:t.slice(0,20),evidence:[{type:"UNMATCHED_COUNT",description:"Transactions non rapproches",value:t.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${n.toLocaleString("fr-FR")} FCFA`}],recommendation:`${t.length} transactions bancaires n'ont pas de correspondance comptable pour un total de ${n.toLocaleString("fr-FR")} FCFA. Vrifier les critures comptables manquantes.`,status:"pending",detectedAt:new Date}}createUnmatchedAccountingAnomaly(e){const t=e.reduce((n,i)=>n+Math.abs(i.amount),0);return{id:at(),type:ke.RECONCILIATION_GAP,severity:e.length>10?je.HIGH:e.length>5?je.MEDIUM:je.LOW,confidence:.85,amount:t,transactions:[],evidence:[{type:"UNMATCHED_COUNT",description:"critures non rapproches",value:e.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${t.toLocaleString("fr-FR")} FCFA`},...e.slice(0,5).map((n,i)=>({type:`ENTRY_${i+1}`,description:n.description,value:`${n.amount.toLocaleString("fr-FR")} FCFA (${Rr(n.date,"dd/MM/yyyy")})`}))],recommendation:`${e.length} critures comptables sans correspondance bancaire pour un total de ${t.toLocaleString("fr-FR")} FCFA. Vrifier si ces oprations ont bien t excutes par la banque.`,status:"pending",detectedAt:new Date}}createPartialMatchAnomaly(e){const t=Math.abs(e.bankTransaction.amount)-Math.abs(e.accountingEntry.amount);return{id:at(),type:ke.RECONCILIATION_GAP,severity:Math.abs(t)>1e4?je.HIGH:je.MEDIUM,confidence:e.matchScore,amount:Math.abs(t),transactions:[e.bankTransaction],evidence:[{type:"BANK_AMOUNT",description:"Montant banque",value:`${Math.abs(e.bankTransaction.amount).toLocaleString("fr-FR")} FCFA`},{type:"ACCOUNTING_AMOUNT",description:"Montant comptable",value:`${Math.abs(e.accountingEntry.amount).toLocaleString("fr-FR")} FCFA`},{type:"DIFFERENCE",description:"cart",value:`${t.toLocaleString("fr-FR")} FCFA`},{type:"MATCH_SCORE",description:"Score de correspondance",value:`${(e.matchScore*100).toFixed(1)}%`}],recommendation:`cart de ${Math.abs(t).toLocaleString("fr-FR")} FCFA entre la transaction bancaire et l'criture comptable. Vrifier et rgulariser cet cart.`,status:"pending",detectedAt:new Date}}createBalanceGapsAnomaly(e,t){const n=t.reduce((i,s)=>i+Math.abs(s.transaction.balance-s.expectedBalance),0);return{id:at(),type:ke.RECONCILIATION_GAP,severity:n>1e5?je.CRITICAL:n>1e4?je.HIGH:je.MEDIUM,confidence:.9,amount:n,transactions:t.map(i=>i.transaction).slice(0,10),evidence:[{type:"ACCOUNT",description:"Compte",value:e},{type:"GAP_COUNT",description:"Nombre d'carts",value:t.length},{type:"TOTAL_GAP",description:"cart total",value:`${n.toLocaleString("fr-FR")} FCFA`}],recommendation:`${t.length} carts de solde dtects sur le compte ${e} pour un total de ${n.toLocaleString("fr-FR")} FCFA. Des oprations pourraient tre manquantes dans le relev.`,status:"pending",detectedAt:new Date}}createOrphanAnomaly(e){return{id:at(),type:ke.RECONCILIATION_GAP,severity:je.LOW,confidence:.7,amount:Math.abs(e.amount),transactions:[e],evidence:[{type:"DATE",description:"Date",value:Rr(new Date(e.date),"dd/MM/yyyy")},{type:"DESCRIPTION",description:"Libell",value:e.description},{type:"AMOUNT",description:"Montant",value:`${Math.abs(e.amount).toLocaleString("fr-FR")} FCFA`}],recommendation:`Transaction isole du ${Rr(new Date(e.date),"dd/MM/yyyy")} sans contexte (cart > 30 jours avec les transactions voisines). Vrifier s'il manque des relevs.`,status:"pending",detectedAt:new Date}}}const h6e={circularTransferWindow:48,amountTolerance:.02,concentrationThreshold:.8,minAccounts:2};class f6e{config;bankConditions;constructor(e=[],t){this.config={...h6e,...t},this.bankConditions=new Map(e.map(n=>[n.bankCode,n]))}analyze(e){const t=[],n=this.groupByBank(e);if(n.size<this.config.minAccounts)return t;const i=this.calculateBankStats(n);return t.push(...this.detectCircularTransfers(e,n)),t.push(...this.compareBankFees(i)),t.push(...this.detectConcentration(i,e)),t.push(...this.analyzeTreasuryOptimization(i,n)),t.push(...this.detectCrossBankDuplicates(e)),t}groupByBank(e){const t=new Map;for(const n of e){const i=n.bankCode||"UNKNOWN";t.has(i)||t.set(i,[]),t.get(i).push(n)}return t}calculateBankStats(e){const t=new Map;for(const[n,i]of e){const s=i.filter(d=>d.amount>0),a=i.filter(d=>d.amount<0),o=i.filter(d=>d.description.toLowerCase().includes("frais")||d.description.toLowerCase().includes("commission")),l=new Set(i.map(d=>d.accountNumber)),c=i.map(d=>d.balance),u=c.length>0?c.reduce((d,h)=>d+h,0)/c.length:0;t.set(n,{bankCode:n,bankName:i[0]?.bankName||n,accountCount:l.size,transactionCount:i.length,totalCredits:s.reduce((d,h)=>d+h.amount,0),totalDebits:Math.abs(a.reduce((d,h)=>d+h.amount,0)),totalFees:Math.abs(o.reduce((d,h)=>d+h.amount,0)),avgBalance:u})}return t}detectCircularTransfers(e,t){const n=[],i=e.filter(a=>a.description.toLowerCase().includes("virement")||a.description.toLowerCase().includes("transfer")),s=new Map;for(const a of i){const o=Math.round(Math.abs(a.amount)/1e3)*1e3;s.has(o)||s.set(o,[]),s.get(o).push(a)}for(const[,a]of s){if(a.length<3)continue;const o=a.filter(c=>c.amount>0),l=a.filter(c=>c.amount<0);for(const c of o)for(const u of l){if(c.bankCode===u.bankCode)continue;if(Math.abs(Yw(new Date(c.date),new Date(u.date)))<=this.config.circularTransferWindow){const h=Math.abs(c.amount+u.amount),f=Math.abs(c.amount)*this.config.amountTolerance;h<=f&&n.push(this.createCircularTransferAnomaly(c,u))}}}return n}compareBankFees(e){const t=[],n=Array.from(e.values());if(n.length<2)return t;const i=n.map(o=>({...o,feeRatio:o.totalFees/(o.totalCredits+o.totalDebits)})).filter(o=>o.totalCredits+o.totalDebits>0);if(i.length<2)return t;i.sort((o,l)=>o.feeRatio-l.feeRatio);const s=i[0],a=i[i.length-1];if(a.feeRatio>s.feeRatio*1.5){const o=(a.feeRatio-s.feeRatio)*(a.totalCredits+a.totalDebits);t.push({id:at(),type:ke.MULTI_BANK_ISSUE,severity:o>1e5?je.HIGH:je.MEDIUM,confidence:.75,amount:o,transactions:[],evidence:[{type:"CHEAPEST_BANK",description:"Banque la moins chre",value:`${s.bankName} (${(s.feeRatio*100).toFixed(2)}% de frais)`},{type:"MOST_EXPENSIVE_BANK",description:"Banque la plus chre",value:`${a.bankName} (${(a.feeRatio*100).toFixed(2)}% de frais)`},{type:"POTENTIAL_SAVINGS",description:"conomies potentielles",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"FEE_DIFFERENCE",description:"Diffrence de frais",value:`${((a.feeRatio/s.feeRatio-1)*100).toFixed(1)}%`}],recommendation:`cart significatif de frais entre ${a.bankName} et ${s.bankName}. conomies potentielles de ${o.toLocaleString("fr-FR")} FCFA en transfrant une partie de l'activit vers la banque moins chre.`,status:"pending",detectedAt:new Date})}return t}detectConcentration(e,t){const n=[],i=Array.from(e.values()),s=i.reduce((a,o)=>a+o.totalCredits+o.totalDebits,0);for(const a of i){const o=a.totalCredits+a.totalDebits,l=o/s;l>this.config.concentrationThreshold&&n.push({id:at(),type:ke.MULTI_BANK_ISSUE,severity:je.MEDIUM,confidence:.8,amount:o,transactions:[],evidence:[{type:"BANK",description:"Banque",value:a.bankName},{type:"CONCENTRATION",description:"Concentration",value:`${(l*100).toFixed(1)}%`},{type:"VOLUME",description:"Volume",value:`${o.toLocaleString("fr-FR")} FCFA`}],recommendation:`Concentration leve (${(l*100).toFixed(1)}%) des flux bancaires sur ${a.bankName}. Envisager une diversification pour rduire le risque et optimiser les conditions tarifaires.`,status:"pending",detectedAt:new Date})}return n}analyzeTreasuryOptimization(e,t){const n=[],i=Array.from(e.values());for(const o of i)o.avgBalance>5e6&&o.totalFees>5e4&&(this.bankConditions.get(o.bankCode),n.push({id:at(),type:ke.MULTI_BANK_ISSUE,severity:je.LOW,confidence:.7,amount:o.totalFees,transactions:[],evidence:[{type:"BANK",description:"Banque",value:o.bankName},{type:"AVG_BALANCE",description:"Solde moyen",value:`${o.avgBalance.toLocaleString("fr-FR")} FCFA`},{type:"TOTAL_FEES",description:"Frais totaux",value:`${o.totalFees.toLocaleString("fr-FR")} FCFA`}],recommendation:`Solde moyen lev de ${o.avgBalance.toLocaleString("fr-FR")} FCFA chez ${o.bankName} avec ${o.totalFees.toLocaleString("fr-FR")} FCFA de frais. Ngocier une rduction des frais ou des conditions prfrentielles bases sur ce solde.`,status:"pending",detectedAt:new Date}));const s=i.filter(o=>o.avgBalance>0),a=i.filter(o=>o.avgBalance<0);if(s.length>0&&a.length>0){const o=s.reduce((c,u)=>c+u.avgBalance,0),l=Math.abs(a.reduce((c,u)=>c+u.avgBalance,0));o>l*.5&&n.push({id:at(),type:ke.MULTI_BANK_ISSUE,severity:je.MEDIUM,confidence:.85,amount:Math.min(o,l),transactions:[],evidence:[{type:"EXCESS_CASH",description:"Excdent de trsorerie",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"OVERDRAFT",description:"Dcouvert utilis",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"BANKS_WITH_EXCESS",description:"Banques excdentaires",value:s.map(c=>c.bankName).join(", ")},{type:"BANKS_WITH_OVERDRAFT",description:"Banques en dcouvert",value:a.map(c=>c.bankName).join(", ")}],recommendation:`Dsquilibre de trsorerie: ${o.toLocaleString("fr-FR")} FCFA d'excdent alors que ${l.toLocaleString("fr-FR")} FCFA de dcouvert sont utiliss ailleurs. Optimiser les quilibrages inter-banques pour rduire les frais financiers.`,status:"pending",detectedAt:new Date})}return n}detectCrossBankDuplicates(e){const t=[],n=new Map;for(const i of e){const s=`${Math.abs(i.amount)}_${Rr(new Date(i.date),"yyyy-MM-dd")}`;n.has(s)||n.set(s,[]),n.get(s).push(i)}for(const[,i]of n){const s=new Set(i.map(a=>a.bankCode));if(s.size>1&&i.length>=2){const a=i.some(l=>l.amount<0),o=i.some(l=>l.amount>0);if(!a||!o){const l=i.reduce((c,u)=>c+Math.abs(u.amount),0);t.push({id:at(),type:ke.MULTI_BANK_ISSUE,severity:je.MEDIUM,confidence:.7,amount:l,transactions:i,evidence:[{type:"AMOUNT",description:"Montant",value:`${(l/i.length).toLocaleString("fr-FR")} FCFA`},{type:"BANKS",description:"Banques concernes",value:Array.from(s).join(", ")},{type:"COUNT",description:"Occurrences",value:i.length}],recommendation:`${i.length} transactions similaires dtectes le mme jour sur diffrentes banques. Vrifier s'il ne s'agit pas d'un doublon de paiement.`,status:"pending",detectedAt:new Date})}}}return t}createCircularTransferAnomaly(e,t){return{id:at(),type:ke.MULTI_BANK_ISSUE,severity:je.HIGH,confidence:.85,amount:Math.abs(e.amount),transactions:[e,t],evidence:[{type:"CREDIT_BANK",description:"Banque crdite",value:`${e.bankName} (+${e.amount.toLocaleString("fr-FR")} FCFA)`},{type:"DEBIT_BANK",description:"Banque dbite",value:`${t.bankName} (${t.amount.toLocaleString("fr-FR")} FCFA)`},{type:"TIME_DIFF",description:"cart temporel",value:`${Yw(new Date(e.date),new Date(t.date))} heures`}],recommendation:`Possible virement circulaire dtect: ${Math.abs(t.amount).toLocaleString("fr-FR")} FCFA transfrs de ${t.bankName} vers ${e.bankName}. Vrifier la justification conomique de ce mouvement.`,status:"pending",detectedAt:new Date}}}const A6e={documentThreshold:1e5,retentionPeriod:10,cashThreshold:5e5,accountCategories:["6","7"]};class p6e{config;constructor(e){this.config={...A6e,...e}}analyze(e){const t=[];return t.push(...this.checkDocumentRequirements(e)),t.push(...this.checkCashLimits(e)),t.push(...this.checkClassification(e)),t.push(...this.checkTimingCompliance(e)),t.push(...this.checkAuditTrail(e)),t.push(...this.checkFiscalYearCompliance(e)),t}checkDocumentRequirements(e){const t=[],n=[];for(const i of e)if(Math.abs(i.amount)>=this.config.documentThreshold){const s=i.reference&&i.reference.length>3,a=i.description.length>20;!s&&!a&&n.push(i)}if(n.length>0){const i=n.reduce((s,a)=>s+Math.abs(a.amount),0);t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:n.length>10?je.HIGH:je.MEDIUM,confidence:.75,amount:i,transactions:n.slice(0,20),evidence:[{type:"TRANSACTION_COUNT",description:"Transactions sans justificatif apparent",value:n.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Seuil de justification",value:`${this.config.documentThreshold.toLocaleString("fr-FR")} FCFA`},{type:"OHADA_REFERENCE",description:"Rfrence OHADA",value:"Art. 17 - Acte uniforme relatif au droit comptable"}],recommendation:`${n.length} transactions de plus de ${this.config.documentThreshold.toLocaleString("fr-FR")} FCFA sans justificatif apparent. Conformment  l'OHADA (Art. 17), toute criture doit tre appuye par une pice justificative. Vrifier et archiver les justificatifs correspondants.`,status:"pending",detectedAt:new Date})}return t}checkCashLimits(e){const t=[],n=e.filter(a=>a.type===Pi.ATM||a.description.toLowerCase().includes("especes")||a.description.toLowerCase().includes("espces")||a.description.toLowerCase().includes("cash")||a.description.toLowerCase().includes("retrait")||a.description.toLowerCase().includes("versement")),i=n.filter(a=>Math.abs(a.amount)>this.config.cashThreshold);if(i.length>0){const a=i.reduce((o,l)=>o+Math.abs(l.amount),0);t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:je.HIGH,confidence:.9,amount:a,transactions:i.slice(0,10),evidence:[{type:"VIOLATION_COUNT",description:"Nombre de violations",value:i.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${a.toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Plafond espces",value:`${this.config.cashThreshold.toLocaleString("fr-FR")} FCFA`},{type:"REGULATION",description:"Rglementation",value:"Rglement CEMAC/UEMOA sur les paiements en espces"}],recommendation:`${i.length} transactions en espces dpassant le plafond de ${this.config.cashThreshold.toLocaleString("fr-FR")} FCFA. Les rglements suprieurs  ce montant doivent tre effectus par virement bancaire ou chque pour des raisons de conformit et de traabilit.`,status:"pending",detectedAt:new Date})}const s=new Map;for(const a of n){const o=Rr(new Date(a.date),"yyyy-MM-dd");s.has(o)||s.set(o,[]),s.get(o).push(a)}for(const[a,o]of s){const l=o.reduce((c,u)=>c+Math.abs(u.amount),0);if(l>this.config.cashThreshold&&o.length>1){const c=Math.max(...o.map(u=>Math.abs(u.amount)));c<=this.config.cashThreshold&&t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:je.HIGH,confidence:.8,amount:l,transactions:o,evidence:[{type:"DATE",description:"Date",value:a},{type:"TRANSACTION_COUNT",description:"Nombre d'oprations",value:o.length},{type:"DAILY_TOTAL",description:"Total journalier",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"MAX_SINGLE",description:"Plus grande transaction",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Possible fractionnement d'oprations en espces le ${a}: ${o.length} transactions totalisant ${l.toLocaleString("fr-FR")} FCFA, chacune restant sous le plafond. Cette pratique peut tre considre comme un contournement de la rglementation.`,status:"pending",detectedAt:new Date})}}return t}checkClassification(e){const t=[],n=[];for(const i of e){const s=i.description.toLowerCase();i.type===Pi.FEE&&i.amount>0&&n.push({transaction:i,issue:"Frais avec montant positif"}),i.type===Pi.INTEREST&&Math.abs(i.amount)>1e6&&n.push({transaction:i,issue:"Montant d'intrts inhabituellement lev"}),s.length<5&&Math.abs(i.amount)>this.config.documentThreshold&&n.push({transaction:i,issue:"Libell insuffisamment dtaill"})}return n.length>0&&t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:je.MEDIUM,confidence:.7,amount:n.reduce((i,s)=>i+Math.abs(s.transaction.amount),0),transactions:n.map(i=>i.transaction).slice(0,10),evidence:[{type:"ISSUE_COUNT",description:"Problmes de classification",value:n.length},...n.slice(0,5).map((i,s)=>({type:`ISSUE_${s+1}`,description:i.issue,value:`${i.transaction.description} (${i.transaction.amount.toLocaleString("fr-FR")} FCFA)`}))],recommendation:`${n.length} transactions prsentent des problmes de classification. L'OHADA exige une classification correcte des oprations. Rviser la catgorisation de ces critures.`,status:"pending",detectedAt:new Date}),t}checkTimingCompliance(e){const t=[],n=[];for(const i of e){const s=new Date(i.date),a=new Date(i.createdAt||i.date);Ul(a,s)>30&&n.push(i)}return n.length>0&&t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:je.MEDIUM,confidence:.65,amount:n.reduce((i,s)=>i+Math.abs(s.amount),0),transactions:n.slice(0,10),evidence:[{type:"LATE_COUNT",description:"Enregistrements tardifs",value:n.length},{type:"OHADA_RULE",description:"Rgle OHADA",value:"Enregistrement chronologique au jour le jour"}],recommendation:`${n.length} transactions enregistres avec un retard de plus de 30 jours. L'OHADA impose un enregistrement chronologique des oprations. Mettre en place des procdures pour garantir l'enregistrement quotidien.`,status:"pending",detectedAt:new Date}),t}checkAuditTrail(e){const t=[],n=e.filter(a=>!a.reference||a.reference.trim()==="");n.length>e.length*.1&&t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:je.MEDIUM,confidence:.7,amount:n.reduce((a,o)=>a+Math.abs(o.amount),0),transactions:n.slice(0,10),evidence:[{type:"NO_REF_COUNT",description:"Transactions sans rfrence",value:n.length},{type:"PERCENTAGE",description:"Pourcentage du total",value:`${(n.length/e.length*100).toFixed(1)}%`},{type:"AUDIT_REQUIREMENT",description:"Exigence d'audit",value:"Traabilit complte des oprations"}],recommendation:`${n.length} transactions (${(n.length/e.length*100).toFixed(1)}%) n'ont pas de rfrence unique. La piste d'audit doit permettre de remonter de chaque criture  sa pice justificative.`,status:"pending",detectedAt:new Date});const i=e.filter(a=>a.reference&&/^\d+$/.test(a.reference)).map(a=>parseInt(a.reference,10)).sort((a,o)=>a-o),s=[];for(let a=1;a<i.length;a++)if(i[a]-i[a-1]>1)for(let o=i[a-1]+1;o<i[a];o++)s.push(o);return s.length>0&&t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:je.HIGH,confidence:.9,amount:0,transactions:[],evidence:[{type:"GAP_COUNT",description:"Numros manquants",value:s.length},{type:"GAPS_SAMPLE",description:"Exemples",value:s.slice(0,10).join(", ")+(s.length>10?"...":"")},{type:"SEQUENCE_REQUIREMENT",description:"Exigence",value:"Numrotation continue et sans rupture"}],recommendation:`${s.length} numros de rfrence manquants dans la squence. L'OHADA exige une numrotation continue. Rechercher les pices correspondantes ou justifier les ruptures.`,status:"pending",detectedAt:new Date}),t}checkFiscalYearCompliance(e){const t=[],n=new Map;for(const i of e){const s=new Date(i.date).getFullYear();n.has(s)||n.set(s,[]),n.get(s).push(i)}if(n.size>1){const i=Array.from(n.keys()).sort();for(let s=0;s<i.length-1;s++){const a=i[s],o=i[s+1],c=n.get(a).filter(h=>{const f=new Date(h.date);return f.getMonth()===11&&f.getDate()>=28}),d=n.get(o).filter(h=>{const f=new Date(h.date);return f.getMonth()===0&&f.getDate()<=3});if(c.length>0&&d.length>0){const h=c.reduce((m,v)=>new Date(v.date)>new Date(m.date)?v:m).balance,f=d.reduce((m,v)=>new Date(v.date)<new Date(m.date)?v:m),p=f.balance-f.amount,g=Math.abs(h-p);g>1&&t.push({id:at(),type:ke.OHADA_NON_COMPLIANCE,severity:je.CRITICAL,confidence:.85,amount:g,transactions:[...c.slice(-5),...d.slice(0,5)],evidence:[{type:"YEAR_TRANSITION",description:"Transition d'exercice",value:`${a}  ${o}`},{type:"CLOSING_BALANCE",description:"Solde de clture",value:`${h.toLocaleString("fr-FR")} FCFA`},{type:"OPENING_BALANCE",description:"Solde d'ouverture calcul",value:`${p.toLocaleString("fr-FR")} FCFA`},{type:"DIFFERENCE",description:"cart",value:`${g.toLocaleString("fr-FR")} FCFA`}],recommendation:`cart de ${g.toLocaleString("fr-FR")} FCFA entre le solde de clture ${a} et le solde d'ouverture ${o}. L'OHADA impose la continuit des exercices. Identifier et corriger les critures manquantes.`,status:"pending",detectedAt:new Date})}}}return t}}const m6e={declarationThreshold:5e6,cashReportingThreshold:5e6,structuringWindow:7,structuringMaxCount:5,highRiskCountries:["IRAN","COREE DU NORD","AFGHANISTAN","PAKISTAN","YEMEN","SYRIE","IRAK","LIBYE","SOUDAN"],suspiciousKeywords:["casino","jeux","gaming","crypto","bitcoin","offshore","shell","nominee","bearer","hawala","change manuel","bureau de change"],patternThreshold:5};class g6e{config;constructor(e){this.config={...m6e,...e}}analyze(e){const t=[];return t.push(...this.detectStructuring(e)),t.push(...this.detectHighRiskCountries(e)),t.push(...this.detectUnusualPatterns(e)),t.push(...this.detectCashIntensive(e)),t.push(...this.detectRoundTripping(e)),t.push(...this.detectRapidMovement(e)),t.push(...this.detectDormantReactivation(e)),t.push(...this.detectSuspiciousDescriptions(e)),t.push(...this.detectThresholdBreaches(e)),t}detectStructuring(e){const t=[],n=this.config.declarationThreshold,i=[...e].sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime());for(let s=0;s<i.length;s++){const a=new Date(i[s].date),o=dO(a,-this.config.structuringWindow),c=i.filter(u=>{const d=new Date(u.date);return d>=a&&d<=o}).filter(u=>{const d=Math.abs(u.amount);return d>=n*.6&&d<n});if(c.length>=this.config.structuringMaxCount){const u=c.reduce((d,h)=>d+Math.abs(h.amount),0);u>=n&&(t.push({id:at(),type:ke.AML_ALERT,severity:je.CRITICAL,confidence:.9,amount:u,transactions:c,evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"STRUCTURING (Fractionnement)"},{type:"TRANSACTION_COUNT",description:"Nombre de transactions",value:c.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${u.toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Seuil de dclaration",value:`${n.toLocaleString("fr-FR")} FCFA`},{type:"PERIOD",description:"Priode",value:`${Rr(a,"dd/MM/yyyy")} - ${Rr(o,"dd/MM/yyyy")}`},{type:"GAFI_INDICATOR",description:"Indicateur GAFI",value:"Fractionnement de transactions (smurfing)"}],recommendation:`ALERTE CRITIQUE: Possible structuring dtect. ${c.length} transactions totalisant ${u.toLocaleString("fr-FR")} FCFA sur ${this.config.structuringWindow} jours, chacune juste sous le seuil de dclaration. SIGNALER  la cellule LCB-FT pour dclaration de soupon si confirm.`,status:"pending",detectedAt:new Date}),s+=c.length-1)}}return t}detectHighRiskCountries(e){const t=[],n=[];for(const i of e){const s=i.description.toUpperCase();for(const a of this.config.highRiskCountries)if(s.includes(a)){n.push(i);break}}if(n.length>0){const i=n.reduce((s,a)=>s+Math.abs(a.amount),0);t.push({id:at(),type:ke.AML_ALERT,severity:je.CRITICAL,confidence:.85,amount:i,transactions:n,evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"HIGH_RISK_COUNTRY"},{type:"TRANSACTION_COUNT",description:"Nombre de transactions",value:n.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"COUNTRIES_DETECTED",description:"Pays  risque dtects",value:this.config.highRiskCountries.filter(s=>n.some(a=>a.description.toUpperCase().includes(s))).join(", ")},{type:"GAFI_REFERENCE",description:"Rfrence GAFI",value:"Juridictions  haut risque et sous surveillance"}],recommendation:`ALERTE: ${n.length} transactions avec des pays  risque (liste GAFI) pour ${i.toLocaleString("fr-FR")} FCFA. Renforcer la vigilance et documenter l'origine et la destination des fonds.`,status:"pending",detectedAt:new Date})}return t}detectUnusualPatterns(e){const t=[],n=new Map;for(const i of e){const s=Math.abs(i.amount);n.has(s)||n.set(s,[]),n.get(s).push(i)}for(const[i,s]of n)s.length>=this.config.patternThreshold&&i>=1e5&&t.push({id:at(),type:ke.AML_ALERT,severity:je.HIGH,confidence:.8,amount:i*s.length,transactions:s.slice(0,10),evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"UNUSUAL_PATTERN (Rptition)"},{type:"REPEATED_AMOUNT",description:"Montant rpt",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"OCCURRENCE_COUNT",description:"Nombre d'occurrences",value:s.length}],recommendation:`Pattern inhabituel: ${s.length} transactions identiques de ${i.toLocaleString("fr-FR")} FCFA. Vrifier la justification conomique de cette rptition.`,status:"pending",detectedAt:new Date});return t}detectCashIntensive(e){const t=[],n=e.filter(o=>o.type===Pi.ATM||o.description.toLowerCase().includes("especes")||o.description.toLowerCase().includes("espces")||o.description.toLowerCase().includes("cash")||o.description.toLowerCase().includes("retrait")||o.description.toLowerCase().includes("versement")),i=n.reduce((o,l)=>o+Math.abs(l.amount),0),s=e.reduce((o,l)=>o+Math.abs(l.amount),0);s>0&&i/s>.6&&t.push({id:at(),type:ke.AML_ALERT,severity:je.HIGH,confidence:.85,amount:i,transactions:n.slice(0,20),evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"CASH_INTENSIVE"},{type:"CASH_VOLUME",description:"Volume espces",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"CASH_PERCENTAGE",description:"Pourcentage espces",value:`${(i/s*100).toFixed(1)}%`},{type:"TRANSACTION_COUNT",description:"Nombre d'oprations espces",value:n.length},{type:"INDICATOR",description:"Indicateur",value:"Utilisation intensive d'espces (> 60%)"}],recommendation:`Activit intensive en espces: ${(i/s*100).toFixed(1)}% du volume (${i.toLocaleString("fr-FR")} FCFA). L'utilisation excessive d'espces est un indicateur de blanchiment. Vrifier la cohrence avec l'activit dclare.`,status:"pending",detectedAt:new Date});const a=n.filter(o=>o.amount>0&&o.amount>=this.config.cashReportingThreshold);if(a.length>0){const o=a.reduce((l,c)=>l+c.amount,0);t.push({id:at(),type:ke.AML_ALERT,severity:je.CRITICAL,confidence:.95,amount:o,transactions:a,evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"LARGE_CASH_DEPOSIT"},{type:"DEPOSIT_COUNT",description:"Nombre de dpts",value:a.length},{type:"TOTAL_DEPOSITS",description:"Total des dpts",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Seuil de dclaration",value:`${this.config.cashReportingThreshold.toLocaleString("fr-FR")} FCFA`}],recommendation:`${a.length} dpts en espces  ${this.config.cashReportingThreshold.toLocaleString("fr-FR")} FCFA pour un total de ${o.toLocaleString("fr-FR")} FCFA. Ces oprations sont soumises  dclaration obligatoire (DOS/CTOS).`,status:"pending",detectedAt:new Date})}return t}detectRoundTripping(e){const t=[],n=[],i=e.filter(a=>a.amount>0),s=e.filter(a=>a.amount<0);for(const a of i)for(const o of s){const l=Math.abs(a.amount+o.amount),c=Math.abs(a.amount)*.05;l<=c&&Math.abs(Yw(new Date(a.date),new Date(o.date)))<=72&&n.push({credit:a,debit:o})}if(n.length>=3){const a=n.reduce((o,l)=>o+Math.abs(l.credit.amount),0);t.push({id:at(),type:ke.AML_ALERT,severity:je.HIGH,confidence:.85,amount:a,transactions:n.flatMap(o=>[o.credit,o.debit]).slice(0,20),evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"ROUND_TRIPPING (Allers-retours)"},{type:"PAIR_COUNT",description:"Nombre de paires",value:n.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${a.toLocaleString("fr-FR")} FCFA`},{type:"INDICATOR",description:"Indicateur GAFI",value:"Mouvements de fonds circulaires"}],recommendation:`${n.length} paires d'allers-retours dtectes (${a.toLocaleString("fr-FR")} FCFA). Les mouvements circulaires peuvent indiquer du layering (empilement). Vrifier la justification conomique.`,status:"pending",detectedAt:new Date})}return t}detectRapidMovement(e){const t=[],n=[...e].sort((i,s)=>new Date(i.date).getTime()-new Date(s.date).getTime());for(let i=0;i<n.length-1;i++){const s=n[i];if(!(s.amount<=0))for(let a=i+1;a<n.length;a++){const o=n[a],l=Yw(new Date(o.date),new Date(s.date));if(l>24)break;if(o.amount<0){const c=Math.abs(o.amount),u=s.amount;if(c>=u*.8&&u>=1e6){t.push({id:at(),type:ke.AML_ALERT,severity:je.HIGH,confidence:.8,amount:u,transactions:[s,o],evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"RAPID_MOVEMENT"},{type:"CREDIT_AMOUNT",description:"Entre",value:`${u.toLocaleString("fr-FR")} FCFA`},{type:"DEBIT_AMOUNT",description:"Sortie",value:`${c.toLocaleString("fr-FR")} FCFA`},{type:"TIME_GAP",description:"Dlai",value:`${l} heures`},{type:"INDICATOR",description:"Indicateur",value:"Pass-through rapide de fonds"}],recommendation:`Mouvement rapide: ${u.toLocaleString("fr-FR")} FCFA entr puis ${c.toLocaleString("fr-FR")} FCFA sorti en ${l} heures. Ce pattern de "pass-through" est suspect. Vrifier la destination des fonds.`,status:"pending",detectedAt:new Date});break}}}}return t}detectDormantReactivation(e){const t=[],n=[...e].sort((i,s)=>new Date(i.date).getTime()-new Date(s.date).getTime());if(n.length<2)return t;for(let i=1;i<n.length;i++){const s=n[i-1],a=n[i],o=Ul(new Date(a.date),new Date(s.date));if(o>=90){const l=new Date(a.date),c=dO(l,-30),u=n.filter(h=>{const f=new Date(h.date);return f>=l&&f<=c}),d=u.reduce((h,f)=>h+Math.abs(f.amount),0);d>=5e6&&t.push({id:at(),type:ke.AML_ALERT,severity:je.HIGH,confidence:.8,amount:d,transactions:u.slice(0,10),evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"DORMANT_REACTIVATION"},{type:"DORMANT_PERIOD",description:"Priode d'inactivit",value:`${o} jours`},{type:"REACTIVATION_DATE",description:"Date de ractivation",value:Rr(l,"dd/MM/yyyy")},{type:"POST_REACTIVATION_VOLUME",description:"Volume post-ractivation (30j)",value:`${d.toLocaleString("fr-FR")} FCFA`},{type:"INDICATOR",description:"Indicateur GAFI",value:"Ractivation soudaine avec forte activit"}],recommendation:`Compte dormant (${o} jours) ractiv le ${Rr(l,"dd/MM/yyyy")} avec ${d.toLocaleString("fr-FR")} FCFA de volume en 30 jours. Ce pattern peut indiquer l'utilisation d'un compte dormant pour blanchiment.`,status:"pending",detectedAt:new Date})}}return t}detectSuspiciousDescriptions(e){const t=[],n=[];for(const i of e){const s=i.description.toLowerCase();for(const a of this.config.suspiciousKeywords)if(s.includes(a.toLowerCase())){n.push({transaction:i,keyword:a});break}}if(n.length>0){const i=n.reduce((s,a)=>s+Math.abs(a.transaction.amount),0);t.push({id:at(),type:ke.AML_ALERT,severity:je.HIGH,confidence:.75,amount:i,transactions:n.map(s=>s.transaction).slice(0,10),evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"SUSPICIOUS_DESCRIPTION"},{type:"TRANSACTION_COUNT",description:"Nombre de transactions",value:n.length},{type:"KEYWORDS_DETECTED",description:"Mots-cls dtects",value:[...new Set(n.map(s=>s.keyword))].join(", ")},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${i.toLocaleString("fr-FR")} FCFA`}],recommendation:`${n.length} transactions avec des libells suspects dtectes (${i.toLocaleString("fr-FR")} FCFA). Mots-cls: ${[...new Set(n.map(s=>s.keyword))].join(", ")}. Vrifier la nature de ces oprations.`,status:"pending",detectedAt:new Date})}return t}detectThresholdBreaches(e){const t=[],n=e.filter(i=>Math.abs(i.amount)>=this.config.declarationThreshold);if(n.length>0){const i=n.reduce((s,a)=>s+Math.abs(a.amount),0);t.push({id:at(),type:ke.AML_ALERT,severity:je.MEDIUM,confidence:1,amount:i,transactions:n,evidence:[{type:"ALERT_TYPE",description:"Type d'alerte",value:"THRESHOLD_BREACH"},{type:"TRANSACTION_COUNT",description:"Transactions concernes",value:n.length},{type:"TOTAL_AMOUNT",description:"Montant total",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Seuil de dclaration",value:`${this.config.declarationThreshold.toLocaleString("fr-FR")} FCFA`},{type:"REGULATION",description:"Rglementation",value:"Rglement CEMAC/UEMOA sur la LCB-FT"}],recommendation:`${n.length} transactions  ${this.config.declarationThreshold.toLocaleString("fr-FR")} FCFA (seuil de dclaration). Vrifier que les dclarations obligatoires ont t effectues et que les justificatifs conomiques sont disponibles.`,status:"pending",detectedAt:new Date})}return t}}const v6e={feeTolerance:.05,checkFrequency:!0,expectedPeriod:30};class UD{config;bankConditions;constructor(e,t){this.config={...v6e,...e},this.bankConditions=t}analyze(e){const t=[],n=e.filter(i=>this.isAccountFee(i));return n.length===0||(this.bankConditions&&t.push(...this.checkAgainstContract(n)),t.push(...this.detectDuplicateFees(n)),this.config.checkFrequency&&t.push(...this.checkFeeFrequency(n)),t.push(...this.detectFeeIncreases(n)),t.push(...this.detectUnusualFees(n))),t}isAccountFee(e){const t=["tenue de compte","tenue compte","frais gestion","cotisation","abonnement","frais mensuels","frais trimestriels","frais annuels","frais de releve","frais courrier","frais dossier","frais ouverture","frais cloture","commission de compte","maintenance compte"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}checkAgainstContract(e){const t=[];if(!this.bankConditions?.accountFees)return t;const n=this.bankConditions.accountFees;for(const i of e){const s=i.description.toLowerCase(),a=Math.abs(i.amount);if(s.includes("tenue")&&n.tenueCompte){const o=n.tenueCompte,l=o*this.config.feeTolerance;a>o+l&&t.push(this.createOverchargeAnomaly(i,"Frais de tenue de compte",o,a))}if(s.includes("releve")&&n.fraisReleve){const o=n.fraisReleve,l=o*this.config.feeTolerance;a>o+l&&t.push(this.createOverchargeAnomaly(i,"Frais de relev",o,a))}}return t}detectDuplicateFees(e){const t=[],n=new Map;for(const i of e){const s=Rr(new Date(i.date),"yyyy-MM"),a=this.extractFeeType(i.description),o=`${s}-${a}`;n.has(o)||n.set(o,[]),n.get(o).push(i)}for(const[i,s]of n)if(s.length>1){const a=s.reduce((l,c)=>l+Math.abs(c.amount),0),[,o]=i.split("-");t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.HIGH,confidence:.9,amount:a-Math.abs(s[0].amount),transactions:s,evidence:[{type:"FEE_TYPE",description:"Type de frais",value:o},{type:"COUNT",description:"Nombre de prlvements",value:s.length},{type:"TOTAL",description:"Montant total prlev",value:`${a.toLocaleString("fr-FR")} FCFA`}],recommendation:`Frais "${o}" prlev ${s.length} fois ce mois. Total: ${a.toLocaleString("fr-FR")} FCFA. Demander le remboursement des doublons.`,status:"pending",detectedAt:new Date})}return t}checkFeeFrequency(e){const t=[],n=new Map;for(const i of e){const s=this.extractFeeType(i.description);n.has(s)||n.set(s,[]),n.get(s).push(i)}for(const[i,s]of n){if(s.length<2)continue;const a=s.sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime()),o=[];for(let u=1;u<a.length;u++){const d=Math.round((new Date(a[u].date).getTime()-new Date(a[u-1].date).getTime())/864e5);o.push(d)}const l=o.reduce((u,d)=>u+d,0)/o.length;o.filter(u=>u<this.config.expectedPeriod*.7).length>0&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.75,amount:s.reduce((u,d)=>u+Math.abs(d.amount),0),transactions:a,evidence:[{type:"FEE_TYPE",description:"Type de frais",value:i},{type:"AVG_INTERVAL",description:"Intervalle moyen",value:`${Math.round(l)} jours`},{type:"EXPECTED",description:"Intervalle attendu",value:`${this.config.expectedPeriod} jours`}],recommendation:`Frais "${i}" prlev plus frquemment que prvu. Intervalle moyen: ${Math.round(l)} jours vs ${this.config.expectedPeriod} attendus. Vrifier la priodicit contractuelle.`,status:"pending",detectedAt:new Date})}return t}detectFeeIncreases(e){const t=[],n=new Map;for(const i of e){const s=this.extractFeeType(i.description);n.has(s)||n.set(s,[]),n.get(s).push(i)}for(const[i,s]of n){if(s.length<3)continue;const a=s.sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime()),o=a.map(u=>Math.abs(u.amount)),l=o[0],c=o[o.length-1];if(c>l*1.1){const u=(c-l)/l*100;t.push({id:at(),type:ke.FEE_ANOMALY,severity:u>25?je.HIGH:je.MEDIUM,confidence:.8,amount:c-l,transactions:[a[0],a[a.length-1]],evidence:[{type:"FEE_TYPE",description:"Type de frais",value:i},{type:"INITIAL_AMOUNT",description:"Montant initial",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"CURRENT_AMOUNT",description:"Montant actuel",value:`${c.toLocaleString("fr-FR")} FCFA`},{type:"INCREASE",description:"Augmentation",value:`+${u.toFixed(1)}%`}],recommendation:`Augmentation de ${u.toFixed(1)}% des frais "${i}". De ${l.toLocaleString("fr-FR")}  ${c.toLocaleString("fr-FR")} FCFA. Vrifier si l'augmentation est justifie par le contrat.`,status:"pending",detectedAt:new Date})}}return t}detectUnusualFees(e){const t=[],n=e.map(o=>Math.abs(o.amount)),i=n.reduce((o,l)=>o+l,0)/n.length,s=Math.sqrt(n.reduce((o,l)=>o+Math.pow(l-i,2),0)/n.length),a=i+2*s;for(const o of e){const l=Math.abs(o.amount);l>a&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.7,amount:l,transactions:[o],evidence:[{type:"AMOUNT",description:"Montant",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"AVERAGE",description:"Moyenne des frais",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"MULTIPLIER",description:"Fois la moyenne",value:`${(l/i).toFixed(1)}x`}],recommendation:`Frais inhabituellement lev de ${l.toLocaleString("fr-FR")} FCFA (${(l/i).toFixed(1)}x la moyenne). Libell: "${o.description}". Demander une justification.`,status:"pending",detectedAt:new Date})}return t}extractFeeType(e){const t=e.toLowerCase();return t.includes("tenue")?"Tenue de compte":t.includes("cotisation")?"Cotisation":t.includes("abonnement")?"Abonnement":t.includes("releve")?"Frais de relev":t.includes("courrier")?"Frais de courrier":t.includes("gestion")?"Frais de gestion":"Frais divers"}createOverchargeAnomaly(e,t,n,i){return{id:at(),type:ke.OVERCHARGE,severity:i>n*1.5?je.HIGH:je.MEDIUM,confidence:.9,amount:i-n,transactions:[e],evidence:[{type:"FEE_TYPE",description:"Type de frais",value:t},{type:"EXPECTED",description:"Montant contractuel",value:`${n.toLocaleString("fr-FR")} FCFA`},{type:"ACTUAL",description:"Montant prlev",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"OVERCHARGE",description:"Surfacturation",value:`${(i-n).toLocaleString("fr-FR")} FCFA`}],recommendation:`Surfacturation de ${(i-n).toLocaleString("fr-FR")} FCFA sur "${t}". Montant contractuel: ${n.toLocaleString("fr-FR")} FCFA, montant prlev: ${i.toLocaleString("fr-FR")} FCFA. Demander le remboursement.`,status:"pending",detectedAt:new Date}}}const y6e={feeTolerance:.05,defaultDailyWithdrawalLimit:5e5,defaultMonthlyPaymentLimit:2e6,foreignAtmCommission:.03};class HD{config;bankConditions;constructor(e,t){this.config={...y6e,...e},this.bankConditions=t}analyze(e){const t=[],n=e.filter(a=>this.isCardFee(a)),i=e.filter(a=>this.isAtmWithdrawal(a)),s=e.filter(a=>this.isCardPayment(a));return t.push(...this.checkCardSubscriptions(n)),t.push(...this.analyzeAtmFees(i,n)),t.push(...this.checkLimits(i,s)),t.push(...this.analyzeForeignFees(n,i)),t.push(...this.detectOppositionFees(n)),t.push(...this.checkRenewalFees(n)),t}isCardFee(e){const t=["cotisation carte","renouvellement carte","carte bancaire","frais carte","commission carte","opposition carte","retrait dab","retrait gab","frais retrait","visa","mastercard","cb "],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isAtmWithdrawal(e){const t=["retrait","dab","gab","atm","distributeur"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isCardPayment(e){const t=["paiement cb","tpe","paiement carte","achat carte"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}checkCardSubscriptions(e){const t=[],n=e.filter(s=>s.description.toLowerCase().includes("cotisation")||s.description.toLowerCase().includes("renouvellement")),i=new Map;for(const s of n){const a=Rr(new Date(s.date),"yyyy");i.has(a)||i.set(a,[]),i.get(a).push(s)}for(const[s,a]of i)if(a.length>1){const o=a.reduce((l,c)=>l+Math.abs(c.amount),0);t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.HIGH,confidence:.85,amount:o-Math.abs(a[0].amount),transactions:a,evidence:[{type:"YEAR",description:"Anne",value:s},{type:"COUNT",description:"Nombre de cotisations",value:a.length},{type:"TOTAL",description:"Total prlev",value:`${o.toLocaleString("fr-FR")} FCFA`}],recommendation:`${a.length} cotisations carte prleves en ${s} pour un total de ${o.toLocaleString("fr-FR")} FCFA. Vrifier s'il s'agit de cartes diffrentes ou de doublons  rembourser.`,status:"pending",detectedAt:new Date})}if(this.bankConditions?.cardFees?.cartes)for(const s of n){const a=Math.abs(s.amount);if(!this.bankConditions.cardFees.cartes.find(l=>a>l.cotisation*(1-this.config.feeTolerance)&&a<l.cotisation*(1+this.config.feeTolerance))){const c=this.bankConditions.cardFees.cartes.map(u=>u.cotisation).reduce((u,d)=>Math.abs(d-a)<Math.abs(u-a)?d:u);a>c*1.1&&t.push({id:at(),type:ke.OVERCHARGE,severity:je.MEDIUM,confidence:.7,amount:a-c,transactions:[s],evidence:[{type:"CHARGED",description:"Montant prlev",value:`${a.toLocaleString("fr-FR")} FCFA`},{type:"EXPECTED",description:"Cotisation attendue",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Cotisation carte de ${a.toLocaleString("fr-FR")} FCFA suprieure aux tarifs contractuels. Vrifier la grille tarifaire.`,status:"pending",detectedAt:new Date})}}return t}analyzeAtmFees(e,t){const n=[],i=t.filter(o=>o.description.toLowerCase().includes("retrait")||o.description.toLowerCase().includes("dab")||o.description.toLowerCase().includes("gab"));if(i.length===0)return n;const s=e.length,a=this.bankConditions?.cardFees?.retraitGratuits||0;if(this.bankConditions?.cardFees?.fraisRetrait,a>0&&s<=a&&i.length>0){const o=i.reduce((l,c)=>l+Math.abs(c.amount),0);n.push({id:at(),type:ke.GHOST_FEE,severity:je.HIGH,confidence:.9,amount:o,transactions:i,evidence:[{type:"WITHDRAWALS",description:"Nombre de retraits",value:s},{type:"FREE_LIMIT",description:"Retraits gratuits inclus",value:a},{type:"FEES_CHARGED",description:"Frais prlevs",value:`${o.toLocaleString("fr-FR")} FCFA`}],recommendation:`${o.toLocaleString("fr-FR")} FCFA de frais de retrait prlevs alors que ${s} retraits effectus sur ${a} gratuits inclus. Demander le remboursement.`,status:"pending",detectedAt:new Date})}return n}checkLimits(e,t){const n=[],i=new Map;for(const a of e){const o=Rr(new Date(a.date),"yyyy-MM-dd");i.has(o)||i.set(o,{total:0,transactions:[]});const l=i.get(o);l.total+=Math.abs(a.amount),l.transactions.push(a)}const s=this.bankConditions?.cardFees?.cartes?.[0]?.plafondRetrait||this.config.defaultDailyWithdrawalLimit;for(const[a,o]of i)o.total>s&&n.push({id:at(),type:ke.LIMIT_EXCEEDED,severity:je.MEDIUM,confidence:.9,amount:o.total-s,transactions:o.transactions,evidence:[{type:"DATE",description:"Date",value:a},{type:"TOTAL",description:"Total retir",value:`${o.total.toLocaleString("fr-FR")} FCFA`},{type:"LIMIT",description:"Plafond journalier",value:`${s.toLocaleString("fr-FR")} FCFA`},{type:"EXCESS",description:"Dpassement",value:`${(o.total-s).toLocaleString("fr-FR")} FCFA`}],recommendation:`Dpassement du plafond de retrait le ${a}: ${o.total.toLocaleString("fr-FR")} FCFA retirs vs ${s.toLocaleString("fr-FR")} FCFA autoriss. Vrifier les frais de dpassement ventuels.`,status:"pending",detectedAt:new Date});return n}analyzeForeignFees(e,t){const n=[],i=["etranger","foreign","intl","international","hors zone"],s=t.filter(o=>i.some(l=>o.description.toLowerCase().includes(l))),a=e.filter(o=>i.some(l=>o.description.toLowerCase().includes(l)));if(s.length>0){const o=s.reduce((u,d)=>u+Math.abs(d.amount),0),l=a.reduce((u,d)=>u+Math.abs(d.amount),0),c=o*this.config.foreignAtmCommission;l>c*1.5&&n.push({id:at(),type:ke.OVERCHARGE,severity:je.MEDIUM,confidence:.75,amount:l-c,transactions:[...s,...a],evidence:[{type:"FOREIGN_WITHDRAWALS",description:"Retraits trangers",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"FEES_CHARGED",description:"Frais prlevs",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"EXPECTED_FEES",description:"Frais attendus (3%)",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Frais de retrait tranger levs: ${l.toLocaleString("fr-FR")} FCFA pour ${o.toLocaleString("fr-FR")} FCFA retirs. Vrifier le taux de commission appliqu.`,status:"pending",detectedAt:new Date})}return n}detectOppositionFees(e){const t=[],n=e.filter(i=>i.description.toLowerCase().includes("opposition"));if(n.length>1){const i=n.sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime());for(let s=1;s<i.length;s++){const a=Ul(new Date(i[s].date),new Date(i[s-1].date));a<30&&t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.MEDIUM,confidence:.8,amount:Math.abs(i[s].amount),transactions:[i[s-1],i[s]],evidence:[{type:"INTERVAL",description:"Intervalle entre oppositions",value:`${a} jours`},{type:"FEES",description:"Frais",value:i.map(o=>Math.abs(o.amount).toLocaleString("fr-FR")).join(" + ")+" FCFA"}],recommendation:`Multiples frais d'opposition  ${a} jours d'intervalle. Vrifier s'il s'agit de la mme carte ou de cartes diffrentes.`,status:"pending",detectedAt:new Date})}}return t}checkRenewalFees(e){const t=[],n=e.filter(i=>i.description.toLowerCase().includes("renouvellement"));if(n.length>1){const i=n.sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime());for(let s=1;s<i.length;s++){const a=Ul(new Date(i[s].date),new Date(i[s-1].date));a<700&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.75,amount:Math.abs(i[s].amount),transactions:[i[s-1],i[s]],evidence:[{type:"INTERVAL",description:"Intervalle entre renouvellements",value:`${Math.round(a/30)} mois`},{type:"EXPECTED",description:"Intervalle normal",value:"36 mois (3 ans)"}],recommendation:`Renouvellement carte aprs seulement ${Math.round(a/30)} mois (normal: 36 mois). Vrifier la raison du renouvellement anticip.`,status:"pending",detectedAt:new Date})}}return t}}const b6e={feeTolerance:.05,highTransferFeeThreshold:5e3,checkChequebookFees:!0,checkBillOfExchangeFees:!0};class QD{config;bankConditions;constructor(e,t){this.config={...b6e,...e},this.bankConditions=t}analyze(e){const t=[];return this.config.checkChequebookFees&&t.push(...this.analyzeCheckFees(e)),this.config.checkBillOfExchangeFees&&t.push(...this.analyzeBillOfExchangeFees(e)),t.push(...this.analyzeTransferFees(e)),t.push(...this.analyzeDirectDebitFees(e)),t.push(...this.detectDuplicatePaymentFees(e)),t}analyzeCheckFees(e){const t=[],n=e.filter(o=>this.isCheckFee(o)),i=n.filter(o=>o.description.toLowerCase().includes("chequier")||o.description.toLowerCase().includes("carnet de cheque"));for(const o of i){const l=Math.abs(o.amount);if(this.bankConditions?.checkFees?.chequebook){const c=this.bankConditions.checkFees.chequebook,u=c*this.config.feeTolerance;l>c+u&&t.push(this.createOverchargeAnomaly(o,"Frais de chquier",c,l))}}const s=n.filter(o=>o.description.toLowerCase().includes("opposition cheque"));for(const o of s){const l=Math.abs(o.amount);if(this.bankConditions?.checkFees?.opposition){const c=this.bankConditions.checkFees.opposition,u=c*this.config.feeTolerance;l>c+u&&t.push(this.createOverchargeAnomaly(o,"Opposition chque",c,l))}}const a=n.filter(o=>o.description.toLowerCase().includes("impaye")||o.description.toLowerCase().includes("rejete"));if(a.length>0){a.reduce((l,c)=>l+Math.abs(c.amount),0);const o=new Map;for(const l of a){const c=Rr(new Date(l.date),"yyyy-MM");o.has(c)||o.set(c,[]),o.get(c).push(l)}for(const[l,c]of o)c.length>=2&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.HIGH,confidence:.85,amount:c.reduce((u,d)=>u+Math.abs(d.amount),0),transactions:c,evidence:[{type:"MONTH",description:"Mois concern",value:l},{type:"COUNT",description:"Nombre de chques impays",value:c.length},{type:"TOTAL_FEES",description:"Total des frais",value:`${c.reduce((u,d)=>u+Math.abs(d.amount),0).toLocaleString("fr-FR")} FCFA`}],recommendation:`${c.length} chques impays dtects en ${l}. Total des frais: ${c.reduce((u,d)=>u+Math.abs(d.amount),0).toLocaleString("fr-FR")} FCFA. Vrifier les causes rcurrentes et ngocier les frais si motifs bancaires.`,status:"pending",detectedAt:new Date})}return t}analyzeBillOfExchangeFees(e){const t=[],n=e.filter(a=>this.isBillOfExchangeFee(a));if(n.length===0)return t;const i=n.filter(a=>a.description.toLowerCase().includes("escompte"));if(i.length>=3){const a=i.map(l=>Math.abs(l.amount)),o=a.reduce((l,c)=>l+c,0)/a.length;for(const l of i){const c=Math.abs(l.amount);c>o*2&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.75,amount:c-o,transactions:[l],evidence:[{type:"AMOUNT",description:"Frais prlev",value:`${c.toLocaleString("fr-FR")} FCFA`},{type:"AVERAGE",description:"Frais moyen escompte",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"RATIO",description:"Ratio vs moyenne",value:`${(c/o).toFixed(1)}x`}],recommendation:`Frais d'escompte anormalement lev: ${c.toLocaleString("fr-FR")} FCFA (${(c/o).toFixed(1)}x la moyenne). Vrifier le calcul des agios et le taux appliqu.`,status:"pending",detectedAt:new Date})}}const s=n.filter(a=>a.description.toLowerCase().includes("effet impaye")||a.description.toLowerCase().includes("effet rejete"));if(s.length>0&&this.bankConditions?.billOfExchangeFees?.unpaid)for(const a of s){const o=Math.abs(a.amount),l=this.bankConditions.billOfExchangeFees.unpaid;o>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(a,"Effet impay",l,o))}return t}analyzeTransferFees(e){const t=[],n=e.filter(a=>this.isTransferFee(a));if(n.length===0)return t;const i=n.filter(a=>this.isDomesticTransfer(a));if(n.filter(a=>this.isInternationalTransfer(a)),i.length>0&&this.bankConditions?.transferFees?.domestic)for(const a of i){const o=Math.abs(a.amount),l=this.bankConditions.transferFees.domestic;o>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(a,"Virement national",l,o))}for(const a of n){const o=Math.abs(a.amount);o>this.config.highTransferFeeThreshold&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.7,amount:o,transactions:[a],evidence:[{type:"AMOUNT",description:"Frais de virement",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Seuil d'alerte",value:`${this.config.highTransferFeeThreshold.toLocaleString("fr-FR")} FCFA`},{type:"DESCRIPTION",description:"Libell",value:a.description}],recommendation:`Frais de virement lev: ${o.toLocaleString("fr-FR")} FCFA. Vrifier si les conditions tarifaires sont respectes et si une offre groupe pourrait rduire ces frais.`,status:"pending",detectedAt:new Date})}const s=new Map;for(const a of n){const o=Rr(new Date(a.date),"yyyy-MM");s.has(o)||s.set(o,[]),s.get(o).push(a)}for(const[a,o]of s)if(o.length>20){const l=o.reduce((c,u)=>c+Math.abs(u.amount),0);t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.LOW,confidence:.65,amount:l,transactions:o.slice(0,5),evidence:[{type:"MONTH",description:"Mois concern",value:a},{type:"COUNT",description:"Nombre de virements",value:o.length},{type:"TOTAL_FEES",description:"Total des frais",value:`${l.toLocaleString("fr-FR")} FCFA`}],recommendation:`Volume lev de virements en ${a}: ${o.length} oprations pour ${l.toLocaleString("fr-FR")} FCFA de frais. Envisager un forfait virements ou une rengociation tarifaire.`,status:"pending",detectedAt:new Date})}return t}analyzeDirectDebitFees(e){const t=[],n=e.filter(a=>this.isDirectDebitFee(a));if(n.length===0)return t;const i=n.filter(a=>a.description.toLowerCase().includes("rejet")||a.description.toLowerCase().includes("prelevement refuse"));if(i.length>0){const a=new Map;for(const o of i){const l=Rr(new Date(o.date),"yyyy-MM");a.has(l)||a.set(l,[]),a.get(l).push(o)}for(const[o,l]of a)if(l.length>=2){const c=l.reduce((u,d)=>u+Math.abs(d.amount),0);t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.8,amount:c,transactions:l,evidence:[{type:"MONTH",description:"Mois concern",value:o},{type:"COUNT",description:"Nombre de rejets",value:l.length},{type:"TOTAL_FEES",description:"Total des frais",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`${l.length} rejets de prlvements en ${o}. Frais totaux: ${c.toLocaleString("fr-FR")} FCFA. Vrifier la gestion de trsorerie et les dates de prlvement.`,status:"pending",detectedAt:new Date})}}const s=n.filter(a=>a.description.toLowerCase().includes("mandat")||a.description.toLowerCase().includes("autorisation prelevement"));if(s.length>0&&this.bankConditions?.directDebitFees?.mandate)for(const a of s){const o=Math.abs(a.amount),l=this.bankConditions.directDebitFees.mandate;o>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(a,"Frais de mandat de prlvement",l,o))}return t}detectDuplicatePaymentFees(e){const t=[],n=e.filter(s=>this.isCheckFee(s)||this.isTransferFee(s)||this.isDirectDebitFee(s)),i=new Map;for(const s of n){const a=Rr(new Date(s.date),"yyyy-MM-dd"),o=Math.abs(s.amount),l=`${a}-${o}`;i.has(l)||i.set(l,[]),i.get(l).push(s)}for(const[,s]of i)if(s.length>1){const a=s[0].description.toLowerCase(),o=s.filter(l=>this.calculateSimilarity(l.description.toLowerCase(),a)>.7);if(o.length>1){const c=o.reduce((u,d)=>u+Math.abs(d.amount),0)-Math.abs(o[0].amount);t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.HIGH,confidence:.9,amount:c,transactions:o,evidence:[{type:"DATE",description:"Date",value:Rr(new Date(s[0].date),"dd/MM/yyyy")},{type:"COUNT",description:"Nombre d'occurrences",value:o.length},{type:"UNIT_AMOUNT",description:"Montant unitaire",value:`${Math.abs(s[0].amount).toLocaleString("fr-FR")} FCFA`},{type:"DUPLICATE_AMOUNT",description:"Montant en double",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Frais potentiellement prlev ${o.length} fois le mme jour. Montant en double: ${c.toLocaleString("fr-FR")} FCFA. Demander une vrification et le remboursement si confirm.`,status:"pending",detectedAt:new Date})}}return t}isCheckFee(e){const t=["cheque","chequier","chq","carnet de cheque","opposition cheque","cheque impaye","cheque rejete","certification cheque","cheque de banque"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isBillOfExchangeFee(e){const t=["effet","escompte","billet","traite","lcr","lettre de change","encaissement effet","effet impaye","effet rejete","prorogation"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isTransferFee(e){const t=["virement","vir","transfer","swift","frais envoi","frais reception","frais vir","ordre de virement","virement instantane"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isDomesticTransfer(e){const t=["national","local","interne","zone"],n=["international","swift","etranger","hors zone"],i=e.description.toLowerCase();return n.some(s=>i.includes(s))?!1:(t.some(s=>i.includes(s)),!0)}isInternationalTransfer(e){const t=["international","swift","etranger","hors zone","devises"],n=e.description.toLowerCase();return t.some(i=>n.includes(i))}isDirectDebitFee(e){const t=["prelevement","prelev","prlv","rejet prelevement","mandat","autorisation prelevement","tip","sdd","sepa direct debit"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}calculateSimilarity(e,t){const n=new Set(e.split(/\s+/)),i=new Set(t.split(/\s+/)),s=new Set([...n].filter(o=>i.has(o))),a=new Set([...n,...i]);return s.size/a.size}createOverchargeAnomaly(e,t,n,i){return{id:at(),type:ke.OVERCHARGE,severity:i>n*1.5?je.HIGH:je.MEDIUM,confidence:.9,amount:i-n,transactions:[e],evidence:[{type:"FEE_TYPE",description:"Type de frais",value:t},{type:"EXPECTED",description:"Montant contractuel",value:`${n.toLocaleString("fr-FR")} FCFA`},{type:"ACTUAL",description:"Montant prlev",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"OVERCHARGE",description:"Surfacturation",value:`${(i-n).toLocaleString("fr-FR")} FCFA`}],recommendation:`Surfacturation de ${(i-n).toLocaleString("fr-FR")} FCFA sur "${t}". Montant contractuel: ${n.toLocaleString("fr-FR")} FCFA, montant prlev: ${i.toLocaleString("fr-FR")} FCFA. Demander le remboursement.`,status:"pending",detectedAt:new Date}}}const x6e={feeTolerance:.05,exchangeRateMargin:.03,swiftFeeThreshold:15e3,checkExchangeOperations:!0,monetaryZoneCodes:["XAF","XOF"]},w6e={EUR:655.957,USD:600,GBP:750};class $D{config;bankConditions;constructor(e,t){this.config={...x6e,...e},this.bankConditions=t}analyze(e){const t=[];return t.push(...this.analyzeInternationalTransferFees(e)),this.config.checkExchangeOperations&&t.push(...this.analyzeExchangeOperations(e)),t.push(...this.analyzeDocumentaryFees(e)),t.push(...this.analyzeInternationalGuarantees(e)),t.push(...this.analyzeIntraZoneOperations(e)),t}analyzeInternationalTransferFees(e){const t=[],n=e.filter(a=>this.isInternationalTransferFee(a));if(n.length===0)return t;const i=n.filter(a=>a.description.toLowerCase().includes("swift"));n.filter(a=>a.description.toLowerCase().includes("target")||a.description.toLowerCase().includes("sepa"));for(const a of i){const o=Math.abs(a.amount);if(this.bankConditions?.internationalFees?.swift){const l=this.bankConditions.internationalFees.swift,c=l*this.config.feeTolerance;o>l+c&&t.push(this.createOverchargeAnomaly(a,"Virement SWIFT",l,o))}o>this.config.swiftFeeThreshold&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.75,amount:o,transactions:[a],evidence:[{type:"AMOUNT",description:"Frais SWIFT",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"THRESHOLD",description:"Seuil d'alerte",value:`${this.config.swiftFeeThreshold.toLocaleString("fr-FR")} FCFA`},{type:"DESCRIPTION",description:"Libell",value:a.description}],recommendation:`Frais SWIFT lev: ${o.toLocaleString("fr-FR")} FCFA. Vrifier si l'option de partage des frais (SHA/BEN/OUR) est optimale et si les conditions ngocies sont respectes.`,status:"pending",detectedAt:new Date})}const s=new Map;for(const a of n){const o=Rr(new Date(a.date),"yyyy-MM");s.has(o)||s.set(o,[]),s.get(o).push(a)}for(const[a,o]of s)if(o.length>=5){const l=o.reduce((u,d)=>u+Math.abs(d.amount),0),c=l/o.length;t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.LOW,confidence:.6,amount:l,transactions:o.slice(0,5),evidence:[{type:"MONTH",description:"Mois concern",value:a},{type:"COUNT",description:"Nombre de virements",value:o.length},{type:"TOTAL_FEES",description:"Total des frais",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"AVG_FEE",description:"Frais moyen",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Volume important de virements internationaux en ${a}: ${o.length} oprations. Total des frais: ${l.toLocaleString("fr-FR")} FCFA. Ngocier un forfait ou des conditions prfrentielles.`,status:"pending",detectedAt:new Date})}return t}analyzeExchangeOperations(e){const t=[],n=e.filter(a=>this.isExchangeOperation(a));if(n.length===0)return t;const i=new Map;for(const a of n){const o=this.extractDevise(a.description);i.has(o)||i.set(o,[]),i.get(o).push(a)}for(const[a,o]of i){if(a==="UNKNOWN")continue;const l=w6e[a];if(l)for(const c of o){const u=this.extractExchangeRate(c.description,c.amount);if(u){const d=Math.abs((u-l)/l);d>this.config.exchangeRateMargin&&t.push({id:at(),type:ke.OVERCHARGE,severity:d>.05?je.HIGH:je.MEDIUM,confidence:.7,amount:Math.abs(c.amount)*d,transactions:[c],evidence:[{type:"DEVISE",description:"Devise",value:a},{type:"APPLIED_RATE",description:"Taux appliqu",value:u.toFixed(4)},{type:"REFERENCE_RATE",description:"Taux de rfrence",value:l.toFixed(4)},{type:"MARGIN",description:"Marge banque",value:`${(d*100).toFixed(2)}%`}],recommendation:`Marge de change leve sur opration ${a}: ${(d*100).toFixed(2)}%. Taux appliqu: ${u.toFixed(4)} vs rfrence: ${l.toFixed(4)}. Comparer avec d'autres tablissements et ngocier les conditions.`,status:"pending",detectedAt:new Date})}}}const s=e.filter(a=>a.amount<0&&(a.description.toLowerCase().includes("commission change")||a.description.toLowerCase().includes("frais change")));for(const a of s){const o=Math.abs(a.amount);if(this.bankConditions?.exchangeFees?.commission){const l=this.bankConditions.exchangeFees.commission;o>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(a,"Commission de change",l,o))}}return t}analyzeDocumentaryFees(e){const t=[],n=e.filter(a=>this.isDocumentaryFee(a));if(n.length===0)return t;const i=n.filter(a=>a.description.toLowerCase().includes("credit documentaire")||a.description.toLowerCase().includes("credoc")||a.description.toLowerCase().includes("l/c"));if(i.length>0){const a=i.map(l=>Math.abs(l.amount)),o=a.reduce((l,c)=>l+c,0)/a.length;for(const l of i){const c=Math.abs(l.amount);c>o*2.5&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.7,amount:c-o,transactions:[l],evidence:[{type:"AMOUNT",description:"Frais prlev",value:`${c.toLocaleString("fr-FR")} FCFA`},{type:"AVERAGE",description:"Moyenne des frais L/C",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"RATIO",description:"Ratio vs moyenne",value:`${(c/o).toFixed(1)}x`}],recommendation:`Frais de crdit documentaire lev: ${c.toLocaleString("fr-FR")} FCFA (${(c/o).toFixed(1)}x la moyenne). Vrifier la nature de l'opration et les conditions appliques.`,status:"pending",detectedAt:new Date})}}const s=n.filter(a=>a.description.toLowerCase().includes("remise documentaire")||a.description.toLowerCase().includes("encaissement documentaire"));if(s.length>0&&this.bankConditions?.documentaryFees?.remise)for(const a of s){const o=Math.abs(a.amount),l=this.bankConditions.documentaryFees.remise;o>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(a,"Remise documentaire",l,o))}return t}analyzeInternationalGuarantees(e){const t=[],n=e.filter(s=>this.isGuaranteeFee(s));if(n.length===0)return t;const i=new Map;for(const s of n){const a=new Date(s.date),o=`${a.getFullYear()}-Q${Math.ceil((a.getMonth()+1)/3)}`;i.has(o)||i.set(o,[]),i.get(o).push(s)}for(const[s,a]of i)if(a.length>1){const o=new Map;for(const l of a){const c=Math.round(Math.abs(l.amount)/100)*100;o.has(c)||o.set(c,[]),o.get(c).push(l)}for(const[,l]of o)if(l.length>1){const c=l.reduce((u,d)=>u+Math.abs(d.amount),0);t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.MEDIUM,confidence:.75,amount:c-Math.abs(l[0].amount),transactions:l,evidence:[{type:"QUARTER",description:"Trimestre",value:s},{type:"COUNT",description:"Nombre de prlvements",value:l.length},{type:"UNIT_AMOUNT",description:"Montant similaire",value:`${Math.abs(l[0].amount).toLocaleString("fr-FR")} FCFA`}],recommendation:`Plusieurs commissions de garantie similaires en ${s}. Vrifier s'il s'agit de doublons ou de garanties distinctes. Demander le dtail des garanties concernes.`,status:"pending",detectedAt:new Date})}}return t}analyzeIntraZoneOperations(e){const t=[],n=e.filter(i=>this.isIntraZoneOperation(i));for(const i of n){const s=Rr(new Date(i.date),"yyyy-MM-dd"),a=e.filter(o=>Rr(new Date(o.date),"yyyy-MM-dd")===s&&o.amount<0&&(o.description.toLowerCase().includes("change")||o.description.toLowerCase().includes("conversion")));if(a.length>0){const o=a.reduce((l,c)=>l+Math.abs(c.amount),0);t.push({id:at(),type:ke.GHOST_FEE,severity:je.HIGH,confidence:.85,amount:o,transactions:[i,...a],evidence:[{type:"OPERATION",description:"Opration intra-zone",value:i.description},{type:"ZONE",description:"Zone montaire",value:"CEMAC/UEMOA (XAF/XOF)"},{type:"CHANGE_FEES",description:"Frais de change prlevs",value:`${o.toLocaleString("fr-FR")} FCFA`}],recommendation:"Frais de change prlevs sur opration intra-zone FCFA. Les virements entre pays de la zone Franc (CEMAC/UEMOA) ne devraient pas engendrer de frais de conversion. Demander le remboursement.",status:"pending",detectedAt:new Date})}}return t}isInternationalTransferFee(e){const t=["virement international","swift","vir etranger","transfert international","virement hors zone","vir international","frais swift","target"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isExchangeOperation(e){const t=["change","devise","conversion","forex","achat devise","vente devise","eur","usd","gbp"],n=e.description.toLowerCase();return t.some(i=>n.includes(i))}isDocumentaryFee(e){const t=["credit documentaire","credoc","l/c","letter of credit","remise documentaire","encaissement documentaire","ouverture credoc","amendement credoc","confirmation credoc"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isGuaranteeFee(e){const t=["garantie","caution","sblc","standby","garantie bancaire","lettre de garantie","commission garantie","engagement par signature"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isIntraZoneOperation(e){const t=["cemac","uemoa","zone franc","xaf","xof","cameroun","gabon","congo","tchad","centrafrique","guinee equatoriale","senegal","cote ivoire","mali","burkina","benin","togo","niger"],n=e.description.toLowerCase();return t.some(i=>n.includes(i))}extractDevise(e){const t=["EUR","USD","GBP","CHF","JPY","CAD","AUD"],n=e.toUpperCase();for(const i of t)if(n.includes(i))return i;return"UNKNOWN"}extractExchangeRate(e,t){const n=[/taux\s*[:=]?\s*([\d.,]+)/i,/@\s*([\d.,]+)/,/cours\s*[:=]?\s*([\d.,]+)/i];for(const i of n){const s=e.match(i);if(s){const a=parseFloat(s[1].replace(",","."));if(!isNaN(a)&&a>0)return a}}return null}createOverchargeAnomaly(e,t,n,i){return{id:at(),type:ke.OVERCHARGE,severity:i>n*1.5?je.HIGH:je.MEDIUM,confidence:.9,amount:i-n,transactions:[e],evidence:[{type:"FEE_TYPE",description:"Type de frais",value:t},{type:"EXPECTED",description:"Montant contractuel",value:`${n.toLocaleString("fr-FR")} FCFA`},{type:"ACTUAL",description:"Montant prlev",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"OVERCHARGE",description:"Surfacturation",value:`${(i-n).toLocaleString("fr-FR")} FCFA`}],recommendation:`Surfacturation de ${(i-n).toLocaleString("fr-FR")} FCFA sur "${t}". Montant contractuel: ${n.toLocaleString("fr-FR")} FCFA, montant prlev: ${i.toLocaleString("fr-FR")} FCFA. Demander le remboursement.`,status:"pending",detectedAt:new Date}}}const C6e={feeTolerance:.05,checkOnlineBanking:!0,checkSafeDeposit:!0,checkCertifications:!0};class zD{config;bankConditions;constructor(e,t){this.config={...C6e,...e},this.bankConditions=t}analyze(e){const t=[];return this.config.checkOnlineBanking&&t.push(...this.analyzeOnlineBankingFees(e)),this.config.checkSafeDeposit&&t.push(...this.analyzeSafeDepositFees(e)),this.config.checkCertifications&&t.push(...this.analyzeCertificationFees(e)),t.push(...this.analyzeMessagingFees(e)),t.push(...this.analyzeArchivingFees(e)),t.push(...this.detectUnusedServicesFees(e)),t}analyzeOnlineBankingFees(e){const t=[],n=e.filter(a=>this.isOnlineBankingFee(a));if(n.length===0)return t;const i=n.filter(a=>a.description.toLowerCase().includes("abonnement")||a.description.toLowerCase().includes("cotisation"));if(i.length>0){const a=new Map;for(const o of i){const l=Rr(new Date(o.date),"yyyy-MM");a.has(l)||a.set(l,[]),a.get(l).push(o)}for(const[o,l]of a)if(l.length>1){const c=l.reduce((u,d)=>u+Math.abs(d.amount),0);t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.MEDIUM,confidence:.85,amount:c-Math.abs(l[0].amount),transactions:l,evidence:[{type:"MONTH",description:"Mois concern",value:o},{type:"COUNT",description:"Nombre de prlvements",value:l.length},{type:"TOTAL",description:"Total prlev",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Abonnement banque en ligne prlev ${l.length} fois en ${o}. Total: ${c.toLocaleString("fr-FR")} FCFA. Vrifier et demander remboursement des doublons.`,status:"pending",detectedAt:new Date})}if(this.bankConditions?.onlineBankingFees?.subscription)for(const o of i){const l=Math.abs(o.amount),c=this.bankConditions.onlineBankingFees.subscription;l>c*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(o,"Abonnement banque en ligne",c,l))}}const s=n.filter(a=>a.description.toLowerCase().includes("token")||a.description.toLowerCase().includes("digipass")||a.description.toLowerCase().includes("authentification"));if(s.length>0&&this.bankConditions?.onlineBankingFees?.token)for(const a of s){const o=Math.abs(a.amount),l=this.bankConditions.onlineBankingFees.token;o>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(a,"Token/Digipass",l,o))}return t}analyzeSafeDepositFees(e){const t=[],n=e.filter(a=>this.isSafeDepositFee(a));if(n.length===0)return t;const i=n.filter(a=>a.description.toLowerCase().includes("location")||a.description.toLowerCase().includes("loyer")),s=n.filter(a=>a.description.toLowerCase().includes("acces")||a.description.toLowerCase().includes("ouverture"));if(i.length>0){const a=new Map;for(const o of i){const l=Rr(new Date(o.date),"yyyy");a.has(l)||a.set(l,[]),a.get(l).push(o)}for(const[o,l]of a)if(l.length>2){const c=l.reduce((u,d)=>u+Math.abs(d.amount),0);t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.8,amount:c,transactions:l,evidence:[{type:"YEAR",description:"Anne",value:o},{type:"COUNT",description:"Nombre de prlvements",value:l.length},{type:"TOTAL",description:"Total prlev",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Location coffre-fort prleve ${l.length} fois en ${o}. La facturation devrait tre annuelle ou semestrielle. Vrifier les conditions et demander remboursement des excdents.`,status:"pending",detectedAt:new Date})}}if(s.length>0){const a=s.map(l=>Math.abs(l.amount)),o=a.reduce((l,c)=>l+c,0)/a.length;for(const l of s){const c=Math.abs(l.amount);c>o*2&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.LOW,confidence:.7,amount:c-o,transactions:[l],evidence:[{type:"AMOUNT",description:"Frais prlev",value:`${c.toLocaleString("fr-FR")} FCFA`},{type:"AVERAGE",description:"Frais moyen",value:`${o.toLocaleString("fr-FR")} FCFA`}],recommendation:`Frais d'accs coffre-fort lev: ${c.toLocaleString("fr-FR")} FCFA vs moyenne ${o.toLocaleString("fr-FR")} FCFA. Vrifier la nature de l'opration.`,status:"pending",detectedAt:new Date})}}return t}analyzeCertificationFees(e){const t=[],n=e.filter(s=>this.isCertificationFee(s));if(n.length===0)return t;const i=new Map;for(const s of n){const a=Rr(new Date(s.date),"yyyy-MM");i.has(a)||i.set(a,[]),i.get(a).push(s)}for(const[s,a]of i)if(a.length>=3){const o=a.reduce((l,c)=>l+Math.abs(c.amount),0);t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.LOW,confidence:.65,amount:o,transactions:a,evidence:[{type:"MONTH",description:"Mois concern",value:s},{type:"COUNT",description:"Nombre de certifications",value:a.length},{type:"TOTAL",description:"Total des frais",value:`${o.toLocaleString("fr-FR")} FCFA`}],recommendation:`${a.length} demandes de certification/attestation en ${s}. Total: ${o.toLocaleString("fr-FR")} FCFA. Vrifier si certaines peuvent tre regroupes ou vites.`,status:"pending",detectedAt:new Date})}if(this.bankConditions?.certificationFees)for(const s of n){const a=Math.abs(s.amount),o=s.description.toLowerCase();let l,c="";o.includes("rib")||o.includes("releve identite")?(l=this.bankConditions.certificationFees.rib,c="RIB"):o.includes("attestation")?(l=this.bankConditions.certificationFees.attestation,c="Attestation"):o.includes("certification")&&(l=this.bankConditions.certificationFees.certification,c="Certification"),l&&a>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(s,c,l,a))}return t}analyzeMessagingFees(e){const t=[],n=e.filter(a=>this.isMessagingFee(a));if(n.length===0)return t;const i=new Map;for(const a of n){const o=Rr(new Date(a.date),"yyyy-MM");i.has(o)||i.set(o,[]),i.get(o).push(a)}const s=Array.from(i.values()).map(a=>a.reduce((o,l)=>o+Math.abs(l.amount),0));if(s.length>=3){const a=s.reduce((o,l)=>o+l,0)/s.length;for(const[o,l]of i){const c=l.reduce((u,d)=>u+Math.abs(d.amount),0);c>a*2&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.LOW,confidence:.7,amount:c-a,transactions:l,evidence:[{type:"MONTH",description:"Mois concern",value:o},{type:"TOTAL",description:"Total du mois",value:`${c.toLocaleString("fr-FR")} FCFA`},{type:"AVERAGE",description:"Moyenne mensuelle",value:`${a.toLocaleString("fr-FR")} FCFA`}],recommendation:`Frais de messagerie/alertes levs en ${o}: ${c.toLocaleString("fr-FR")} FCFA (moyenne: ${a.toLocaleString("fr-FR")} FCFA). Vrifier le paramtrage des alertes et les tarifs unitaires.`,status:"pending",detectedAt:new Date})}}return t}analyzeArchivingFees(e){const t=[],n=e.filter(s=>this.isArchivingFee(s));if(n.length===0)return t;const i=n.filter(s=>s.description.toLowerCase().includes("recherche")||s.description.toLowerCase().includes("historique"));for(const s of i){const a=Math.abs(s.amount);a>1e4&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.75,amount:a,transactions:[s],evidence:[{type:"AMOUNT",description:"Frais de recherche",value:`${a.toLocaleString("fr-FR")} FCFA`},{type:"DESCRIPTION",description:"Libell",value:s.description}],recommendation:`Frais de recherche d'historique lev: ${a.toLocaleString("fr-FR")} FCFA. Vrifier si l'historique est disponible via la banque en ligne (souvent gratuit) avant de demander des recherches payantes.`,status:"pending",detectedAt:new Date})}return t}detectUnusedServicesFees(e){const t=[],n=e.filter(s=>s.amount<0&&(s.description.toLowerCase().includes("abonnement")||s.description.toLowerCase().includes("cotisation")||s.description.toLowerCase().includes("forfait")));if(n.length===0)return t;const i=new Map;for(const s of n){const a=this.extractServiceType(s.description);i.has(a)||i.set(a,[]),i.get(a).push(s)}for(const[s,a]of i){const o=a.reduce((c,u)=>c+Math.abs(u.amount),0);e.filter(c=>c!==a[0]&&this.isRelatedOperation(c,s)).length===0&&a.length>=3&&t.push({id:at(),type:ke.GHOST_FEE,severity:je.MEDIUM,confidence:.7,amount:o,transactions:a,evidence:[{type:"SERVICE",description:"Service factur",value:s},{type:"COUNT",description:"Nombre de prlvements",value:a.length},{type:"TOTAL",description:"Total des frais",value:`${o.toLocaleString("fr-FR")} FCFA`},{type:"USAGE",description:"Oprations lies dtectes",value:"0"}],recommendation:`Service "${s}" factur ${a.length} fois pour ${o.toLocaleString("fr-FR")} FCFA sans oprations lies dtectes. Vrifier l'utilit de ce service et envisager sa rsiliation.`,status:"pending",detectedAt:new Date})}return t}isOnlineBankingFee(e){const t=["banque en ligne","e-banking","web banking","mobile banking","application mobile","token","digipass","authentification","abonnement internet","services en ligne"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isSafeDepositFee(e){const t=["coffre","coffre-fort","safe","location coffre","loyer coffre","acces coffre"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isCertificationFee(e){const t=["attestation","certification","rib","releve identite","copie conforme","document certifie","lettre de reference","reference bancaire"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isMessagingFee(e){const t=["sms","alerte","notification","messagerie","push notification","email alert"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isArchivingFee(e){const t=["archivage","archive","historique","recherche documents","consultation historique","documents anciens"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}extractServiceType(e){const t=e.toLowerCase();return t.includes("banque en ligne")||t.includes("e-banking")?"Banque en ligne":t.includes("mobile")||t.includes("app")?"Services mobiles":t.includes("coffre")?"Coffre-fort":t.includes("sms")||t.includes("alerte")?"Alertes SMS":t.includes("token")||t.includes("digipass")?"Authentification":"Service divers"}isRelatedOperation(e,t){const n=e.description.toLowerCase();switch(t){case"Banque en ligne":return n.includes("virement en ligne")||n.includes("operation web");case"Services mobiles":return n.includes("operation mobile")||n.includes("paiement mobile");case"Alertes SMS":return!1;default:return!1}}createOverchargeAnomaly(e,t,n,i){return{id:at(),type:ke.OVERCHARGE,severity:i>n*1.5?je.HIGH:je.MEDIUM,confidence:.9,amount:i-n,transactions:[e],evidence:[{type:"FEE_TYPE",description:"Type de frais",value:t},{type:"EXPECTED",description:"Montant contractuel",value:`${n.toLocaleString("fr-FR")} FCFA`},{type:"ACTUAL",description:"Montant prlev",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"OVERCHARGE",description:"Surfacturation",value:`${(i-n).toLocaleString("fr-FR")} FCFA`}],recommendation:`Surfacturation de ${(i-n).toLocaleString("fr-FR")} FCFA sur "${t}". Montant contractuel: ${n.toLocaleString("fr-FR")} FCFA, montant prlev: ${i.toLocaleString("fr-FR")} FCFA. Demander le remboursement.`,status:"pending",detectedAt:new Date}}}const S6e={feeTolerance:.05,significantIncreaseThreshold:.15,checkInsurance:!0,checkPackages:!0};class VD{config;bankConditions;constructor(e,t){this.config={...S6e,...e},this.bankConditions=t}analyze(e){const t=[];return this.config.checkPackages&&t.push(...this.analyzePackageFees(e)),this.config.checkInsurance&&t.push(...this.analyzePaymentInsurance(e)),t.push(...this.analyzeOverdraftInsurance(e)),t.push(...this.detectInsurancePackageOverlap(e)),t.push(...this.analyzeContributionIncreases(e)),t.push(...this.detectUnusedOptions(e)),t}analyzePackageFees(e){const t=[],n=e.filter(s=>this.isPackageFee(s));if(n.length===0)return t;const i=new Map;for(const s of n){const a=this.extractPackageType(s.description);i.has(a)||i.set(a,[]),i.get(a).push(s)}for(const[s,a]of i){const o=new Map;for(const l of a){const c=Rr(new Date(l.date),"yyyy-MM");o.has(c)||o.set(c,[]),o.get(c).push(l)}for(const[l,c]of o)if(c.length>1){const u=c.reduce((d,h)=>d+Math.abs(h.amount),0);t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.HIGH,confidence:.9,amount:u-Math.abs(c[0].amount),transactions:c,evidence:[{type:"PACKAGE",description:"Type de package",value:s},{type:"MONTH",description:"Mois concern",value:l},{type:"COUNT",description:"Nombre de prlvements",value:c.length},{type:"TOTAL",description:"Total prlev",value:`${u.toLocaleString("fr-FR")} FCFA`}],recommendation:`Package "${s}" prlev ${c.length} fois en ${l}. Total: ${u.toLocaleString("fr-FR")} FCFA. Demander le remboursement du/des doublon(s).`,status:"pending",detectedAt:new Date})}if(this.bankConditions?.packageFees?.[s])for(const l of a){const c=Math.abs(l.amount),u=this.bankConditions.packageFees[s];c>u*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(l,`Package ${s}`,u,c))}}return t}analyzePaymentInsurance(e){const t=[],n=e.filter(a=>this.isPaymentInsurance(a));if(n.length===0)return t;const i=e.filter(a=>a.description.toLowerCase().includes("cb")||a.description.toLowerCase().includes("carte")||a.description.toLowerCase().includes("paiement")),s=n.reduce((a,o)=>a+Math.abs(o.amount),0);if(i.length<12&&s>5e4&&t.push({id:at(),type:ke.FEE_ANOMALY,severity:je.MEDIUM,confidence:.7,amount:s,transactions:n.slice(0,5),evidence:[{type:"PREMIUMS",description:"Total des primes",value:`${s.toLocaleString("fr-FR")} FCFA`},{type:"CARD_OPS",description:"Oprations carte dtectes",value:i.length.toString()},{type:"RATIO",description:"Cot par opration",value:i.length>0?`${(s/i.length).toLocaleString("fr-FR")} FCFA`:"N/A"}],recommendation:`Assurance moyens de paiement coteuse: ${s.toLocaleString("fr-FR")} FCFA pour ${i.length} oprations carte dtectes. valuer la pertinence de cette assurance par rapport  l'utilisation relle.`,status:"pending",detectedAt:new Date}),this.bankConditions?.insuranceFees?.paymentMeans)for(const a of n){const o=Math.abs(a.amount),l=this.bankConditions.insuranceFees.paymentMeans;o>l*(1+this.config.feeTolerance)&&t.push(this.createOverchargeAnomaly(a,"Assurance moyens de paiement",l,o))}return t}analyzeOverdraftInsurance(e){const t=[],n=e.filter(a=>this.isOverdraftInsurance(a));if(n.length===0)return t;const i=e.filter(a=>a.description.toLowerCase().includes("interet debiteur")||a.description.toLowerCase().includes("agios")),s=n.reduce((a,o)=>a+Math.abs(o.amount),0);return i.length===0&&s>2e4&&t.push({id:at(),type:ke.GHOST_FEE,severity:je.MEDIUM,confidence:.75,amount:s,transactions:n,evidence:[{type:"PREMIUMS",description:"Total primes assurance dcouvert",value:`${s.toLocaleString("fr-FR")} FCFA`},{type:"OVERDRAFT_DETECTED",description:"Agios/dcouverts dtects",value:"0"}],recommendation:`Assurance dcouvert paye (${s.toLocaleString("fr-FR")} FCFA) sans utilisation du dcouvert dtecte. Si le compte reste crditeur, envisager la rsiliation de cette assurance.`,status:"pending",detectedAt:new Date}),t}detectInsurancePackageOverlap(e){const t=[],n=e.filter(a=>this.isPackageFee(a)),i=e.filter(a=>this.isPaymentInsurance(a)||this.isOverdraftInsurance(a));if(n.length===0||i.length===0)return t;const s=n.find(a=>a.description.toLowerCase().includes("tout compris")||a.description.toLowerCase().includes("premium")||a.description.toLowerCase().includes("integral"));if(s){const a=new Map;for(const c of i){const u=Rr(new Date(c.date),"yyyy-MM");a.has(u)||a.set(u,[]),a.get(u).push(c)}const o=Rr(new Date(s.date),"yyyy-MM"),l=a.get(o);if(l&&l.length>0){const c=l.reduce((u,d)=>u+Math.abs(d.amount),0);t.push({id:at(),type:ke.DUPLICATE_FEE,severity:je.HIGH,confidence:.85,amount:c,transactions:[s,...l],evidence:[{type:"PACKAGE",description:"Package souscrit",value:s.description},{type:"PACKAGE_AMOUNT",description:"Montant package",value:`${Math.abs(s.amount).toLocaleString("fr-FR")} FCFA`},{type:"INSURANCE_COUNT",description:"Assurances factures en plus",value:l.length.toString()},{type:"INSURANCE_TOTAL",description:"Total assurances",value:`${c.toLocaleString("fr-FR")} FCFA`}],recommendation:`Package "${s.description}" et assurances facturs sparment. Vrifier si les assurances sont incluses dans le package. Potentiel doublon: ${c.toLocaleString("fr-FR")} FCFA.`,status:"pending",detectedAt:new Date})}}return t}analyzeContributionIncreases(e){const t=[],n=e.filter(s=>this.isPackageFee(s)||this.isPaymentInsurance(s)||this.isOverdraftInsurance(s));if(n.length<6)return t;const i=new Map;for(const s of n){const a=this.extractFeeType(s.description);i.has(a)||i.set(a,[]),i.get(a).push(s)}for(const[s,a]of i){if(a.length<3)continue;const o=a.sort((u,d)=>new Date(u.date).getTime()-new Date(d.date).getTime()),l=Math.abs(o[0].amount),c=Math.abs(o[o.length-1].amount);if(c>l*(1+this.config.significantIncreaseThreshold)){const u=(c-l)/l*100,d=XV(new Date(o[o.length-1].date),new Date(o[0].date));t.push({id:at(),type:ke.FEE_ANOMALY,severity:u>30?je.HIGH:je.MEDIUM,confidence:.8,amount:c-l,transactions:[o[0],o[o.length-1]],evidence:[{type:"FEE_TYPE",description:"Type de cotisation",value:s},{type:"INITIAL",description:"Montant initial",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"CURRENT",description:"Montant actuel",value:`${c.toLocaleString("fr-FR")} FCFA`},{type:"INCREASE",description:"Augmentation",value:`+${u.toFixed(1)}%`},{type:"PERIOD",description:"Sur priode",value:`${d} mois`}],recommendation:`Augmentation de ${u.toFixed(1)}% sur "${s}" en ${d} mois. De ${l.toLocaleString("fr-FR")}  ${c.toLocaleString("fr-FR")} FCFA. Vrifier la justification et ngocier si possible.`,status:"pending",detectedAt:new Date})}}return t}detectUnusedOptions(e){const t=[],n=e.filter(s=>this.isOptionalService(s));if(n.length===0)return t;const i=new Map;for(const s of n){const a=this.extractOptionType(s.description);i.has(a)||i.set(a,[]),i.get(a).push(s)}for(const[s,a]of i){const o=this.findRelatedOperations(e,s),l=a.reduce((c,u)=>c+Math.abs(u.amount),0);o.length===0&&a.length>=3&&t.push({id:at(),type:ke.GHOST_FEE,severity:je.MEDIUM,confidence:.7,amount:l,transactions:a,evidence:[{type:"OPTION",description:"Option/Service",value:s},{type:"FEE_COUNT",description:"Nombre de prlvements",value:a.length.toString()},{type:"TOTAL",description:"Total pay",value:`${l.toLocaleString("fr-FR")} FCFA`},{type:"USAGE",description:"Utilisations dtectes",value:"0"}],recommendation:`Option "${s}" facture ${a.length} fois (${l.toLocaleString("fr-FR")} FCFA) sans utilisation dtecte. valuer l'intrt de cette option et envisager sa rsiliation.`,status:"pending",detectedAt:new Date})}return t}isPackageFee(e){const t=["package","forfait","formule","offre","convention","tout compris","premium","integral","essentiel","confort","privilege"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isPaymentInsurance(e){const t=["assurance carte","assurance cb","assurance moyens paiement","protection carte","garantie carte","securite carte","assurance vol","assurance perte"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isOverdraftInsurance(e){const t=["assurance decouvert","protection decouvert","garantie decouvert","assurance facilite"],n=e.description.toLowerCase();return e.amount<0&&t.some(i=>n.includes(i))}isOptionalService(e){const t=["option","service","abonnement","souscription","supplement","additif"],n=["package","forfait","assurance"],i=e.description.toLowerCase();return e.amount<0&&t.some(s=>i.includes(s))&&!n.some(s=>i.includes(s))}extractPackageType(e){const t=e.toLowerCase();return t.includes("premium")||t.includes("privilege")?"Premium":t.includes("confort")?"Confort":t.includes("essentiel")||t.includes("basique")?"Essentiel":t.includes("pro")||t.includes("professionnel")?"Professionnel":t.includes("tout compris")||t.includes("integral")?"Tout compris":"Standard"}extractFeeType(e){const t=e.toLowerCase();return t.includes("package")||t.includes("forfait")?"Package bancaire":t.includes("assurance carte")?"Assurance carte":t.includes("assurance decouvert")?"Assurance dcouvert":t.includes("assurance")?"Assurance":"Cotisation"}extractOptionType(e){const t=e.toLowerCase();return t.includes("sms")||t.includes("alerte")?"Alertes SMS":t.includes("chequier")?"Chquier":t.includes("epargne")?"Option pargne":t.includes("international")?"Option international":"Option diverses"}findRelatedOperations(e,t){const n=[];switch(t){case"Alertes SMS":break;case"Chquier":n.push(...e.filter(i=>i.description.toLowerCase().includes("cheque")||i.description.toLowerCase().includes("chq")));break;case"Option international":n.push(...e.filter(i=>i.description.toLowerCase().includes("international")||i.description.toLowerCase().includes("etranger")));break}return n}createOverchargeAnomaly(e,t,n,i){return{id:at(),type:ke.OVERCHARGE,severity:i>n*1.5?je.HIGH:je.MEDIUM,confidence:.9,amount:i-n,transactions:[e],evidence:[{type:"FEE_TYPE",description:"Type de frais",value:t},{type:"EXPECTED",description:"Montant contractuel",value:`${n.toLocaleString("fr-FR")} FCFA`},{type:"ACTUAL",description:"Montant prlev",value:`${i.toLocaleString("fr-FR")} FCFA`},{type:"OVERCHARGE",description:"Surfacturation",value:`${(i-n).toLocaleString("fr-FR")} FCFA`}],recommendation:`Surfacturation de ${(i-n).toLocaleString("fr-FR")} FCFA sur "${t}". Montant contractuel: ${n.toLocaleString("fr-FR")} FCFA, montant prlev: ${i.toLocaleString("fr-FR")} FCFA. Demander le remboursement.`,status:"pending",detectedAt:new Date}}}class E6e{duplicateDetector;ghostFeeDetector;overchargeAnalyzer;interestCalculator;valueDateAudit;suspiciousAudit;cashflowAudit;reconciliationAudit;ohadaAudit;amlAudit;accountFeesAudit;cardFeesAudit;paymentMethodsAudit;internationalAudit;ancillaryServicesAudit;packagesAudit;constructor(e){this.duplicateDetector=new KBe(e?.duplicateDetection),this.ghostFeeDetector=new e6e(e?.ghostFeeDetection),this.overchargeAnalyzer=new t6e(e?.overchargeDetection),this.interestCalculator=new r6e(e?.interestCalculation),this.valueDateAudit=new DD,this.suspiciousAudit=new s6e,this.cashflowAudit=new c6e,this.reconciliationAudit=new d6e,this.ohadaAudit=new p6e,this.amlAudit=new g6e,this.accountFeesAudit=new UD,this.cardFeesAudit=new HD,this.paymentMethodsAudit=new QD,this.internationalAudit=new $D,this.ancillaryServicesAudit=new zD,this.packagesAudit=new VD}async analyzeTransactions(e,t,n,i){const s=new Date,a=i?.onProgress||(()=>{});try{a(5,"Initialisation de l'analyse...");let o=this.filterTransactions(e,n);a(10,`Analyse de ${o.length} transactions...`);const l=[];let c=10;const u=20;if(n.enabledDetectors.includes(ke.DUPLICATE_FEE)){a(c,"Dtection des doublons...");const m=await this.runDetector(()=>this.duplicateDetector.detectDuplicates(o));l.push(...m),c+=u}if(n.enabledDetectors.includes(ke.GHOST_FEE)){a(c,"Dtection des frais fantmes...");const m=await this.runDetector(()=>this.ghostFeeDetector.detectGhostFees(o));l.push(...m),c+=u}if(n.enabledDetectors.includes(ke.OVERCHARGE)){a(c,"Analyse des surfacturations...");const m=await this.runDetector(()=>this.overchargeAnalyzer.detectOvercharges(o,t,i?.historicalData));l.push(...m),c+=u}if(n.enabledDetectors.includes(ke.INTEREST_ERROR)&&i?.accountBalances){a(c,"Vrification des calculs d'intrts...");const m=await this.runDetector(()=>this.interestCalculator.verifyInterestCharges(o,t,i.accountBalances));l.push(...m),c+=u/2}if(n.enabledDetectors.includes(ke.VALUE_DATE_ERROR)){a(c,"Contrle des dates de valeur...");const m=new DD({},t),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=5}if(n.enabledDetectors.includes(ke.SUSPICIOUS_TRANSACTION)){a(c,"Dtection des oprations suspectes...");const m=await this.runDetector(()=>this.suspiciousAudit.analyze(o));l.push(...m),c+=5}if(n.enabledDetectors.includes(ke.COMPLIANCE_VIOLATION)){a(c,"Audit de conformit contractuelle...");const m=new o6e(t),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=5}if(n.enabledDetectors.includes(ke.CASHFLOW_ANOMALY)){a(c,"Analyse de trsorerie...");const m=await this.runDetector(()=>this.cashflowAudit.analyze(o));l.push(...m),c+=5}if(n.enabledDetectors.includes(ke.RECONCILIATION_GAP)){a(c,"Analyse de rapprochement...");const m=await this.runDetector(()=>this.reconciliationAudit.analyze(o));l.push(...m),c+=5}if(n.enabledDetectors.includes(ke.MULTI_BANK_ISSUE)){a(c,"Analyse multi-banques...");const m=new f6e([t]),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=5}if(n.enabledDetectors.includes(ke.OHADA_NON_COMPLIANCE)){a(c,"Contrle conformit OHADA...");const m=await this.runDetector(()=>this.ohadaAudit.analyze(o));l.push(...m),c+=5}if(n.enabledDetectors.includes(ke.AML_ALERT)){a(c,"Dtection anti-blanchiment (LCB-FT)...");const m=await this.runDetector(()=>this.amlAudit.analyze(o));l.push(...m),c+=3}if(n.enabledDetectors.includes(ke.FEE_ANOMALY)){a(c,"Audit des frais de tenue de compte...");const m=new UD({},t),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=3}if(n.enabledDetectors.includes(ke.FEE_ANOMALY)){a(c,"Audit des frais de cartes bancaires...");const m=new HD({},t),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=3}if(n.enabledDetectors.includes(ke.FEE_ANOMALY)){a(c,"Audit des moyens de paiement...");const m=new QD({},t),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=3}if(n.enabledDetectors.includes(ke.FEE_ANOMALY)){a(c,"Audit des oprations internationales...");const m=new $D({},t),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=3}if(n.enabledDetectors.includes(ke.FEE_ANOMALY)){a(c,"Audit des services annexes...");const m=new zD({},t),v=await this.runDetector(()=>m.analyze(o));l.push(...v),c+=3}if(n.enabledDetectors.includes(ke.FEE_ANOMALY)){a(c,"Audit des packages et assurances...");const m=new VD({},t),v=await this.runDetector(()=>m.analyze(o));l.push(...v)}a(70,"Calcul des statistiques...");const d=this.calculateStatistics(o,l);let h,f=0,p=0;if(i?.claudeService){if(i.enableAICategorization&&o.length>0){a(75,"Catgorisation IA des transactions...");try{f=(await i.claudeService.categorizeTransactions(o.slice(0,200))).filter(v=>v.confidence>.5).length}catch(m){console.error("Erreur catgorisation IA:",m)}}if(i.enableAIFraudDetection&&o.length>0){a(82,"Dtection de fraude IA...");try{p=(await i.claudeService.detectFraudPatterns(o,l)).filter(v=>v.isSuspicious).length}catch(m){console.error("Erreur dtection fraude IA:",m)}}if(l.length>0){a(88,"Analyse approfondie IA...");try{h=await i.claudeService.analyzeAnomalies(l,t)}catch(m){console.error("Erreur analyse IA:",m)}}}a(95,"Gnration du rsum...");const g=this.generateSummary(l,d,h);return a(100,"Analyse termine"),{id:`analysis-${Date.now()}`,config:n,status:Tf.COMPLETED,progress:100,anomalies:l,statistics:d,summary:g,startedAt:s,completedAt:new Date,aiAnalysis:h,categorizedTransactions:f,fraudPatternsDetected:p}}catch(o){return{id:`analysis-${Date.now()}`,config:n,status:Tf.FAILED,progress:0,anomalies:[],statistics:this.emptyStatistics(),summary:{status:"CRITICAL",message:`Erreur lors de l'analyse: ${o instanceof Error?o.message:"Erreur inconnue"}`,keyFindings:[],recommendations:[],estimatedRecovery:0},startedAt:s,completedAt:new Date,error:o instanceof Error?o.message:"Erreur inconnue"}}}async runDetector(e){return e()}filterTransactions(e,t){return e.filter(n=>{if(t.clientId&&n.clientId!==t.clientId)return!1;const i=new Date(n.date);return!(t.dateRange.start&&i<t.dateRange.start||t.dateRange.end&&i>t.dateRange.end||t.bankCodes&&t.bankCodes.length>0&&!t.bankCodes.includes(n.bankCode))})}calculateStatistics(e,t){const n=e.length,i=e.reduce((c,u)=>c+Math.abs(u.amount),0),s=t.length,a=t.reduce((c,u)=>c+u.amount,0),o={[ke.DUPLICATE_FEE]:0,[ke.GHOST_FEE]:0,[ke.OVERCHARGE]:0,[ke.INTEREST_ERROR]:0,[ke.UNAUTHORIZED]:0,[ke.ROUNDING_ABUSE]:0,[ke.VALUE_DATE_ERROR]:0,[ke.SUSPICIOUS_TRANSACTION]:0,[ke.COMPLIANCE_VIOLATION]:0,[ke.CASHFLOW_ANOMALY]:0,[ke.RECONCILIATION_GAP]:0,[ke.MULTI_BANK_ISSUE]:0,[ke.OHADA_NON_COMPLIANCE]:0,[ke.AML_ALERT]:0,[ke.FEE_ANOMALY]:0},l={[je.LOW]:0,[je.MEDIUM]:0,[je.HIGH]:0,[je.CRITICAL]:0};for(const c of t)o[c.type]++,l[c.severity]++;return{totalTransactions:n,totalAmount:i,totalAnomalies:s,totalAnomalyAmount:a,anomaliesByType:o,anomaliesBySeverity:l,anomalyRate:n>0?s/n*100:0,potentialSavings:a}}generateSummary(e,t,n){const i=t.anomaliesBySeverity[je.CRITICAL],s=t.anomaliesBySeverity[je.HIGH];let a;i>0?a="CRITICAL":s>0||t.totalAnomalies>10?a="WARNING":a="OK";let o;t.totalAnomalies===0?o="Aucune anomalie dtecte. Les frais bancaires semblent conformes.":o=`${t.totalAnomalies} anomalie${t.totalAnomalies>1?"s":""} dtecte${t.totalAnomalies>1?"s":""} pour un montant total de ${Math.round(t.totalAnomalyAmount).toLocaleString("fr-FR")} FCFA. Taux d'anomalie: ${t.anomalyRate.toFixed(1)}%.`;let l=this.extractKeyFindings(e,t),c=this.generateRecommendations(e,t);if(n?.analysis){if(n.analysis.findings?.length>0){const u=n.analysis.findings.slice(0,3).map(d=>`[IA] ${d.description}`);l=[...l,...u].slice(0,5)}if(n.analysis.recommendations?.length>0){const u=n.analysis.recommendations.slice(0,2).map(d=>`[IA] ${d}`);c=[...c,...u].slice(0,5)}n.analysis.summary&&(o+=` Analyse IA: ${n.analysis.summary}`)}return{status:a,message:o,keyFindings:l,recommendations:c,estimatedRecovery:t.potentialSavings}}extractKeyFindings(e,t){const n=[],i={[ke.DUPLICATE_FEE]:"frais en double",[ke.GHOST_FEE]:"frais fantmes",[ke.OVERCHARGE]:"surfacturations",[ke.INTEREST_ERROR]:"erreurs d'intrts",[ke.UNAUTHORIZED]:"frais non autoriss",[ke.ROUNDING_ABUSE]:"abus d'arrondi",[ke.VALUE_DATE_ERROR]:"erreurs de dates de valeur",[ke.SUSPICIOUS_TRANSACTION]:"oprations suspectes",[ke.COMPLIANCE_VIOLATION]:"non-conformits",[ke.CASHFLOW_ANOMALY]:"anomalies de trsorerie",[ke.RECONCILIATION_GAP]:"carts de rapprochement",[ke.MULTI_BANK_ISSUE]:"problmes multi-banques",[ke.OHADA_NON_COMPLIANCE]:"non-conformits OHADA",[ke.AML_ALERT]:"alertes anti-blanchiment",[ke.FEE_ANOMALY]:"anomalies de frais"};for(const[a,o]of Object.entries(t.anomaliesByType))if(o>0){const c=e.filter(u=>u.type===a).reduce((u,d)=>u+d.amount,0);n.push(`${o} ${i[a]} (${Math.round(c).toLocaleString("fr-FR")} FCFA)`)}const s=e.filter(a=>a.severity===je.CRITICAL);return s.length>0&&n.unshift(`${s.length} anomalie${s.length>1?"s":""} critique${s.length>1?"s":""} requrant une attention immdiate`),n.slice(0,5)}generateRecommendations(e,t){const n=[];return t.anomaliesByType[ke.DUPLICATE_FEE]>0&&n.push("Mettre en place un contrle mensuel des doublons de frais"),t.anomaliesByType[ke.GHOST_FEE]>0&&n.push("Demander des factures dtailles pour tous les frais non identifis"),t.anomaliesByType[ke.OVERCHARGE]>0&&n.push("Rengocier les conditions tarifaires avec la banque"),t.anomaliesByType[ke.INTEREST_ERROR]>0&&n.push("Demander le dtail des calculs d'intrts  la banque"),t.anomaliesByType[ke.VALUE_DATE_ERROR]>0&&n.push("Vrifier les dates de valeur et rclamer les intrts indment prlevs"),t.anomaliesByType[ke.SUSPICIOUS_TRANSACTION]>0&&n.push("Analyser en dtail les oprations suspectes identifies"),t.anomaliesByType[ke.COMPLIANCE_VIOLATION]>0&&n.push("Mettre en conformit avec les conditions contractuelles"),t.anomaliesByType[ke.CASHFLOW_ANOMALY]>0&&n.push("Optimiser la gestion de trsorerie pour viter les dcouverts"),t.anomaliesByType[ke.RECONCILIATION_GAP]>0&&n.push("Effectuer un rapprochement complet et identifier les critures manquantes"),t.anomaliesByType[ke.OHADA_NON_COMPLIANCE]>0&&n.push("Rgulariser les non-conformits OHADA identifies"),t.anomaliesByType[ke.AML_ALERT]>0&&n.push("URGENT: Transmettre les alertes LCB-FT au responsable conformit"),t.anomaliesByType[ke.FEE_ANOMALY]>0&&n.push("Analyser les frais bancaires par catgorie et rclamer les remboursements"),t.totalAnomalies>10&&n.push("Envisager de changer de banque ou de rengocier l'ensemble des conditions"),t.potentialSavings>1e5&&n.push("Engager rapidement une procdure de rclamation formelle"),n.slice(0,5)}emptyStatistics(){return{totalTransactions:0,totalAmount:0,totalAnomalies:0,totalAnomalyAmount:0,anomaliesByType:{[ke.DUPLICATE_FEE]:0,[ke.GHOST_FEE]:0,[ke.OVERCHARGE]:0,[ke.INTEREST_ERROR]:0,[ke.UNAUTHORIZED]:0,[ke.ROUNDING_ABUSE]:0,[ke.VALUE_DATE_ERROR]:0,[ke.SUSPICIOUS_TRANSACTION]:0,[ke.COMPLIANCE_VIOLATION]:0,[ke.CASHFLOW_ANOMALY]:0,[ke.RECONCILIATION_GAP]:0,[ke.MULTI_BANK_ISSUE]:0,[ke.OHADA_NON_COMPLIANCE]:0,[ke.AML_ALERT]:0,[ke.FEE_ANOMALY]:0},anomaliesBySeverity:{[je.LOW]:0,[je.MEDIUM]:0,[je.HIGH]:0,[je.CRITICAL]:0},anomalyRate:0,potentialSavings:0}}}let xS=null;function _6e(r){return(!xS||r)&&(xS=new E6e(r)),xS}function Jr(r){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(r)}var Kl=Uint8Array,yo=Uint16Array,$8=Int32Array,z8=new Kl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),V8=new Kl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),GD=new Kl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),EJ=function(r,e){for(var t=new yo(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new $8(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},_J=EJ(z8,2),N6e=_J.b,MB=_J.r;N6e[28]=258,MB[258]=28;var B6e=EJ(V8,0),KD=B6e.r,OB=new yo(32768);for(var Pn=0;Pn<32768;++Pn){var Ld=(Pn&43690)>>1|(Pn&21845)<<1;Ld=(Ld&52428)>>2|(Ld&13107)<<2,Ld=(Ld&61680)>>4|(Ld&3855)<<4,OB[Pn]=((Ld&65280)>>8|(Ld&255)<<8)>>1}var Vg=function(r,e,t){for(var n=r.length,i=0,s=new yo(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new yo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new yo(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var c=i<<4|r[i],u=e-r[i],d=a[r[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[OB[d]>>l]=c}else for(o=new yo(n),i=0;i<n;++i)r[i]&&(o[i]=OB[a[r[i]-1]++]>>15-r[i]);return o},dA=new Kl(288);for(var Pn=0;Pn<144;++Pn)dA[Pn]=8;for(var Pn=144;Pn<256;++Pn)dA[Pn]=9;for(var Pn=256;Pn<280;++Pn)dA[Pn]=7;for(var Pn=280;Pn<288;++Pn)dA[Pn]=8;var X2=new Kl(32);for(var Pn=0;Pn<32;++Pn)X2[Pn]=5;var k6e=Vg(dA,9,0),T6e=Vg(X2,5,0),NJ=function(r){return(r+7)/8|0},j6e=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Kl(r.subarray(e,t))},hu=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},X0=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},wS=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:kJ,l:0};if(i==1){var a=new Kl(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(_,B){return _.f-B.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var f=new yo(h+1),p=PB(t[u-1],f,0);if(p>e){var n=0,g=0,m=p-e,v=1<<m;for(s.sort(function(B,R){return f[R.s]-f[B.s]||B.f-R.f});n<i;++n){var y=s[n].s;if(f[y]>e)g+=v-(1<<p-f[y]),f[y]=e;else break}for(g>>=m;g>0;){var b=s[n].s;f[b]<e?g-=1<<e-f[b]++-1:++n}for(;n>=0&&g;--n){var w=s[n].s;f[w]==e&&(--f[w],++g)}p=e}return{t:new Kl(f),l:p}},PB=function(r,e,t){return r.s==-1?Math.max(PB(r.l,e,t+1),PB(r.r,e,t+1)):e[r.s]=t},WD=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new yo(++e),n=0,i=r[0],s=1,a=function(l){t[n++]=l},o=1;o<=e;++o)if(r[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:t.subarray(0,n),n:e}},Y0=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},BJ=function(r,e,t){var n=t.length,i=NJ(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},qD=function(r,e,t,n,i,s,a,o,l,c,u){hu(e,u++,t),++i[256];for(var d=wS(i,15),h=d.t,f=d.l,p=wS(s,15),g=p.t,m=p.l,v=WD(h),y=v.c,b=v.n,w=WD(g),_=w.c,B=w.n,R=new yo(19),j=0;j<y.length;++j)++R[y[j]&31];for(var j=0;j<_.length;++j)++R[_[j]&31];for(var k=wS(R,7),L=k.t,H=k.l,I=19;I>4&&!L[GD[I-1]];--I);var T=c+5<<3,P=Y0(i,dA)+Y0(s,X2)+a,N=Y0(i,h)+Y0(s,g)+a+14+3*I+Y0(R,L)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&T<=P&&T<=N)return BJ(e,u,r.subarray(l,l+c));var S,C,E,x;if(hu(e,u,1+(N<P)),u+=2,N<P){S=Vg(h,f,0),C=h,E=Vg(g,m,0),x=g;var F=Vg(L,H,0);hu(e,u,b-257),hu(e,u+5,B-1),hu(e,u+10,I-4),u+=14;for(var j=0;j<I;++j)hu(e,u+3*j,L[GD[j]]);u+=3*I;for(var U=[y,_],M=0;M<2;++M)for(var z=U[M],j=0;j<z.length;++j){var G=z[j]&31;hu(e,u,F[G]),u+=L[G],G>15&&(hu(e,u,z[j]>>5&127),u+=z[j]>>12)}}else S=k6e,C=dA,E=T6e,x=X2;for(var j=0;j<o;++j){var Y=n[j];if(Y>255){var G=Y>>18&31;X0(e,u,S[G+257]),u+=C[G+257],G>7&&(hu(e,u,Y>>23&31),u+=z8[G]);var Q=Y&31;X0(e,u,E[Q]),u+=x[Q],Q>3&&(X0(e,u,Y>>5&8191),u+=V8[Q])}else X0(e,u,S[Y]),u+=C[Y]}return X0(e,u,S[256]),u+C[256]},F6e=new $8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kJ=new Kl(0),I6e=function(r,e,t,n,i,s){var a=s.z||r.length,o=new Kl(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=F6e[e-1],h=d>>13,f=d&8191,p=(1<<t)-1,g=s.p||new yo(32768),m=s.h||new yo(p+1),v=Math.ceil(t/3),y=2*v,b=function(se){return(r[se]^r[se+1]<<v^r[se+2]<<y)&p},w=new $8(25e3),_=new yo(288),B=new yo(32),R=0,j=0,k=s.i||0,L=0,H=s.w||0,I=0;k+2<a;++k){var T=b(k),P=k&32767,N=m[T];if(g[P]=N,m[T]=P,H<=k){var S=a-k;if((R>7e3||L>24576)&&(S>423||!c)){u=qD(r,l,0,w,_,B,j,L,I,k-I,u),L=R=j=0,I=k;for(var C=0;C<286;++C)_[C]=0;for(var C=0;C<30;++C)B[C]=0}var E=2,x=0,F=f,U=P-N&32767;if(S>2&&T==b(k-U))for(var M=Math.min(h,S)-1,z=Math.min(32767,k),G=Math.min(258,S);U<=z&&--F&&P!=N;){if(r[k+E]==r[k+E-U]){for(var Y=0;Y<G&&r[k+Y]==r[k+Y-U];++Y);if(Y>E){if(E=Y,x=U,Y>M)break;for(var Q=Math.min(U,Y-2),q=0,C=0;C<Q;++C){var D=k-U+C&32767,O=g[D],V=D-O&32767;V>q&&(q=V,N=D)}}}P=N,N=g[P],U+=P-N&32767}if(x){w[L++]=268435456|MB[E]<<18|KD[x];var J=MB[E]&31,re=KD[x]&31;j+=z8[J]+V8[re],++_[257+J],++B[re],H=k+E,++R}else w[L++]=r[k],++_[r[k]]}}for(k=Math.max(k,H);k<a;++k)w[L++]=r[k],++_[r[k]];u=qD(r,l,c,w,_,B,j,L,I,k-I,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=m,s.p=g,s.i=k,s.w=H)}else{for(var k=s.w||0;k<a+c;k+=65535){var ne=k+65535;ne>=a&&(l[u/8|0]=c,ne=a),u=BJ(l,u+1,r.subarray(k,ne))}s.i=a}return j6e(o,0,n+NJ(u)+i)},TJ=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},M6e=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Kl(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return I6e(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},jJ=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},O6e=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=TJ();i.p(e.dictionary),jJ(r,2,i.d())}};function RB(r,e){e||(e={});var t=TJ();t.p(r);var n=M6e(r,e,e.dictionary?6:2,4);return O6e(n,e),jJ(n,n.length-4,t.d()),n}var P6e=typeof TextDecoder<"u"&&new TextDecoder,R6e=0;try{P6e.decode(kJ,{stream:!0}),R6e=1}catch{}function L6e(r){if(Array.isArray(r))return r}function D6e(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function XD(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function U6e(r,e){if(r){if(typeof r=="string")return XD(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?XD(r,e):void 0}}function H6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YD(r,e){return L6e(r)||D6e(r,e)||U6e(r,e)||H6e()}function JD(r,e="utf8"){return new TextDecoder(e).decode(r)}const Q6e=new TextEncoder;function $6e(r){return Q6e.encode(r)}const z6e=1024*8,V6e=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),CS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class G8{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=z6e,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof G8)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=CS[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===V6e&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new CS[t](o.buffer);return this.offset+=n,l.reverse(),l}const a=new CS[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return JD(this.readBytes(e))}decodeText(e=1,t="utf8"){return JD(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes($6e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xm(r){let e=r.length;for(;--e>=0;)r[e]=0}const G6e=3,K6e=258,FJ=29,W6e=256,q6e=W6e+1+FJ,IJ=30,X6e=512,Y6e=new Array((q6e+2)*2);Xm(Y6e);const J6e=new Array(IJ*2);Xm(J6e);const Z6e=new Array(X6e);Xm(Z6e);const eke=new Array(K6e-G6e+1);Xm(eke);const tke=new Array(FJ);Xm(tke);const rke=new Array(IJ);Xm(rke);const nke=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var LB=nke;const ike=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},ske=new Uint32Array(ike()),ake=(r,e,t,n)=>{const i=ske,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var dc=ake,DB={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},MJ={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oke=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var lke=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)oke(t,n)&&(r[n]=t[n])}}return r},cke=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},OJ={assign:lke,flattenChunks:cke};let PJ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PJ=!1}const Gv=new Uint8Array(256);for(let r=0;r<256;r++)Gv[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Gv[254]=Gv[254]=1;var uke=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,o=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const dke=(r,e)=>{if(e<65534&&r.subarray&&PJ)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var hke=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let o=Gv[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<t;)a=a<<6|r[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return dke(s,i)},fke=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Gv[r[t]]>e?t:e},UB={string2buf:uke,buf2string:hke,utf8border:fke};function Ake(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pke=Ake;const Ib=16209,mke=16191;var gke=function(e,t){let n,i,s,a,o,l,c,u,d,h,f,p,g,m,v,y,b,w,_,B,R,j,k,L;const H=e.state;n=e.next_in,k=e.input,i=n+(e.avail_in-5),s=e.next_out,L=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=H.dmax,c=H.wsize,u=H.whave,d=H.wnext,h=H.window,f=H.hold,p=H.bits,g=H.lencode,m=H.distcode,v=(1<<H.lenbits)-1,y=(1<<H.distbits)-1;e:do{p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),b=g[f&v];t:for(;;){if(w=b>>>24,f>>>=w,p-=w,w=b>>>16&255,w===0)L[s++]=b&65535;else if(w&16){_=b&65535,w&=15,w&&(p<w&&(f+=k[n++]<<p,p+=8),_+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=k[n++]<<p,p+=8,f+=k[n++]<<p,p+=8),b=m[f&y];r:for(;;){if(w=b>>>24,f>>>=w,p-=w,w=b>>>16&255,w&16){if(B=b&65535,w&=15,p<w&&(f+=k[n++]<<p,p+=8,p<w&&(f+=k[n++]<<p,p+=8)),B+=f&(1<<w)-1,B>l){e.msg="invalid distance too far back",H.mode=Ib;break e}if(f>>>=w,p-=w,w=s-a,B>w){if(w=B-w,w>u&&H.sane){e.msg="invalid distance too far back",H.mode=Ib;break e}if(R=0,j=h,d===0){if(R+=c-w,w<_){_-=w;do L[s++]=h[R++];while(--w);R=s-B,j=L}}else if(d<w){if(R+=c+d-w,w-=d,w<_){_-=w;do L[s++]=h[R++];while(--w);if(R=0,d<_){w=d,_-=w;do L[s++]=h[R++];while(--w);R=s-B,j=L}}}else if(R+=d-w,w<_){_-=w;do L[s++]=h[R++];while(--w);R=s-B,j=L}for(;_>2;)L[s++]=j[R++],L[s++]=j[R++],L[s++]=j[R++],_-=3;_&&(L[s++]=j[R++],_>1&&(L[s++]=j[R++]))}else{R=s-B;do L[s++]=L[R++],L[s++]=L[R++],L[s++]=L[R++],_-=3;while(_>2);_&&(L[s++]=L[R++],_>1&&(L[s++]=L[R++]))}}else if(w&64){e.msg="invalid distance code",H.mode=Ib;break e}else{b=m[(b&65535)+(f&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){H.mode=mke;break e}else{e.msg="invalid literal/length code",H.mode=Ib;break e}else{b=g[(b&65535)+(f&(1<<w)-1)];continue t}break}}while(n<i&&s<o);_=p>>3,n-=_,p-=_<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),H.hold=f,H.bits=p};const GA=15,ZD=852,e7=592,t7=0,SS=1,r7=2,vke=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yke=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bke=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xke=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wke=(r,e,t,n,i,s,a,o)=>{const l=o.bits;let c=0,u=0,d=0,h=0,f=0,p=0,g=0,m=0,v=0,y=0,b,w,_,B,R,j=null,k;const L=new Uint16Array(GA+1),H=new Uint16Array(GA+1);let I=null,T,P,N;for(c=0;c<=GA;c++)L[c]=0;for(u=0;u<n;u++)L[e[t+u]]++;for(f=l,h=GA;h>=1&&L[h]===0;h--);if(f>h&&(f=h),h===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<h&&L[d]===0;d++);for(f<d&&(f=d),m=1,c=1;c<=GA;c++)if(m<<=1,m-=L[c],m<0)return-1;if(m>0&&(r===t7||h!==1))return-1;for(H[1]=0,c=1;c<GA;c++)H[c+1]=H[c]+L[c];for(u=0;u<n;u++)e[t+u]!==0&&(a[H[e[t+u]]++]=u);if(r===t7?(j=I=a,k=20):r===SS?(j=vke,I=yke,k=257):(j=bke,I=xke,k=0),y=0,u=0,c=d,R=s,p=f,g=0,_=-1,v=1<<f,B=v-1,r===SS&&v>ZD||r===r7&&v>e7)return 1;for(;;){T=c-g,a[u]+1<k?(P=0,N=a[u]):a[u]>=k?(P=I[a[u]-k],N=j[a[u]-k]):(P=96,N=0),b=1<<c-g,w=1<<p,d=w;do w-=b,i[R+(y>>g)+w]=T<<24|P<<16|N|0;while(w!==0);for(b=1<<c-1;y&b;)b>>=1;if(b!==0?(y&=b-1,y+=b):y=0,u++,--L[c]===0){if(c===h)break;c=e[t+a[u]]}if(c>f&&(y&B)!==_){for(g===0&&(g=f),R+=d,p=c-g,m=1<<p;p+g<h&&(m-=L[p+g],!(m<=0));)p++,m<<=1;if(v+=1<<p,r===SS&&v>ZD||r===r7&&v>e7)return 1;_=y&B,i[_]=f<<24|p<<16|R-s|0}}return y!==0&&(i[R+y]=c-g<<24|64<<16|0),o.bits=f,0};var Gg=wke;const Cke=0,RJ=1,LJ=2,{Z_FINISH:n7,Z_BLOCK:Ske,Z_TREES:Mb,Z_OK:hA,Z_STREAM_END:Eke,Z_NEED_DICT:_ke,Z_STREAM_ERROR:hl,Z_DATA_ERROR:DJ,Z_MEM_ERROR:UJ,Z_BUF_ERROR:Nke,Z_DEFLATED:i7}=MJ,a4=16180,s7=16181,a7=16182,o7=16183,l7=16184,c7=16185,u7=16186,d7=16187,h7=16188,f7=16189,Y2=16190,fu=16191,ES=16192,A7=16193,_S=16194,p7=16195,m7=16196,g7=16197,v7=16198,Ob=16199,Pb=16200,y7=16201,b7=16202,x7=16203,w7=16204,C7=16205,NS=16206,S7=16207,E7=16208,Dn=16209,HJ=16210,QJ=16211,Bke=852,kke=592,Tke=15,jke=Tke,_7=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Fke(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const SA=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<a4||e.mode>QJ?1:0},$J=r=>{if(SA(r))return hl;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=a4,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Bke),e.distcode=e.distdyn=new Int32Array(kke),e.sane=1,e.back=-1,hA},zJ=r=>{if(SA(r))return hl;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,$J(r)},VJ=(r,e)=>{let t;if(SA(r))return hl;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,zJ(r))},GJ=(r,e)=>{if(!r)return hl;const t=new Fke;r.state=t,t.strm=r,t.window=null,t.mode=a4;const n=VJ(r,e);return n!==hA&&(r.state=null),n},Ike=r=>GJ(r,jke);let N7=!0,BS,kS;const Mke=r=>{if(N7){BS=new Int32Array(512),kS=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Gg(RJ,r.lens,0,288,BS,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Gg(LJ,r.lens,0,32,kS,0,r.work,{bits:5}),N7=!1}r.lencode=BS,r.lenbits=9,r.distcode=kS,r.distbits=5},KJ=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Oke=(r,e)=>{let t,n,i,s,a,o,l,c,u,d,h,f,p,g,m=0,v,y,b,w,_,B,R,j;const k=new Uint8Array(4);let L,H;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(SA(r)||!r.output||!r.input&&r.avail_in!==0)return hl;t=r.state,t.mode===fu&&(t.mode=ES),a=r.next_out,i=r.output,l=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,c=t.hold,u=t.bits,d=o,h=l,j=hA;e:for(;;)switch(t.mode){case a4:if(t.wrap===0){t.mode=ES;break}for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=c&255,k[1]=c>>>8&255,t.check=dc(t.check,k,2,0),c=0,u=0,t.mode=s7;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){r.msg="incorrect header check",t.mode=Dn;break}if((c&15)!==i7){r.msg="unknown compression method",t.mode=Dn;break}if(c>>>=4,u-=4,R=(c&15)+8,t.wbits===0&&(t.wbits=R),R>15||R>t.wbits){r.msg="invalid window size",t.mode=Dn;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=c&512?f7:fu,c=0,u=0;break;case s7:for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(t.flags=c,(t.flags&255)!==i7){r.msg="unknown compression method",t.mode=Dn;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Dn;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=dc(t.check,k,2,0)),c=0,u=0,t.mode=a7;case a7:for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,t.check=dc(t.check,k,4,0)),c=0,u=0,t.mode=o7;case o7:for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=dc(t.check,k,2,0)),c=0,u=0,t.mode=l7;case l7:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,t.check=dc(t.check,k,2,0)),c=0,u=0}else t.head&&(t.head.extra=null);t.mode=c7;case c7:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(R=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+f),R)),t.flags&512&&t.wrap&4&&(t.check=dc(t.check,n,f,s)),o-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=u7;case u7:if(t.flags&2048){if(o===0)break e;f=0;do R=n[s+f++],t.head&&R&&t.length<65536&&(t.head.name+=String.fromCharCode(R));while(R&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=dc(t.check,n,f,s)),o-=f,s+=f,R)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=d7;case d7:if(t.flags&4096){if(o===0)break e;f=0;do R=n[s+f++],t.head&&R&&t.length<65536&&(t.head.comment+=String.fromCharCode(R));while(R&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=dc(t.check,n,f,s)),o-=f,s+=f,R)break e}else t.head&&(t.head.comment=null);t.mode=h7;case h7:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Dn;break}c=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=fu;break;case f7:for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.adler=t.check=_7(c),c=0,u=0,t.mode=Y2;case Y2:if(t.havedict===0)return r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,t.hold=c,t.bits=u,_ke;r.adler=t.check=1,t.mode=fu;case fu:if(e===Ske||e===Mb)break e;case ES:if(t.last){c>>>=u&7,u-=u&7,t.mode=NS;break}for(;u<3;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}switch(t.last=c&1,c>>>=1,u-=1,c&3){case 0:t.mode=A7;break;case 1:if(Mke(t),t.mode=Ob,e===Mb){c>>>=2,u-=2;break e}break;case 2:t.mode=m7;break;case 3:r.msg="invalid block type",t.mode=Dn}c>>>=2,u-=2;break;case A7:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Dn;break}if(t.length=c&65535,c=0,u=0,t.mode=_S,e===Mb)break e;case _S:t.mode=p7;case p7:if(f=t.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,t.length-=f;break}t.mode=fu;break;case m7:for(;u<14;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(t.nlen=(c&31)+257,c>>>=5,u-=5,t.ndist=(c&31)+1,c>>>=5,u-=5,t.ncode=(c&15)+4,c>>>=4,u-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Dn;break}t.have=0,t.mode=g7;case g7:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.lens[I[t.have++]]=c&7,c>>>=3,u-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,L={bits:t.lenbits},j=Gg(Cke,t.lens,0,19,t.lencode,0,t.work,L),t.lenbits=L.bits,j){r.msg="invalid code lengths set",t.mode=Dn;break}t.have=0,t.mode=v7;case v7:for(;t.have<t.nlen+t.ndist;){for(;m=t.lencode[c&(1<<t.lenbits)-1],v=m>>>24,y=m>>>16&255,b=m&65535,!(v<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(b<16)c>>>=v,u-=v,t.lens[t.have++]=b;else{if(b===16){for(H=v+2;u<H;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(c>>>=v,u-=v,t.have===0){r.msg="invalid bit length repeat",t.mode=Dn;break}R=t.lens[t.have-1],f=3+(c&3),c>>>=2,u-=2}else if(b===17){for(H=v+3;u<H;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,R=0,f=3+(c&7),c>>>=3,u-=3}else{for(H=v+7;u<H;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,R=0,f=11+(c&127),c>>>=7,u-=7}if(t.have+f>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Dn;break}for(;f--;)t.lens[t.have++]=R}}if(t.mode===Dn)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Dn;break}if(t.lenbits=9,L={bits:t.lenbits},j=Gg(RJ,t.lens,0,t.nlen,t.lencode,0,t.work,L),t.lenbits=L.bits,j){r.msg="invalid literal/lengths set",t.mode=Dn;break}if(t.distbits=6,t.distcode=t.distdyn,L={bits:t.distbits},j=Gg(LJ,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,L),t.distbits=L.bits,j){r.msg="invalid distances set",t.mode=Dn;break}if(t.mode=Ob,e===Mb)break e;case Ob:t.mode=Pb;case Pb:if(o>=6&&l>=258){r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,t.hold=c,t.bits=u,gke(r,h),a=r.next_out,i=r.output,l=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,c=t.hold,u=t.bits,t.mode===fu&&(t.back=-1);break}for(t.back=0;m=t.lencode[c&(1<<t.lenbits)-1],v=m>>>24,y=m>>>16&255,b=m&65535,!(v<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(y&&!(y&240)){for(w=v,_=y,B=b;m=t.lencode[B+((c&(1<<w+_)-1)>>w)],v=m>>>24,y=m>>>16&255,b=m&65535,!(w+v<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,t.back+=w}if(c>>>=v,u-=v,t.back+=v,t.length=b,y===0){t.mode=C7;break}if(y&32){t.back=-1,t.mode=fu;break}if(y&64){r.msg="invalid literal/length code",t.mode=Dn;break}t.extra=y&15,t.mode=y7;case y7:if(t.extra){for(H=t.extra;u<H;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=b7;case b7:for(;m=t.distcode[c&(1<<t.distbits)-1],v=m>>>24,y=m>>>16&255,b=m&65535,!(v<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(!(y&240)){for(w=v,_=y,B=b;m=t.distcode[B+((c&(1<<w+_)-1)>>w)],v=m>>>24,y=m>>>16&255,b=m&65535,!(w+v<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,t.back+=w}if(c>>>=v,u-=v,t.back+=v,y&64){r.msg="invalid distance code",t.mode=Dn;break}t.offset=b,t.extra=y&15,t.mode=x7;case x7:if(t.extra){for(H=t.extra;u<H;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Dn;break}t.mode=w7;case w7:if(l===0)break e;if(f=h-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Dn;break}f>t.wnext?(f-=t.wnext,p=t.wsize-f):p=t.wnext-f,f>t.length&&(f=t.length),g=t.window}else g=i,p=a-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do i[a++]=g[p++];while(--f);t.length===0&&(t.mode=Pb);break;case C7:if(l===0)break e;i[a++]=t.length,l--,t.mode=Pb;break;case NS:if(t.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[s++]<<u,u+=8}if(h-=l,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?dc(t.check,i,h,a-h):LB(t.check,i,h,a-h)),h=l,t.wrap&4&&(t.flags?c:_7(c))!==t.check){r.msg="incorrect data check",t.mode=Dn;break}c=0,u=0}t.mode=S7;case S7:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(t.wrap&4&&c!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Dn;break}c=0,u=0}t.mode=E7;case E7:j=Eke;break e;case Dn:j=DJ;break e;case HJ:return UJ;case QJ:default:return hl}return r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,t.hold=c,t.bits=u,(t.wsize||h!==r.avail_out&&t.mode<Dn&&(t.mode<NS||e!==n7))&&KJ(r,r.output,r.next_out,h-r.avail_out),d-=r.avail_in,h-=r.avail_out,r.total_in+=d,r.total_out+=h,t.total+=h,t.wrap&4&&h&&(r.adler=t.check=t.flags?dc(t.check,i,h,r.next_out-h):LB(t.check,i,h,r.next_out-h)),r.data_type=t.bits+(t.last?64:0)+(t.mode===fu?128:0)+(t.mode===Ob||t.mode===_S?256:0),(d===0&&h===0||e===n7)&&j===hA&&(j=Nke),j},Pke=r=>{if(SA(r))return hl;let e=r.state;return e.window&&(e.window=null),r.state=null,hA},Rke=(r,e)=>{if(SA(r))return hl;const t=r.state;return t.wrap&2?(t.head=e,e.done=!1,hA):hl},Lke=(r,e)=>{const t=e.length;let n,i,s;return SA(r)||(n=r.state,n.wrap!==0&&n.mode!==Y2)?hl:n.mode===Y2&&(i=1,i=LB(i,e,t,0),i!==n.check)?DJ:(s=KJ(r,e,t,t),s?(n.mode=HJ,UJ):(n.havedict=1,hA))};var Dke=zJ,Uke=VJ,Hke=$J,Qke=Ike,$ke=GJ,zke=Oke,Vke=Pke,Gke=Rke,Kke=Lke,Wke="pako inflate (from Nodeca project)",Eu={inflateReset:Dke,inflateReset2:Uke,inflateResetKeep:Hke,inflateInit:Qke,inflateInit2:$ke,inflate:zke,inflateEnd:Vke,inflateGetHeader:Gke,inflateSetDictionary:Kke,inflateInfo:Wke};function qke(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xke=qke;const WJ=Object.prototype.toString,{Z_NO_FLUSH:Yke,Z_FINISH:Jke,Z_OK:Kv,Z_STREAM_END:TS,Z_NEED_DICT:jS,Z_STREAM_ERROR:Zke,Z_DATA_ERROR:B7,Z_MEM_ERROR:eTe}=MJ;function Yy(r){this.options=OJ.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pke,this.strm.avail_out=0;let t=Eu.inflateInit2(this.strm,e.windowBits);if(t!==Kv)throw new Error(DB[t]);if(this.header=new Xke,Eu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=UB.string2buf(e.dictionary):WJ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Eu.inflateSetDictionary(this.strm,e.dictionary),t!==Kv)))throw new Error(DB[t])}Yy.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Jke:Yke,WJ.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Eu.inflate(t,a),s===jS&&i&&(s=Eu.inflateSetDictionary(t,i),s===Kv?s=Eu.inflate(t,a):s===B7&&(s=jS));t.avail_in>0&&s===TS&&t.state.wrap>0&&r[t.next_in]!==0;)Eu.inflateReset(t),s=Eu.inflate(t,a);switch(s){case Zke:case B7:case jS:case eTe:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===TS))if(this.options.to==="string"){let l=UB.utf8border(t.output,t.next_out),c=t.next_out-l,u=UB.buf2string(t.output,l);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Kv&&o===0)){if(s===TS)return s=Eu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Yy.prototype.onData=function(r){this.chunks.push(r)};Yy.prototype.onEnd=function(r){r===Kv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=OJ.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function tTe(r,e){const t=new Yy(e);if(t.push(r),t.err)throw t.msg||DB[t.err];return t.result}var rTe=Yy,nTe=tTe,iTe={Inflate:rTe,inflate:nTe};const{Inflate:sTe,inflate:aTe}=iTe;var k7=sTe,oTe=aTe;const qJ=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;qJ[r]=e}const T7=4294967295;function lTe(r,e,t){let n=r;for(let i=0;i<t;i++)n=qJ[(n^e[i])&255]^n>>>8;return n}function cTe(r,e){return(lTe(T7,r,e)^T7)>>>0}function j7(r,e,t){const n=r.readUint32(),i=cTe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${i}`)}function XJ(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function YJ(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function JJ(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function ZJ(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function eZ(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+uTe(e[s-i],t[s],t[s-i])&255}}function uTe(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function dTe(r,e,t,n,i,s){switch(r){case 0:XJ(e,t,i);break;case 1:YJ(e,t,i,s);break;case 2:JJ(e,t,n,i);break;case 3:ZJ(e,t,n,i,s);break;case 4:eZ(e,t,n,i,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const hTe=new Uint16Array([255]),fTe=new Uint8Array(hTe.buffer),ATe=fTe[0]===255;function pTe(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*t*o);let c=0;for(let u=0;u<7;u++){const d=a[u],h=Math.ceil((t-d.x)/d.xStep),f=Math.ceil((n-d.y)/d.yStep);if(h<=0||f<=0)continue;const p=h*o,g=new Uint8Array(p);for(let m=0;m<f;m++){const v=e[c++],y=e.subarray(c,c+p);c+=p;const b=new Uint8Array(p);dTe(v,y,b,g,p,o),g.set(b);for(let w=0;w<h;w++){const _=d.x+w*d.xStep,B=d.y+m*d.yStep;if(!(_>=t||B>=n))for(let R=0;R<o;R++)l[(B*t+_)*o+R]=b[w*o+R]}}}if(s===16){const u=new Uint16Array(l.buffer);if(ATe)for(let d=0;d<u.length;d++)u[d]=mTe(u[d]);return u}else return l}function mTe(r){return(r&255)<<8|r>>8&255}const gTe=new Uint16Array([255]),vTe=new Uint8Array(gTe.buffer),yTe=vTe[0]===255,bTe=new Uint8Array(0);function F7(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),l=new Uint8Array(n*o);let c=bTe,u=0,d,h;for(let f=0;f<n;f++){switch(d=e.subarray(u+1,u+1+o),h=l.subarray(f*o,(f+1)*o),e[u]){case 0:XJ(d,h,o);break;case 1:YJ(d,h,o,a);break;case 2:JJ(d,h,c,o);break;case 3:ZJ(d,h,c,o,a);break;case 4:eZ(d,h,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=h,u+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(yTe)for(let p=0;p<f.length;p++)f[p]=xTe(f[p]);return f}else return l}function xTe(r){return(r&255)<<8|r>>8&255}const rw=Uint8Array.of(137,80,78,71,13,10,26,10);function I7(r){if(!wTe(r.readBytes(rw.length)))throw new Error("wrong PNG signature")}function wTe(r){if(r.length<rw.length)return!1;for(let e=0;e<rw.length;e++)if(r[e]!==rw[e])return!1;return!0}const CTe="tEXt",STe=0,tZ=new TextDecoder("latin1");function ETe(r){if(NTe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const _Te=/^[\u0000-\u00FF]*$/;function NTe(r){if(!_Te.test(r))throw new Error("invalid latin1 text")}function BTe(r,e,t){const n=rZ(e);r[n]=kTe(e,t-n.length-1)}function rZ(r){for(r.mark();r.readByte()!==STe;);const e=r.offset;r.reset();const t=tZ.decode(r.readBytes(e-r.offset-1));return r.skip(1),ETe(t),t}function kTe(r,e){return tZ.decode(r.readBytes(e))}const oo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},FS={UNKNOWN:-1,DEFLATE:0},M7={UNKNOWN:-1,ADAPTIVE:0},IS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rb={NONE:0,BACKGROUND:1,PREVIOUS:2},MS={SOURCE:0,OVER:1};class TTe extends G8{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new k7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=FS.UNKNOWN,this._filterMethod=M7.UNKNOWN,this._interlaceMethod=IS.UNKNOWN,this._colorType=oo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(I7(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(I7(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case CTe:BTe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?j7(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?j7(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=jTe(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case oo.GREYSCALE:n=1;break;case oo.TRUECOLOUR:n=3;break;case oo.INDEXED_COLOUR:n=1;break;case oo.GREYSCALE_ALPHA:n=2;break;case oo.TRUECOLOUR_ALPHA:n=4;break;case oo.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==FS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case oo.GREYSCALE:case oo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case oo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case oo.UNKNOWN:case oo.GREYSCALE_ALPHA:case oo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=rZ(this),n=this.readUint8();if(n!==FS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:oTe(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=F7({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case Rb.NONE:break;case Rb.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[a+o]=0}break;case Rb.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(s,a)=>{const o=((s+t.yOffset)*this._png.width+t.xOffset+a)*this._png.channels,l=(s*t.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(t.blendOp){case MS.SOURCE:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++)e.data[o+c]=t.data[l+c]}break;case MS.OVER:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++){const u=t.data[l+this._png.channels-1]/n,d=c%(this._png.channels-1)===0?1:t.data[l+c],h=Math.floor(u*d+(1-u)*e.data[o+c]);e.data[o+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==M7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===IS.NO_INTERLACE)this._png.data=F7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===IS.ADAM7)this._png.data=pTe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rb.NONE,blendOp:MS.SOURCE,data:e}),this._inflator=new k7,this._writingDataChunks=!1}}function jTe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var O7;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(O7||(O7={}));function FTe(r,e){return new TTe(r,e).decode()}var pr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function OS(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}var vn={log:OS,warn:function(r){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):OS.call(null,arguments))},error:function(r){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):OS(r))}};function PS(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Cf(n.response,e,t)},n.onerror=function(){vn.error("could not download file")},n.send()}function P7(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lb(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Cf=pr.saveAs||((typeof window>"u"?"undefined":Jr(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=pr.URL||pr.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?P7(i.href)?PS(r,e,t):Lb(i,i.target="_blank"):Lb(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(P7(r))PS(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Lb(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Jr(s)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return PS(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(pr.HTMLElement)||pr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Jr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(r)}else{var l=pr.URL||pr.webkitURL,c=l.createObjectURL(r);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nZ(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var nw=pr.atob.bind(pr),R7=pr.btoa.bind(pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function RS(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=Xs(t,n,i,s,e[0],7,-680876936),s=Xs(s,t,n,i,e[1],12,-389564586),i=Xs(i,s,t,n,e[2],17,606105819),n=Xs(n,i,s,t,e[3],22,-1044525330),t=Xs(t,n,i,s,e[4],7,-176418897),s=Xs(s,t,n,i,e[5],12,1200080426),i=Xs(i,s,t,n,e[6],17,-1473231341),n=Xs(n,i,s,t,e[7],22,-45705983),t=Xs(t,n,i,s,e[8],7,1770035416),s=Xs(s,t,n,i,e[9],12,-1958414417),i=Xs(i,s,t,n,e[10],17,-42063),n=Xs(n,i,s,t,e[11],22,-1990404162),t=Xs(t,n,i,s,e[12],7,1804603682),s=Xs(s,t,n,i,e[13],12,-40341101),i=Xs(i,s,t,n,e[14],17,-1502002290),t=Ys(t,n=Xs(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ys(s,t,n,i,e[6],9,-1069501632),i=Ys(i,s,t,n,e[11],14,643717713),n=Ys(n,i,s,t,e[0],20,-373897302),t=Ys(t,n,i,s,e[5],5,-701558691),s=Ys(s,t,n,i,e[10],9,38016083),i=Ys(i,s,t,n,e[15],14,-660478335),n=Ys(n,i,s,t,e[4],20,-405537848),t=Ys(t,n,i,s,e[9],5,568446438),s=Ys(s,t,n,i,e[14],9,-1019803690),i=Ys(i,s,t,n,e[3],14,-187363961),n=Ys(n,i,s,t,e[8],20,1163531501),t=Ys(t,n,i,s,e[13],5,-1444681467),s=Ys(s,t,n,i,e[2],9,-51403784),i=Ys(i,s,t,n,e[7],14,1735328473),t=Js(t,n=Ys(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Js(s,t,n,i,e[8],11,-2022574463),i=Js(i,s,t,n,e[11],16,1839030562),n=Js(n,i,s,t,e[14],23,-35309556),t=Js(t,n,i,s,e[1],4,-1530992060),s=Js(s,t,n,i,e[4],11,1272893353),i=Js(i,s,t,n,e[7],16,-155497632),n=Js(n,i,s,t,e[10],23,-1094730640),t=Js(t,n,i,s,e[13],4,681279174),s=Js(s,t,n,i,e[0],11,-358537222),i=Js(i,s,t,n,e[3],16,-722521979),n=Js(n,i,s,t,e[6],23,76029189),t=Js(t,n,i,s,e[9],4,-640364487),s=Js(s,t,n,i,e[12],11,-421815835),i=Js(i,s,t,n,e[15],16,530742520),t=Zs(t,n=Js(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Zs(s,t,n,i,e[7],10,1126891415),i=Zs(i,s,t,n,e[14],15,-1416354905),n=Zs(n,i,s,t,e[5],21,-57434055),t=Zs(t,n,i,s,e[12],6,1700485571),s=Zs(s,t,n,i,e[3],10,-1894986606),i=Zs(i,s,t,n,e[10],15,-1051523),n=Zs(n,i,s,t,e[1],21,-2054922799),t=Zs(t,n,i,s,e[8],6,1873313359),s=Zs(s,t,n,i,e[15],10,-30611744),i=Zs(i,s,t,n,e[6],15,-1560198380),n=Zs(n,i,s,t,e[13],21,1309151649),t=Zs(t,n,i,s,e[4],6,-145523070),s=Zs(s,t,n,i,e[11],10,-1120210379),i=Zs(i,s,t,n,e[2],15,718787259),n=Zs(n,i,s,t,e[9],21,-343485551),r[0]=nh(t,r[0]),r[1]=nh(n,r[1]),r[2]=nh(i,r[2]),r[3]=nh(s,r[3])}function o4(r,e,t,n,i,s){return e=nh(nh(e,r),nh(n,s)),nh(e<<i|e>>>32-i,t)}function Xs(r,e,t,n,i,s,a){return o4(e&t|~e&n,r,e,i,s,a)}function Ys(r,e,t,n,i,s,a){return o4(e&n|t&~n,r,e,i,s,a)}function Js(r,e,t,n,i,s,a){return o4(e^t^n,r,e,i,s,a)}function Zs(r,e,t,n,i,s,a){return o4(t^(e|~n),r,e,i,s,a)}function iZ(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)RS(n,ITe(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(RS(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,RS(n,i),n}function ITe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var L7="0123456789abcdef".split("");function MTe(r){for(var e="",t=0;t<4;t++)e+=L7[r>>8*t+4&15]+L7[r>>8*t&15];return e}function OTe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function HB(r){return iZ(r).map(OTe).join("")}var PTe=function(r){for(var e=0;e<r.length;e++)r[e]=MTe(r[e]);return r.join("")}(iZ("hello"))!="5d41402abc4b2a76b9719d911017c592";function nh(r,e){if(PTe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function QB(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}t=r,n=o}else o=n;var d=e.length,h=0,f=0,p="";for(l=0;l<d;l++)f=(f+(u=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=u,a=o[(o[h]+o[f])%256],p+=String.fromCharCode(e.charCodeAt(l)^a);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var D7={print:4,modify:8,copy:16,"annot-forms":32};function lp(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(D7.perm!==void 0)throw new Error("Invalid permission: "+o);i+=D7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=HB(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=QB(this.encryptionKey,this.padding)}function cp(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function U7(r){if(Jr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(o){pr.console&&vn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function J2(r){if(!(this instanceof J2))return new J2(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function sZ(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Sf(r,e,t,n,i){if(!(this instanceof Sf))return new Sf(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,sZ.call(this,n,i)}function Fp(r,e,t,n,i){if(!(this instanceof Fp))return new Fp(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,sZ.call(this,n,i)}function rr(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Jr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=U7;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(X){p=X};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var v=f.__private__.getPageFormat=function(X){return m[X]};i=i||"a4";var y="compat",b="advanced",w=y;function _(){this.saveGraphicsState(),ee(new ht(st,0,0,-st,0,Zh()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",w=b}function B(){this.restoreGraphicsState(),c="S",w=y}var R=f.__private__.combineFontStyleAndFontWeight=function(X,ae){if(X=="bold"&&ae=="normal"||X=="bold"&&ae==400||X=="normal"&&ae=="italic"||X=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(X=ae==400||ae==="normal"?X==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||X!=="normal"?(ae==700?"bold":ae)+""+X:"bold"),X};f.advancedAPI=function(X){var ae=w===y;return ae&&_.call(this),typeof X!="function"||(X(this),ae&&B.call(this)),this},f.compatAPI=function(X){var ae=w===b;return ae&&B.call(this),typeof X!="function"||(X(this),ae&&_.call(this)),this},f.isAdvancedAPI=function(){return w===b};var j,k=function(X){if(w!==b)throw new Error(X+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=f.roundToPrecision=f.__private__.roundToPrecision=function(X,ae){var ve=e||ae;if(isNaN(X)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return X.toFixed(ve).replace(/0+$/,"")};j=f.hpf=f.__private__.hpf=typeof l=="number"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return L(X,l)}:l==="smart"?function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return L(X,X>-1&&X<1?16:5)}:function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.hpf");return L(X,16)};var H=f.f2=f.__private__.f2=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f2");return L(X,2)},I=f.__private__.f3=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.f3");return L(X,3)},T=f.scale=f.__private__.scale=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?X*st:w===b?X:void 0},P=function(X){return T(function(ae){return w===y?Zh()-ae:w===b?ae:void 0}(X))};f.__private__.setPrecision=f.setPrecision=function(X){typeof parseInt(X,10)=="number"&&(e=parseInt(X,10))};var N,S="00000000000000000000000000000000",C=f.__private__.getFileId=function(){return S},E=f.__private__.setFileId=function(X){return S=X!==void 0&&/^[a-fA-F0-9]{32}$/.test(X)?X.toUpperCase():S.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Sn=new lp(u.userPermissions,u.userPassword,u.ownerPassword,S)),S};f.setFileId=function(X){return E(X),this},f.getFileId=function(){return C()};var x=f.__private__.convertDateToPDFDate=function(X){var ae=X.getTimezoneOffset(),ve=ae<0?"+":"-",Se=Math.floor(Math.abs(ae/60)),Ie=Math.abs(ae%60),et=[ve,G(Se),"'",G(Ie),"'"].join("");return["D:",X.getFullYear(),G(X.getMonth()+1),G(X.getDate()),G(X.getHours()),G(X.getMinutes()),G(X.getSeconds()),et].join("")},F=f.__private__.convertPDFDateToDate=function(X){var ae=parseInt(X.substr(2,4),10),ve=parseInt(X.substr(6,2),10)-1,Se=parseInt(X.substr(8,2),10),Ie=parseInt(X.substr(10,2),10),et=parseInt(X.substr(12,2),10),lt=parseInt(X.substr(14,2),10);return new Date(ae,ve,Se,Ie,et,lt,0)},U=f.__private__.setCreationDate=function(X){var ae;if(X===void 0&&(X=new Date),X instanceof Date)ae=x(X);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(X))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=X}return N=ae},M=f.__private__.getCreationDate=function(X){var ae=N;return X==="jsDate"&&(ae=F(N)),ae};f.setCreationDate=function(X){return U(X),this},f.getCreationDate=function(X){return M(X)};var z,G=f.__private__.padd2=function(X){return("0"+parseInt(X)).slice(-2)},Y=f.__private__.padd2Hex=function(X){return("00"+(X=X.toString())).substr(X.length)},Q=0,q=[],D=[],O=0,V=[],J=[],re=!1,ne=D;f.__private__.setCustomOutputDestination=function(X){re=!0,ne=X};var se=function(X){re||(ne=X)};f.__private__.resetCustomOutputDestination=function(){re=!1,ne=D};var ee=f.__private__.out=function(X){return X=X.toString(),O+=X.length+1,ne.push(X),ne},de=f.__private__.write=function(X){return ee(arguments.length===1?X.toString():Array.prototype.join.call(arguments," "))},ie=f.__private__.getArrayBuffer=function(X){for(var ae=X.length,ve=new ArrayBuffer(ae),Se=new Uint8Array(ve);ae--;)Se[ae]=X.charCodeAt(ae);return ve},he=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return he};var le=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(X){return le=w===b?X/st:X,this};var be,ye=f.__private__.getFontSize=f.getFontSize=function(){return w===y?le:le*st},xe=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(X){return xe=X,this},f.__private__.getR2L=f.getR2L=function(){return xe};var Ee,Be=f.__private__.setZoomMode=function(X){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(X))be=X;else if(isNaN(X)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(X)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+X+'" is not recognized.');be=X}else be=parseInt(X,10)};f.__private__.getZoomMode=function(){return be};var Pe,Ue=f.__private__.setPageMode=function(X){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(X)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+X+'" is not recognized.');Ee=X};f.__private__.getPageMode=function(){return Ee};var He=f.__private__.setLayoutMode=function(X){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(X)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+X+'" is not recognized.');Pe=X};f.__private__.getLayoutMode=function(){return Pe},f.__private__.setDisplayMode=f.setDisplayMode=function(X,ae,ve){return Be(X),He(ae),Ue(ve),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(X){if(Object.keys($e).indexOf(X)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[X]},f.__private__.getDocumentProperties=function(){return $e},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(X){for(var ae in $e)$e.hasOwnProperty(ae)&&X[ae]&&($e[ae]=X[ae]);return this},f.__private__.setDocumentProperty=function(X,ae){if(Object.keys($e).indexOf(X)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[X]=ae};var Ke,st,Ve,pt,Je,ze={},qe={},gt=[],We={},Tt={},St={},ot={},Ot=null,vt=0,ut=[],Wt=new U7(f),wr=r.hotfixes||[],Ct={},cr={},Nr=[],ht=function X(ae,ve,Se,Ie,et,lt){if(!(this instanceof X))return new X(ae,ve,Se,Ie,et,lt);isNaN(ae)&&(ae=1),isNaN(ve)&&(ve=0),isNaN(Se)&&(Se=0),isNaN(Ie)&&(Ie=1),isNaN(et)&&(et=0),isNaN(lt)&&(lt=0),this._matrix=[ae,ve,Se,Ie,et,lt]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(X){this._matrix[0]=X}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(X){this._matrix[1]=X}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(X){this._matrix[2]=X}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(X){this._matrix[3]=X}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(X){this._matrix[4]=X}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(X){this._matrix[5]=X}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(X){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(X)},ht.prototype.multiply=function(X){var ae=X.sx*this.sx+X.shy*this.shx,ve=X.sx*this.shy+X.shy*this.sy,Se=X.shx*this.sx+X.sy*this.shx,Ie=X.shx*this.shy+X.sy*this.sy,et=X.tx*this.sx+X.ty*this.shx+this.tx,lt=X.tx*this.shy+X.ty*this.sy+this.ty;return new ht(ae,ve,Se,Ie,et,lt)},ht.prototype.decompose=function(){var X=this.sx,ae=this.shy,ve=this.shx,Se=this.sy,Ie=this.tx,et=this.ty,lt=Math.sqrt(X*X+ae*ae),Kt=(X/=lt)*ve+(ae/=lt)*Se;ve-=X*Kt,Se-=ae*Kt;var tr=Math.sqrt(ve*ve+Se*Se);return Kt/=tr,X*(Se/=tr)<ae*(ve/=tr)&&(X=-X,ae=-ae,Kt=-Kt,lt=-lt),{scale:new ht(lt,0,0,tr,0,0),translate:new ht(1,0,0,1,Ie,et),rotate:new ht(X,ae,-ae,X,0,0),skew:new ht(1,0,Kt,1,0,0)}},ht.prototype.toString=function(X){return this.join(" ")},ht.prototype.inversed=function(){var X=this.sx,ae=this.shy,ve=this.shx,Se=this.sy,Ie=this.tx,et=this.ty,lt=1/(X*Se-ae*ve),Kt=Se*lt,tr=-ae*lt,gr=-ve*lt,kr=X*lt;return new ht(Kt,tr,gr,kr,-Kt*Ie-gr*et,-tr*Ie-kr*et)},ht.prototype.applyToPoint=function(X){var ae=X.x*this.sx+X.y*this.shx+this.tx,ve=X.x*this.shy+X.y*this.sy+this.ty;return new tu(ae,ve)},ht.prototype.applyToRectangle=function(X){var ae=this.applyToPoint(X),ve=this.applyToPoint(new tu(X.x+X.w,X.y+X.h));return new s0(ae.x,ae.y,ve.x-ae.x,ve.y-ae.y)},ht.prototype.clone=function(){var X=this.sx,ae=this.shy,ve=this.shx,Se=this.sy,Ie=this.tx,et=this.ty;return new ht(X,ae,ve,Se,Ie,et)},f.Matrix=ht;var mr=f.matrixMult=function(X,ae){return ae.multiply(X)},Br=new ht(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Br;var qt=function(X,ae){if(!Tt[X]){var ve=(ae instanceof Sf?"Sh":"P")+(Object.keys(We).length+1).toString(10);ae.id=ve,Tt[X]=ve,We[ve]=ae,Wt.publish("addPattern",ae)}};f.ShadingPattern=Sf,f.TilingPattern=Fp,f.addShadingPattern=function(X,ae){return k("addShadingPattern()"),qt(X,ae),this},f.beginTilingPattern=function(X){k("beginTilingPattern()"),a0(X.boundingBox[0],X.boundingBox[1],X.boundingBox[2]-X.boundingBox[0],X.boundingBox[3]-X.boundingBox[1],X.matrix)},f.endTilingPattern=function(X,ae){k("endTilingPattern()"),ae.stream=J[z].join(`
`),qt(X,ae),Wt.publish("endTilingPattern",ae),Nr.pop().restore()};var Ce,_e=f.__private__.newObject=function(){var X=De();return dt(X,!0),X},De=f.__private__.newObjectDeferred=function(){return Q++,q[Q]=function(){return O},Q},dt=function(X,ae){return ae=typeof ae=="boolean"&&ae,q[X]=O,ae&&ee(X+" 0 obj"),X},$t=f.__private__.newAdditionalObject=function(){var X={objId:De(),content:""};return V.push(X),X},yt=De(),zt=De(),Bt=f.__private__.decodeColorString=function(X){var ae=X.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var ve=parseFloat(ae[0]);ae=[ve,ve,ve,"r"]}for(var Se="#",Ie=0;Ie<3;Ie++)Se+=("0"+Math.floor(255*parseFloat(ae[Ie])).toString(16)).slice(-2);return Se},jt=f.__private__.encodeColorString=function(X){var ae;typeof X=="string"&&(X={ch1:X});var ve=X.ch1,Se=X.ch2,Ie=X.ch3,et=X.ch4,lt=X.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Kt=new nZ(ve);if(Kt.ok)ve=Kt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var tr=parseInt(ve.substr(1),16);ve=tr>>16&255,Se=tr>>8&255,Ie=255&tr}if(Se===void 0||et===void 0&&ve===Se&&Se===Ie)ae=typeof ve=="string"?ve+" "+lt[0]:X.precision===2?H(ve/255)+" "+lt[0]:I(ve/255)+" "+lt[0];else if(et===void 0||Jr(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",lt[1]].join(" ");ae=typeof ve=="string"?[ve,Se,Ie,lt[1]].join(" "):X.precision===2?[H(ve/255),H(Se/255),H(Ie/255),lt[1]].join(" "):[I(ve/255),I(Se/255),I(Ie/255),lt[1]].join(" ")}else ae=typeof ve=="string"?[ve,Se,Ie,et,lt[2]].join(" "):X.precision===2?[H(ve),H(Se),H(Ie),H(et),lt[2]].join(" "):[I(ve),I(Se),I(Ie),I(et),lt[2]].join(" ");return ae},Xt=f.__private__.getFilters=function(){return a},Vt=f.__private__.putStream=function(X){var ae=(X=X||{}).data||"",ve=X.filters||Xt(),Se=X.alreadyAppliedFilters||[],Ie=X.addLength1||!1,et=ae.length,lt=X.objectId,Kt=function(Qi){return Qi};if(u!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Kt=Sn.encryptor(lt,0));var tr={};ve===!0&&(ve=["FlateEncode"]);var gr=X.additionalKeyValues||[],kr=(tr=rr.API.processDataByFilters!==void 0?rr.API.processDataByFilters(ae,ve):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(tr.data.length!==0&&(gr.push({key:"Length",value:tr.data.length}),Ie===!0&&gr.push({key:"Length1",value:et})),kr.length!=0)if(kr.split("/").length-1==1)gr.push({key:"Filter",value:kr});else{gr.push({key:"Filter",value:"["+kr+"]"});for(var Wr=0;Wr<gr.length;Wr+=1)if(gr[Wr].key==="DecodeParms"){for(var Wn=[],ki=0;ki<tr.reverseChain.split("/").length-1;ki+=1)Wn.push("null");Wn.push(gr[Wr].value),gr[Wr].value="["+Wn.join(" ")+"]"}}ee("<<");for(var En=0;En<gr.length;En++)ee("/"+gr[En].key+" "+gr[En].value);ee(">>"),tr.data.length!==0&&(ee("stream"),ee(Kt(tr.data)),ee("endstream"))},ur=f.__private__.putPage=function(X){var ae=X.number,ve=X.data,Se=X.objId,Ie=X.contentsObjId;dt(Se,!0),ee("<</Type /Page"),ee("/Parent "+X.rootDictionaryObjId+" 0 R"),ee("/Resources "+X.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(j(X.mediaBox.bottomLeftX))+" "+parseFloat(j(X.mediaBox.bottomLeftY))+" "+j(X.mediaBox.topRightX)+" "+j(X.mediaBox.topRightY)+"]"),X.cropBox!==null&&ee("/CropBox ["+j(X.cropBox.bottomLeftX)+" "+j(X.cropBox.bottomLeftY)+" "+j(X.cropBox.topRightX)+" "+j(X.cropBox.topRightY)+"]"),X.bleedBox!==null&&ee("/BleedBox ["+j(X.bleedBox.bottomLeftX)+" "+j(X.bleedBox.bottomLeftY)+" "+j(X.bleedBox.topRightX)+" "+j(X.bleedBox.topRightY)+"]"),X.trimBox!==null&&ee("/TrimBox ["+j(X.trimBox.bottomLeftX)+" "+j(X.trimBox.bottomLeftY)+" "+j(X.trimBox.topRightX)+" "+j(X.trimBox.topRightY)+"]"),X.artBox!==null&&ee("/ArtBox ["+j(X.artBox.bottomLeftX)+" "+j(X.artBox.bottomLeftY)+" "+j(X.artBox.topRightX)+" "+j(X.artBox.topRightY)+"]"),typeof X.userUnit=="number"&&X.userUnit!==1&&ee("/UserUnit "+X.userUnit),Wt.publish("putPage",{objId:Se,pageContext:ut[ae],pageNumber:ae,page:ve}),ee("/Contents "+Ie+" 0 R"),ee(">>"),ee("endobj");var et=ve.join(`
`);return w===b&&(et+=`
Q`),dt(Ie,!0),Vt({data:et,filters:Xt(),objectId:Ie}),ee("endobj"),Se},Hr=f.__private__.putPages=function(){var X,ae,ve=[];for(X=1;X<=vt;X++)ut[X].objId=De(),ut[X].contentsObjId=De();for(X=1;X<=vt;X++)ve.push(ur({number:X,data:J[X],objId:ut[X].objId,contentsObjId:ut[X].contentsObjId,mediaBox:ut[X].mediaBox,cropBox:ut[X].cropBox,bleedBox:ut[X].bleedBox,trimBox:ut[X].trimBox,artBox:ut[X].artBox,userUnit:ut[X].userUnit,rootDictionaryObjId:yt,resourceDictionaryObjId:zt}));dt(yt,!0),ee("<</Type /Pages");var Se="/Kids [";for(ae=0;ae<vt;ae++)Se+=ve[ae]+" 0 R ";ee(Se+"]"),ee("/Count "+vt),ee(">>"),ee("endobj"),Wt.publish("postPutPages")},wt=function(X){Wt.publish("putFont",{font:X,out:ee,newObject:_e,putStream:Vt}),X.isAlreadyPutted!==!0&&(X.objectNumber=_e(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+cp(X.postScriptName)),ee("/Subtype /Type1"),typeof X.encoding=="string"&&ee("/Encoding /"+X.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},we=function(X){X.objectNumber=_e();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[j(X.x),j(X.y),j(X.x+X.width),j(X.y+X.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+X.matrix.toString()+"]"});var ve=X.pages[1].join(`
`);Vt({data:ve,additionalKeyValues:ae,objectId:X.objectNumber}),ee("endobj")},nt=function(X,ae){ae||(ae=21);var ve=_e(),Se=function(lt,Kt){var tr,gr=[],kr=1/(Kt-1);for(tr=0;tr<1;tr+=kr)gr.push(tr);if(gr.push(1),lt[0].offset!=0){var Wr={offset:0,color:lt[0].color};lt.unshift(Wr)}if(lt[lt.length-1].offset!=1){var Wn={offset:1,color:lt[lt.length-1].color};lt.push(Wn)}for(var ki="",En=0,Qi=0;Qi<gr.length;Qi++){for(tr=gr[Qi];tr>lt[En+1].offset;)En++;var Ti=lt[En].offset,ws=(tr-Ti)/(lt[En+1].offset-Ti),iu=lt[En].color,vl=lt[En+1].color;ki+=Y(Math.round((1-ws)*iu[0]+ws*vl[0]).toString(16))+Y(Math.round((1-ws)*iu[1]+ws*vl[1]).toString(16))+Y(Math.round((1-ws)*iu[2]+ws*vl[2]).toString(16))}return ki.trim()}(X.colors,ae),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+ae+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vt({data:Se,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),ee("endobj"),X.objectNumber=_e(),ee("<< /ShadingType "+X.type),ee("/ColorSpace /DeviceRGB");var et="/Coords ["+j(parseFloat(X.coords[0]))+" "+j(parseFloat(X.coords[1]))+" ";X.type===2?et+=j(parseFloat(X.coords[2]))+" "+j(parseFloat(X.coords[3])):et+=j(parseFloat(X.coords[2]))+" "+j(parseFloat(X.coords[3]))+" "+j(parseFloat(X.coords[4]))+" "+j(parseFloat(X.coords[5])),ee(et+="]"),X.matrix&&ee("/Matrix ["+X.matrix.toString()+"]"),ee("/Function "+ve+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},_t=function(X,ae){var ve=De(),Se=_e();ae.push({resourcesOid:ve,objectOid:Se}),X.objectNumber=Se;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+X.boundingBox.map(j).join(" ")+"]"}),Ie.push({key:"XStep",value:j(X.xStep)}),Ie.push({key:"YStep",value:j(X.yStep)}),Ie.push({key:"Resources",value:ve+" 0 R"}),X.matrix&&Ie.push({key:"Matrix",value:"["+X.matrix.toString()+"]"}),Vt({data:X.stream,additionalKeyValues:Ie,objectId:X.objectNumber}),ee("endobj")},pe=function(X){for(var ae in X.objectNumber=_e(),ee("<<"),X)switch(ae){case"opacity":ee("/ca "+H(X[ae]));break;case"stroke-opacity":ee("/CA "+H(X[ae]))}ee(">>"),ee("endobj")},Fe=function(X){dt(X.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ae in ee("/Font <<"),ze)ze.hasOwnProperty(ae)&&(d===!1||d===!0&&h.hasOwnProperty(ae))&&ee("/"+ae+" "+ze[ae].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(We).length>0){for(var ae in ee("/Shading <<"),We)We.hasOwnProperty(ae)&&We[ae]instanceof Sf&&We[ae].objectNumber>=0&&ee("/"+ae+" "+We[ae].objectNumber+" 0 R");Wt.publish("putShadingPatternDict"),ee(">>")}}(),function(ae){if(Object.keys(We).length>0){for(var ve in ee("/Pattern <<"),We)We.hasOwnProperty(ve)&&We[ve]instanceof f.TilingPattern&&We[ve].objectNumber>=0&&We[ve].objectNumber<ae&&ee("/"+ve+" "+We[ve].objectNumber+" 0 R");Wt.publish("putTilingPatternDict"),ee(">>")}}(X.objectOid),function(){if(Object.keys(St).length>0){var ae;for(ae in ee("/ExtGState <<"),St)St.hasOwnProperty(ae)&&St[ae].objectNumber>=0&&ee("/"+ae+" "+St[ae].objectNumber+" 0 R");Wt.publish("putGStateDict"),ee(">>")}}(),function(){for(var ae in ee("/XObject <<"),Ct)Ct.hasOwnProperty(ae)&&Ct[ae].objectNumber>=0&&ee("/"+ae+" "+Ct[ae].objectNumber+" 0 R");Wt.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},Qe=function(X){qe[X.fontName]=qe[X.fontName]||{},qe[X.fontName][X.fontStyle]=X.id},tt=function(X,ae,ve,Se,Ie){var et={id:"F"+(Object.keys(ze).length+1).toString(10),postScriptName:X,fontName:ae,fontStyle:ve,encoding:Se,isStandardFont:Ie||!1,metadata:{}};return Wt.publish("addFont",{font:et,instance:this}),ze[et.id]=et,Qe(et),et.id},Et=f.__private__.pdfEscape=f.pdfEscape=function(X,ae){return function(ve,Se){var Ie,et,lt,Kt,tr,gr,kr,Wr,Wn;if(lt=(Se=Se||{}).sourceEncoding||"Unicode",tr=Se.outputEncoding,(Se.autoencode||tr)&&ze[Ke].metadata&&ze[Ke].metadata[lt]&&ze[Ke].metadata[lt].encoding&&(Kt=ze[Ke].metadata[lt].encoding,!tr&&ze[Ke].encoding&&(tr=ze[Ke].encoding),!tr&&Kt.codePages&&(tr=Kt.codePages[0]),typeof tr=="string"&&(tr=Kt[tr]),tr)){for(kr=!1,gr=[],Ie=0,et=ve.length;Ie<et;Ie++)(Wr=tr[ve.charCodeAt(Ie)])?gr.push(String.fromCharCode(Wr)):gr.push(ve[Ie]),gr[Ie].charCodeAt(0)>>8&&(kr=!0);ve=gr.join("")}for(Ie=ve.length;kr===void 0&&Ie!==0;)ve.charCodeAt(Ie-1)>>8&&(kr=!0),Ie--;if(!kr)return ve;for(gr=Se.noBOM?[]:[254,255],Ie=0,et=ve.length;Ie<et;Ie++){if((Wn=(Wr=ve.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gr.push(Wn),gr.push(Wr-(Wn<<8))}return String.fromCharCode.apply(void 0,gr)}(X,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},At=f.__private__.beginPage=function(X){J[++vt]=[],ut[vt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(X[0]),topRightY:Number(X[1])}},dr(vt),se(J[z])},xt=function(X,ae){var ve,Se,Ie;switch(t=ae||t,typeof X=="string"&&(ve=v(X.toLowerCase()),Array.isArray(ve)&&(Se=ve[0],Ie=ve[1])),Array.isArray(X)&&(Se=X[0]*st,Ie=X[1]*st),isNaN(Se)&&(Se=i[0],Ie=i[1]),(Se>14400||Ie>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Ie=Math.min(14400,Ie)),i=[Se,Ie],t.substr(0,1)){case"l":Ie>Se&&(i=[Ie,Se]);break;case"p":Se>Ie&&(i=[Ie,Se])}At(i),hr(rc),ee(jA),n0!==0&&ee(n0+" J"),i0!==0&&ee(i0+" j"),Wt.publish("addPage",{pageNumber:vt})},Zt=function(X){X>0&&X<=vt&&(J.splice(X,1),ut.splice(X,1),vt--,z>vt&&(z=vt),this.setPage(z))},dr=function(X){X>0&&X<=vt&&(z=X)},Ar=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return J.length-1},nr=function(X,ae,ve){var Se,Ie=void 0;return ve=ve||{},X=X!==void 0?X:ze[Ke].fontName,ae=ae!==void 0?ae:ze[Ke].fontStyle,Se=X.toLowerCase(),qe[Se]!==void 0&&qe[Se][ae]!==void 0?Ie=qe[Se][ae]:qe[X]!==void 0&&qe[X][ae]!==void 0?Ie=qe[X][ae]:ve.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+X+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ie||ve.noFallback||(Ie=qe.times[ae])==null&&(Ie=qe.times.normal),Ie},Tr=f.__private__.putInfo=function(){var X=_e(),ae=function(Se){return Se};for(var ve in u!==null&&(ae=Sn.encryptor(X,0)),ee("<<"),ee("/Producer ("+Et(ae("jsPDF "+rr.version))+")"),$e)$e.hasOwnProperty(ve)&&$e[ve]&&ee("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Et(ae($e[ve]))+")");ee("/CreationDate ("+Et(ae(N))+")"),ee(">>"),ee("endobj")},Pr=f.__private__.putCatalog=function(X){var ae=(X=X||{}).rootDictionaryObjId||yt;switch(_e(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+ae+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+be;ve.substr(ve.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+H(be)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ee&&ee("/PageMode /"+Ee),Wt.publish("putCatalog"),ee(">>"),ee("endobj")},Kr=f.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(Q+1)),ee("/Root "+Q+" 0 R"),ee("/Info "+(Q-1)+" 0 R"),u!==null&&ee("/Encrypt "+Sn.oid+" 0 R"),ee("/ID [ <"+S+"> <"+S+"> ]"),ee(">>")},vr=f.__private__.putHeader=function(){ee("%PDF-"+p),ee("%")},Kn=f.__private__.putXRef=function(){var X="0000000000";ee("xref"),ee("0 "+(Q+1)),ee("0000000000 65535 f ");for(var ae=1;ae<=Q;ae++)typeof q[ae]=="function"?ee((X+q[ae]()).slice(-10)+" 00000 n "):q[ae]!==void 0?ee((X+q[ae]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Cn=f.__private__.buildDocument=function(){var X;Q=0,O=0,D=[],q=[],V=[],yt=De(),zt=De(),se(D),Wt.publish("buildDocument"),vr(),Hr(),function(){Wt.publish("putAdditionalObjects");for(var ve=0;ve<V.length;ve++){var Se=V[ve];dt(Se.objId,!0),ee(Se.content),ee("endobj")}Wt.publish("postPutAdditionalObjects")}(),X=[],function(){for(var ve in ze)ze.hasOwnProperty(ve)&&(d===!1||d===!0&&h.hasOwnProperty(ve))&&wt(ze[ve])}(),function(){var ve;for(ve in St)St.hasOwnProperty(ve)&&pe(St[ve])}(),function(){for(var ve in Ct)Ct.hasOwnProperty(ve)&&we(Ct[ve])}(),function(ve){var Se;for(Se in We)We.hasOwnProperty(Se)&&(We[Se]instanceof Sf?nt(We[Se]):We[Se]instanceof Fp&&_t(We[Se],ve))}(X),Wt.publish("putResources"),X.forEach(Fe),Fe({resourcesOid:zt,objectOid:Number.MAX_SAFE_INTEGER}),Wt.publish("postPutResources"),u!==null&&(Sn.oid=_e(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Sn.v),ee("/R "+Sn.r),ee("/U <"+Sn.toHexString(Sn.U)+">"),ee("/O <"+Sn.toHexString(Sn.O)+">"),ee("/P "+Sn.P),ee(">>"),ee("endobj")),Tr(),Pr();var ae=O;return Kn(),Kr(),ee("startxref"),ee(""+ae),ee("%%EOF"),se(J[z]),D.join(`
`)},ns=f.__private__.getBlob=function(X){return new Blob([ie(X)],{type:"application/pdf"})},To=f.output=f.__private__.output=(Ce=function(X,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",X){case void 0:return Cn();case"save":f.save(ae.filename);break;case"arraybuffer":return ie(Cn());case"blob":return ns(Cn());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(ns(Cn()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Se=Cn();try{ve=R7(Se)}catch{ve=R7(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+ae.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ie=ae.pdfObjectUrl,et="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Kt=pr.open();return Kt!==null&&Kt.document.write(lt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',gr=pr.open();if(gr!==null){gr.document.write(tr);var kr=this;gr.document.documentElement.querySelector("#pdfViewer").onload=function(){gr.document.title=ae.filename,gr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kr.output("bloburl"))}}return gr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',Wn=pr.open();if(Wn!==null&&(Wn.document.write(Wr),Wn.document.title=ae.filename),Wn||typeof safari>"u")return Wn;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",ae);default:return null}},Ce.foo=function(){try{return Ce.apply(this,arguments)}catch(ve){var X=ve.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);var ae="Error in function "+X.split(`
`)[0].split("<")[0]+": "+ve.message;if(!pr.console)throw new Error(ae);pr.console.error(ae,ve),pr.alert&&alert(ae)}},Ce.foo.bar=Ce,Ce.foo),Hi=function(X){return Array.isArray(wr)===!0&&wr.indexOf(X)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Hi("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var Sn=null;U(),E();var $s=f.__private__.getPageInfo=f.getPageInfo=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[X].objId,pageNumber:X,pageContext:ut[X]}},Qr=f.__private__.getPageInfoByObjId=function(X){if(isNaN(X)||X%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in ut)if(ut[ae].objId===X)break;return $s(ae)},Mr=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ut[z].objId,pageNumber:z,pageContext:ut[z]}};f.addPage=function(){return xt.apply(this,arguments),this},f.setPage=function(){return dr.apply(this,arguments),se.call(this,J[z]),this},f.insertPage=function(X){return this.addPage(),this.movePage(z,X),this},f.movePage=function(X,ae){var ve,Se;if(X>ae){ve=J[X],Se=ut[X];for(var Ie=X;Ie>ae;Ie--)J[Ie]=J[Ie-1],ut[Ie]=ut[Ie-1];J[ae]=ve,ut[ae]=Se,this.setPage(ae)}else if(X<ae){ve=J[X],Se=ut[X];for(var et=X;et<ae;et++)J[et]=J[et+1],ut[et]=ut[et+1];J[ae]=ve,ut[ae]=Se,this.setPage(ae)}return this},f.deletePage=function(){return Zt.apply(this,arguments),this},f.__private__.text=f.text=function(X,ae,ve,Se,Ie){var et,lt,Kt,tr,gr,kr,Wr,Wn,ki,En=(Se=Se||{}).scope||this;if(typeof X=="number"&&typeof ae=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Qi=ve;ve=ae,ae=X,X=Qi}if(arguments[3]instanceof ht==0?(Kt=arguments[4],tr=arguments[5],Jr(Wr=arguments[3])==="object"&&Wr!==null||(typeof Kt=="string"&&(tr=Kt,Kt=null),typeof Wr=="string"&&(tr=Wr,Wr=null),typeof Wr=="number"&&(Kt=Wr,Wr=null),Se={flags:Wr,angle:Kt,align:tr})):(k("The transform parameter of text() with a Matrix value"),ki=Ie),isNaN(ae)||isNaN(ve)||X==null)throw new Error("Invalid arguments passed to jsPDF.text");if(X.length===0)return En;var Ti,ws="",iu=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Fo,vl=En.internal.scaleFactor;function su(nn){return nn=nn.split("	").join(Array(Se.TabLen||9).join(" ")),Et(nn,Wr)}function l0(nn){for(var mn,mi=nn.concat(),$i=[],lu=mi.length;lu--;)typeof(mn=mi.shift())=="string"?$i.push(mn):Array.isArray(nn)&&(mn.length===1||mn[1]===void 0&&mn[2]===void 0)?$i.push(mn[0]):$i.push([mn[0],mn[1],mn[2]]);return $i}function IA(nn,mn){var mi;if(typeof nn=="string")mi=mn(nn)[0];else if(Array.isArray(nn)){for(var $i,lu,v0=nn.concat(),PA=[],y1=v0.length;y1--;)typeof($i=v0.shift())=="string"?PA.push(mn($i)[0]):Array.isArray($i)&&typeof $i[0]=="string"&&(lu=mn($i[0],$i[1],$i[2]),PA.push([lu[0],lu[1],lu[2]]));mi=PA}return mi}var bd=!1,ef=!0;if(typeof X=="string")bd=!0;else if(Array.isArray(X)){var tf=X.concat();lt=[];for(var xd,Cs=tf.length;Cs--;)(typeof(xd=tf.shift())!="string"||Array.isArray(xd)&&typeof xd[0]!="string")&&(ef=!1);bd=ef}if(bd===!1)throw new Error('Type of text must be string or Array. "'+X+'" is not recognized.');typeof X=="string"&&(X=X.match(/[\r?\n]/)?X.split(/\r\n|\r|\n/g):[X]);var rf=le/En.internal.scaleFactor,nf=rf*(iu-1);switch(Se.baseline){case"bottom":ve-=nf;break;case"top":ve+=rf-nf;break;case"hanging":ve+=rf-2*nf;break;case"middle":ve+=rf/2-nf}if((kr=Se.maxWidth||0)>0&&(typeof X=="string"?X=En.splitTextToSize(X,kr):Object.prototype.toString.call(X)==="[object Array]"&&(X=X.reduce(function(nn,mn){return nn.concat(En.splitTextToSize(mn,kr))},[]))),et={text:X,x:ae,y:ve,options:Se,mutex:{pdfEscape:Et,activeFontKey:Ke,fonts:ze,activeFontSize:le}},Wt.publish("preProcessText",et),X=et.text,Kt=(Se=et.options).angle,ki instanceof ht==0&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,Se.rotationDirection===0&&(Kt=-Kt),w===b&&(Kt=-Kt);var c0=Math.cos(Kt),u0=Math.sin(Kt);ki=new ht(c0,u0,-u0,c0,0,0)}else Kt&&Kt instanceof ht&&(ki=Kt);w!==b||ki||(ki=Br),(gr=Se.charSpace||eu)!==void 0&&(ws+=j(T(gr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wn=Se.horizontalScale)!==void 0&&(ws+=j(100*Wn)+` Tz
`),Se.lang;var ca=-1,au=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,MA=En.internal.getCurrentPageInfo().pageContext;switch(au){case 0:case!1:case"fill":ca=0;break;case 1:case!0:case"stroke":ca=1;break;case 2:case"fillThenStroke":ca=2;break;case 3:case"invisible":ca=3;break;case 4:case"fillAndAddForClipping":ca=4;break;case 5:case"strokeAndAddPathForClipping":ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ca=6;break;case 7:case"addToPathForClipping":ca=7}var g1=MA.usedRenderingMode!==void 0?MA.usedRenderingMode:-1;ca!==-1?ws+=ca+` Tr
`:g1!==-1&&(ws+=`0 Tr
`),ca!==-1&&(MA.usedRenderingMode=ca),tr=Se.align||"left";var Io,sf=le*iu,d0=En.internal.pageSize.getWidth(),h0=ze[Ke];gr=Se.charSpace||eu,kr=Se.maxWidth||0,Wr=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var wd=[],af=function(nn){return En.getStringUnitWidth(nn,{font:h0,charSpace:gr,fontSize:le,doKerning:!1})*le/vl};if(Object.prototype.toString.call(X)==="[object Array]"){var Za;lt=l0(X),tr!=="left"&&(Io=lt.map(af));var eo,Cd=0;if(tr==="right"){ae-=Io[0],X=[],Cs=lt.length;for(var ou=0;ou<Cs;ou++)ou===0?(eo=Jc(ae),Za=Zc(ve)):(eo=T(Cd-Io[ou]),Za=-sf),X.push([lt[ou],eo,Za]),Cd=Io[ou]}else if(tr==="center"){ae-=Io[0]/2,X=[],Cs=lt.length;for(var Sd=0;Sd<Cs;Sd++)Sd===0?(eo=Jc(ae),Za=Zc(ve)):(eo=T((Cd-Io[Sd])/2),Za=-sf),X.push([lt[Sd],eo,Za]),Cd=Io[Sd]}else if(tr==="left"){X=[],Cs=lt.length;for(var f0=0;f0<Cs;f0++)X.push(lt[f0])}else if(tr==="justify"&&h0.encoding==="Identity-H"){X=[],Cs=lt.length,kr=kr!==0?kr:d0;for(var OA=0,pi=0;pi<Cs;pi++)if(Za=pi===0?Zc(ve):-sf,eo=pi===0?Jc(ae):OA,pi<Cs-1){var v1=T((kr-Io[pi])/(lt[pi].split(" ").length-1)),nc=lt[pi].split(" ");X.push([nc[0]+" ",eo,Za]),OA=0;for(var ic=1;ic<nc.length;ic++){var A0=(af(nc[ic-1]+" "+nc[ic])-af(nc[ic]))*vl+v1;ic==nc.length-1?X.push([nc[ic],A0,0]):X.push([nc[ic]+" ",A0,0]),OA-=A0}}else X.push([lt[pi],eo,Za]);X.push(["",OA,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(X=[],Cs=lt.length,kr=kr!==0?kr:d0,pi=0;pi<Cs;pi++){Za=pi===0?Zc(ve):-sf,eo=pi===0?Jc(ae):0;var p0=lt[pi].split(" ").length-1,m0=p0>0?(kr-Io[pi])/p0:0;pi<Cs-1?wd.push(j(T(m0))):wd.push(0),X.push([lt[pi],eo,Za])}}}(typeof Se.R2L=="boolean"?Se.R2L:xe)===!0&&(X=IA(X,function(nn,mn,mi){return[nn.split("").reverse().join(""),mn,mi]})),et={text:X,x:ae,y:ve,options:Se,mutex:{pdfEscape:Et,activeFontKey:Ke,fonts:ze,activeFontSize:le}},Wt.publish("postProcessText",et),X=et.text,Ti=et.mutex.isHex||!1;var g0=ze[Ke].encoding;g0!=="WinAnsiEncoding"&&g0!=="StandardEncoding"||(X=IA(X,function(nn,mn,mi){return[su(nn),mn,mi]})),lt=l0(X),X=[];for(var Ed,_d,Nd,of=Array.isArray(lt[0])?1:0,Bd="",lf=function(nn,mn,mi){var $i="";return mi instanceof ht?(mi=typeof Se.angle=="number"?mr(mi,new ht(1,0,0,1,nn,mn)):mr(new ht(1,0,0,1,nn,mn),mi),w===b&&(mi=mr(new ht(1,0,0,-1,0,0),mi)),$i=mi.join(" ")+` Tm
`):$i=j(nn)+" "+j(mn)+` Td
`,$i},Mo=0;Mo<lt.length;Mo++){switch(Bd="",of){case 1:Nd=(Ti?"<":"(")+lt[Mo][0]+(Ti?">":")"),Ed=parseFloat(lt[Mo][1]),_d=parseFloat(lt[Mo][2]);break;case 0:Nd=(Ti?"<":"(")+lt[Mo]+(Ti?">":")"),Ed=Jc(ae),_d=Zc(ve)}wd!==void 0&&wd[Mo]!==void 0&&(Bd=wd[Mo]+` Tw
`),Mo===0?X.push(Bd+lf(Ed,_d,ki)+Nd):of===0?X.push(Bd+Nd):of===1&&X.push(Bd+lf(Ed,_d,ki)+Nd)}X=of===0?X.join(` Tj
T* `):X.join(` Tj
`),X+=` Tj
`;var sc=`BT
/`;return sc+=Ke+" "+le+` Tf
`,sc+=j(le*iu)+` TL
`,sc+=Yh+`
`,sc+=ws,sc+=X,ee(sc+="ET"),h[Ke]=!0,En};var jo=f.__private__.clip=f.clip=function(X){return ee(X==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return jo("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ee("n"),this};var is=f.__private__.isValidStyle=function(X){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(X)!==-1&&(ae=!0),ae};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(X){return is(X)&&(c=X),this};var Xc=f.__private__.getStyle=f.getStyle=function(X){var ae=c;switch(X){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=X}return ae},ss=f.close=function(){return ee("h"),this};f.stroke=function(){return ee("S"),this},f.fill=function(X){return zs("f",X),this},f.fillEvenOdd=function(X){return zs("f*",X),this},f.fillStroke=function(X){return zs("B",X),this},f.fillStrokeEvenOdd=function(X){return zs("B*",X),this};var zs=function(X,ae){Jr(ae)==="object"?vd(ae,X):ee(X)},Vs=function(X){X===null||w===b&&X===void 0||(X=Xc(X),ee(X))};function Yc(X,ae,ve,Se,Ie){var et=new Fp(ae||this.boundingBox,ve||this.xStep,Se||this.yStep,this.gState,Ie||this.matrix);et.stream=this.stream;var lt=X+"$$"+this.cloneIndex+++"$$";return qt(lt,et),et}var vd=function(X,ae){var ve=Tt[X.key],Se=We[ve];if(Se instanceof Sf)ee("q"),ee(tc(ae)),Se.gState&&f.setGState(Se.gState),ee(X.matrix.toString()+" cm"),ee("/"+ve+" sh"),ee("Q");else if(Se instanceof Fp){var Ie=new ht(1,0,0,-1,0,Zh());X.matrix&&(Ie=Ie.multiply(X.matrix||Br),ve=Yc.call(Se,X.key,X.boundingBox,X.xStep,X.yStep,Ie).id),ee("q"),ee("/Pattern cs"),ee("/"+ve+" scn"),Se.gState&&f.setGState(Se.gState),ee(ae),ee("Q")}},tc=function(X){switch(X){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ia=f.moveTo=function(X,ae){return ee(j(T(X))+" "+j(P(ae))+" m"),this},qh=f.lineTo=function(X,ae){return ee(j(T(X))+" "+j(P(ae))+" l"),this},Gs=f.curveTo=function(X,ae,ve,Se,Ie,et){return ee([j(T(X)),j(P(ae)),j(T(ve)),j(P(Se)),j(T(Ie)),j(P(et)),"c"].join(" ")),this};f.__private__.line=f.line=function(X,ae,ve,Se,Ie){if(isNaN(X)||isNaN(ae)||isNaN(ve)||isNaN(Se)||!is(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[ve-X,Se-ae]],X,ae,[1,1],Ie||"S"):this.lines([[ve-X,Se-ae]],X,ae,[1,1]).stroke()},f.__private__.lines=f.lines=function(X,ae,ve,Se,Ie,et){var lt,Kt,tr,gr,kr,Wr,Wn,ki,En,Qi,Ti,ws;if(typeof X=="number"&&(ws=ve,ve=ae,ae=X,X=ws),Se=Se||[1,1],et=et||!1,isNaN(ae)||isNaN(ve)||!Array.isArray(X)||!Array.isArray(Se)||!is(Ie)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ia(ae,ve),lt=Se[0],Kt=Se[1],gr=X.length,Qi=ae,Ti=ve,tr=0;tr<gr;tr++)(kr=X[tr]).length===2?(Qi=kr[0]*lt+Qi,Ti=kr[1]*Kt+Ti,qh(Qi,Ti)):(Wr=kr[0]*lt+Qi,Wn=kr[1]*Kt+Ti,ki=kr[2]*lt+Qi,En=kr[3]*Kt+Ti,Qi=kr[4]*lt+Qi,Ti=kr[5]*Kt+Ti,Gs(Wr,Wn,ki,En,Qi,Ti));return et&&ss(),Vs(Ie),this},f.path=function(X){for(var ae=0;ae<X.length;ae++){var ve=X[ae],Se=ve.c;switch(ve.op){case"m":Ia(Se[0],Se[1]);break;case"l":qh(Se[0],Se[1]);break;case"c":Gs.apply(this,Se);break;case"h":ss()}}return this},f.__private__.rect=f.rect=function(X,ae,ve,Se,Ie){if(isNaN(X)||isNaN(ae)||isNaN(ve)||isNaN(Se)||!is(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(Se=-Se),ee([j(T(X)),j(P(ae)),j(T(ve)),j(T(Se)),"re"].join(" ")),Vs(Ie),this},f.__private__.triangle=f.triangle=function(X,ae,ve,Se,Ie,et,lt){if(isNaN(X)||isNaN(ae)||isNaN(ve)||isNaN(Se)||isNaN(Ie)||isNaN(et)||!is(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-X,Se-ae],[Ie-ve,et-Se],[X-Ie,ae-et]],X,ae,[1,1],lt,!0),this},f.__private__.roundedRect=f.roundedRect=function(X,ae,ve,Se,Ie,et,lt){if(isNaN(X)||isNaN(ae)||isNaN(ve)||isNaN(Se)||isNaN(Ie)||isNaN(et)||!is(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ve),et=Math.min(et,.5*Se),this.lines([[ve-2*Ie,0],[Ie*Kt,0,Ie,et-et*Kt,Ie,et],[0,Se-2*et],[0,et*Kt,-Ie*Kt,et,-Ie,et],[2*Ie-ve,0],[-Ie*Kt,0,-Ie,-et*Kt,-Ie,-et],[0,2*et-Se],[0,-et*Kt,Ie*Kt,-et,Ie,-et]],X+Ie,ae,[1,1],lt,!0),this},f.__private__.ellipse=f.ellipse=function(X,ae,ve,Se,Ie){if(isNaN(X)||isNaN(ae)||isNaN(ve)||isNaN(Se)||!is(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*ve,lt=4/3*(Math.SQRT2-1)*Se;return Ia(X+ve,ae),Gs(X+ve,ae-lt,X+et,ae-Se,X,ae-Se),Gs(X-et,ae-Se,X-ve,ae-lt,X-ve,ae),Gs(X-ve,ae+lt,X-et,ae+Se,X,ae+Se),Gs(X+et,ae+Se,X+ve,ae+lt,X+ve,ae),Vs(Ie),this},f.__private__.circle=f.circle=function(X,ae,ve,Se){if(isNaN(X)||isNaN(ae)||isNaN(ve)||!is(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(X,ae,ve,ve,Se)},f.setFont=function(X,ae,ve){return ve&&(ae=R(ae,ve)),Ke=nr(X,ae,{disableWarning:!1}),this};var Xh=f.__private__.getFont=f.getFont=function(){return ze[nr.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var X,ae,ve={};for(X in qe)if(qe.hasOwnProperty(X))for(ae in ve[X]=[],qe[X])qe[X].hasOwnProperty(ae)&&ve[X].push(ae);return ve},f.addFont=function(X,ae,ve,Se,Ie){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(ve=R(ve,Se)),tt.call(this,X,ae,ve,Ie=Ie||"Identity-H")};var Fo,rc=r.lineWidth||.200025,TA=f.__private__.getLineWidth=f.getLineWidth=function(){return rc},hr=f.__private__.setLineWidth=f.setLineWidth=function(X){return rc=X,ee(j(T(X))+" w"),this};f.__private__.setLineDash=rr.API.setLineDash=rr.API.setLineDashPattern=function(X,ae){if(X=X||[],ae=ae||0,isNaN(ae)||!Array.isArray(X))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return X=X.map(function(ve){return j(T(ve))}).join(" "),ae=j(T(ae)),ee("["+X+"] "+ae+" d"),this};var yd=f.__private__.getLineHeight=f.getLineHeight=function(){return le*Fo};f.__private__.getLineHeight=f.getLineHeight=function(){return le*Fo};var D4=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(X){return typeof(X=X||1.15)=="number"&&(Fo=X),this},U4=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Fo};D4(r.lineHeight);var Jc=f.__private__.getHorizontalCoordinate=function(X){return T(X)},Zc=f.__private__.getVerticalCoordinate=function(X){return w===b?X:ut[z].mediaBox.topRightY-ut[z].mediaBox.bottomLeftY-T(X)},H4=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(X){return j(Jc(X))},Q4=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(X){return j(Zc(X))},jA=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Bt(jA)},f.__private__.setStrokeColor=f.setDrawColor=function(X,ae,ve,Se){return jA=jt({ch1:X,ch2:ae,ch3:ve,ch4:Se,pdfColorType:"draw",precision:2}),ee(jA),this};var r0=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Bt(r0)},f.__private__.setFillColor=f.setFillColor=function(X,ae,ve,Se){return r0=jt({ch1:X,ch2:ae,ch3:ve,ch4:Se,pdfColorType:"fill",precision:2}),ee(r0),this};var Yh=r.textColor||"0 g",$4=f.__private__.getTextColor=f.getTextColor=function(){return Bt(Yh)};f.__private__.setTextColor=f.setTextColor=function(X,ae,ve,Se){return Yh=jt({ch1:X,ch2:ae,ch3:ve,ch4:Se,pdfColorType:"text",precision:3}),this};var eu=r.charSpace,z4=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(eu||0)};f.__private__.setCharSpace=f.setCharSpace=function(X){if(isNaN(X))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return eu=X,this};var n0=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(X){var ae=f.CapJoinStyles[X];if(ae===void 0)throw new Error("Line cap style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return n0=ae,ee(ae+" J"),this};var i0=0;f.__private__.setLineJoin=f.setLineJoin=function(X){var ae=f.CapJoinStyles[X];if(ae===void 0)throw new Error("Line join style of '"+X+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return i0=ae,ee(ae+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(X){if(X=X||0,isNaN(X))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(j(T(X))+" M"),this},f.GState=J2,f.setGState=function(X){(X=typeof X=="string"?St[ot[X]]:h1(null,X)).equals(Ot)||(ee("/"+X.id+" gs"),Ot=X)};var h1=function(X,ae){if(!X||!ot[X]){var ve=!1;for(var Se in St)if(St.hasOwnProperty(Se)&&St[Se].equals(ae)){ve=!0;break}if(ve)ae=St[Se];else{var Ie="GS"+(Object.keys(St).length+1).toString(10);St[Ie]=ae,ae.id=Ie}return X&&(ot[X]=ae.id),Wt.publish("addGState",ae),ae}};f.addGState=function(X,ae){return h1(X,ae),this},f.saveGraphicsState=function(){return ee("q"),gt.push({key:Ke,size:le,color:Yh}),this},f.restoreGraphicsState=function(){ee("Q");var X=gt.pop();return Ke=X.key,le=X.size,Yh=X.color,Ot=null,this},f.setCurrentTransformationMatrix=function(X){return ee(X.toString()+" cm"),this},f.comment=function(X){return ee("#"+X),this};var tu=function(X,ae){var ve=X||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(et){isNaN(et)||(ve=parseFloat(et))}});var Se=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(et){isNaN(et)||(Se=parseFloat(et))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(et){Ie=et.toString()}}),this},s0=function(X,ae,ve,Se){tu.call(this,X,ae),this.type="rect";var Ie=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(lt){isNaN(lt)||(Ie=parseFloat(lt))}});var et=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(lt){isNaN(lt)||(et=parseFloat(lt))}}),this},FA=function(){this.page=vt,this.currentPage=z,this.pages=J.slice(0),this.pagesContext=ut.slice(0),this.x=Ve,this.y=pt,this.matrix=Je,this.width=o0(z),this.height=A1(z),this.outputDestination=ne,this.id="",this.objectNumber=-1};FA.prototype.restore=function(){vt=this.page,z=this.currentPage,ut=this.pagesContext,J=this.pages,Ve=this.x,pt=this.y,Je=this.matrix,f1(z,this.width),ru(z,this.height),ne=this.outputDestination};var a0=function(X,ae,ve,Se,Ie){Nr.push(new FA),vt=z=0,J=[],Ve=X,pt=ae,Je=Ie,At([ve,Se])};for(var Jh in f.beginFormObject=function(X,ae,ve,Se,Ie){return a0(X,ae,ve,Se,Ie),this},f.endFormObject=function(X){return function(ae){if(cr[ae])Nr.pop().restore();else{var ve=new FA,Se="Xo"+(Object.keys(Ct).length+1).toString(10);ve.id=Se,cr[ae]=Se,Ct[Se]=ve,Wt.publish("addFormObject",ve),Nr.pop().restore()}}(X),this},f.doFormObject=function(X,ae){var ve=Ct[cr[X]];return ee("q"),ee(ae.toString()+" cm"),ee("/"+ve.id+" Do"),ee("Q"),this},f.getFormObject=function(X){var ae=Ct[cr[X]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},f.save=function(X,ae){return X=X||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(Cf(ns(Cn()),X),typeof Cf.unload=="function"&&pr.setTimeout&&setTimeout(Cf.unload,911),this):new Promise(function(ve,Se){try{var Ie=Cf(ns(Cn()),X);typeof Cf.unload=="function"&&pr.setTimeout&&setTimeout(Cf.unload,911),ve(Ie)}catch(et){Se(et.message)}})},rr.API)rr.API.hasOwnProperty(Jh)&&(Jh==="events"&&rr.API.events.length?function(X,ae){var ve,Se,Ie;for(Ie=ae.length-1;Ie!==-1;Ie--)ve=ae[Ie][0],Se=ae[Ie][1],X.subscribe.apply(X,[ve].concat(typeof Se=="function"?[Se]:Se))}(Wt,rr.API.events):f[Jh]=rr.API[Jh]);function o0(X){return ut[X].mediaBox.topRightX-ut[X].mediaBox.bottomLeftX}function f1(X,ae){ut[X].mediaBox.topRightX=ae+ut[X].mediaBox.bottomLeftX}function A1(X){return ut[X].mediaBox.topRightY-ut[X].mediaBox.bottomLeftY}function ru(X,ae){ut[X].mediaBox.topRightY=ae+ut[X].mediaBox.bottomLeftY}var nu=f.getPageWidth=function(X){return o0(X=X||z)/st},p1=f.setPageWidth=function(X,ae){f1(X,ae*st)},Zh=f.getPageHeight=function(X){return A1(X=X||z)/st},m1=f.setPageHeight=function(X,ae){ru(X,ae*st)};return f.internal={pdfEscape:Et,getStyle:Xc,getFont:Xh,getFontSize:ye,getCharSpace:z4,getTextColor:$4,getLineHeight:yd,getLineHeightFactor:U4,getLineWidth:TA,write:de,getHorizontalCoordinate:Jc,getVerticalCoordinate:Zc,getCoordinateString:H4,getVerticalCoordinateString:Q4,collections:{},newObject:_e,newAdditionalObject:$t,newObjectDeferred:De,newObjectDeferredBegin:dt,getFilters:Xt,putStream:Vt,events:Wt,scaleFactor:st,pageSize:{getWidth:function(){return nu(z)},setWidth:function(X){p1(z,X)},getHeight:function(){return Zh(z)},setHeight:function(X){m1(z,X)}},encryptionOptions:u,encryption:Sn,getEncryptor:function(X){return u!==null?Sn.encryptor(X,0):function(ae){return ae}},output:To,getNumberOfPages:Ar,get pages(){return J},out:ee,f2:H,f3:I,getPageInfo:$s,getPageInfoByObjId:Qr,getCurrentPageInfo:Mr,getPDFVersion:g,Point:tu,Rectangle:s0,Matrix:ht,hasHotfix:Hi},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return nu(z)},set:function(X){p1(z,X)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Zh(z)},set:function(X){m1(z,X)},enumerable:!0,configurable:!0}),function(X){for(var ae=0,ve=he.length;ae<ve;ae++){var Se=tt.call(this,X[ae][0],X[ae][1],X[ae][2],he[ae][3],!0);d===!1&&(h[Se]=!0);var Ie=X[ae][0].split("-");Qe({id:Se,fontName:Ie[0],fontStyle:Ie[1]||""})}Wt.publish("addFonts",{fonts:ze,dictionary:qe})}.call(f,he),Ke="F1",xt(i,t),Wt.publish("initialized"),f}lp.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},lp.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lp.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},lp.prototype.processOwnerPassword=function(r,e){return QB(HB(e).substr(0,5),r)},lp.prototype.encryptor=function(r,e){var t=HB(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return QB(t,n)}},J2.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Jr(r)!==Jr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},rr.API={events:[]},rr.version="3.0.4";var si=rr.API,K8=1,EA=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},KA=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(r){return r.toFixed(2)},Dd=function(r){return r.toFixed(5)};si.__acroform__={};var Ya=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},H7=function(r){return r*K8},Ac=function(r){var e=new oZ,t=Gt.internal.getHeight(r)||0,n=Gt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(yr(n)),Number(yr(t))],e},RTe=si.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},LTe=si.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},DTe=si.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Si=si.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return DTe(r,e-1)},Ei=si.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return RTe(r,e-1)},_i=si.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return LTe(r,e-1)},UTe=si.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=n(s)||0,[Number(yr(l.lowerLeft_X)),Number(yr(l.lowerLeft_Y)),Number(yr(l.upperRight_X)),Number(yr(l.upperRight_Y))]},HTe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=$B(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+yr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ac(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},$B=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var s=t,a=Gt.internal.getHeight(r)||0;a=a<0?-a:a;var o=Gt.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(H,I,T){if(H+1<i.length){var P=I+" "+i[H+1][0];return Db(P,r,T).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=Db("3",r,s).height,h=r.multiline?a-s:(a-d)/2,f=h+=2,p=0,g=0,m=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Db(e,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(i[b].length!==1&&m!==i[b].length-1){if((d+2)*(y+2)+2>a)continue e;v+=i[b][m],w=!0,g=b,b--}else{v=(v+=i[b][m]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var _=parseInt(b),B=l(_,v,s),R=b>=i.length-1;if(B&&!R){v+=" ",m=0;continue}if(B||R){if(R)g=_;else if(r.multiline&&(d+2)*(y+2)+2>a)continue e}else{if(!r.multiline||(d+2)*(y+2)+2>a)continue e;g=_}}for(var j="",k=p;k<=g;k++){var L=i[k];if(r.multiline){if(k===g){j+=L[m]+" ",m=(m+1)%L.length;continue}if(k===p){j+=L[L.length-1]+" ";continue}}j+=L[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,u=Db(j,r,s).width,r.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=yr(c)+" "+yr(f)+` Td
`,e+="("+EA(j)+`) Tj
`,e+=-yr(c)+` 0 Td
`,f=-(s+2),u=0,p=w?g:g+1,y++,v=""}break}return n.text=e,n.fontSize=s,n},Db=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},QTe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$Te=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},zTe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ql.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(QTe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K8=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new lZ,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&$Te(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=UTe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Gt.createDefaultAppearanceStream(o),Jr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=HTe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var p=f[a];typeof p=="function"&&(p=p.call(i,o)),d+="/"+a+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(i,o)),d+="/"+a+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(g,m){for(var v in g)if(g.hasOwnProperty(v)){var y=v,b=g[v];m.internal.newObjectDeferredBegin(b.objId,!0),Jr(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete g[y]}}(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},aZ=si.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Jr(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+EA(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},LS=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+EA(n(r))+")"},_c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_c.prototype.toString=function(){return this.objId+" 0 R"},_c.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},_c.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:aZ(i,this.objId,this.scope)}):i instanceof _c?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var oZ=function(){_c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ya(oZ,_c);var lZ=function(){_c.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+EA(t(r))+")"}},set:function(t){r=t}})};Ya(lZ,_c);var ql=function r(){_c.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Si(e,3)},set:function(v){v?this.F=Ei(e,3):this.F=_i(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Z2)return;s="FieldObject"+r.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+EA(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/K8:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Z2||this instanceof zf))return LS(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof fs==0?LS(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof fs==0?v.substr(0,1)==="("?KA(v.substr(1,v.length-2)):KA(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fs==1?KA(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof fs==1?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof fs==0?LS(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof fs==0?v.substr(0,1)==="("?KA(v.substr(1,v.length-2)):KA(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fs==1?KA(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof fs==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(v){p=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,1)},set:function(v){v?this.Ff=Ei(this.Ff,1):this.Ff=_i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,2)},set:function(v){v?this.Ff=Ei(this.Ff,2):this.Ff=_i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,3)},set:function(v){v?this.Ff=Ei(this.Ff,3):this.Ff=_i(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');m=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(m){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};Ya(ql,_c);var Jp=function(){ql.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return aZ(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,18)},set:function(t){t?this.Ff=Ei(this.Ff,18):this.Ff=_i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ei(this.Ff,19):this.Ff=_i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,20)},set:function(t){t?(this.Ff=Ei(this.Ff,20),e.sort()):this.Ff=_i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,22)},set:function(t){t?this.Ff=Ei(this.Ff,22):this.Ff=_i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,23)},set:function(t){t?this.Ff=Ei(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,27)},set:function(t){t?this.Ff=Ei(this.Ff,27):this.Ff=_i(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(Jp,ql);var Zp=function(){Jp.call(this),this.fontName="helvetica",this.combo=!1};Ya(Zp,Jp);var em=function(){Zp.call(this),this.combo=!0};Ya(em,Zp);var iw=function(){em.call(this),this.edit=!0};Ya(iw,em);var fs=function(){ql.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,15)},set:function(t){t?this.Ff=Ei(this.Ff,15):this.Ff=_i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,16)},set:function(t){t?this.Ff=Ei(this.Ff,16):this.Ff=_i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,17)},set:function(t){t?this.Ff=Ei(this.Ff,17):this.Ff=_i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,26)},set:function(t){t?this.Ff=Ei(this.Ff,26):this.Ff=_i(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+EA(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Jr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ya(fs,ql);var sw=function(){fs.call(this),this.pushButton=!0};Ya(sw,fs);var tm=function(){fs.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ya(tm,fs);var Z2=function(){var r,e;ql.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+EA(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Jr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(Z2,ql),tm.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},tm.prototype.createOption=function(r){var e=new Z2;return e.Parent=this,e.optionName=r,this.Kids.push(e),VTe.call(this.scope,e),e};var aw=function(){fs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};Ya(aw,fs);var zf=function(){ql.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,13)},set:function(e){e?this.Ff=Ei(this.Ff,13):this.Ff=_i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,21)},set:function(e){e?this.Ff=Ei(this.Ff,21):this.Ff=_i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,23)},set:function(e){e?this.Ff=Ei(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,24)},set:function(e){e?this.Ff=Ei(this.Ff,24):this.Ff=_i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,25)},set:function(e){e?this.Ff=Ei(this.Ff,25):this.Ff=_i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,26)},set:function(e){e?this.Ff=Ei(this.Ff,26):this.Ff=_i(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(zf,ql);var ow=function(){zf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Si(this.Ff,14)},set:function(r){r?this.Ff=Ei(this.Ff,14):this.Ff=_i(this.Ff,14)}}),this.password=!0};Ya(ow,zf);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Ac(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=$B(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+yr(Gt.internal.getWidth(r))+" "+yr(Gt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+yr(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Ac(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=Gt.internal.getHeight(r),a=Gt.internal.getWidth(r),o=$B(r,r.caption);return i.push("1 g"),i.push("0 0 "+yr(a)+" "+yr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yr(a-1)+" "+yr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+yr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Ac(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+yr(Gt.internal.getWidth(r))+" "+yr(Gt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Gt.RadioButton.Circle.YesNormal,e.D[r]=Gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Ac(r);e.scope=r.scope;var t=[],n=Gt.internal.getWidth(r)<=Gt.internal.getHeight(r)?Gt.internal.getWidth(r)/4:Gt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Gt.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Dd(Gt.internal.getWidth(r)/2)+" "+Dd(Gt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ac(r);e.scope=r.scope;var t=[],n=Gt.internal.getWidth(r)<=Gt.internal.getHeight(r)?Gt.internal.getWidth(r)/4:Gt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Gt.internal.Bezier_C).toFixed(5)),a=Number((n*Gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Dd(Gt.internal.getWidth(r)/2)+" "+Dd(Gt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Dd(Gt.internal.getWidth(r)/2)+" "+Dd(Gt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Ac(r);e.scope=r.scope;var t=[],n=Gt.internal.getWidth(r)<=Gt.internal.getHeight(r)?Gt.internal.getWidth(r)/4:Gt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Dd(Gt.internal.getWidth(r)/2)+" "+Dd(Gt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Gt.RadioButton.Cross.YesNormal,e.D[r]=Gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Ac(r);e.scope=r.scope;var t=[],n=Gt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+yr(Gt.internal.getWidth(r)-2)+" "+yr(Gt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),t.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),t.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),t.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Ac(r);e.scope=r.scope;var t=Gt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(Gt.internal.getWidth(r))+" "+yr(Gt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr(Gt.internal.getWidth(r)-2)+" "+yr(Gt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(t.x1.x)+" "+yr(t.x1.y)+" m"),n.push(yr(t.x2.x)+" "+yr(t.x2.y)+" l"),n.push(yr(t.x4.x)+" "+yr(t.x4.y)+" m"),n.push(yr(t.x3.x)+" "+yr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Ac(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+yr(Gt.internal.getWidth(r))+" "+yr(Gt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Gt.internal.getWidth(r),t=Gt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Gt.internal.getWidth=function(r){var e=0;return Jr(r)==="object"&&(e=H7(r.Rect[2])),e},Gt.internal.getHeight=function(r){var e=0;return Jr(r)==="object"&&(e=H7(r.Rect[3])),e};var VTe=si.addField=function(r){if(zTe(this,r),!(r instanceof ql))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};si.AcroFormChoiceField=Jp,si.AcroFormListBox=Zp,si.AcroFormComboBox=em,si.AcroFormEditBox=iw,si.AcroFormButton=fs,si.AcroFormPushButton=sw,si.AcroFormRadioButton=tm,si.AcroFormCheckBox=aw,si.AcroFormTextField=zf,si.AcroFormPasswordField=ow,si.AcroFormAppearance=Gt,si.AcroForm={ChoiceField:Jp,ListBox:Zp,ComboBox:em,EditBox:iw,Button:fs,PushButton:sw,RadioButton:tm,CheckBox:aw,TextField:zf,PasswordField:ow,Appearance:Gt},rr.AcroForm={ChoiceField:Jp,ListBox:Zp,ComboBox:em,EditBox:iw,Button:fs,PushButton:sw,RadioButton:tm,CheckBox:aw,TextField:zf,PasswordField:ow,Appearance:Gt};rr.AcroForm;function cZ(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(H,I){var T,P,N,S,C,E=t;if((I=I||t)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(B(H))for(C in n)for(N=n[C],T=0;T<N.length;T+=1){for(S=!0,P=0;P<N[T].length;P+=1)if(N[T][P]!==void 0&&N[T][P]!==H[P]){S=!1;break}if(S===!0){E=C;break}}else for(C in n)for(N=n[C],T=0;T<N.length;T+=1){for(S=!0,P=0;P<N[T].length;P+=1)if(N[T][P]!==void 0&&N[T][P]!==H.charCodeAt(P)){S=!1;break}if(S===!0){E=C;break}}return E===t&&I!==t&&(E=I),E},s=function H(I){for(var T=this.internal.write,P=this.internal.putStream,N=(0,this.internal.getFilters)();N.indexOf("FlateEncode")!==-1;)N.splice(N.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var S=[];if(S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Image"}),S.push({key:"Width",value:I.width}),S.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?S.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(S.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&S.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),S.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&S.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var C="",E=0,x=I.transparency.length;E<x;E++)C+=I.transparency[E]+" "+I.transparency[E]+" ";S.push({key:"Mask",value:"["+C+"]"})}I.sMask!==void 0&&S.push({key:"SMask",value:I.objectId+1+" 0 R"});var F=I.filter!==void 0?["/"+I.filter]:void 0;if(P({data:I.data,additionalKeyValues:S,alreadyAppliedFilters:F,objectId:I.objectId}),T("endobj"),"sMask"in I&&I.sMask!==void 0){var U,M=(U=I.sMaskBitsPerComponent)!==null&&U!==void 0?U:I.bitsPerComponent,z={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:I.sMask};"filter"in I&&(z.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(I.width),z.filter=I.filter),H.call(this,z)}if(I.colorSpace===v.INDEXED){var G=this.internal.newObject();P({data:j(new Uint8Array(I.palette)),objectId:G}),T("endobj")}},a=function(){var H=this.internal.collections[e+"images"];for(var I in H)s.call(this,H[I])},o=function(){var H,I=this.internal.collections[e+"images"],T=this.internal.write;for(var P in I)T("/I"+(H=I[P]).index,H.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var H=this.internal.collections[e+"images"];return l.call(this),H},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(H){return typeof r["process"+H.toUpperCase()]=="function"},h=function(H){return Jr(H)==="object"&&H.nodeType===1},f=function(H,I){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var T=""+H.getAttribute("src");if(T.indexOf("data:image/")===0)return nw(unescape(T).split("base64,").pop());var P=r.loadFile(T,!0);if(P!==void 0)return P}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var N;switch(I){case"PNG":N="image/png";break;case"WEBP":N="image/webp";break;default:N="image/jpeg"}return nw(H.toDataURL(N,1).split("base64,").pop())}},p=function(H){var I=this.internal.collections[e+"images"];if(I){for(var T in I)if(H===I[T].alias)return I[T]}},g=function(H,I,T){return H||I||(H=-96,I=-96),H<0&&(H=-1*T.width*72/H/this.internal.scaleFactor),I<0&&(I=-1*T.height*72/I/this.internal.scaleFactor),H===0&&(H=I*T.width/T.height),I===0&&(I=H*T.height/T.width),[H,I]},m=function(H,I,T,P,N,S){var C=g.call(this,T,P,N),E=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString,F=c.call(this);if(T=C[0],P=C[1],F[N.index]=N,S){S*=Math.PI/180;var U=Math.cos(S),M=Math.sin(S),z=function(Y){return Y.toFixed(4)},G=[z(U),z(M),z(-1*M),z(U),0,0,"cm"]}this.internal.write("q"),S?(this.internal.write([1,"0","0",1,E(H),x(I+P),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([E(T),"0","0",E(P),"0","0","cm"].join(" "))):this.internal.write([E(T),"0","0",E(P),E(H),x(I+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+N.index+" Do"),this.internal.write("Q")},v=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=r.__addimage__.sHashCode=function(H){var I,T,P=0;if(typeof H=="string")for(T=H.length,I=0;I<T;I++)P=(P<<5)-P+H.charCodeAt(I),P|=0;else if(B(H))for(T=H.byteLength/2,I=0;I<T;I++)P=(P<<5)-P+H[I],P|=0;return P},w=r.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var I=!0;return H.length===0&&(I=!1),H.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(I=!1),I},_=r.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var I=H.indexOf(",");return I<0?null:H.substring(0,I).trim().endsWith("base64")?H.substring(I+1):null};r.__addimage__.isArrayBuffer=function(H){return H instanceof ArrayBuffer};var B=r.__addimage__.isArrayBufferView=function(H){return H instanceof Int8Array||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array},R=r.__addimage__.binaryStringToUint8Array=function(H){for(var I=H.length,T=new Uint8Array(I),P=0;P<I;P++)T[P]=H.charCodeAt(P);return T},j=r.__addimage__.arrayBufferToBinaryString=function(H){for(var I="",T=B(H)?H:new Uint8Array(H),P=0;P<T.length;P+=8192)I+=String.fromCharCode.apply(null,T.subarray(P,P+8192));return I};r.addImage=function(){var H,I,T,P,N,S,C,E,x;if(typeof arguments[1]=="number"?(I=t,T=arguments[1],P=arguments[2],N=arguments[3],S=arguments[4],C=arguments[5],E=arguments[6],x=arguments[7]):(I=arguments[1],T=arguments[2],P=arguments[3],N=arguments[4],S=arguments[5],C=arguments[6],E=arguments[7],x=arguments[8]),Jr(H=arguments[0])==="object"&&!h(H)&&"imageData"in H){var F=H;H=F.imageData,I=F.format||I||t,T=F.x||T||0,P=F.y||P||0,N=F.w||F.width||N,S=F.h||F.height||S,C=F.alias||C,E=F.compression||E,x=F.rotation||F.angle||x}var U=this.internal.getFilters();if(E===void 0&&U.indexOf("FlateEncode")!==-1&&(E="SLOW"),isNaN(T)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=k.call(this,H,I,C,E);return m.call(this,T,P,N,S,M,x),this};var k=function(H,I,T,P){var N,S,C;if(typeof H=="string"&&i(H)===t){H=unescape(H);var E=L(H,!1);(E!==""||(E=r.loadFile(H,!0))!==void 0)&&(H=E)}if(h(H)&&(H=f(H,I)),I=i(H,I),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((C=T)==null||C.length===0)&&(T=function(x){return typeof x=="string"||B(x)?b(x):B(x.data)?b(x.data):null}(H)),(N=p.call(this,T))||(H instanceof Uint8Array||I==="RGBA"||(S=H,H=R(H)),N=this["process"+I.toUpperCase()](H,u.call(this),T,function(x){return x&&typeof x=="string"&&(x=x.toUpperCase()),x in r.image_compression?x:y.NONE}(P),S)),!N)throw new Error("An unknown error occurred whilst processing the image.");return N},L=r.__addimage__.convertBase64ToBinaryString=function(H,I){I=typeof I!="boolean"||I;var T,P="";if(typeof H=="string"){var N;T=(N=_(H))!==null&&N!==void 0?N:H;try{P=nw(T)}catch(S){if(I)throw w(T)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+S.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};r.getImageProperties=function(H){var I,T,P="";if(h(H)&&(H=f(H)),typeof H=="string"&&i(H)===t&&((P=L(H,!1))===""&&(P=r.loadFile(H)||""),H=P),T=i(H),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(H instanceof Uint8Array||(H=R(H)),!(I=this["process"+T.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=T,I}})(rr.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};rr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(v(n.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(v(y))+") >>",g.content=s;var b=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(s+=" /Open true"),s+=" >>",m.content=s,this.internal.write(g.objId,"0 R",m.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(p(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var B=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(n),w:l(t+i),h:c(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(t,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(t,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(rr.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=r.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(g){var m=0,v=t,y="",b=0;for(m=0;m<g.length;m+=1)v[g.charCodeAt(m)]!==void 0?(b++,typeof(v=v[g.charCodeAt(m)])=="number"&&(y+=String.fromCharCode(v),v=t,b=0),m===g.length-1&&(v=t,y+=g.charAt(m-(b-1)),m-=b-1,b=0)):(v=t,y+=g.charAt(m-b),m-=b,b=0);return y};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(g,m,v){return a(g)?s(g)===!1?-1:!c(g)||!a(m)&&!a(v)||!a(v)&&o(m)||o(g)&&!a(m)||o(g)&&l(m)||o(g)&&o(m)?0:u(g)&&a(m)&&!o(m)&&a(v)&&c(v)?3:o(g)||!a(v)?1:2:-1},f=function(g){var m=0,v=0,y=0,b="",w="",_="",B=(g=g||"").split("\\s+"),R=[];for(m=0;m<B.length;m+=1){for(R.push(""),v=0;v<B[m].length;v+=1)b=B[m][v],w=B[m][v-1],_=B[m][v+1],a(b)?(y=h(b,w,_),R[m]+=y!==-1?String.fromCharCode(e[b.charCodeAt(0)][y]):b):R[m]+=b;R[m]=d(R[m])}return R.join(" ")},p=r.__arabicParser__.processArabic=r.processArabic=function(){var g,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(m)){var y=0;for(v=[],y=0;y<m.length;y+=1)Array.isArray(m[y])?v.push([f(m[y][0]),m[y][1],m[y][2]]):v.push([f(m[y])]);g=v}else g=f(m);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",p])}(rr.API),rr.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(rr.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,p=0,g=0,m=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,w){return b.concat(m.splitTextToSize(w,v))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(g=this.getStringUnitWidth(l[y],{font:d})*u)&&(f=g);return f!==0&&(p=l.length),{w:f/=h,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,p,g,m,v=[],y=[],b=[],w={},_={},B=[],R=[],j=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,L=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,H=h.margins||Object.assign({width:this.getPageWidth()},e),I=typeof h.padding=="number"?h.padding:3,T=h.headerBackgroundColor||"#c8c8c8",P=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=P,this.setFontSize(L),d==null)y=v=Object.keys(u[0]),b=v.map(function(){return"left"});else if(Array.isArray(d)&&Jr(d[0])==="object")for(v=d.map(function(F){return F.name}),y=d.map(function(F){return F.prompt||F.name||""}),b=d.map(function(F){return F.align||"left"}),f=0;f<d.length;f+=1)_[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(y=v=d,b=v.map(function(){return"left"}));if(j||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(w[m=v[f]]=u.map(function(F){return F[m]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[m],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)B.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[m]=Math.max.apply(null,B)+I+I,B=[]}if(k){var N={};for(f=0;f<v.length;f+=1)N[v[f]]={},N[v[f]].text=y[f],N[v[f]].align=b[f];var S=o.call(this,N,_);R=v.map(function(F){return new s(l,c,_[F],S,N[F].text,void 0,N[F].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var C=d.reduce(function(F,U){return F[U.name]=U.align,F},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var E=o.call(this,u[f],_);for(g=0;g<v.length;g+=1){var x=u[f][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:x},this),a.call(this,new s(l,c,_[v[g]],E,x,f+2,C[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var p=l[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,p){return Math.max(f,p)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(rr.API);var uZ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dZ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zB=cZ(dZ),hZ=[100,200,300,400,500,600,700,800,900],GTe=cZ(hZ);function DS(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return uZ[s=s||"normal"]?s:"normal"}(r.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(r.weight),i=function(s){return typeof zB[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function Q7(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var KTe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z7(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function V7(r){return r.trimLeft()}function WTe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function qTe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Ub,G7,K7,WA,Hb,W7,q7,X7,US=["times"];function Y7(r,e,t,n,i){var s=4,a=Z7;switch(i){case rr.API.image_compression.FAST:s=1,a=J7;break;case rr.API.image_compression.MEDIUM:s=6,a=e9;break;case rr.API.image_compression.SLOW:s=9,a=t9}r=function(l,c,u,d){for(var h,f=l.length/c,p=new Uint8Array(l.length+f),g=[XTe,J7,Z7,e9,t9],m=0;m<f;m+=1){var v=m*c,y=l.subarray(v,v+c);if(d)p.set(d(y,u,h),v+m);else{for(var b=g.length,w=[],_=0;_<b;_+=1)w[_]=g[_](y,u,h);var B=JTe(w.concat());p.set(w[B],v+m)}h=y}return p}(r,e,Math.ceil(t*n/8),a);var o=RB(r,{level:s});return rr.API.__addimage__.arrayBufferToBinaryString(o)}function XTe(r){var e=Array.apply([],r);return e.unshift(0),e}function J7(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function Z7(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function e9(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,o=t&&t[s]||0;i[s+1]=r[s]+256-(a+o>>>1)&255}return i}function t9(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=YTe(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function YTe(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function JTe(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function HS(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return fZ(r,i)>>s&a}function r9(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var h=d>>8&255;c.setUint8(u,h)}})(r,s,fZ(r,s)&~(o<<a)&65535|l)}function fZ(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function ZTe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],d=0,h=null,f=0,p=null;for(this.width=t,this.height=n;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,p=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((H=r[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];d=r[e++]|r[e++]<<8,h=r[e++],1&g||(h=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((H=r[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var m=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,w=r[e++],_=w>>6&1,B=1<<1+(7&w),R=o,j=l,k=!1;w>>7&&(k=!0,R=e,j=B,e+=3*B);var L=e;for(e++;;){var H;if(!((H=r[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}u.push({x:m,y:v,width:y,height:b,has_local_palette:k,palette_offset:R,palette_size:j,data_offset:L,data_length:e-L,transparent_index:h,interlaced:!!_,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,T){var P=this.frameInfo(I),N=P.width*P.height,S=new Uint8Array(N);n9(r,P.data_offset,S,N);var C=P.palette_offset,E=P.transparent_index;E===null&&(E=256);var x=P.width,F=t-x,U=x,M=4*(P.y*t+P.x),z=4*((P.y+P.height)*t+P.x),G=M,Y=4*F;P.interlaced===!0&&(Y+=4*t*7);for(var Q=8,q=0,D=S.length;q<D;++q){var O=S[q];if(U===0&&(U=x,(G+=Y)>=z&&(Y=4*F+4*t*(Q-1),G=M+(x+F)*(Q<<1),Q>>=1)),O===E)G+=4;else{var V=r[C+3*O],J=r[C+3*O+1],re=r[C+3*O+2];T[G++]=re,T[G++]=J,T[G++]=V,T[G++]=255}--U}},this.decodeAndBlitFrameRGBA=function(I,T){var P=this.frameInfo(I),N=P.width*P.height,S=new Uint8Array(N);n9(r,P.data_offset,S,N);var C=P.palette_offset,E=P.transparent_index;E===null&&(E=256);var x=P.width,F=t-x,U=x,M=4*(P.y*t+P.x),z=4*((P.y+P.height)*t+P.x),G=M,Y=4*F;P.interlaced===!0&&(Y+=4*t*7);for(var Q=8,q=0,D=S.length;q<D;++q){var O=S[q];if(U===0&&(U=x,(G+=Y)>=z&&(Y=4*F+4*t*(Q-1),G=M+(x+F)*(Q<<1),Q>>=1)),O===E)G+=4;else{var V=r[C+3*O],J=r[C+3*O+1],re=r[C+3*O+2];T[G++]=V,T[G++]=J,T[G++]=re,T[G++]=255}--U}}}function n9(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=r[e++],p=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=r[e++]<<u,u+=8,f===1?f=r[e++]:--f;if(u<l)break;var m=d&c;if(d>>=l,u-=l,m!==s){if(m===a)break;for(var v=m<o?m:g,y=0,b=v;b>s;)b=p[b]>>8,++y;var w=b;if(h+y+(v!==m?1:0)>n)return void vn.log("Warning, gif stream longer than expected.");t[h++]=w;var _=h+=y;for(v!==m&&(t[h++]=w),b=v;y--;)b=p[b],t[--_]=255&b,b>>=8;g!==null&&o<4096&&(p[o++]=g<<8|w,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else o=a+1,c=(1<<(l=i+1))-1,g=null}return h!==n&&vn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function QS(r){var e,t,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),_=new Array(256),B=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function S(M,z){for(var G=0,Y=0,Q=new Array,q=1;q<=16;q++){for(var D=1;D<=M[q];D++)Q[z[Y]]=[],Q[z[Y]][0]=G,Q[z[Y]][1]=q,Y++,G++;G*=2}return Q}function C(M){for(var z=M[0],G=M[1]-1;G>=0;)z&1<<G&&(m|=1<<v),G--,--v<0&&(m==255?(E(255),E(0)):E(m),v=7,m=0)}function E(M){g.push(M)}function x(M){E(M>>8&255),E(255&M)}function F(M,z,G,Y,Q){for(var q,D=Q[0],O=Q[240],V=function(le,be){var ye,xe,Ee,Be,Pe,Ue,He,$e,Ke,st,Ve=0;for(Ke=0;Ke<8;++Ke){ye=le[Ve],xe=le[Ve+1],Ee=le[Ve+2],Be=le[Ve+3],Pe=le[Ve+4],Ue=le[Ve+5],He=le[Ve+6];var pt=ye+($e=le[Ve+7]),Je=ye-$e,ze=xe+He,qe=xe-He,gt=Ee+Ue,We=Ee-Ue,Tt=Be+Pe,St=Be-Pe,ot=pt+Tt,Ot=pt-Tt,vt=ze+gt,ut=ze-gt;le[Ve]=ot+vt,le[Ve+4]=ot-vt;var Wt=.707106781*(ut+Ot);le[Ve+2]=Ot+Wt,le[Ve+6]=Ot-Wt;var wr=.382683433*((ot=St+We)-(ut=qe+Je)),Ct=.5411961*ot+wr,cr=1.306562965*ut+wr,Nr=.707106781*(vt=We+qe),ht=Je+Nr,mr=Je-Nr;le[Ve+5]=mr+Ct,le[Ve+3]=mr-Ct,le[Ve+1]=ht+cr,le[Ve+7]=ht-cr,Ve+=8}for(Ve=0,Ke=0;Ke<8;++Ke){ye=le[Ve],xe=le[Ve+8],Ee=le[Ve+16],Be=le[Ve+24],Pe=le[Ve+32],Ue=le[Ve+40],He=le[Ve+48];var Br=ye+($e=le[Ve+56]),qt=ye-$e,Ce=xe+He,_e=xe-He,De=Ee+Ue,dt=Ee-Ue,$t=Be+Pe,yt=Be-Pe,zt=Br+$t,Bt=Br-$t,jt=Ce+De,Xt=Ce-De;le[Ve]=zt+jt,le[Ve+32]=zt-jt;var Vt=.707106781*(Xt+Bt);le[Ve+16]=Bt+Vt,le[Ve+48]=Bt-Vt;var ur=.382683433*((zt=yt+dt)-(Xt=_e+qt)),Hr=.5411961*zt+ur,wt=1.306562965*Xt+ur,we=.707106781*(jt=dt+_e),nt=qt+we,_t=qt-we;le[Ve+40]=_t+Hr,le[Ve+24]=_t-Hr,le[Ve+8]=nt+wt,le[Ve+56]=nt-wt,Ve++}for(Ke=0;Ke<64;++Ke)st=le[Ke]*be[Ke],f[Ke]=st>0?st+.5|0:st-.5|0;return f}(M,z),J=0;J<64;++J)p[R[J]]=V[J];var re=p[0]-G;G=p[0],re==0?C(Y[0]):(C(Y[h[q=32767+re]]),C(d[q]));for(var ne=63;ne>0&&p[ne]==0;)ne--;if(ne==0)return C(D),G;for(var se,ee=1;ee<=ne;){for(var de=ee;p[ee]==0&&ee<=ne;)++ee;var ie=ee-de;if(ie>=16){se=ie>>4;for(var he=1;he<=se;++he)C(O);ie&=15}q=32767+p[ee],C(Q[(ie<<4)+h[q]]),C(d[q]),ee++}return ne!=63&&C(D),G}function U(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(z){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var Q=a((G[Y]*z+50)/100);Q=Math.min(Math.max(Q,1),255),o[R[Y]]=Q}for(var q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],D=0;D<64;D++){var O=a((q[D]*z+50)/100);O=Math.min(Math.max(O,1),255),l[R[D]]=O}for(var V=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,re=0;re<8;re++)for(var ne=0;ne<8;ne++)c[J]=1/(o[R[J]]*V[re]*V[ne]*8),u[J]=1/(l[R[J]]*V[re]*V[ne]*8),J++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,z){z&&U(z),g=new Array,m=0,v=7,x(65496),x(65504),x(16),E(74),E(70),E(73),E(70),E(0),E(1),E(1),E(0),x(1),x(1),E(0),E(0),function(){x(65499),x(132),E(0);for(var xe=0;xe<64;xe++)E(o[xe]);E(1);for(var Ee=0;Ee<64;Ee++)E(l[Ee])}(),function(xe,Ee){x(65472),x(17),E(8),x(Ee),x(xe),E(3),E(1),E(17),E(0),E(2),E(17),E(1),E(3),E(17),E(1)}(M.width,M.height),function(){x(65476),x(418),E(0);for(var xe=0;xe<16;xe++)E(j[xe+1]);for(var Ee=0;Ee<=11;Ee++)E(k[Ee]);E(16);for(var Be=0;Be<16;Be++)E(L[Be+1]);for(var Pe=0;Pe<=161;Pe++)E(H[Pe]);E(1);for(var Ue=0;Ue<16;Ue++)E(I[Ue+1]);for(var He=0;He<=11;He++)E(T[He]);E(17);for(var $e=0;$e<16;$e++)E(P[$e+1]);for(var Ke=0;Ke<=161;Ke++)E(N[Ke])}(),x(65498),x(12),E(3),E(1),E(0),E(2),E(17),E(3),E(17),E(0),E(63),E(0);var G=0,Y=0,Q=0;m=0,v=7,this.encode.displayName="_encode_";for(var q,D,O,V,J,re,ne,se,ee,de=M.data,ie=M.width,he=M.height,le=4*ie,be=0;be<he;){for(q=0;q<le;){for(J=le*be+q,ne=-1,se=0,ee=0;ee<64;ee++)re=J+(se=ee>>3)*le+(ne=4*(7&ee)),be+se>=he&&(re-=le*(be+1+se-he)),q+ne>=le&&(re-=q+ne-le+4),D=de[re++],O=de[re++],V=de[re++],y[ee]=(B[D]+B[O+256|0]+B[V+512|0]>>16)-128,b[ee]=(B[D+768|0]+B[O+1024|0]+B[V+1280|0]>>16)-128,w[ee]=(B[D+1280|0]+B[O+1536|0]+B[V+1792|0]>>16)-128;G=F(y,c,G,e,n),Y=F(b,u,Y,t,i),Q=F(w,u,Q,t,i),q+=32}be+=8}if(v>=0){var ye=[];ye[1]=v+1,ye[0]=(1<<v+1)-1,C(ye)}return x(65497),new Uint8Array(g)},r=r||50,function(){for(var M=String.fromCharCode,z=0;z<256;z++)_[z]=M(z)}(),e=S(j,k),t=S(I,T),n=S(L,H),i=S(P,N),function(){for(var M=1,z=2,G=1;G<=15;G++){for(var Y=M;Y<z;Y++)h[32767+Y]=G,d[32767+Y]=[],d[32767+Y][1]=G,d[32767+Y][0]=Y;for(var Q=-(z-1);Q<=-M;Q++)h[32767+Q]=G,d[32767+Q]=[],d[32767+Q][1]=G,d[32767+Q][0]=z-1+Q;M<<=1,z<<=1}}(),function(){for(var M=0;M<256;M++)B[M]=19595*M,B[M+256|0]=38470*M,B[M+512|0]=7471*M+32768,B[M+768|0]=-11059*M,B[M+1024|0]=-21709*M,B[M+1280|0]=32768*M+8421375,B[M+1536|0]=-27439*M,B[M+1792|0]=-5329*M}(),U(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Cl(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i9(r){function e(k){if(!k)throw Error("assert :P")}function t(k,L,H){for(var I=0;4>I;I++)if(k[L+I]!=H.charCodeAt(I))return!0;return!1}function n(k,L,H,I,T){for(var P=0;P<T;P++)k[L+P]=H[I+P]}function i(k,L,H,I){for(var T=0;T<I;T++)k[L+T]=H}function s(k){return new Int32Array(k)}function a(k,L){for(var H=[],I=0;I<k;I++)H.push(new L);return H}function o(k,L){var H=[];return function I(T,P,N){for(var S=N[P],C=0;C<S&&(T.push(N.length>P+1?[]:new L),!(N.length<P+1));C++)I(T[C],P+1,N)}(H,0,k),H}var l=function(){var k=this;function L($,W){for(var Z=1<<W-1>>>0;$&Z;)Z>>>=1;return Z?($&Z-1)+Z:$}function H($,W,Z,te,oe){e(!(te%Z));do $[W+(te-=Z)]=oe;while(0<te)}function I($,W,Z,te,oe){if(e(2328>=oe),512>=oe)var ce=s(512);else if((ce=s(oe))==null)return 0;return function(ue,fe,Ae,me,Ne,Le){var ge,Te,Me=fe,Xe=1<<Ae,Re=s(16),Ze=s(16);for(e(Ne!=0),e(me!=null),e(ue!=null),e(0<Ae),Te=0;Te<Ne;++Te){if(15<me[Te])return 0;++Re[me[Te]]}if(Re[0]==Ne)return 0;for(Ze[1]=0,ge=1;15>ge;++ge){if(Re[ge]>1<<ge)return 0;Ze[ge+1]=Ze[ge]+Re[ge]}for(Te=0;Te<Ne;++Te)ge=me[Te],0<me[Te]&&(Le[Ze[ge]++]=Te);if(Ze[15]==1)return(me=new T).g=0,me.value=Le[0],H(ue,Me,1,Xe,me),Xe;var rt,mt=-1,ct=Xe-1,ir=0,Dt=1,jr=1,Yt=1<<Ae;for(Te=0,ge=1,Ne=2;ge<=Ae;++ge,Ne<<=1){if(Dt+=jr<<=1,0>(jr-=Re[ge]))return 0;for(;0<Re[ge];--Re[ge])(me=new T).g=ge,me.value=Le[Te++],H(ue,Me+ir,Ne,Yt,me),ir=L(ir,ge)}for(ge=Ae+1,Ne=2;15>=ge;++ge,Ne<<=1){if(Dt+=jr<<=1,0>(jr-=Re[ge]))return 0;for(;0<Re[ge];--Re[ge]){if(me=new T,(ir&ct)!=mt){for(Me+=Yt,rt=1<<(mt=ge)-Ae;15>mt&&!(0>=(rt-=Re[mt]));)++mt,rt<<=1;Xe+=Yt=1<<(rt=mt-Ae),ue[fe+(mt=ir&ct)].g=rt+Ae,ue[fe+mt].value=Me-fe-mt}me.g=ge-Ae,me.value=Le[Te++],H(ue,Me+(ir>>Ae),Ne,Yt,me),ir=L(ir,ge)}}return Dt!=2*Ze[15]-1?0:Xe}($,W,Z,te,oe,ce)}function T(){this.value=this.g=0}function P(){this.value=this.g=0}function N(){this.G=a(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(af,P)}function S($,W,Z,te){e($!=null),e(W!=null),e(2147483648>te),$.Ca=254,$.I=0,$.b=-8,$.Ka=0,$.oa=W,$.pa=Z,$.Jd=W,$.Yc=Z+te,$.Zc=4<=te?Z+te-4+1:Z,D($)}function C($,W){for(var Z=0;0<W--;)Z|=V($,128)<<W;return Z}function E($,W){var Z=C($,W);return O($)?-Z:Z}function x($,W,Z,te){var oe,ce=0;for(e($!=null),e(W!=null),e(4294967288>te),$.Sb=te,$.Ra=0,$.u=0,$.h=0,4<te&&(te=4),oe=0;oe<te;++oe)ce+=W[Z+oe]<<8*oe;$.Ra=ce,$.bb=te,$.oa=W,$.pa=Z}function F($){for(;8<=$.u&&$.bb<$.Sb;)$.Ra>>>=8,$.Ra+=$.oa[$.pa+$.bb]<<Cd-8>>>0,++$.bb,$.u-=8;Y($)&&($.h=1,$.u=0)}function U($,W){if(e(0<=W),!$.h&&W<=eo){var Z=G($)&Za[W];return $.u+=W,F($),Z}return $.h=1,$.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G($){return $.Ra>>>($.u&Cd-1)>>>0}function Y($){return e($.bb<=$.Sb),$.h||$.bb==$.Sb&&$.u>Cd}function Q($,W){$.u=W,$.h=Y($)}function q($){$.u>=ou&&(e($.u>=ou),F($))}function D($){e($!=null&&$.oa!=null),$.pa<$.Zc?($.I=($.oa[$.pa++]|$.I<<8)>>>0,$.b+=8):(e($!=null&&$.oa!=null),$.pa<$.Yc?($.b+=8,$.I=$.oa[$.pa++]|$.I<<8):$.Ka?$.b=0:($.I<<=8,$.b+=8,$.Ka=1))}function O($){return C($,1)}function V($,W){var Z=$.Ca;0>$.b&&D($);var te=$.b,oe=Z*W>>>8,ce=($.I>>>te>oe)+0;for(ce?(Z-=oe,$.I-=oe+1<<te>>>0):Z=oe+1,te=Z,oe=0;256<=te;)oe+=8,te>>=8;return te=7^oe+Sd[te],$.b-=te,$.Ca=(Z<<te)-1,ce}function J($,W,Z){$[W+0]=Z>>24&255,$[W+1]=Z>>16&255,$[W+2]=Z>>8&255,$[W+3]=255&Z}function re($,W){return $[W+0]|$[W+1]<<8}function ne($,W){return re($,W)|$[W+2]<<16}function se($,W){return re($,W)|re($,W+2)<<16}function ee($,W){var Z=1<<W;return e($!=null),e(0<W),$.X=s(Z),$.X==null?0:($.Mb=32-W,$.Xa=W,1)}function de($,W){e($!=null),e(W!=null),e($.Xa==W.Xa),n(W.X,0,$.X,0,1<<W.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function he($,W,Z,te){e(Z!=null),e(te!=null);var oe=Z[0],ce=te[0];return oe==0&&(oe=($*ce+W/2)/W),ce==0&&(ce=(W*oe+$/2)/$),0>=oe||0>=ce?0:(Z[0]=oe,te[0]=ce,1)}function le($,W){return $+(1<<W)-1>>>W}function be($,W){return((4278255360&$)+(4278255360&W)>>>0&4278255360)+((16711935&$)+(16711935&W)>>>0&16711935)>>>0}function ye($,W){k[W]=function(Z,te,oe,ce,ue,fe,Ae){var me;for(me=0;me<ue;++me){var Ne=k[$](fe[Ae+me-1],oe,ce+me);fe[Ae+me]=be(Z[te+me],Ne)}}}function xe(){this.ud=this.hd=this.jd=0}function Ee($,W){return((4278124286&($^W))>>>1)+($&W)>>>0}function Be($){return 0<=$&&256>$?$:0>$?0:255<$?255:void 0}function Pe($,W){return Be($+($-W+.5>>1))}function Ue($,W,Z){return Math.abs(W-Z)-Math.abs($-Z)}function He($,W,Z,te,oe,ce,ue){for(te=ce[ue-1],Z=0;Z<oe;++Z)ce[ue+Z]=te=be($[W+Z],te)}function $e($,W,Z,te,oe){var ce;for(ce=0;ce<Z;++ce){var ue=$[W+ce],fe=ue>>8&255,Ae=16711935&(Ae=(Ae=16711935&ue)+((fe<<16)+fe));te[oe+ce]=(4278255360&ue)+Ae>>>0}}function Ke($,W){W.jd=255&$,W.hd=$>>8&255,W.ud=$>>16&255}function st($,W,Z,te,oe,ce){var ue;for(ue=0;ue<te;++ue){var fe=W[Z+ue],Ae=fe>>>8,me=fe,Ne=255&(Ne=(Ne=fe>>>16)+(($.jd<<24>>24)*(Ae<<24>>24)>>>5));me=255&(me=(me+=($.hd<<24>>24)*(Ae<<24>>24)>>>5)+(($.ud<<24>>24)*(Ne<<24>>24)>>>5)),oe[ce+ue]=(4278255360&fe)+(Ne<<16)+me}}function Ve($,W,Z,te,oe){k[W]=function(ce,ue,fe,Ae,me,Ne,Le,ge,Te){for(Ae=Le;Ae<ge;++Ae)for(Le=0;Le<Te;++Le)me[Ne++]=oe(fe[te(ce[ue++])])},k[$]=function(ce,ue,fe,Ae,me,Ne,Le){var ge=8>>ce.b,Te=ce.Ea,Me=ce.K[0],Xe=ce.w;if(8>ge)for(ce=(1<<ce.b)-1,Xe=(1<<ge)-1;ue<fe;++ue){var Re,Ze=0;for(Re=0;Re<Te;++Re)Re&ce||(Ze=te(Ae[me++])),Ne[Le++]=oe(Me[Ze&Xe]),Ze>>=ge}else k["VP8LMapColor"+Z](Ae,me,Me,Xe,Ne,Le,ue,fe,Te)}}function pt($,W,Z,te,oe){for(Z=W+Z;W<Z;){var ce=$[W++];te[oe++]=ce>>16&255,te[oe++]=ce>>8&255,te[oe++]=255&ce}}function Je($,W,Z,te,oe){for(Z=W+Z;W<Z;){var ce=$[W++];te[oe++]=ce>>16&255,te[oe++]=ce>>8&255,te[oe++]=255&ce,te[oe++]=ce>>24&255}}function ze($,W,Z,te,oe){for(Z=W+Z;W<Z;){var ce=(ue=$[W++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;te[oe++]=ce,te[oe++]=ue}}function qe($,W,Z,te,oe){for(Z=W+Z;W<Z;){var ce=(ue=$[W++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;te[oe++]=ce,te[oe++]=ue}}function gt($,W,Z,te,oe){for(Z=W+Z;W<Z;){var ce=$[W++];te[oe++]=255&ce,te[oe++]=ce>>8&255,te[oe++]=ce>>16&255}}function We($,W,Z,te,oe,ce){if(ce==0)for(Z=W+Z;W<Z;)J(te,((ce=$[W++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),oe+=32;else n(te,oe,$,W,Z)}function Tt($,W){k[W][0]=k[$+"0"],k[W][1]=k[$+"1"],k[W][2]=k[$+"2"],k[W][3]=k[$+"3"],k[W][4]=k[$+"4"],k[W][5]=k[$+"5"],k[W][6]=k[$+"6"],k[W][7]=k[$+"7"],k[W][8]=k[$+"8"],k[W][9]=k[$+"9"],k[W][10]=k[$+"10"],k[W][11]=k[$+"11"],k[W][12]=k[$+"12"],k[W][13]=k[$+"13"],k[W][14]=k[$+"0"],k[W][15]=k[$+"0"]}function St($){return $==K4||$==W4||$==E1||$==q4}function ot(){this.eb=[],this.size=this.A=this.fb=0}function Ot(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ot,this.f.kb=new Ot,this.sd=null}function ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wr($){return alert("todo:WebPSamplerProcessPlane"),$.T}function Ct($,W){var Z=$.T,te=W.ba.f.RGBA,oe=te.eb,ce=te.fb+$.ka*te.A,ue=Po[W.ba.S],fe=$.y,Ae=$.O,me=$.f,Ne=$.N,Le=$.ea,ge=$.W,Te=W.cc,Me=W.dc,Xe=W.Mc,Re=W.Nc,Ze=$.ka,rt=$.ka+$.T,mt=$.U,ct=mt+1>>1;for(Ze==0?ue(fe,Ae,null,null,me,Ne,Le,ge,me,Ne,Le,ge,oe,ce,null,null,mt):(ue(W.ec,W.fc,fe,Ae,Te,Me,Xe,Re,me,Ne,Le,ge,oe,ce-te.A,oe,ce,mt),++Z);Ze+2<rt;Ze+=2)Te=me,Me=Ne,Xe=Le,Re=ge,Ne+=$.Rc,ge+=$.Rc,ce+=2*te.A,ue(fe,(Ae+=2*$.fa)-$.fa,fe,Ae,Te,Me,Xe,Re,me,Ne,Le,ge,oe,ce-te.A,oe,ce,mt);return Ae+=$.fa,$.j+rt<$.o?(n(W.ec,W.fc,fe,Ae,mt),n(W.cc,W.dc,me,Ne,ct),n(W.Mc,W.Nc,Le,ge,ct),Z--):1&rt||ue(fe,Ae,null,null,me,Ne,Le,ge,me,Ne,Le,ge,oe,ce+te.A,null,null,mt),Z}function cr($,W,Z){var te=$.F,oe=[$.J];if(te!=null){var ce=$.U,ue=W.ba.S,fe=ue==S1||ue==E1;W=W.ba.f.RGBA;var Ae=[0],me=$.ka;Ae[0]=$.T,$.Kb&&(me==0?--Ae[0]:(--me,oe[0]-=$.width),$.j+$.ka+$.T==$.o&&(Ae[0]=$.o-$.j-me));var Ne=W.eb;me=W.fb+me*W.A,$=ZF(te,oe[0],$.width,ce,Ae,Ne,me+(fe?0:3),W.A),e(Z==Ae),$&&St(ue)&&y0(Ne,me,fe,ce,Ae,W.A)}return 0}function Nr($){var W=$.ma,Z=W.ba.S,te=11>Z,oe=Z==w1||Z==C1||Z==S1||Z==G4||Z==12||St(Z);if(W.memory=null,W.Ib=null,W.Jb=null,W.Nd=null,!d0(W.Oa,$,oe?11:12))return 0;if(oe&&St(Z)&&l0(),$.da)alert("todo:use_scaling");else{if(te){if(W.Ib=wr,$.Kb){if(Z=$.U+1>>1,W.memory=s($.U+2*Z),W.memory==null)return 0;W.ec=W.memory,W.fc=0,W.cc=W.ec,W.dc=W.fc+$.U,W.Mc=W.cc,W.Nc=W.dc+Z,W.Ib=Ct,l0()}}else alert("todo:EmitYUV");oe&&(W.Jb=cr,te&&vl())}if(te&&!pI){for($=0;256>$;++$)Qne[$]=89858*($-128)+N1>>_1,Vne[$]=-22014*($-128)+N1,zne[$]=-45773*($-128),$ne[$]=113618*($-128)+N1>>_1;for($=x0;$<J4;++$)W=76283*($-16)+N1>>_1,Gne[$-x0]=Tr(W,255),Kne[$-x0]=Tr(W+8>>4,15);pI=1}return 1}function ht($){var W=$.ma,Z=$.U,te=$.T;return e(!(1&$.ka)),0>=Z||0>=te?0:(Z=W.Ib($,W),W.Jb!=null&&W.Jb($,W,Z),W.Dc+=Z,1)}function mr($){$.ma.memory=null}function Br($,W,Z,te){return U($,8)!=47?0:(W[0]=U($,14)+1,Z[0]=U($,14)+1,te[0]=U($,1),U($,3)!=0?0:!$.h)}function qt($,W){if(4>$)return $+1;var Z=$-2>>1;return(2+(1&$)<<Z)+U(W,Z)+1}function Ce($,W){return 120<W?W-120:1<=(Z=((Z=Bne[W-1])>>4)*$+(8-(15&Z)))?Z:1;var Z}function _e($,W,Z){var te=G(Z),oe=$[W+=255&te].g-8;return 0<oe&&(Q(Z,Z.u+8),te=G(Z),W+=$[W].value,W+=te&(1<<oe)-1),Q(Z,Z.u+$[W].g),$[W].value}function De($,W,Z){return Z.g+=$.g,Z.value+=$.value<<W>>>0,e(8>=Z.g),$.g}function dt($,W,Z){var te=$.xc;return e((W=te==0?0:$.vc[$.md*(Z>>te)+(W>>te)])<$.Wb),$.Ya[W]}function $t($,W,Z,te){var oe=$.ab,ce=$.c*W,ue=$.C;W=ue+W;var fe=Z,Ae=te;for(te=$.Ta,Z=$.Ua;0<oe--;){var me=$.gc[oe],Ne=ue,Le=W,ge=fe,Te=Ae,Me=(Ae=te,fe=Z,me.Ea);switch(e(Ne<Le),e(Le<=me.nc),me.hc){case 2:pi(ge,Te,(Le-Ne)*Me,Ae,fe);break;case 0:var Xe=Ne,Re=Le,Ze=Ae,rt=fe,mt=(Yt=me).Ea;Xe==0&&(f0(ge,Te,null,null,1,Ze,rt),He(ge,Te+1,0,0,mt-1,Ze,rt+1),Te+=mt,rt+=mt,++Xe);for(var ct=1<<Yt.b,ir=ct-1,Dt=le(mt,Yt.b),jr=Yt.K,Yt=Yt.w+(Xe>>Yt.b)*Dt;Xe<Re;){var $r=jr,zi=Yt,Fr=1;for(OA(ge,Te,Ze,rt-mt,1,Ze,rt);Fr<mt;){var Jt=(Fr&~ir)+ct;Jt>mt&&(Jt=mt),(0,p0[$r[zi++]>>8&15])(ge,Te+ +Fr,Ze,rt+Fr-mt,Jt-Fr,Ze,rt+Fr),Fr=Jt}Te+=mt,rt+=mt,++Xe&ir||(Yt+=Dt)}Le!=me.nc&&n(Ae,fe-Me,Ae,fe+(Le-Ne-1)*Me,Me);break;case 1:for(Me=ge,Re=Te,mt=(ge=me.Ea)-(rt=ge&~(Ze=(Te=1<<me.b)-1)),Xe=le(ge,me.b),ct=me.K,me=me.w+(Ne>>me.b)*Xe;Ne<Le;){for(ir=ct,Dt=me,jr=new xe,Yt=Re+rt,$r=Re+ge;Re<Yt;)Ke(ir[Dt++],jr),m0(jr,Me,Re,Te,Ae,fe),Re+=Te,fe+=Te;Re<$r&&(Ke(ir[Dt++],jr),m0(jr,Me,Re,mt,Ae,fe),Re+=mt,fe+=mt),++Ne&Ze||(me+=Xe)}break;case 3:if(ge==Ae&&Te==fe&&0<me.b){for(Re=Ae,ge=Me=fe+(Le-Ne)*Me-(rt=(Le-Ne)*le(me.Ea,me.b)),Te=Ae,Ze=fe,Xe=[],rt=(mt=rt)-1;0<=rt;--rt)Xe[rt]=Te[Ze+rt];for(rt=mt-1;0<=rt;--rt)Re[ge+rt]=Xe[rt];v1(me,Ne,Le,Ae,Me,Ae,fe)}else v1(me,Ne,Le,ge,Te,Ae,fe)}fe=te,Ae=Z}Ae!=Z&&n(te,Z,fe,Ae,ce)}function yt($,W){var Z=$.V,te=$.Ba+$.c*$.C,oe=W-$.C;if(e(W<=$.l.o),e(16>=oe),0<oe){var ce=$.l,ue=$.Ta,fe=$.Ua,Ae=ce.width;if($t($,oe,Z,te),oe=fe=[fe],e((Z=$.C)<(te=W)),e(ce.v<ce.va),te>ce.o&&(te=ce.o),Z<ce.j){var me=ce.j-Z;Z=ce.j,oe[0]+=me*Ae}if(Z>=te?Z=0:(oe[0]+=4*ce.v,ce.ka=Z-ce.j,ce.U=ce.va-ce.v,ce.T=te-Z,Z=1),Z){if(fe=fe[0],11>(Z=$.ca).S){var Ne=Z.f.RGBA,Le=(te=Z.S,oe=ce.U,ce=ce.T,me=Ne.eb,Ne.A),ge=ce;for(Ne=Ne.fb+$.Ma*Ne.A;0<ge--;){var Te=ue,Me=fe,Xe=oe,Re=me,Ze=Ne;switch(te){case x1:g0(Te,Me,Xe,Re,Ze);break;case w1:Ed(Te,Me,Xe,Re,Ze);break;case K4:Ed(Te,Me,Xe,Re,Ze),y0(Re,Ze,0,Xe,1,0);break;case aI:of(Te,Me,Xe,Re,Ze);break;case C1:We(Te,Me,Xe,Re,Ze,1);break;case W4:We(Te,Me,Xe,Re,Ze,1),y0(Re,Ze,0,Xe,1,0);break;case S1:We(Te,Me,Xe,Re,Ze,0);break;case E1:We(Te,Me,Xe,Re,Ze,0),y0(Re,Ze,1,Xe,1,0);break;case G4:_d(Te,Me,Xe,Re,Ze);break;case q4:_d(Te,Me,Xe,Re,Ze),JF(Re,Ze,Xe,1,0);break;case oI:Nd(Te,Me,Xe,Re,Ze);break;default:e(0)}fe+=Ae,Ne+=Le}$.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e($.Ma<=Z.height)}}$.C=W,e($.C<=$.i)}function zt($){var W;if(0<$.ua)return 0;for(W=0;W<$.Wb;++W){var Z=$.Ya[W].G,te=$.Ya[W].H;if(0<Z[1][te[1]+0].g||0<Z[2][te[2]+0].g||0<Z[3][te[3]+0].g)return 0}return 1}function Bt($,W,Z,te,oe,ce){if($.Z!=0){var ue=$.qd,fe=$.rd;for(e(Td[$.Z]!=null);W<Z;++W)Td[$.Z](ue,fe,te,oe,te,oe,ce),ue=te,fe=oe,oe+=ce;$.qd=ue,$.rd=fe}}function jt($,W){var Z=$.l.ma,te=Z.Z==0||Z.Z==1?$.l.j:$.C;if(te=$.C<te?te:$.C,e(W<=$.l.o),W>te){var oe=$.l.width,ce=Z.ca,ue=Z.tb+oe*te,fe=$.V,Ae=$.Ba+$.c*te,me=$.gc;e($.ab==1),e(me[0].hc==3),ic(me[0],te,W,fe,Ae,ce,ue),Bt(Z,te,W,ce,ue,oe)}$.C=$.Ma=W}function Xt($,W,Z,te,oe,ce,ue){var fe=$.$/te,Ae=$.$%te,me=$.m,Ne=$.s,Le=Z+$.$,ge=Le;oe=Z+te*oe;var Te=Z+te*ce,Me=280+Ne.ua,Xe=$.Pb?fe:16777216,Re=0<Ne.ua?Ne.Wa:null,Ze=Ne.wc,rt=Le<Te?dt(Ne,Ae,fe):null;e($.C<ce),e(Te<=oe);var mt=!1;e:for(;;){for(;mt||Le<Te;){var ct=0;if(fe>=Xe){var ir=Le-Z;e((Xe=$).Pb),Xe.wd=Xe.m,Xe.xd=ir,0<Xe.s.ua&&de(Xe.s.Wa,Xe.s.vb),Xe=fe+Tne}if(Ae&Ze||(rt=dt(Ne,Ae,fe)),e(rt!=null),rt.Qb&&(W[Le]=rt.qb,mt=!0),!mt)if(q(me),rt.jc){ct=me,ir=W;var Dt=Le,jr=rt.pd[G(ct)&af-1];e(rt.jc),256>jr.g?(Q(ct,ct.u+jr.g),ir[Dt]=jr.value,ct=0):(Q(ct,ct.u+jr.g-256),e(256<=jr.value),ct=jr.value),ct==0&&(mt=!0)}else ct=_e(rt.G[0],rt.H[0],me);if(me.h)break;if(mt||256>ct){if(!mt)if(rt.nd)W[Le]=(rt.qb|ct<<8)>>>0;else{if(q(me),mt=_e(rt.G[1],rt.H[1],me),q(me),ir=_e(rt.G[2],rt.H[2],me),Dt=_e(rt.G[3],rt.H[3],me),me.h)break;W[Le]=(Dt<<24|mt<<16|ct<<8|ir)>>>0}if(mt=!1,++Le,++Ae>=te&&(Ae=0,++fe,ue!=null&&fe<=ce&&!(fe%16)&&ue($,fe),Re!=null))for(;ge<Le;)ct=W[ge++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct}else if(280>ct){if(ct=qt(ct-256,me),ir=_e(rt.G[4],rt.H[4],me),q(me),ir=Ce(te,ir=qt(ir,me)),me.h)break;if(Le-Z<ir||oe-Le<ct)break e;for(Dt=0;Dt<ct;++Dt)W[Le+Dt]=W[Le+Dt-ir];for(Le+=ct,Ae+=ct;Ae>=te;)Ae-=te,++fe,ue!=null&&fe<=ce&&!(fe%16)&&ue($,fe);if(e(Le<=oe),Ae&Ze&&(rt=dt(Ne,Ae,fe)),Re!=null)for(;ge<Le;)ct=W[ge++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct}else{if(!(ct<Me))break e;for(mt=ct-280,e(Re!=null);ge<Le;)ct=W[ge++],Re.X[(506832829*ct&4294967295)>>>Re.Mb]=ct;ct=Le,e(!(mt>>>(ir=Re).Xa)),W[ct]=ir.X[mt],mt=!0}mt||e(me.h==Y(me))}if($.Pb&&me.h&&Le<oe)e($.m.h),$.a=5,$.m=$.wd,$.$=$.xd,0<$.s.ua&&de($.s.vb,$.s.Wa);else{if(me.h)break e;ue?.($,fe>ce?ce:fe),$.a=0,$.$=Le-Z}return 1}return $.a=3,0}function Vt($){e($!=null),$.vc=null,$.yc=null,$.Ya=null;var W=$.Wa;W!=null&&(W.X=null),$.vb=null,e($!=null)}function ur(){var $=new gr;return $==null?null:($.a=0,$.xb=uI,Tt("Predictor","VP8LPredictors"),Tt("Predictor","VP8LPredictors_C"),Tt("PredictorAdd","VP8LPredictorsAdd"),Tt("PredictorAdd","VP8LPredictorsAdd_C"),pi=$e,m0=st,g0=pt,Ed=Je,_d=ze,Nd=qe,of=gt,k.VP8LMapColor32b=nc,k.VP8LMapColor8b=A0,$)}function Hr($,W,Z,te,oe){var ce=1,ue=[$],fe=[W],Ae=te.m,me=te.s,Ne=null,Le=0;e:for(;;){if(Z)for(;ce&&U(Ae,1);){var ge=ue,Te=fe,Me=te,Xe=1,Re=Me.m,Ze=Me.gc[Me.ab],rt=U(Re,2);if(Me.Oc&1<<rt)ce=0;else{switch(Me.Oc|=1<<rt,Ze.hc=rt,Ze.Ea=ge[0],Ze.nc=Te[0],Ze.K=[null],++Me.ab,e(4>=Me.ab),rt){case 0:case 1:Ze.b=U(Re,3)+2,Xe=Hr(le(Ze.Ea,Ze.b),le(Ze.nc,Ze.b),0,Me,Ze.K),Ze.K=Ze.K[0];break;case 3:var mt,ct=U(Re,8)+1,ir=16<ct?0:4<ct?1:2<ct?2:3;if(ge[0]=le(Ze.Ea,ir),Ze.b=ir,mt=Xe=Hr(ct,1,0,Me,Ze.K)){var Dt,jr=ct,Yt=Ze,$r=1<<(8>>Yt.b),zi=s($r);if(zi==null)mt=0;else{var Fr=Yt.K[0],Jt=Yt.w;for(zi[0]=Yt.K[0][0],Dt=1;Dt<1*jr;++Dt)zi[Dt]=be(Fr[Jt+Dt],zi[Dt-1]);for(;Dt<4*$r;++Dt)zi[Dt]=0;Yt.K[0]=null,Yt.K[0]=zi,mt=1}}Xe=mt;break;case 2:break;default:e(0)}ce=Xe}}if(ue=ue[0],fe=fe[0],ce&&U(Ae,1)&&!(ce=1<=(Le=U(Ae,4))&&11>=Le)){te.a=3;break e}var Nt;if(Nt=ce)t:{var gi,Cr,Gr,In=te,Ss=ue,ua=fe,ni=Le,Ks=Z,da=In.m,Vi=In.s,qr=[null],cn=1,ii=0,un=kne[ni];r:for(;;){if(Ks&&U(da,1)){var Es=U(da,3)+2,bl=le(Ss,Es),vi=le(ua,Es),Ma=bl*vi;if(!Hr(bl,vi,0,In,qr))break r;for(qr=qr[0],Vi.xc=Es,gi=0;gi<Ma;++gi){var gn=qr[gi]>>8&65535;qr[gi]=gn,gn>=cn&&(cn=gn+1)}}if(da.h)break r;for(Cr=0;5>Cr;++Cr){var Gi=lI[Cr];!Cr&&0<ni&&(Gi+=1<<ni),ii<Gi&&(ii=Gi)}var ro=a(cn*un,T),ha=cn,no=a(ha,N);if(no==null)var io=null;else e(65536>=ha),io=no;var Oa=s(ii);if(io==null||Oa==null||ro==null){In.a=1;break r}var so=ro;for(gi=Gr=0;gi<cn;++gi){var _n=io[gi],ao=_n.G,xl=_n.H,cf=0,uu=1,_s=0;for(Cr=0;5>Cr;++Cr){Gi=lI[Cr],ao[Cr]=so,xl[Cr]=Gr,!Cr&&0<ni&&(Gi+=1<<ni);i:{var k1,Z4=Gi,T1=In,w0=Oa,Xne=so,Yne=Gr,e3=0,jd=T1.m,Jne=U(jd,1);if(i(w0,0,0,Z4),Jne){var Zne=U(jd,1)+1,eie=U(jd,1),vI=U(jd,eie==0?1:8);w0[vI]=1,Zne==2&&(w0[vI=U(jd,8)]=1);var j1=1}else{var yI=s(19),bI=U(jd,4)+4;if(19<bI){T1.a=3;var F1=0;break i}for(k1=0;k1<bI;++k1)yI[Nne[k1]]=U(jd,3);var t3=void 0,C0=void 0,xI=T1,tie=yI,I1=Z4,wI=w0,r3=0,Fd=xI.m,CI=8,SI=a(128,T);n:for(;I(SI,0,7,tie,19);){if(U(Fd,1)){var rie=2+2*U(Fd,3);if((t3=2+U(Fd,rie))>I1)break n}else t3=I1;for(C0=0;C0<I1&&t3--;){q(Fd);var EI=SI[0+(127&G(Fd))];Q(Fd,Fd.u+EI.g);var RA=EI.value;if(16>RA)wI[C0++]=RA,RA!=0&&(CI=RA);else{var nie=RA==16,_I=RA-16,iie=Ene[_I],NI=U(Fd,Sne[_I])+iie;if(C0+NI>I1)break n;for(var sie=nie?CI:0;0<NI--;)wI[C0++]=sie}}r3=1;break n}r3||(xI.a=3),j1=r3}(j1=j1&&!jd.h)&&(e3=I(Xne,Yne,8,w0,Z4)),j1&&e3!=0?F1=e3:(T1.a=3,F1=0)}if(F1==0)break r;if(uu&&_ne[Cr]==1&&(uu=so[Gr].g==0),cf+=so[Gr].g,Gr+=F1,3>=Cr){var S0,n3=Oa[0];for(S0=1;S0<Gi;++S0)Oa[S0]>n3&&(n3=Oa[S0]);_s+=n3}}if(_n.nd=uu,_n.Qb=0,uu&&(_n.qb=(ao[3][xl[3]+0].value<<24|ao[1][xl[1]+0].value<<16|ao[2][xl[2]+0].value)>>>0,cf==0&&256>ao[0][xl[0]+0].value&&(_n.Qb=1,_n.qb+=ao[0][xl[0]+0].value<<8)),_n.jc=!_n.Qb&&6>_s,_n.jc){var M1,du=_n;for(M1=0;M1<af;++M1){var Id=M1,Md=du.pd[Id],O1=du.G[0][du.H[0]+Id];256<=O1.value?(Md.g=O1.g+256,Md.value=O1.value):(Md.g=0,Md.value=0,Id>>=De(O1,8,Md),Id>>=De(du.G[1][du.H[1]+Id],16,Md),Id>>=De(du.G[2][du.H[2]+Id],0,Md),De(du.G[3][du.H[3]+Id],24,Md))}}}Vi.vc=qr,Vi.Wb=cn,Vi.Ya=io,Vi.yc=ro,Nt=1;break t}Nt=0}if(!(ce=Nt)){te.a=3;break e}if(0<Le){if(me.ua=1<<Le,!ee(me.Wa,Le)){te.a=1,ce=0;break e}}else me.ua=0;var i3=te,BI=ue,aie=fe,s3=i3.s,a3=s3.xc;if(i3.c=BI,i3.i=aie,s3.md=le(BI,a3),s3.wc=a3==0?-1:(1<<a3)-1,Z){te.xb=Rne;break e}if((Ne=s(ue*fe))==null){te.a=1,ce=0;break e}ce=(ce=Xt(te,Ne,0,ue,fe,fe,null))&&!Ae.h;break e}return ce?(oe!=null?oe[0]=Ne:(e(Ne==null),e(Z)),te.$=0,Z||Vt(me)):Vt(me),ce}function wt($,W){var Z=$.c*$.i,te=Z+W+16*W;return e($.c<=W),$.V=s(te),$.V==null?($.Ta=null,$.Ua=0,$.a=1,0):($.Ta=$.V,$.Ua=$.Ba+Z+W,1)}function we($,W){var Z=$.C,te=W-Z,oe=$.V,ce=$.Ba+$.c*Z;for(e(W<=$.l.o);0<te;){var ue=16<te?16:te,fe=$.l.ma,Ae=$.l.width,me=Ae*ue,Ne=fe.ca,Le=fe.tb+Ae*Z,ge=$.Ta,Te=$.Ua;$t($,ue,oe,ce),eI(ge,Te,Ne,Le,me),Bt(fe,Z,Z+ue,Ne,Le,Ae),te-=ue,oe+=ue*$.c,Z+=ue}e(Z==W),$.C=$.Ma=W}function nt(){this.ub=this.yd=this.td=this.Rb=0}function _t(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pe(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Fe(){this.Yb=function(){var $=[];return function W(Z,te,oe){for(var ce=oe[te],ue=0;ue<ce&&(Z.push(oe.length>te+1?[]:0),!(oe.length<te+1));ue++)W(Z[ue],te+1,oe)}($,0,[3,11]),$}()}function Qe(){this.jb=s(3),this.Wc=o([4,8],Fe),this.Xc=o([4,17],Fe)}function tt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Et(){this.ld=this.La=this.dd=this.tc=0}function At(){this.Na=this.la=0}function xt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Et),this.Y=0,this.ya=Array(new Zt),this.aa=0,this.l=new Pr}function Ar(){this.y=s(16),this.f=s(8),this.ea=s(8)}function nr(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new nt,this.Kc=new _t,this.ed=new tt,this.Qa=new pe,this.Ic=this.$c=this.Aa=0,this.D=new dr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,M),this.ia=0,this.pb=a(4,xt),this.Pa=new Qe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ar),this.Hd=0,this.rb=Array(new At),this.sb=0,this.wa=Array(new Et),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zt),this.L=this.aa=0,this.gd=o([4,2],Et),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Tr($,W){return 0>$?0:$>W?W:$}function Pr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kr(){var $=new nr;return $!=null&&($.a=0,$.sc="OK",$.cb=0,$.Xb=0,b0||(b0=ns)),$}function vr($,W,Z){return $.a==0&&($.a=W,$.sc=Z,$.cb=0),0}function Kn($,W,Z){return 3<=Z&&$[W+0]==157&&$[W+1]==1&&$[W+2]==42}function Cn($,W){if($==null)return 0;if($.a=0,$.sc="OK",W==null)return vr($,2,"null VP8Io passed to VP8GetHeaders()");var Z=W.data,te=W.w,oe=W.ha;if(4>oe)return vr($,7,"Truncated header.");var ce=Z[te+0]|Z[te+1]<<8|Z[te+2]<<16,ue=$.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return vr($,3,"Incorrect keyframe parameters.");if(!ue.yd)return vr($,4,"Frame not displayable.");te+=3,oe-=3;var fe=$.Kc;if(ue.Rb){if(7>oe)return vr($,7,"cannot parse picture header");if(!Kn(Z,te,oe))return vr($,3,"Bad code word");fe.c=16383&(Z[te+4]<<8|Z[te+3]),fe.Td=Z[te+4]>>6,fe.i=16383&(Z[te+6]<<8|Z[te+5]),fe.Ud=Z[te+6]>>6,te+=7,oe-=7,$.za=fe.c+15>>4,$.Ub=fe.i+15>>4,W.width=fe.c,W.height=fe.i,W.Da=0,W.j=0,W.v=0,W.va=W.width,W.o=W.height,W.da=0,W.ib=W.width,W.hb=W.height,W.U=W.width,W.T=W.height,i((ce=$.Pa).jb,0,255,ce.jb.length),e((ce=$.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(ue.ub>oe)return vr($,7,"bad partition length");S(ce=$.m,Z,te,ue.ub),te+=ue.ub,oe-=ue.ub,ue.Rb&&(fe.Ld=O(ce),fe.Kd=O(ce)),fe=$.Qa;var Ae,me=$.Pa;if(e(ce!=null),e(fe!=null),fe.Cb=O(ce),fe.Cb){if(fe.Bb=O(ce),O(ce)){for(fe.Fb=O(ce),Ae=0;4>Ae;++Ae)fe.Zb[Ae]=O(ce)?E(ce,7):0;for(Ae=0;4>Ae;++Ae)fe.Lb[Ae]=O(ce)?E(ce,6):0}if(fe.Bb)for(Ae=0;3>Ae;++Ae)me.jb[Ae]=O(ce)?C(ce,8):255}else fe.Bb=0;if(ce.Ka)return vr($,3,"cannot parse segment header");if((fe=$.ed).zd=O(ce),fe.Tb=C(ce,6),fe.wb=C(ce,3),fe.Pc=O(ce),fe.Pc&&O(ce)){for(me=0;4>me;++me)O(ce)&&(fe.vd[me]=E(ce,6));for(me=0;4>me;++me)O(ce)&&(fe.od[me]=E(ce,6))}if($.L=fe.Tb==0?0:fe.zd?1:2,ce.Ka)return vr($,3,"cannot parse filter header");var Ne=oe;if(oe=Ae=te,te=Ae+Ne,fe=Ne,$.Xb=(1<<C($.m,2))-1,Ne<3*(me=$.Xb))Z=7;else{for(Ae+=3*me,fe-=3*me,Ne=0;Ne<me;++Ne){var Le=Z[oe+0]|Z[oe+1]<<8|Z[oe+2]<<16;Le>fe&&(Le=fe),S($.Jc[+Ne],Z,Ae,Le),Ae+=Le,fe-=Le,oe+=3}S($.Jc[+me],Z,Ae,fe),Z=Ae<te?0:5}if(Z!=0)return vr($,Z,"cannot parse partitions");for(Z=C(Ae=$.m,7),oe=O(Ae)?E(Ae,4):0,te=O(Ae)?E(Ae,4):0,fe=O(Ae)?E(Ae,4):0,me=O(Ae)?E(Ae,4):0,Ae=O(Ae)?E(Ae,4):0,Ne=$.Qa,Le=0;4>Le;++Le){if(Ne.Cb){var ge=Ne.Zb[Le];Ne.Fb||(ge+=Z)}else{if(0<Le){$.pb[Le]=$.pb[0];continue}ge=Z}var Te=$.pb[Le];Te.Sc[0]=X4[Tr(ge+oe,127)],Te.Sc[1]=Y4[Tr(ge+0,127)],Te.Eb[0]=2*X4[Tr(ge+te,127)],Te.Eb[1]=101581*Y4[Tr(ge+fe,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=X4[Tr(ge+me,117)],Te.Qc[1]=Y4[Tr(ge+Ae,127)],Te.lc=ge+Ae}if(!ue.Rb)return vr($,4,"Not a key frame.");for(O(ce),ue=$.Pa,Z=0;4>Z;++Z){for(oe=0;8>oe;++oe)for(te=0;3>te;++te)for(fe=0;11>fe;++fe)me=V(ce,One[Z][oe][te][fe])?C(ce,8):Ine[Z][oe][te][fe],ue.Wc[Z][oe].Yb[te][fe]=me;for(oe=0;17>oe;++oe)ue.Xc[Z][oe]=ue.Wc[Z][Pne[oe]]}return $.kc=O(ce),$.kc&&($.Bd=C(ce,8)),$.cb=1}function ns($,W,Z,te,oe,ce,ue){var fe=W[oe].Yb[Z];for(Z=0;16>oe;++oe){if(!V($,fe[Z+0]))return oe;for(;!V($,fe[Z+1]);)if(fe=W[++oe].Yb[0],Z=0,oe==16)return 16;var Ae=W[oe+1].Yb;if(V($,fe[Z+2])){var me=$,Ne=0;if(V(me,(ge=fe)[(Le=Z)+3]))if(V(me,ge[Le+6])){for(fe=0,Le=2*(Ne=V(me,ge[Le+8]))+(ge=V(me,ge[Le+9+Ne])),Ne=0,ge=jne[Le];ge[fe];++fe)Ne+=Ne+V(me,ge[fe]);Ne+=3+(8<<Le)}else V(me,ge[Le+7])?(Ne=7+2*V(me,165),Ne+=V(me,145)):Ne=5+V(me,159);else Ne=V(me,ge[Le+4])?3+V(me,ge[Le+5]):2;fe=Ae[2]}else Ne=1,fe=Ae[1];Ae=ue+Fne[oe],0>(me=$).b&&D(me);var Le,ge=me.b,Te=(Le=me.Ca>>1)-(me.I>>ge)>>31;--me.b,me.Ca+=Te,me.Ca|=1,me.I-=(Le+1&Te)<<ge,ce[Ae]=((Ne^Te)-Te)*te[(0<oe)+0]}return 16}function To($){var W=$.rb[$.sb-1];W.la=0,W.Na=0,i($.zc,0,0,$.zc.length),$.ja=0}function Hi($,W,Z,te,oe){oe=$[W+Z+32*te]+(oe>>3),$[W+Z+32*te]=-256&oe?0>oe?0:255:oe}function Sn($,W,Z,te,oe,ce){Hi($,W,0,Z,te+oe),Hi($,W,1,Z,te+ce),Hi($,W,2,Z,te-ce),Hi($,W,3,Z,te-oe)}function $s($){return(20091*$>>16)+$}function Qr($,W,Z,te){var oe,ce=0,ue=s(16);for(oe=0;4>oe;++oe){var fe=$[W+0]+$[W+8],Ae=$[W+0]-$[W+8],me=(35468*$[W+4]>>16)-$s($[W+12]),Ne=$s($[W+4])+(35468*$[W+12]>>16);ue[ce+0]=fe+Ne,ue[ce+1]=Ae+me,ue[ce+2]=Ae-me,ue[ce+3]=fe-Ne,ce+=4,W++}for(oe=ce=0;4>oe;++oe)fe=($=ue[ce+0]+4)+ue[ce+8],Ae=$-ue[ce+8],me=(35468*ue[ce+4]>>16)-$s(ue[ce+12]),Hi(Z,te,0,0,fe+(Ne=$s(ue[ce+4])+(35468*ue[ce+12]>>16))),Hi(Z,te,1,0,Ae+me),Hi(Z,te,2,0,Ae-me),Hi(Z,te,3,0,fe-Ne),ce++,te+=32}function Mr($,W,Z,te){var oe=$[W+0]+4,ce=35468*$[W+4]>>16,ue=$s($[W+4]),fe=35468*$[W+1]>>16;Sn(Z,te,0,oe+ue,$=$s($[W+1]),fe),Sn(Z,te,1,oe+ce,$,fe),Sn(Z,te,2,oe-ce,$,fe),Sn(Z,te,3,oe-ue,$,fe)}function jo($,W,Z,te,oe){Qr($,W,Z,te),oe&&Qr($,W+16,Z,te+4)}function is($,W,Z,te){lf($,W+0,Z,te,1),lf($,W+32,Z,te+128,1)}function Xc($,W,Z,te){var oe;for($=$[W+0]+4,oe=0;4>oe;++oe)for(W=0;4>W;++W)Hi(Z,te,W,oe,$)}function ss($,W,Z,te){$[W+0]&&nn($,W+0,Z,te),$[W+16]&&nn($,W+16,Z,te+4),$[W+32]&&nn($,W+32,Z,te+128),$[W+48]&&nn($,W+48,Z,te+128+4)}function zs($,W,Z,te){var oe,ce=s(16);for(oe=0;4>oe;++oe){var ue=$[W+0+oe]+$[W+12+oe],fe=$[W+4+oe]+$[W+8+oe],Ae=$[W+4+oe]-$[W+8+oe],me=$[W+0+oe]-$[W+12+oe];ce[0+oe]=ue+fe,ce[8+oe]=ue-fe,ce[4+oe]=me+Ae,ce[12+oe]=me-Ae}for(oe=0;4>oe;++oe)ue=($=ce[0+4*oe]+3)+ce[3+4*oe],fe=ce[1+4*oe]+ce[2+4*oe],Ae=ce[1+4*oe]-ce[2+4*oe],me=$-ce[3+4*oe],Z[te+0]=ue+fe>>3,Z[te+16]=me+Ae>>3,Z[te+32]=ue-fe>>3,Z[te+48]=me-Ae>>3,te+=64}function Vs($,W,Z){var te,oe=W-32,ce=to,ue=255-$[oe-1];for(te=0;te<Z;++te){var fe,Ae=ce,me=ue+$[W-1];for(fe=0;fe<Z;++fe)$[W+fe]=Ae[me+$[oe+fe]];W+=32}}function Yc($,W){Vs($,W,4)}function vd($,W){Vs($,W,8)}function tc($,W){Vs($,W,16)}function Ia($,W){var Z;for(Z=0;16>Z;++Z)n($,W+32*Z,$,W-32,16)}function qh($,W){var Z;for(Z=16;0<Z;--Z)i($,W,$[W-1],16),W+=32}function Gs($,W,Z){var te;for(te=0;16>te;++te)i(W,Z+32*te,$,16)}function Xh($,W){var Z,te=16;for(Z=0;16>Z;++Z)te+=$[W-1+32*Z]+$[W+Z-32];Gs(te>>5,$,W)}function Fo($,W){var Z,te=8;for(Z=0;16>Z;++Z)te+=$[W-1+32*Z];Gs(te>>4,$,W)}function rc($,W){var Z,te=8;for(Z=0;16>Z;++Z)te+=$[W+Z-32];Gs(te>>4,$,W)}function TA($,W){Gs(128,$,W)}function hr($,W,Z){return $+2*W+Z+2>>2}function yd($,W){var Z,te=W-32;for(te=new Uint8Array([hr($[te-1],$[te+0],$[te+1]),hr($[te+0],$[te+1],$[te+2]),hr($[te+1],$[te+2],$[te+3]),hr($[te+2],$[te+3],$[te+4])]),Z=0;4>Z;++Z)n($,W+32*Z,te,0,te.length)}function D4($,W){var Z=$[W-1],te=$[W-1+32],oe=$[W-1+64],ce=$[W-1+96];J($,W+0,16843009*hr($[W-1-32],Z,te)),J($,W+32,16843009*hr(Z,te,oe)),J($,W+64,16843009*hr(te,oe,ce)),J($,W+96,16843009*hr(oe,ce,ce))}function U4($,W){var Z,te=4;for(Z=0;4>Z;++Z)te+=$[W+Z-32]+$[W-1+32*Z];for(te>>=3,Z=0;4>Z;++Z)i($,W+32*Z,te,4)}function Jc($,W){var Z=$[W-1+0],te=$[W-1+32],oe=$[W-1+64],ce=$[W-1-32],ue=$[W+0-32],fe=$[W+1-32],Ae=$[W+2-32],me=$[W+3-32];$[W+0+96]=hr(te,oe,$[W-1+96]),$[W+1+96]=$[W+0+64]=hr(Z,te,oe),$[W+2+96]=$[W+1+64]=$[W+0+32]=hr(ce,Z,te),$[W+3+96]=$[W+2+64]=$[W+1+32]=$[W+0+0]=hr(ue,ce,Z),$[W+3+64]=$[W+2+32]=$[W+1+0]=hr(fe,ue,ce),$[W+3+32]=$[W+2+0]=hr(Ae,fe,ue),$[W+3+0]=hr(me,Ae,fe)}function Zc($,W){var Z=$[W+1-32],te=$[W+2-32],oe=$[W+3-32],ce=$[W+4-32],ue=$[W+5-32],fe=$[W+6-32],Ae=$[W+7-32];$[W+0+0]=hr($[W+0-32],Z,te),$[W+1+0]=$[W+0+32]=hr(Z,te,oe),$[W+2+0]=$[W+1+32]=$[W+0+64]=hr(te,oe,ce),$[W+3+0]=$[W+2+32]=$[W+1+64]=$[W+0+96]=hr(oe,ce,ue),$[W+3+32]=$[W+2+64]=$[W+1+96]=hr(ce,ue,fe),$[W+3+64]=$[W+2+96]=hr(ue,fe,Ae),$[W+3+96]=hr(fe,Ae,Ae)}function H4($,W){var Z=$[W-1+0],te=$[W-1+32],oe=$[W-1+64],ce=$[W-1-32],ue=$[W+0-32],fe=$[W+1-32],Ae=$[W+2-32],me=$[W+3-32];$[W+0+0]=$[W+1+64]=ce+ue+1>>1,$[W+1+0]=$[W+2+64]=ue+fe+1>>1,$[W+2+0]=$[W+3+64]=fe+Ae+1>>1,$[W+3+0]=Ae+me+1>>1,$[W+0+96]=hr(oe,te,Z),$[W+0+64]=hr(te,Z,ce),$[W+0+32]=$[W+1+96]=hr(Z,ce,ue),$[W+1+32]=$[W+2+96]=hr(ce,ue,fe),$[W+2+32]=$[W+3+96]=hr(ue,fe,Ae),$[W+3+32]=hr(fe,Ae,me)}function Q4($,W){var Z=$[W+0-32],te=$[W+1-32],oe=$[W+2-32],ce=$[W+3-32],ue=$[W+4-32],fe=$[W+5-32],Ae=$[W+6-32],me=$[W+7-32];$[W+0+0]=Z+te+1>>1,$[W+1+0]=$[W+0+64]=te+oe+1>>1,$[W+2+0]=$[W+1+64]=oe+ce+1>>1,$[W+3+0]=$[W+2+64]=ce+ue+1>>1,$[W+0+32]=hr(Z,te,oe),$[W+1+32]=$[W+0+96]=hr(te,oe,ce),$[W+2+32]=$[W+1+96]=hr(oe,ce,ue),$[W+3+32]=$[W+2+96]=hr(ce,ue,fe),$[W+3+64]=hr(ue,fe,Ae),$[W+3+96]=hr(fe,Ae,me)}function jA($,W){var Z=$[W-1+0],te=$[W-1+32],oe=$[W-1+64],ce=$[W-1+96];$[W+0+0]=Z+te+1>>1,$[W+2+0]=$[W+0+32]=te+oe+1>>1,$[W+2+32]=$[W+0+64]=oe+ce+1>>1,$[W+1+0]=hr(Z,te,oe),$[W+3+0]=$[W+1+32]=hr(te,oe,ce),$[W+3+32]=$[W+1+64]=hr(oe,ce,ce),$[W+3+64]=$[W+2+64]=$[W+0+96]=$[W+1+96]=$[W+2+96]=$[W+3+96]=ce}function r0($,W){var Z=$[W-1+0],te=$[W-1+32],oe=$[W-1+64],ce=$[W-1+96],ue=$[W-1-32],fe=$[W+0-32],Ae=$[W+1-32],me=$[W+2-32];$[W+0+0]=$[W+2+32]=Z+ue+1>>1,$[W+0+32]=$[W+2+64]=te+Z+1>>1,$[W+0+64]=$[W+2+96]=oe+te+1>>1,$[W+0+96]=ce+oe+1>>1,$[W+3+0]=hr(fe,Ae,me),$[W+2+0]=hr(ue,fe,Ae),$[W+1+0]=$[W+3+32]=hr(Z,ue,fe),$[W+1+32]=$[W+3+64]=hr(te,Z,ue),$[W+1+64]=$[W+3+96]=hr(oe,te,Z),$[W+1+96]=hr(ce,oe,te)}function Yh($,W){var Z;for(Z=0;8>Z;++Z)n($,W+32*Z,$,W-32,8)}function $4($,W){var Z;for(Z=0;8>Z;++Z)i($,W,$[W-1],8),W+=32}function eu($,W,Z){var te;for(te=0;8>te;++te)i(W,Z+32*te,$,8)}function z4($,W){var Z,te=8;for(Z=0;8>Z;++Z)te+=$[W+Z-32]+$[W-1+32*Z];eu(te>>4,$,W)}function n0($,W){var Z,te=4;for(Z=0;8>Z;++Z)te+=$[W+Z-32];eu(te>>3,$,W)}function i0($,W){var Z,te=4;for(Z=0;8>Z;++Z)te+=$[W-1+32*Z];eu(te>>3,$,W)}function h1($,W){eu(128,$,W)}function tu($,W,Z){var te=$[W-Z],oe=$[W+0],ce=3*(oe-te)+V4[1020+$[W-2*Z]-$[W+Z]],ue=b1[112+(ce+4>>3)];$[W-Z]=to[255+te+b1[112+(ce+3>>3)]],$[W+0]=to[255+oe-ue]}function s0($,W,Z,te){var oe=$[W+0],ce=$[W+Z];return Oo[255+$[W-2*Z]-$[W-Z]]>te||Oo[255+ce-oe]>te}function FA($,W,Z,te){return 4*Oo[255+$[W-Z]-$[W+0]]+Oo[255+$[W-2*Z]-$[W+Z]]<=te}function a0($,W,Z,te,oe){var ce=$[W-3*Z],ue=$[W-2*Z],fe=$[W-Z],Ae=$[W+0],me=$[W+Z],Ne=$[W+2*Z],Le=$[W+3*Z];return 4*Oo[255+fe-Ae]+Oo[255+ue-me]>te?0:Oo[255+$[W-4*Z]-ce]<=oe&&Oo[255+ce-ue]<=oe&&Oo[255+ue-fe]<=oe&&Oo[255+Le-Ne]<=oe&&Oo[255+Ne-me]<=oe&&Oo[255+me-Ae]<=oe}function Jh($,W,Z,te){var oe=2*te+1;for(te=0;16>te;++te)FA($,W+te,Z,oe)&&tu($,W+te,Z)}function o0($,W,Z,te){var oe=2*te+1;for(te=0;16>te;++te)FA($,W+te*Z,1,oe)&&tu($,W+te*Z,1)}function f1($,W,Z,te){var oe;for(oe=3;0<oe;--oe)Jh($,W+=4*Z,Z,te)}function A1($,W,Z,te){var oe;for(oe=3;0<oe;--oe)o0($,W+=4,Z,te)}function ru($,W,Z,te,oe,ce,ue,fe){for(ce=2*ce+1;0<oe--;){if(a0($,W,Z,ce,ue))if(s0($,W,Z,fe))tu($,W,Z);else{var Ae=$,me=W,Ne=Z,Le=Ae[me-2*Ne],ge=Ae[me-Ne],Te=Ae[me+0],Me=Ae[me+Ne],Xe=Ae[me+2*Ne],Re=27*(rt=V4[1020+3*(Te-ge)+V4[1020+Le-Me]])+63>>7,Ze=18*rt+63>>7,rt=9*rt+63>>7;Ae[me-3*Ne]=to[255+Ae[me-3*Ne]+rt],Ae[me-2*Ne]=to[255+Le+Ze],Ae[me-Ne]=to[255+ge+Re],Ae[me+0]=to[255+Te-Re],Ae[me+Ne]=to[255+Me-Ze],Ae[me+2*Ne]=to[255+Xe-rt]}W+=te}}function nu($,W,Z,te,oe,ce,ue,fe){for(ce=2*ce+1;0<oe--;){if(a0($,W,Z,ce,ue))if(s0($,W,Z,fe))tu($,W,Z);else{var Ae=$,me=W,Ne=Z,Le=Ae[me-Ne],ge=Ae[me+0],Te=Ae[me+Ne],Me=b1[112+(4+(Xe=3*(ge-Le))>>3)],Xe=b1[112+(Xe+3>>3)],Re=Me+1>>1;Ae[me-2*Ne]=to[255+Ae[me-2*Ne]+Re],Ae[me-Ne]=to[255+Le+Xe],Ae[me+0]=to[255+ge-Me],Ae[me+Ne]=to[255+Te-Re]}W+=te}}function p1($,W,Z,te,oe,ce){ru($,W,Z,1,16,te,oe,ce)}function Zh($,W,Z,te,oe,ce){ru($,W,1,Z,16,te,oe,ce)}function m1($,W,Z,te,oe,ce){var ue;for(ue=3;0<ue;--ue)nu($,W+=4*Z,Z,1,16,te,oe,ce)}function X($,W,Z,te,oe,ce){var ue;for(ue=3;0<ue;--ue)nu($,W+=4,1,Z,16,te,oe,ce)}function ae($,W,Z,te,oe,ce,ue,fe){ru($,W,oe,1,8,ce,ue,fe),ru(Z,te,oe,1,8,ce,ue,fe)}function ve($,W,Z,te,oe,ce,ue,fe){ru($,W,1,oe,8,ce,ue,fe),ru(Z,te,1,oe,8,ce,ue,fe)}function Se($,W,Z,te,oe,ce,ue,fe){nu($,W+4*oe,oe,1,8,ce,ue,fe),nu(Z,te+4*oe,oe,1,8,ce,ue,fe)}function Ie($,W,Z,te,oe,ce,ue,fe){nu($,W+4,1,oe,8,ce,ue,fe),nu(Z,te+4,1,oe,8,ce,ue,fe)}function et(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tr(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new T}function gr(){this.xb=this.a=0,this.l=new Pr,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tr,this.ab=0,this.gc=a(4,Kt),this.Oc=0}function kr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wr($,W,Z,te,oe,ce,ue){for($=$==null?0:$[W+0],W=0;W<ue;++W)oe[ce+W]=$+Z[te+W]&255,$=oe[ce+W]}function Wn($,W,Z,te,oe,ce,ue){var fe;if($==null)Wr(null,null,Z,te,oe,ce,ue);else for(fe=0;fe<ue;++fe)oe[ce+fe]=$[W+fe]+Z[te+fe]&255}function ki($,W,Z,te,oe,ce,ue){if($==null)Wr(null,null,Z,te,oe,ce,ue);else{var fe,Ae=$[W+0],me=Ae,Ne=Ae;for(fe=0;fe<ue;++fe)me=Ne+(Ae=$[W+fe])-me,Ne=Z[te+fe]+(-256&me?0>me?0:255:me)&255,me=Ae,oe[ce+fe]=Ne}}function En($,W,Z,te){var oe=W.width,ce=W.o;if(e($!=null&&W!=null),0>Z||0>=te||Z+te>ce)return null;if(!$.Cc){if($.ga==null){var ue;if($.ga=new kr,(ue=$.ga==null)||(ue=W.width*W.o,e($.Gb.length==0),$.Gb=s(ue),$.Uc=0,$.Gb==null?ue=0:($.mb=$.Gb,$.nb=$.Uc,$.rc=null,ue=1),ue=!ue),!ue){ue=$.ga;var fe=$.Fa,Ae=$.P,me=$.qc,Ne=$.mb,Le=$.nb,ge=Ae+1,Te=me-1,Me=ue.l;if(e(fe!=null&&Ne!=null&&W!=null),Td[0]=null,Td[1]=Wr,Td[2]=Wn,Td[3]=ki,ue.ca=Ne,ue.tb=Le,ue.c=W.width,ue.i=W.height,e(0<ue.c&&0<ue.i),1>=me)W=0;else if(ue.$a=3&fe[Ae+0],ue.Z=fe[Ae+0]>>2&3,ue.Lc=fe[Ae+0]>>4&3,Ae=fe[Ae+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||Ae)W=0;else if(Me.put=ht,Me.ac=Nr,Me.bc=mr,Me.ma=ue,Me.width=W.width,Me.height=W.height,Me.Da=W.Da,Me.v=W.v,Me.va=W.va,Me.j=W.j,Me.o=W.o,ue.$a)e:{e(ue.$a==1),W=ur();t:for(;;){if(W==null){W=0;break e}if(e(ue!=null),ue.mc=W,W.c=ue.c,W.i=ue.i,W.l=ue.l,W.l.ma=ue,W.l.width=ue.c,W.l.height=ue.i,W.a=0,x(W.m,fe,ge,Te),!Hr(ue.c,ue.i,1,W,null)||(W.ab==1&&W.gc[0].hc==3&&zt(W.s)?(ue.ic=1,fe=W.c*W.i,W.Ta=null,W.Ua=0,W.V=s(fe),W.Ba=0,W.V==null?(W.a=1,W=0):W=1):(ue.ic=0,W=wt(W,ue.c)),!W))break t;W=1;break e}ue.mc=null,W=0}else W=Te>=ue.c*ue.i;ue=!W}if(ue)return null;$.ga.Lc!=1?$.Ga=0:te=ce-Z}e($.ga!=null),e(Z+te<=ce);e:{if(W=(fe=$.ga).c,ce=fe.l.o,fe.$a==0){if(ge=$.rc,Te=$.Vc,Me=$.Fa,Ae=$.P+1+Z*W,me=$.mb,Ne=$.nb+Z*W,e(Ae<=$.P+$.qc),fe.Z!=0)for(e(Td[fe.Z]!=null),ue=0;ue<te;++ue)Td[fe.Z](ge,Te,Me,Ae,me,Ne,W),ge=me,Te=Ne,Ne+=W,Ae+=W;else for(ue=0;ue<te;++ue)n(me,Ne,Me,Ae,W),ge=me,Te=Ne,Ne+=W,Ae+=W;$.rc=ge,$.Vc=Te}else{if(e(fe.mc!=null),W=Z+te,e((ue=fe.mc)!=null),e(W<=ue.i),ue.C>=W)W=1;else if(fe.ic||vl(),fe.ic){fe=ue.V,ge=ue.Ba,Te=ue.c;var Xe=ue.i,Re=(Me=1,Ae=ue.$/Te,me=ue.$%Te,Ne=ue.m,Le=ue.s,ue.$),Ze=Te*Xe,rt=Te*W,mt=Le.wc,ct=Re<rt?dt(Le,me,Ae):null;e(Re<=Ze),e(W<=Xe),e(zt(Le));t:for(;;){for(;!Ne.h&&Re<rt;){if(me&mt||(ct=dt(Le,me,Ae)),e(ct!=null),q(Ne),256>(Xe=_e(ct.G[0],ct.H[0],Ne)))fe[ge+Re]=Xe,++Re,++me>=Te&&(me=0,++Ae<=W&&!(Ae%16)&&jt(ue,Ae));else{if(!(280>Xe)){Me=0;break t}Xe=qt(Xe-256,Ne);var ir,Dt=_e(ct.G[4],ct.H[4],Ne);if(q(Ne),!(Re>=(Dt=Ce(Te,Dt=qt(Dt,Ne)))&&Ze-Re>=Xe)){Me=0;break t}for(ir=0;ir<Xe;++ir)fe[ge+Re+ir]=fe[ge+Re+ir-Dt];for(Re+=Xe,me+=Xe;me>=Te;)me-=Te,++Ae<=W&&!(Ae%16)&&jt(ue,Ae);Re<rt&&me&mt&&(ct=dt(Le,me,Ae))}e(Ne.h==Y(Ne))}jt(ue,Ae>W?W:Ae);break t}!Me||Ne.h&&Re<Ze?(Me=0,ue.a=Ne.h?5:3):ue.$=Re,W=Me}else W=Xt(ue,ue.V,ue.Ba,ue.c,ue.i,W,we);if(!W){te=0;break e}}Z+te>=ce&&($.Cc=1),te=1}if(!te)return null;if($.Cc&&((te=$.ga)!=null&&(te.mc=null),$.ga=null,0<$.Ga))return alert("todo:WebPDequantizeLevels"),null}return $.nb+Z*oe}function Qi($,W,Z,te,oe,ce){for(;0<oe--;){var ue,fe=$,Ae=W+(Z?1:0),me=$,Ne=W+(Z?0:3);for(ue=0;ue<te;++ue){var Le=me[Ne+4*ue];Le!=255&&(Le*=32897,fe[Ae+4*ue+0]=fe[Ae+4*ue+0]*Le>>23,fe[Ae+4*ue+1]=fe[Ae+4*ue+1]*Le>>23,fe[Ae+4*ue+2]=fe[Ae+4*ue+2]*Le>>23)}W+=ce}}function Ti($,W,Z,te,oe){for(;0<te--;){var ce;for(ce=0;ce<Z;++ce){var ue=$[W+2*ce+0],fe=15&(me=$[W+2*ce+1]),Ae=4369*fe,me=(240&me|me>>4)*Ae>>16;$[W+2*ce+0]=(240&ue|ue>>4)*Ae>>16&240|(15&ue|ue<<4)*Ae>>16>>4&15,$[W+2*ce+1]=240&me|fe}W+=oe}}function ws($,W,Z,te,oe,ce,ue,fe){var Ae,me,Ne=255;for(me=0;me<oe;++me){for(Ae=0;Ae<te;++Ae){var Le=$[W+Ae];ce[ue+4*Ae]=Le,Ne&=Le}W+=Z,ue+=fe}return Ne!=255}function iu($,W,Z,te,oe){var ce;for(ce=0;ce<oe;++ce)Z[te+ce]=$[W+ce]>>8}function vl(){y0=Qi,JF=Ti,ZF=ws,eI=iu}function su($,W,Z){k[$]=function(te,oe,ce,ue,fe,Ae,me,Ne,Le,ge,Te,Me,Xe,Re,Ze,rt,mt){var ct,ir=mt-1>>1,Dt=fe[Ae+0]|me[Ne+0]<<16,jr=Le[ge+0]|Te[Me+0]<<16;e(te!=null);var Yt=3*Dt+jr+131074>>2;for(W(te[oe+0],255&Yt,Yt>>16,Xe,Re),ce!=null&&(Yt=3*jr+Dt+131074>>2,W(ce[ue+0],255&Yt,Yt>>16,Ze,rt)),ct=1;ct<=ir;++ct){var $r=fe[Ae+ct]|me[Ne+ct]<<16,zi=Le[ge+ct]|Te[Me+ct]<<16,Fr=Dt+$r+jr+zi+524296,Jt=Fr+2*($r+jr)>>3;Yt=Jt+Dt>>1,Dt=(Fr=Fr+2*(Dt+zi)>>3)+$r>>1,W(te[oe+2*ct-1],255&Yt,Yt>>16,Xe,Re+(2*ct-1)*Z),W(te[oe+2*ct-0],255&Dt,Dt>>16,Xe,Re+(2*ct-0)*Z),ce!=null&&(Yt=Fr+jr>>1,Dt=Jt+zi>>1,W(ce[ue+2*ct-1],255&Yt,Yt>>16,Ze,rt+(2*ct-1)*Z),W(ce[ue+2*ct+0],255&Dt,Dt>>16,Ze,rt+(2*ct+0)*Z)),Dt=$r,jr=zi}1&mt||(Yt=3*Dt+jr+131074>>2,W(te[oe+mt-1],255&Yt,Yt>>16,Xe,Re+(mt-1)*Z),ce!=null&&(Yt=3*jr+Dt+131074>>2,W(ce[ue+mt-1],255&Yt,Yt>>16,Ze,rt+(mt-1)*Z)))}}function l0(){Po[x1]=Lne,Po[w1]=dI,Po[aI]=Dne,Po[C1]=hI,Po[S1]=fI,Po[G4]=AI,Po[oI]=Une,Po[K4]=dI,Po[W4]=hI,Po[E1]=fI,Po[q4]=AI}function IA($){return $&-16384?0>$?0:255:$>>Hne}function bd($,W){return IA((19077*$>>8)+(26149*W>>8)-14234)}function ef($,W,Z){return IA((19077*$>>8)-(6419*W>>8)-(13320*Z>>8)+8708)}function tf($,W){return IA((19077*$>>8)+(33050*W>>8)-17685)}function xd($,W,Z,te,oe){te[oe+0]=bd($,Z),te[oe+1]=ef($,W,Z),te[oe+2]=tf($,W)}function Cs($,W,Z,te,oe){te[oe+0]=tf($,W),te[oe+1]=ef($,W,Z),te[oe+2]=bd($,Z)}function rf($,W,Z,te,oe){var ce=ef($,W,Z);W=ce<<3&224|tf($,W)>>3,te[oe+0]=248&bd($,Z)|ce>>5,te[oe+1]=W}function nf($,W,Z,te,oe){var ce=240&tf($,W)|15;te[oe+0]=240&bd($,Z)|ef($,W,Z)>>4,te[oe+1]=ce}function c0($,W,Z,te,oe){te[oe+0]=255,xd($,W,Z,te,oe+1)}function u0($,W,Z,te,oe){Cs($,W,Z,te,oe),te[oe+3]=255}function ca($,W,Z,te,oe){xd($,W,Z,te,oe),te[oe+3]=255}function au($,W,Z){k[$]=function(te,oe,ce,ue,fe,Ae,me,Ne,Le){for(var ge=Ne+(-2&Le)*Z;Ne!=ge;)W(te[oe+0],ce[ue+0],fe[Ae+0],me,Ne),W(te[oe+1],ce[ue+0],fe[Ae+0],me,Ne+Z),oe+=2,++ue,++Ae,Ne+=2*Z;1&Le&&W(te[oe+0],ce[ue+0],fe[Ae+0],me,Ne)}}function MA($,W,Z){return Z==0?$==0?W==0?6:5:W==0?4:0:Z}function g1($,W,Z,te,oe){switch($>>>30){case 3:lf(W,Z,te,oe,0);break;case 2:Mo(W,Z,te,oe);break;case 1:nn(W,Z,te,oe)}}function Io($,W){var Z,te,oe=W.M,ce=W.Nb,ue=$.oc,fe=$.pc+40,Ae=$.oc,me=$.pc+584,Ne=$.oc,Le=$.pc+600;for(Z=0;16>Z;++Z)ue[fe+32*Z-1]=129;for(Z=0;8>Z;++Z)Ae[me+32*Z-1]=129,Ne[Le+32*Z-1]=129;for(0<oe?ue[fe-1-32]=Ae[me-1-32]=Ne[Le-1-32]=129:(i(ue,fe-32-1,127,21),i(Ae,me-32-1,127,9),i(Ne,Le-32-1,127,9)),te=0;te<$.za;++te){var ge=W.ya[W.aa+te];if(0<te){for(Z=-1;16>Z;++Z)n(ue,fe+32*Z-4,ue,fe+32*Z+12,4);for(Z=-1;8>Z;++Z)n(Ae,me+32*Z-4,Ae,me+32*Z+4,4),n(Ne,Le+32*Z-4,Ne,Le+32*Z+4,4)}var Te=$.Gd,Me=$.Hd+te,Xe=ge.ad,Re=ge.Hc;if(0<oe&&(n(ue,fe-32,Te[Me].y,0,16),n(Ae,me-32,Te[Me].f,0,8),n(Ne,Le-32,Te[Me].ea,0,8)),ge.Za){var Ze=ue,rt=fe-32+16;for(0<oe&&(te>=$.za-1?i(Ze,rt,Te[Me].y[15],4):n(Ze,rt,Te[Me+1].y,0,4)),Z=0;4>Z;Z++)Ze[rt+128+Z]=Ze[rt+256+Z]=Ze[rt+384+Z]=Ze[rt+0+Z];for(Z=0;16>Z;++Z,Re<<=2)Ze=ue,rt=fe+mI[Z],yl[ge.Ob[Z]](Ze,rt),g1(Re,Xe,16*+Z,Ze,rt)}else if(Ze=MA(te,oe,ge.Ob[0]),kd[Ze](ue,fe),Re!=0)for(Z=0;16>Z;++Z,Re<<=2)g1(Re,Xe,16*+Z,ue,fe+mI[Z]);for(Z=ge.Gc,Ze=MA(te,oe,ge.Dd),cu[Ze](Ae,me),cu[Ze](Ne,Le),Re=Xe,Ze=Ae,rt=me,255&(ge=0|Z)&&(170&ge?sc(Re,256,Ze,rt):mn(Re,256,Ze,rt)),ge=Ne,Re=Le,255&(Z>>=8)&&(170&Z?sc(Xe,320,ge,Re):mn(Xe,320,ge,Re)),oe<$.Ub-1&&(n(Te[Me].y,0,ue,fe+480,16),n(Te[Me].f,0,Ae,me+224,8),n(Te[Me].ea,0,Ne,Le+224,8)),Z=8*ce*$.B,Te=$.sa,Me=$.ta+16*te+16*ce*$.R,Xe=$.qa,ge=$.ra+8*te+Z,Re=$.Ha,Ze=$.Ia+8*te+Z,Z=0;16>Z;++Z)n(Te,Me+Z*$.R,ue,fe+32*Z,16);for(Z=0;8>Z;++Z)n(Xe,ge+Z*$.B,Ae,me+32*Z,8),n(Re,Ze+Z*$.B,Ne,Le+32*Z,8)}}function sf($,W,Z,te,oe,ce,ue,fe,Ae){var me=[0],Ne=[0],Le=0,ge=Ae!=null?Ae.kd:0,Te=Ae??new lt;if($==null||12>Z)return 7;Te.data=$,Te.w=W,Te.ha=Z,W=[W],Z=[Z],Te.gb=[Te.gb];e:{var Me=W,Xe=Z,Re=Te.gb;if(e($!=null),e(Xe!=null),e(Re!=null),Re[0]=0,12<=Xe[0]&&!t($,Me[0],"RIFF")){if(t($,Me[0]+8,"WEBP")){Re=3;break e}var Ze=se($,Me[0]+4);if(12>Ze||4294967286<Ze){Re=3;break e}if(ge&&Ze>Xe[0]-8){Re=7;break e}Re[0]=Ze,Me[0]+=12,Xe[0]-=12}Re=0}if(Re!=0)return Re;for(Ze=0<Te.gb[0],Z=Z[0];;){e:{var rt=$;Xe=W,Re=Z;var mt=me,ct=Ne,ir=Me=[0];if((Yt=Le=[Le])[0]=0,8>Re[0])Re=7;else{if(!t(rt,Xe[0],"VP8X")){if(se(rt,Xe[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Dt=se(rt,Xe[0]+8),jr=1+ne(rt,Xe[0]+12);if(2147483648<=jr*(rt=1+ne(rt,Xe[0]+15))){Re=3;break e}ir!=null&&(ir[0]=Dt),mt!=null&&(mt[0]=jr),ct!=null&&(ct[0]=rt),Xe[0]+=18,Re[0]-=18,Yt[0]=1}Re=0}}if(Le=Le[0],Me=Me[0],Re!=0)return Re;if(Xe=!!(2&Me),!Ze&&Le)return 3;if(ce!=null&&(ce[0]=!!(16&Me)),ue!=null&&(ue[0]=Xe),fe!=null&&(fe[0]=0),ue=me[0],Me=Ne[0],Le&&Xe&&Ae==null){Re=0;break}if(4>Z){Re=7;break}if(Ze&&Le||!Ze&&!Le&&!t($,W[0],"ALPH")){Z=[Z],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{Dt=$,Re=W,Ze=Z;var Yt=Te.gb;mt=Te.na,ct=Te.P,ir=Te.Sa,jr=22,e(Dt!=null),e(Ze!=null),rt=Re[0];var $r=Ze[0];for(e(mt!=null),e(ir!=null),mt[0]=null,ct[0]=null,ir[0]=0;;){if(Re[0]=rt,Ze[0]=$r,8>$r){Re=7;break e}var zi=se(Dt,rt+4);if(4294967286<zi){Re=3;break e}var Fr=8+zi+1&-2;if(jr+=Fr,0<Yt&&jr>Yt){Re=3;break e}if(!t(Dt,rt,"VP8 ")||!t(Dt,rt,"VP8L")){Re=0;break e}if($r[0]<Fr){Re=7;break e}t(Dt,rt,"ALPH")||(mt[0]=Dt,ct[0]=rt+8,ir[0]=zi),rt+=Fr,$r-=Fr}}if(Z=Z[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Re!=0)break}Z=[Z],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(Yt=$,Re=W,Ze=Z,mt=Te.gb[0],ct=Te.Ja,ir=Te.xa,Dt=Re[0],rt=!t(Yt,Dt,"VP8 "),jr=!t(Yt,Dt,"VP8L"),e(Yt!=null),e(Ze!=null),e(ct!=null),e(ir!=null),8>Ze[0])Re=7;else{if(rt||jr){if(Yt=se(Yt,Dt+4),12<=mt&&Yt>mt-12){Re=3;break e}if(ge&&Yt>Ze[0]-8){Re=7;break e}ct[0]=Yt,Re[0]+=8,Ze[0]-=8,ir[0]=jr}else ir[0]=5<=Ze[0]&&Yt[Dt+0]==47&&!(Yt[Dt+4]>>5),ct[0]=Ze[0];Re=0}if(Z=Z[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],W=W[0],Re!=0)break;if(4294967286<Te.Ja)return 3;if(fe==null||Xe||(fe[0]=Te.xa?2:1),ue=[ue],Me=[Me],Te.xa){if(5>Z){Re=7;break}fe=ue,ge=Me,Xe=ce,$==null||5>Z?$=0:5<=Z&&$[W+0]==47&&!($[W+4]>>5)?(Ze=[0],Yt=[0],mt=[0],x(ct=new z,$,W,Z),Br(ct,Ze,Yt,mt)?(fe!=null&&(fe[0]=Ze[0]),ge!=null&&(ge[0]=Yt[0]),Xe!=null&&(Xe[0]=mt[0]),$=1):$=0):$=0}else{if(10>Z){Re=7;break}fe=Me,$==null||10>Z||!Kn($,W+3,Z-3)?$=0:(ge=$[W+0]|$[W+1]<<8|$[W+2]<<16,Xe=16383&($[W+7]<<8|$[W+6]),$=16383&($[W+9]<<8|$[W+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=Te.Ja||!Xe||!$?$=0:(ue&&(ue[0]=Xe),fe&&(fe[0]=$),$=1))}if(!$||(ue=ue[0],Me=Me[0],Le&&(me[0]!=ue||Ne[0]!=Me)))return 3;Ae!=null&&(Ae[0]=Te,Ae.offset=W-Ae.w,e(4294967286>W-Ae.w),e(Ae.offset==Ae.ha-Z));break}return Re==0||Re==7&&Le&&Ae==null?(ce!=null&&(ce[0]|=Te.na!=null&&0<Te.na.length),te!=null&&(te[0]=ue),oe!=null&&(oe[0]=Me),0):Re}function d0($,W,Z){var te=W.width,oe=W.height,ce=0,ue=0,fe=te,Ae=oe;if(W.Da=$!=null&&0<$.Da,W.Da&&(fe=$.cd,Ae=$.bd,ce=$.v,ue=$.j,11>Z||(ce&=-2,ue&=-2),0>ce||0>ue||0>=fe||0>=Ae||ce+fe>te||ue+Ae>oe))return 0;if(W.v=ce,W.j=ue,W.va=ce+fe,W.o=ue+Ae,W.U=fe,W.T=Ae,W.da=$!=null&&0<$.da,W.da){if(!he(fe,Ae,Z=[$.ib],ce=[$.hb]))return 0;W.ib=Z[0],W.hb=ce[0]}return W.ob=$!=null&&$.ob,W.Kb=$==null||!$.Sd,W.da&&(W.ob=W.ib<3*te/4&&W.hb<3*oe/4,W.Kb=0),1}function h0($){if($==null)return 2;if(11>$.S){var W=$.f.RGBA;W.fb+=($.height-1)*W.A,W.A=-W.A}else W=$.f.kb,$=$.height,W.O+=($-1)*W.fa,W.fa=-W.fa,W.N+=($-1>>1)*W.Ab,W.Ab=-W.Ab,W.W+=($-1>>1)*W.Db,W.Db=-W.Db,W.F!=null&&(W.J+=($-1)*W.lb,W.lb=-W.lb);return 0}function wd($,W,Z,te){if(te==null||0>=$||0>=W)return 2;if(Z!=null){if(Z.Da){var oe=Z.cd,ce=Z.bd,ue=-2&Z.v,fe=-2&Z.j;if(0>ue||0>fe||0>=oe||0>=ce||ue+oe>$||fe+ce>W)return 2;$=oe,W=ce}if(Z.da){if(!he($,W,oe=[Z.ib],ce=[Z.hb]))return 2;$=oe[0],W=ce[0]}}te.width=$,te.height=W;e:{var Ae=te.width,me=te.height;if($=te.S,0>=Ae||0>=me||!($>=x1&&13>$))$=2;else{if(0>=te.Rd&&te.sd==null){ue=ce=oe=W=0;var Ne=(fe=Ae*gI[$])*me;if(11>$||(ce=(me+1)/2*(W=(Ae+1)/2),$==12&&(ue=(oe=Ae)*me)),(me=s(Ne+2*ce+ue))==null){$=1;break e}te.sd=me,11>$?((Ae=te.f.RGBA).eb=me,Ae.fb=0,Ae.A=fe,Ae.size=Ne):((Ae=te.f.kb).y=me,Ae.O=0,Ae.fa=fe,Ae.Fd=Ne,Ae.f=me,Ae.N=0+Ne,Ae.Ab=W,Ae.Cd=ce,Ae.ea=me,Ae.W=0+Ne+ce,Ae.Db=W,Ae.Ed=ce,$==12&&(Ae.F=me,Ae.J=0+Ne+2*ce),Ae.Tc=ue,Ae.lb=oe)}if(W=1,oe=te.S,ce=te.width,ue=te.height,oe>=x1&&13>oe)if(11>oe)$=te.f.RGBA,W&=(fe=Math.abs($.A))*(ue-1)+ce<=$.size,W&=fe>=ce*gI[oe],W&=$.eb!=null;else{$=te.f.kb,fe=(ce+1)/2,Ne=(ue+1)/2,Ae=Math.abs($.fa),me=Math.abs($.Ab);var Le=Math.abs($.Db),ge=Math.abs($.lb),Te=ge*(ue-1)+ce;W&=Ae*(ue-1)+ce<=$.Fd,W&=me*(Ne-1)+fe<=$.Cd,W=(W&=Le*(Ne-1)+fe<=$.Ed)&Ae>=ce&me>=fe&Le>=fe,W&=$.y!=null,W&=$.f!=null,W&=$.ea!=null,oe==12&&(W&=ge>=ce,W&=Te<=$.Tc,W&=$.F!=null)}else W=0;$=W?0:2}}return $!=0||Z!=null&&Z.fd&&($=h0(te)),$}var af=64,Za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eo=24,Cd=32,ou=8,Sd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ye("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function($){return $},k.Predictor2=function($,W,Z){return W[Z+0]},k.Predictor3=function($,W,Z){return W[Z+1]},k.Predictor4=function($,W,Z){return W[Z-1]},k.Predictor5=function($,W,Z){return Ee(Ee($,W[Z+1]),W[Z+0])},k.Predictor6=function($,W,Z){return Ee($,W[Z-1])},k.Predictor7=function($,W,Z){return Ee($,W[Z+0])},k.Predictor8=function($,W,Z){return Ee(W[Z-1],W[Z+0])},k.Predictor9=function($,W,Z){return Ee(W[Z+0],W[Z+1])},k.Predictor10=function($,W,Z){return Ee(Ee($,W[Z-1]),Ee(W[Z+0],W[Z+1]))},k.Predictor11=function($,W,Z){var te=W[Z+0];return 0>=Ue(te>>24&255,$>>24&255,(W=W[Z-1])>>24&255)+Ue(te>>16&255,$>>16&255,W>>16&255)+Ue(te>>8&255,$>>8&255,W>>8&255)+Ue(255&te,255&$,255&W)?te:$},k.Predictor12=function($,W,Z){var te=W[Z+0];return(Be(($>>24&255)+(te>>24&255)-((W=W[Z-1])>>24&255))<<24|Be(($>>16&255)+(te>>16&255)-(W>>16&255))<<16|Be(($>>8&255)+(te>>8&255)-(W>>8&255))<<8|Be((255&$)+(255&te)-(255&W)))>>>0},k.Predictor13=function($,W,Z){var te=W[Z-1];return(Pe(($=Ee($,W[Z+0]))>>24&255,te>>24&255)<<24|Pe($>>16&255,te>>16&255)<<16|Pe($>>8&255,te>>8&255)<<8|Pe(255&$,255&te))>>>0};var f0=k.PredictorAdd0;k.PredictorAdd1=He,ye("Predictor2","PredictorAdd2"),ye("Predictor3","PredictorAdd3"),ye("Predictor4","PredictorAdd4"),ye("Predictor5","PredictorAdd5"),ye("Predictor6","PredictorAdd6"),ye("Predictor7","PredictorAdd7"),ye("Predictor8","PredictorAdd8"),ye("Predictor9","PredictorAdd9"),ye("Predictor10","PredictorAdd10"),ye("Predictor11","PredictorAdd11"),ye("Predictor12","PredictorAdd12"),ye("Predictor13","PredictorAdd13");var OA=k.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function($){return $>>8&255},function($){return $}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function($){return $},function($){return $>>8&255});var pi,v1=k.ColorIndexInverseTransform,nc=k.MapARGB,ic=k.VP8LColorIndexInverseTransformAlpha,A0=k.MapAlpha,p0=k.VP8LPredictorsAdd=[];p0.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var m0,g0,Ed,_d,Nd,of,Bd,lf,Mo,sc,nn,mn,mi,$i,lu,v0,PA,y1,GF,KF,WF,qF,XF,YF,y0,JF,ZF,eI,tI=s(511),rI=s(2041),nI=s(225),iI=s(767),sI=0,V4=rI,b1=nI,to=iI,Oo=tI,x1=0,w1=1,aI=2,C1=3,S1=4,G4=5,oI=6,K4=7,W4=8,E1=9,q4=10,Sne=[2,3,7],Ene=[3,3,11],lI=[280,256,256,256,40],_ne=[0,1,1,1,0],Nne=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bne=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],kne=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tne=8,X4=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Y4=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],b0=null,jne=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fne=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],cI=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ine=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mne=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],One=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Pne=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],kd=[],yl=[],cu=[],Rne=1,uI=2,Td=[],Po=[];su("UpsampleRgbLinePair",xd,3),su("UpsampleBgrLinePair",Cs,3),su("UpsampleRgbaLinePair",ca,4),su("UpsampleBgraLinePair",u0,4),su("UpsampleArgbLinePair",c0,4),su("UpsampleRgba4444LinePair",nf,2),su("UpsampleRgb565LinePair",rf,2);var Lne=k.UpsampleRgbLinePair,Dne=k.UpsampleBgrLinePair,dI=k.UpsampleRgbaLinePair,hI=k.UpsampleBgraLinePair,fI=k.UpsampleArgbLinePair,AI=k.UpsampleRgba4444LinePair,Une=k.UpsampleRgb565LinePair,_1=16,N1=1<<_1-1,x0=-227,J4=482,Hne=6,pI=0,Qne=s(256),$ne=s(256),zne=s(256),Vne=s(256),Gne=s(J4-x0),Kne=s(J4-x0);au("YuvToRgbRow",xd,3),au("YuvToBgrRow",Cs,3),au("YuvToRgbaRow",ca,4),au("YuvToBgraRow",u0,4),au("YuvToArgbRow",c0,4),au("YuvToRgba4444Row",nf,2),au("YuvToRgb565Row",rf,2);var mI=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],B1=[0,2,8],Wne=[8,7,6,4,4,2,2,2,1,1,1,1],qne=1;this.WebPDecodeRGBA=function($,W,Z,te,oe){var ce=w1,ue=new et,fe=new vt;ue.ba=fe,fe.S=ce,fe.width=[fe.width],fe.height=[fe.height];var Ae=fe.width,me=fe.height,Ne=new ut;if(Ne==null||$==null)var Le=2;else e(Ne!=null),Le=sf($,W,Z,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Le!=0?Ae=0:(Ae!=null&&(Ae[0]=Ne.width[0]),me!=null&&(me[0]=Ne.height[0]),Ae=1),Ae){fe.width=fe.width[0],fe.height=fe.height[0],te!=null&&(te[0]=fe.width),oe!=null&&(oe[0]=fe.height);e:{if(te=new Pr,(oe=new lt).data=$,oe.w=W,oe.ha=Z,oe.kd=1,W=[0],e(oe!=null),(($=sf(oe.data,oe.w,oe.ha,null,null,null,W,null,oe))==0||$==7)&&W[0]&&($=4),(W=$)==0){if(e(ue!=null),te.data=oe.data,te.w=oe.w+oe.offset,te.ha=oe.ha-oe.offset,te.put=ht,te.ac=Nr,te.bc=mr,te.ma=ue,oe.xa){if(($=ur())==null){ue=1;break e}if(function(ge,Te){var Me=[0],Xe=[0],Re=[0];t:for(;;){if(ge==null)return 0;if(Te==null)return ge.a=2,0;if(ge.l=Te,ge.a=0,x(ge.m,Te.data,Te.w,Te.ha),!Br(ge.m,Me,Xe,Re)){ge.a=3;break t}if(ge.xb=uI,Te.width=Me[0],Te.height=Xe[0],!Hr(Me[0],Xe[0],1,ge,null))break t;return 1}return e(ge.a!=0),0}($,te)){if(te=(W=wd(te.width,te.height,ue.Oa,ue.ba))==0){t:{te=$;r:for(;;){if(te==null){te=0;break t}if(e(te.s.yc!=null),e(te.s.Ya!=null),e(0<te.s.Wb),e((Z=te.l)!=null),e((oe=Z.ma)!=null),te.xb!=0){if(te.ca=oe.ba,te.tb=oe.tb,e(te.ca!=null),!d0(oe.Oa,Z,C1)){te.a=2;break r}if(!wt(te,Z.width)||Z.da)break r;if((Z.da||St(te.ca.S))&&vl(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&vl()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!ee(te.s.vb,te.s.Wa.Xa)){te.a=1;break r}te.xb=0}if(!Xt(te,te.V,te.Ba,te.c,te.i,Z.o,yt))break r;oe.Dc=te.Ma,te=1;break t}e(te.a!=0),te=0}te=!te}te&&(W=$.a)}else W=$.a}else{if(($=new Kr)==null){ue=1;break e}if($.Fa=oe.na,$.P=oe.P,$.qc=oe.Sa,Cn($,te)){if((W=wd(te.width,te.height,ue.Oa,ue.ba))==0){if($.Aa=0,Z=ue.Oa,e((oe=$)!=null),Z!=null){if(0<(Ae=0>(Ae=Z.Md)?0:100<Ae?255:255*Ae/100)){for(me=Ne=0;4>me;++me)12>(Le=oe.pb[me]).lc&&(Le.ia=Ae*Wne[0>Le.lc?0:Le.lc]>>3),Ne|=Le.ia;Ne&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=Z.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}(function(ge,Te){if(ge==null)return 0;if(Te==null)return vr(ge,2,"NULL VP8Io parameter in VP8Decode().");if(!ge.cb&&!Cn(ge,Te))return 0;if(e(ge.cb),Te.ac==null||Te.ac(Te)){Te.ob&&(ge.L=0);var Me=B1[ge.L];if(ge.L==2?(ge.yb=0,ge.zb=0):(ge.yb=Te.v-Me>>4,ge.zb=Te.j-Me>>4,0>ge.yb&&(ge.yb=0),0>ge.zb&&(ge.zb=0)),ge.Va=Te.o+15+Me>>4,ge.Hb=Te.va+15+Me>>4,ge.Hb>ge.za&&(ge.Hb=ge.za),ge.Va>ge.Ub&&(ge.Va=ge.Ub),0<ge.L){var Xe=ge.ed;for(Me=0;4>Me;++Me){var Re;if(ge.Qa.Cb){var Ze=ge.Qa.Lb[Me];ge.Qa.Fb||(Ze+=Xe.Tb)}else Ze=Xe.Tb;for(Re=0;1>=Re;++Re){var rt=ge.gd[Me][Re],mt=Ze;if(Xe.Pc&&(mt+=Xe.vd[0],Re&&(mt+=Xe.od[0])),0<(mt=0>mt?0:63<mt?63:mt)){var ct=mt;0<Xe.wb&&(ct=4<Xe.wb?ct>>2:ct>>1)>9-Xe.wb&&(ct=9-Xe.wb),1>ct&&(ct=1),rt.dd=ct,rt.tc=2*mt+ct,rt.ld=40<=mt?2:15<=mt?1:0}else rt.tc=0;rt.La=Re}}}Me=0}else vr(ge,6,"Frame setup failed"),Me=ge.a;if(Me=Me==0){if(Me){ge.$c=0,0<ge.Aa||(ge.Ic=qne);t:{Me=ge.Ic,Xe=4*(ct=ge.za);var ir=32*ct,Dt=ct+1,jr=0<ge.L?ct*(0<ge.Aa?2:1):0,Yt=(ge.Aa==2?2:1)*ct;if((rt=Xe+832+(Re=3*(16*Me+B1[ge.L])/2*ir)+(Ze=ge.Fa!=null&&0<ge.Fa.length?ge.Kc.c*ge.Kc.i:0))!=rt)Me=0;else{if(rt>ge.Vb){if(ge.Vb=0,ge.Ec=s(rt),ge.Fc=0,ge.Ec==null){Me=vr(ge,1,"no memory during frame initialization.");break t}ge.Vb=rt}rt=ge.Ec,mt=ge.Fc,ge.Ac=rt,ge.Bc=mt,mt+=Xe,ge.Gd=a(ir,Ar),ge.Hd=0,ge.rb=a(Dt+1,At),ge.sb=1,ge.wa=jr?a(jr,Et):null,ge.Y=0,ge.D.Nb=0,ge.D.wa=ge.wa,ge.D.Y=ge.Y,0<ge.Aa&&(ge.D.Y+=ct),e(!0),ge.oc=rt,ge.pc=mt,mt+=832,ge.ya=a(Yt,Zt),ge.aa=0,ge.D.ya=ge.ya,ge.D.aa=ge.aa,ge.Aa==2&&(ge.D.aa+=ct),ge.R=16*ct,ge.B=8*ct,ct=(ir=B1[ge.L])*ge.R,ir=ir/2*ge.B,ge.sa=rt,ge.ta=mt+ct,ge.qa=ge.sa,ge.ra=ge.ta+16*Me*ge.R+ir,ge.Ha=ge.qa,ge.Ia=ge.ra+8*Me*ge.B+ir,ge.$c=0,mt+=Re,ge.mb=Ze?rt:null,ge.nb=Ze?mt:null,e(mt+Ze<=ge.Fc+ge.Vb),To(ge),i(ge.Ac,ge.Bc,0,Xe),Me=1}}if(Me){if(Te.ka=0,Te.y=ge.sa,Te.O=ge.ta,Te.f=ge.qa,Te.N=ge.ra,Te.ea=ge.Ha,Te.Vd=ge.Ia,Te.fa=ge.R,Te.Rc=ge.B,Te.F=null,Te.J=0,!sI){for(Me=-255;255>=Me;++Me)tI[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)rI[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)nI[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)iI[255+Me]=0>Me?0:255<Me?255:Me;sI=1}Bd=zs,lf=jo,sc=is,nn=Xc,mn=ss,Mo=Mr,mi=p1,$i=Zh,lu=ae,v0=ve,PA=m1,y1=X,GF=Se,KF=Ie,WF=Jh,qF=o0,XF=f1,YF=A1,yl[0]=U4,yl[1]=Yc,yl[2]=yd,yl[3]=D4,yl[4]=Jc,yl[5]=H4,yl[6]=Zc,yl[7]=Q4,yl[8]=r0,yl[9]=jA,kd[0]=Xh,kd[1]=tc,kd[2]=Ia,kd[3]=qh,kd[4]=Fo,kd[5]=rc,kd[6]=TA,cu[0]=z4,cu[1]=vd,cu[2]=Yh,cu[3]=$4,cu[4]=i0,cu[5]=n0,cu[6]=h1,Me=1}else Me=0}Me&&(Me=function($r,zi){for($r.M=0;$r.M<$r.Va;++$r.M){var Fr,Jt=$r.Jc[$r.M&$r.Xb],Nt=$r.m,gi=$r;for(Fr=0;Fr<gi.za;++Fr){var Cr=Nt,Gr=gi,In=Gr.Ac,Ss=Gr.Bc+4*Fr,ua=Gr.zc,ni=Gr.ya[Gr.aa+Fr];if(Gr.Qa.Bb?ni.$b=V(Cr,Gr.Pa.jb[0])?2+V(Cr,Gr.Pa.jb[2]):V(Cr,Gr.Pa.jb[1]):ni.$b=0,Gr.kc&&(ni.Ad=V(Cr,Gr.Bd)),ni.Za=!V(Cr,145)+0,ni.Za){var Ks=ni.Ob,da=0;for(Gr=0;4>Gr;++Gr){var Vi,qr=ua[0+Gr];for(Vi=0;4>Vi;++Vi){qr=Mne[In[Ss+Vi]][qr];for(var cn=cI[V(Cr,qr[0])];0<cn;)cn=cI[2*cn+V(Cr,qr[cn])];qr=-cn,In[Ss+Vi]=qr}n(Ks,da,In,Ss,4),da+=4,ua[0+Gr]=qr}}else qr=V(Cr,156)?V(Cr,128)?1:3:V(Cr,163)?2:0,ni.Ob[0]=qr,i(In,Ss,qr,4),i(ua,0,qr,4);ni.Dd=V(Cr,142)?V(Cr,114)?V(Cr,183)?1:3:2:0}if(gi.m.Ka)return vr($r,7,"Premature end-of-partition0 encountered.");for(;$r.ja<$r.za;++$r.ja){if(gi=Jt,Cr=(Nt=$r).rb[Nt.sb-1],In=Nt.rb[Nt.sb+Nt.ja],Fr=Nt.ya[Nt.aa+Nt.ja],Ss=Nt.kc?Fr.Ad:0)Cr.la=In.la=0,Fr.Za||(Cr.Na=In.Na=0),Fr.Hc=0,Fr.Gc=0,Fr.ia=0;else{var ii,un;if(Cr=In,In=gi,Ss=Nt.Pa.Xc,ua=Nt.ya[Nt.aa+Nt.ja],ni=Nt.pb[ua.$b],Gr=ua.ad,Ks=0,da=Nt.rb[Nt.sb-1],qr=Vi=0,i(Gr,Ks,0,384),ua.Za)var Es=0,bl=Ss[3];else{cn=s(16);var vi=Cr.Na+da.Na;if(vi=b0(In,Ss[1],vi,ni.Eb,0,cn,0),Cr.Na=da.Na=(0<vi)+0,1<vi)Bd(cn,0,Gr,Ks);else{var Ma=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Gr[Ks+cn]=Ma}Es=1,bl=Ss[0]}var gn=15&Cr.la,Gi=15&da.la;for(cn=0;4>cn;++cn){var ro=1&Gi;for(Ma=un=0;4>Ma;++Ma)gn=gn>>1|(ro=(vi=b0(In,bl,vi=ro+(1&gn),ni.Sc,Es,Gr,Ks))>Es)<<7,un=un<<2|(3<vi?3:1<vi?2:Gr[Ks+0]!=0),Ks+=16;gn>>=4,Gi=Gi>>1|ro<<7,Vi=(Vi<<8|un)>>>0}for(bl=gn,Es=Gi>>4,ii=0;4>ii;ii+=2){for(un=0,gn=Cr.la>>4+ii,Gi=da.la>>4+ii,cn=0;2>cn;++cn){for(ro=1&Gi,Ma=0;2>Ma;++Ma)vi=ro+(1&gn),gn=gn>>1|(ro=0<(vi=b0(In,Ss[2],vi,ni.Qc,0,Gr,Ks)))<<3,un=un<<2|(3<vi?3:1<vi?2:Gr[Ks+0]!=0),Ks+=16;gn>>=2,Gi=Gi>>1|ro<<5}qr|=un<<4*ii,bl|=gn<<4<<ii,Es|=(240&Gi)<<ii}Cr.la=bl,da.la=Es,ua.Hc=Vi,ua.Gc=qr,ua.ia=43690&qr?0:ni.ia,Ss=!(Vi|qr)}if(0<Nt.L&&(Nt.wa[Nt.Y+Nt.ja]=Nt.gd[Fr.$b][Fr.Za],Nt.wa[Nt.Y+Nt.ja].La|=!Ss),gi.Ka)return vr($r,7,"Premature end-of-file encountered.")}if(To($r),Nt=zi,gi=1,Fr=(Jt=$r).D,Cr=0<Jt.L&&Jt.M>=Jt.zb&&Jt.M<=Jt.Va,Jt.Aa==0)t:{if(Fr.M=Jt.M,Fr.uc=Cr,Io(Jt,Fr),gi=1,Fr=(un=Jt.D).Nb,Cr=(qr=B1[Jt.L])*Jt.R,In=qr/2*Jt.B,cn=16*Fr*Jt.R,Ma=8*Fr*Jt.B,Ss=Jt.sa,ua=Jt.ta-Cr+cn,ni=Jt.qa,Gr=Jt.ra-In+Ma,Ks=Jt.Ha,da=Jt.Ia-In+Ma,Gi=(gn=un.M)==0,Vi=gn>=Jt.Va-1,Jt.Aa==2&&Io(Jt,un),un.uc)for(ro=(vi=Jt).D.M,e(vi.D.uc),un=vi.yb;un<vi.Hb;++un){Es=un,bl=ro;var ha=(no=(_s=vi).D).Nb;ii=_s.R;var no=no.wa[no.Y+Es],io=_s.sa,Oa=_s.ta+16*ha*ii+16*Es,so=no.dd,_n=no.tc;if(_n!=0)if(e(3<=_n),_s.L==1)0<Es&&qF(io,Oa,ii,_n+4),no.La&&YF(io,Oa,ii,_n),0<bl&&WF(io,Oa,ii,_n+4),no.La&&XF(io,Oa,ii,_n);else{var ao=_s.B,xl=_s.qa,cf=_s.ra+8*ha*ao+8*Es,uu=_s.Ha,_s=_s.Ia+8*ha*ao+8*Es;ha=no.ld,0<Es&&($i(io,Oa,ii,_n+4,so,ha),v0(xl,cf,uu,_s,ao,_n+4,so,ha)),no.La&&(y1(io,Oa,ii,_n,so,ha),KF(xl,cf,uu,_s,ao,_n,so,ha)),0<bl&&(mi(io,Oa,ii,_n+4,so,ha),lu(xl,cf,uu,_s,ao,_n+4,so,ha)),no.La&&(PA(io,Oa,ii,_n,so,ha),GF(xl,cf,uu,_s,ao,_n,so,ha))}}if(Jt.ia&&alert("todo:DitherRow"),Nt.put!=null){if(un=16*gn,gn=16*(gn+1),Gi?(Nt.y=Jt.sa,Nt.O=Jt.ta+cn,Nt.f=Jt.qa,Nt.N=Jt.ra+Ma,Nt.ea=Jt.Ha,Nt.W=Jt.Ia+Ma):(un-=qr,Nt.y=Ss,Nt.O=ua,Nt.f=ni,Nt.N=Gr,Nt.ea=Ks,Nt.W=da),Vi||(gn-=qr),gn>Nt.o&&(gn=Nt.o),Nt.F=null,Nt.J=null,Jt.Fa!=null&&0<Jt.Fa.length&&un<gn&&(Nt.J=En(Jt,Nt,un,gn-un),Nt.F=Jt.mb,Nt.F==null&&Nt.F.length==0)){gi=vr(Jt,3,"Could not decode alpha data.");break t}un<Nt.j&&(qr=Nt.j-un,un=Nt.j,e(!(1&qr)),Nt.O+=Jt.R*qr,Nt.N+=Jt.B*(qr>>1),Nt.W+=Jt.B*(qr>>1),Nt.F!=null&&(Nt.J+=Nt.width*qr)),un<gn&&(Nt.O+=Nt.v,Nt.N+=Nt.v>>1,Nt.W+=Nt.v>>1,Nt.F!=null&&(Nt.J+=Nt.v),Nt.ka=un-Nt.j,Nt.U=Nt.va-Nt.v,Nt.T=gn-un,gi=Nt.put(Nt))}Fr+1!=Jt.Ic||Vi||(n(Jt.sa,Jt.ta-Cr,Ss,ua+16*Jt.R,Cr),n(Jt.qa,Jt.ra-In,ni,Gr+8*Jt.B,In),n(Jt.Ha,Jt.Ia-In,Ks,da+8*Jt.B,In))}if(!gi)return vr($r,6,"Output aborted.")}return 1}(ge,Te)),Te.bc!=null&&Te.bc(Te),Me&=1}return Me?(ge.cb=0,Me):0})($,te)||(W=$.a)}}else W=$.a}W==0&&ue.Oa!=null&&ue.Oa.fd&&(W=h0(ue.ba))}ue=W}ce=ue!=0?null:11>ce?fe.f.RGBA.eb:fe.f.kb.y}else ce=null;return ce};var gI=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,L){for(var H="",I=0;I<4;I++)H+=String.fromCharCode(k[L++]);return H}function u(k,L){return k[L+0]|k[L+1]<<8}function d(k,L){return(k[L+0]|k[L+1]<<8|k[L+2]<<16)>>>0}function h(k,L){return(k[L+0]|k[L+1]<<8|k[L+2]<<16|k[L+3]<<24)>>>0}new l;var f=[0],p=[0],g=[],m=new l,v=r,y=function(k,L){var H={},I=0,T=!1,P=0,N=0;if(H.frames=[],!function(M,z){for(var G=0;G<4;G++)if(M[z+G]!="RIFF".charCodeAt(G))return!0;return!1}(k,L)){for(h(k,L+=4),L+=8;L<k.length;){var S=c(k,L),C=h(k,L+=4);L+=4;var E=C+(1&C);switch(S){case"VP8 ":case"VP8L":H.frames[I]===void 0&&(H.frames[I]={}),(U=H.frames[I]).src_off=T?N:L-8,U.src_size=P+C+8,I++,T&&(T=!1,P=0,N=0);break;case"VP8X":(U=H.header={}).feature_flags=k[L];var x=L+4;U.canvas_width=1+d(k,x),x+=3,U.canvas_height=1+d(k,x),x+=3;break;case"ALPH":T=!0,P=E+8,N=L-8;break;case"ANIM":(U=H.header).bgcolor=h(k,L),x=L+4,U.loop_count=u(k,x),x+=2;break;case"ANMF":var F,U;(U=H.frames[I]={}).offset_x=2*d(k,L),L+=3,U.offset_y=2*d(k,L),L+=3,U.width=1+d(k,L),L+=3,U.height=1+d(k,L),L+=3,U.duration=d(k,L),L+=3,F=k[L++],U.dispose=1&F,U.blend=F>>1&1}S!="ANMF"&&(L+=E)}return H}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,w=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],p=[b.canvas_width];for(var _=0;_<w.length&&w[_].blend!=0;_++);}var B=w[0],R=m.WebPDecodeRGBA(v,B.src_off,B.src_size,p,f);B.rgba=R,B.imgwidth=p[0],B.imgheight=f[0];for(var j=0;j<p[0]*f[0]*4;j++)g[j]=R[j];return this.width=p,this.height=f,this.data=g,this}(function(r){var e,t,n,i,s,a,o,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=M;Object.defineProperty(this,"pdf",{get:function(){return z}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ee){G=!!ee}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ee){Y=!!ee}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(ee){isNaN(ee)||(Q=ee)}});var q=0;Object.defineProperty(this,"posY",{get:function(){return q},set:function(ee){isNaN(ee)||(q=ee)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ee){var de;typeof ee=="number"?de=[ee,ee,ee,ee]:((de=new Array(4))[0]=ee[0],de[1]=ee.length>=2?ee[1]:de[0],de[2]=ee.length>=3?ee[2]:de[0],de[3]=ee.length>=4?ee[3]:de[1]),c.margin=de}});var D=!1;Object.defineProperty(this,"autoPaging",{get:function(){return D},set:function(ee){D=ee}});var O=0;Object.defineProperty(this,"lastBreak",{get:function(){return O},set:function(ee){O=ee}});var V=[];Object.defineProperty(this,"pageBreaks",{get:function(){return V},set:function(ee){V=ee}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ee){ee instanceof u&&(c=ee)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ee){c.path=ee}});var J=[];Object.defineProperty(this,"ctxStack",{get:function(){return J},set:function(ee){J=ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ee){var de;de=h(ee),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ee){var de=h(ee);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ee){["butt","round","square"].indexOf(ee)!==-1&&(this.ctx.lineCap=ee,this.pdf.setLineCap(ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ee){isNaN(ee)||(this.ctx.lineWidth=ee,this.pdf.setLineWidth(ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ee){["bevel","round","miter"].indexOf(ee)!==-1&&(this.ctx.lineJoin=ee,this.pdf.setLineJoin(ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ee){isNaN(ee)||(this.ctx.miterLimit=ee,this.pdf.setMiterLimit(ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ee){this.ctx.textBaseline=ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ee){["right","end","center","left","start"].indexOf(ee)!==-1&&(this.ctx.textAlign=ee)}});var re=null,ne=null,se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(ee){re=null,ne=null,se=ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ee){var de;if(this.ctx.font=ee,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ee))!==null){var ie=de[1];de[2];var he=de[3],le=de[4];de[5];var be=de[6],ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(le)[2];le=Math.floor(ye==="px"?parseFloat(le)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(le)*this.pdf.getFontSize():parseFloat(le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(le);var xe=function(Ve){var pt,Je,ze=[],qe=Ve.trim();if(qe==="")return US;if(qe in $7)return[$7[qe]];for(;qe!=="";){switch(Je=null,pt=(qe=V7(qe)).charAt(0)){case'"':case"'":Je=WTe(qe.substring(1),pt);break;default:Je=qTe(qe)}if(Je===null||(ze.push(Je[0]),(qe=V7(Je[1]))!==""&&qe.charAt(0)!==","))return US;qe=qe.replace(/^,/,"")}return ze}(be);if(this.fontFaces){var Ee=function(Ve,pt){var Je=Ve.getFontList(),ze=JSON.stringify(Je);if(re===null||ne!==ze){var qe=function(gt){var We=[];return Object.keys(gt).forEach(function(Tt){gt[Tt].forEach(function(St){var ot=null;switch(St){case"bold":ot={family:Tt,weight:"bold"};break;case"italic":ot={family:Tt,style:"italic"};break;case"bolditalic":ot={family:Tt,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:Tt}}ot!==null&&(ot.ref={name:Tt,style:St},We.push(ot))})}),We}(Je);re=function(gt){for(var We={},Tt=0;Tt<gt.length;++Tt){var St=DS(gt[Tt]),ot=St.family,Ot=St.stretch,vt=St.style,ut=St.weight;We[ot]=We[ot]||{},We[ot][Ot]=We[ot][Ot]||{},We[ot][Ot][vt]=We[ot][Ot][vt]||{},We[ot][Ot][vt][ut]=St}return We}(qe.concat(pt)),ne=ze}return re}(this.pdf,this.fontFaces),Be=xe.map(function(Ve){return{family:Ve,stretch:"normal",weight:he,style:ie}}),Pe=function(Ve,pt,Je){for(var ze=(Je=Je||{}).defaultFontFamily||"times",qe=Object.assign({},KTe,Je.genericFontFamilies||{}),gt=null,We=null,Tt=0;Tt<pt.length;++Tt)if(qe[(gt=DS(pt[Tt])).family]&&(gt.family=qe[gt.family]),Ve.hasOwnProperty(gt.family)){We=Ve[gt.family];break}if(!(We=We||Ve[ze]))throw new Error("Could not find a font-family for the rule '"+z7(gt)+"' and default family '"+ze+"'.");if(We=function(St,ot){if(ot[St])return ot[St];var Ot=zB[St],vt=Ot<=zB.normal?-1:1,ut=Q7(ot,dZ,Ot,vt);if(!ut)throw new Error("Could not find a matching font-stretch value for "+St);return ut}(gt.stretch,We),We=function(St,ot){if(ot[St])return ot[St];for(var Ot=uZ[St],vt=0;vt<Ot.length;++vt)if(ot[Ot[vt]])return ot[Ot[vt]];throw new Error("Could not find a matching font-style for "+St)}(gt.style,We),!(We=function(St,ot){if(ot[St])return ot[St];if(St===400&&ot[500])return ot[500];if(St===500&&ot[400])return ot[400];var Ot=GTe[St],vt=Q7(ot,hZ,Ot,St<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+St);return vt}(gt.weight,We)))throw new Error("Failed to resolve a font for the rule '"+z7(gt)+"'.");return We}(Ee,Be);this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var Ue="";(he==="bold"||parseInt(he,10)>=700||ie==="bold")&&(Ue="bold"),ie==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var He="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<xe.length;Ke++){if(this.pdf.internal.getFont(xe[Ke],Ue,{noFallback:!0,disableWarning:!0})!==void 0){He=xe[Ke];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(xe[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=xe[Ke],Ue="bold";else if(this.pdf.internal.getFont(xe[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=xe[Ke],Ue="normal";break}}if(He===""){for(var st=0;st<xe.length;st++)if($e[xe[st]]){He=$e[xe[st]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ee){this.ctx.globalCompositeOperation=ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ee){this.ctx.globalAlpha=ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ee){this.ctx.lineDashOffset=ee,U.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ee){this.ctx.lineDash=ee,U.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ee){this.ctx.ignoreClearRect=!!ee}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){w.call(this,"fill",!1)},d.prototype.stroke=function(){w.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,z){if(isNaN(M)||isNaN(z))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(M,z));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(M,z)},d.prototype.closePath=function(){var M=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Jr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){M=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},d.prototype.lineTo=function(M,z){if(isNaN(M)||isNaN(z))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(M,z));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,z,G,Y){if(isNaN(G)||isNaN(Y)||isNaN(M)||isNaN(z))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new a(G,Y)),q=this.ctx.transform.applyToPoint(new a(M,z));this.path.push({type:"qct",x1:q.x,y1:q.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},d.prototype.bezierCurveTo=function(M,z,G,Y,Q,q){if(isNaN(Q)||isNaN(q)||isNaN(M)||isNaN(z)||isNaN(G)||isNaN(Y))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var D=this.ctx.transform.applyToPoint(new a(Q,q)),O=this.ctx.transform.applyToPoint(new a(M,z)),V=this.ctx.transform.applyToPoint(new a(G,Y));this.path.push({type:"bct",x1:O.x,y1:O.y,x2:V.x,y2:V.y,x:D.x,y:D.y}),this.ctx.lastPoint=new a(D.x,D.y)},d.prototype.arc=function(M,z,G,Y,Q,q){if(isNaN(M)||isNaN(z)||isNaN(G)||isNaN(Y)||isNaN(Q))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(q=!!q,!this.ctx.transform.isIdentity){var D=this.ctx.transform.applyToPoint(new a(M,z));M=D.x,z=D.y;var O=this.ctx.transform.applyToPoint(new a(0,G)),V=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(O.x-V.x,2)+Math.pow(O.y-V.y,2))}Math.abs(Q-Y)>=2*Math.PI&&(Y=0,Q=2*Math.PI),this.path.push({type:"arc",x:M,y:z,radius:G,startAngle:Y,endAngle:Q,counterclockwise:q})},d.prototype.arcTo=function(M,z,G,Y,Q){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,z,G,Y){if(isNaN(M)||isNaN(z)||isNaN(G)||isNaN(Y))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,z),this.lineTo(M+G,z),this.lineTo(M+G,z+Y),this.lineTo(M,z+Y),this.lineTo(M,z),this.lineTo(M+G,z),this.lineTo(M,z)},d.prototype.fillRect=function(M,z,G,Y){if(isNaN(M)||isNaN(z)||isNaN(G)||isNaN(Y))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,z,G,Y),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},d.prototype.strokeRect=function(M,z,G,Y){if(isNaN(M)||isNaN(z)||isNaN(G)||isNaN(Y))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(M,z,G,Y),this.stroke())},d.prototype.clearRect=function(M,z,G,Y){if(isNaN(M)||isNaN(z)||isNaN(G)||isNaN(Y))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,z,G,Y))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(z),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var z,G,Y,Q;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))z=0,G=0,Y=0,Q=0;else{var q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(q!==null)z=parseInt(q[1]),G=parseInt(q[2]),Y=parseInt(q[3]),Q=1;else if((q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)z=parseInt(q[1]),G=parseInt(q[2]),Y=parseInt(q[3]),Q=parseFloat(q[4]);else{if(Q=1,typeof M=="string"&&M.charAt(0)!=="#"){var D=new nZ(M);M=D.ok?D.toHex():"#000000"}M.length===4?(z=M.substring(1,2),z+=z,G=M.substring(2,3),G+=G,Y=M.substring(3,4),Y+=Y):(z=M.substring(1,3),G=M.substring(3,5),Y=M.substring(5,7)),z=parseInt(z,16),G=parseInt(G,16),Y=parseInt(Y,16)}}return{r:z,g:G,b:Y,a:Q,style:M}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,z,G,Y){if(isNaN(z)||isNaN(G)||typeof M!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!f.call(this)){var Q=E(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;I.call(this,{text:M,x:z,y:G,scale:q,angle:Q,align:this.textAlign,maxWidth:Y})}},d.prototype.strokeText=function(M,z,G,Y){if(isNaN(z)||isNaN(G)||typeof M!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){Y=isNaN(Y)?void 0:Y;var Q=E(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;I.call(this,{text:M,x:z,y:G,scale:q,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:Y})}},d.prototype.measureText=function(M){if(typeof M!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,G=this.pdf.internal.scaleFactor,Y=z.internal.getFontSize(),Q=z.getStringUnitWidth(M)*Y/z.internal.scaleFactor;return new function(q){var D=(q=q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return D}}),this}({width:Q*=Math.round(96*G/72*1e4)/1e4})},d.prototype.scale=function(M,z){if(isNaN(M)||isNaN(z))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(M,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.rotate=function(M){if(isNaN(M))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.translate=function(M,z){if(isNaN(M)||isNaN(z))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,M,z);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.transform=function(M,z,G,Y,Q,q){if(isNaN(M)||isNaN(z)||isNaN(G)||isNaN(Y)||isNaN(Q)||isNaN(q))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var D=new l(M,z,G,Y,Q,q);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.setTransform=function(M,z,G,Y,Q,q){M=isNaN(M)?1:M,z=isNaN(z)?0:z,G=isNaN(G)?0:G,Y=isNaN(Y)?1:Y,Q=isNaN(Q)?0:Q,q=isNaN(q)?0:q,this.ctx.transform=new l(M,z,G,Y,Q,q)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,z,G,Y,Q,q,D,O,V){var J=this.pdf.getImageProperties(M),re=1,ne=1,se=1,ee=1;Y!==void 0&&O!==void 0&&(se=O/Y,ee=V/Q,re=J.width/Y*O/Y,ne=J.height/Q*V/Q),q===void 0&&(q=z,D=G,z=0,G=0),Y!==void 0&&O===void 0&&(O=Y,V=Q),Y===void 0&&O===void 0&&(O=J.width,V=J.height);var de=this.ctx.transform.decompose(),ie=E(de.rotate.shx),he=new l,le=(he=(he=(he=he.multiply(de.translate)).multiply(de.skew)).multiply(de.scale)).applyToRectangle(new o(q-z*se,D-G*ee,Y*re,Q*ne));if(this.autoPaging){for(var be,ye=m.call(this,le),xe=[],Ee=0;Ee<ye.length;Ee+=1)xe.indexOf(ye[Ee])===-1&&xe.push(ye[Ee]);b(xe);for(var Be=xe[0],Pe=xe[xe.length-1],Ue=Be;Ue<Pe+1;Ue++){this.pdf.setPage(Ue);var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=Ue===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=Ue===1?0:Ke+(Ue-2)*st;if(this.ctx.clip_path.length!==0){var pt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(be,this.posX+this.margin[3],-Ve+$e+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=pt}var Je=JSON.parse(JSON.stringify(le));Je=y([Je],this.posX+this.margin[3],-Ve+$e+this.ctx.prevPageLastElemOffset)[0];var ze=(Ue>Be||Ue<Pe)&&g.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,st,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,ie),ze&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",le.x,le.y,le.w,le.h,null,null,ie)};var m=function(M,z,G){var Y=[];z=z||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Y.push(Math.floor((M.y+Q)/G)+1);break;case"arc":Y.push(Math.floor((M.y+Q-M.radius)/G)+1),Y.push(Math.floor((M.y+Q+M.radius)/G)+1);break;case"qct":var q=x(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Y.push(Math.floor((q.y+Q)/G)+1),Y.push(Math.floor((q.y+q.h+Q)/G)+1);break;case"bct":var D=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Y.push(Math.floor((D.y+Q)/G)+1),Y.push(Math.floor((D.y+D.h+Q)/G)+1);break;case"rect":Y.push(Math.floor((M.y+Q)/G)+1),Y.push(Math.floor((M.y+M.h+Q)/G)+1)}for(var O=0;O<Y.length;O+=1)for(;this.pdf.internal.getNumberOfPages()<Y[O];)v.call(this);return Y},v=function(){var M=this.fillStyle,z=this.strokeStyle,G=this.font,Y=this.lineCap,Q=this.lineWidth,q=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=z,this.font=G,this.lineCap=Y,this.lineWidth=Q,this.lineJoin=q},y=function(M,z,G){for(var Y=0;Y<M.length;Y++)switch(M[Y].type){case"bct":M[Y].x2+=z,M[Y].y2+=G;case"qct":M[Y].x1+=z,M[Y].y1+=G;default:M[Y].x+=z,M[Y].y+=G}return M},b=function(M){return M.sort(function(z,G){return z-G})},w=function(M,z){var G=this.fillStyle,Y=this.strokeStyle,Q=this.lineCap,q=this.lineWidth,D=Math.abs(q*this.ctx.transform.scaleX),O=this.lineJoin;if(this.autoPaging){for(var V,J,re=JSON.parse(JSON.stringify(this.path)),ne=JSON.parse(JSON.stringify(this.path)),se=[],ee=0;ee<ne.length;ee++)if(ne[ee].x!==void 0)for(var de=m.call(this,ne[ee]),ie=0;ie<de.length;ie+=1)se.indexOf(de[ie])===-1&&se.push(de[ie]);for(var he=0;he<se.length;he++)for(;this.pdf.internal.getNumberOfPages()<se[he];)v.call(this);b(se);for(var le=se[0],be=se[se.length-1],ye=le;ye<be+1;ye++){this.pdf.setPage(ye),this.fillStyle=G,this.strokeStyle=Y,this.lineCap=Q,this.lineWidth=D,this.lineJoin=O;var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=ye===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=ye===1?0:Be+(ye-2)*Pe;if(this.ctx.clip_path.length!==0){var He=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-Ue+Ee+this.ctx.prevPageLastElemOffset),_.call(this,M,!0),this.path=He}if(J=JSON.parse(JSON.stringify(re)),this.path=y(J,this.posX+this.margin[3],-Ue+Ee+this.ctx.prevPageLastElemOffset),z===!1||ye===0){var $e=(ye>le||ye<be)&&g.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,Pe,null).clip().discardPath()),_.call(this,M,z),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=q}this.path=re}else this.lineWidth=D,_.call(this,M,z),this.lineWidth=q},_=function(M,z){if((M!=="stroke"||z||!p.call(this))&&(M==="stroke"||z||!f.call(this))){for(var G,Y,Q=[],q=this.path,D=0;D<q.length;D++){var O=q[D];switch(O.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:O,deltas:[],abs:[]});break;case"lt":var V=Q.length;if(q[D-1]&&!isNaN(q[D-1].x)&&(G=[O.x-q[D-1].x,O.y-q[D-1].y],V>0)){for(;V>=0;V--)if(Q[V-1].close!==!0&&Q[V-1].begin!==!0){Q[V-1].deltas.push(G),Q[V-1].abs.push(O);break}}break;case"bct":G=[O.x1-q[D-1].x,O.y1-q[D-1].y,O.x2-q[D-1].x,O.y2-q[D-1].y,O.x-q[D-1].x,O.y-q[D-1].y],Q[Q.length-1].deltas.push(G);break;case"qct":var J=q[D-1].x+2/3*(O.x1-q[D-1].x),re=q[D-1].y+2/3*(O.y1-q[D-1].y),ne=O.x+2/3*(O.x1-O.x),se=O.y+2/3*(O.y1-O.y),ee=O.x,de=O.y;G=[J-q[D-1].x,re-q[D-1].y,ne-q[D-1].x,se-q[D-1].y,ee-q[D-1].x,de-q[D-1].y],Q[Q.length-1].deltas.push(G);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(O)}}Y=z?null:M==="stroke"?"stroke":"fill";for(var ie=!1,he=0;he<Q.length;he++)if(Q[he].arc)for(var le=Q[he].abs,be=0;be<le.length;be++){var ye=le[be];ye.type==="arc"?j.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,z,!ie):T.call(this,ye.x,ye.y),ie=!0}else if(Q[he].close===!0)this.pdf.internal.out("h"),ie=!1;else if(Q[he].begin!==!0){var xe=Q[he].start.x,Ee=Q[he].start.y;P.call(this,Q[he].deltas,xe,Ee),ie=!0}Y&&k.call(this,Y),z&&L.call(this)}},B=function(M){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-G;case"top":return M+z-G;case"hanging":return M+z-2*G;case"middle":return M+z/2-G;default:return M}},R=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(z,G){this.colorStops.push([z,G])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(M,z,G,Y,Q,q,D,O,V){for(var J=S.call(this,G,Y,Q,q),re=0;re<J.length;re++){var ne=J[re];re===0&&(V?H.call(this,ne.x1+M,ne.y1+z):T.call(this,ne.x1+M,ne.y1+z)),N.call(this,M,z,ne.x2,ne.y2,ne.x3,ne.y3,ne.x4,ne.y4)}O?L.call(this):k.call(this,D)},k=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(M,z){this.pdf.internal.out(t(M)+" "+n(z)+" m")},I=function(M){var z;switch(M.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var G,Y,Q,q=this.pdf.getTextDimensions(M.text),D=B.call(this,M.y),O=R.call(this,D)-q.h,V=this.ctx.transform.applyToPoint(new a(M.x,D));if(this.autoPaging){var J=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(J.translate)).multiply(J.skew)).multiply(J.scale);for(var ne=this.ctx.transform.applyToRectangle(new o(M.x,D,q.w,q.h)),se=re.applyToRectangle(new o(M.x,O,q.w,q.h)),ee=m.call(this,se),de=[],ie=0;ie<ee.length;ie+=1)de.indexOf(ee[ie])===-1&&de.push(ee[ie]);b(de);for(var he=de[0],le=de[de.length-1],be=he;be<le+1;be++){this.pdf.setPage(be);var ye=be===1?this.posY+this.margin[0]:this.margin[0],xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],Be=Ee-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],Ue=Pe-this.margin[3],He=be===1?0:xe+(be-2)*Be;if(this.ctx.clip_path.length!==0){var $e=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-1*He+ye),_.call(this,"fill",!0),this.path=$e}var Ke=y([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-He+ye+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*M.scale),Q=this.lineWidth,this.lineWidth=Q*M.scale);var st=this.autoPaging!=="text";if(st||Ke.y+Ke.h<=Ee){if(st||Ke.y>=ye&&Ke.x<=Pe){var Ve=st?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Pe-Ke.x)[0],pt=y([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-He+ye+this.ctx.prevPageLastElemOffset)[0],Je=st&&(be>he||be<le)&&g.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Be,null).clip().discardPath()),this.pdf.text(Ve,pt.x,pt.y,{angle:M.angle,align:z,renderingMode:M.renderingMode}),Je&&this.pdf.restoreGraphicsState()}}else Ke.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-Ke.y);M.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=Q)}}else M.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*M.scale),Q=this.lineWidth,this.lineWidth=Q*M.scale),this.pdf.text(M.text,V.x+this.posX,V.y+this.posY,{angle:M.angle,align:z,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=Q)},T=function(M,z,G,Y){G=G||0,Y=Y||0,this.pdf.internal.out(t(M+G)+" "+n(z+Y)+" l")},P=function(M,z,G){return this.pdf.lines(M,z,G,null,null)},N=function(M,z,G,Y,Q,q,D,O){this.pdf.internal.out([e(i(G+M)),e(s(Y+z)),e(i(Q+M)),e(s(q+z)),e(i(D+M)),e(s(O+z)),"c"].join(" "))},S=function(M,z,G,Y){for(var Q=2*Math.PI,q=Math.PI/2;z>G;)z-=Q;var D=Math.abs(G-z);D<Q&&Y&&(D=Q-D);for(var O=[],V=Y?-1:1,J=z;D>1e-5;){var re=J+V*Math.min(D,q);O.push(C.call(this,M,J,re)),D-=Math.abs(re-J),J=re}return O},C=function(M,z,G){var Y=(G-z)/2,Q=M*Math.cos(Y),q=M*Math.sin(Y),D=Q,O=-q,V=D*D+O*O,J=V+D*Q+O*q,re=4/3*(Math.sqrt(2*V*J)-J)/(D*q-O*Q),ne=D-re*O,se=O+re*D,ee=ne,de=-se,ie=Y+z,he=Math.cos(ie),le=Math.sin(ie);return{x1:M*Math.cos(z),y1:M*Math.sin(z),x2:ne*he-se*le,y2:ne*le+se*he,x3:ee*he-de*le,y3:ee*le+de*he,x4:M*Math.cos(G),y4:M*Math.sin(G)}},E=function(M){return 180*M/Math.PI},x=function(M,z,G,Y,Q,q){var D=M+.5*(G-M),O=z+.5*(Y-z),V=Q+.5*(G-Q),J=q+.5*(Y-q),re=Math.min(M,Q,D,V),ne=Math.max(M,Q,D,V),se=Math.min(z,q,O,J),ee=Math.max(z,q,O,J);return new o(re,se,ne-re,ee-se)},F=function(M,z,G,Y,Q,q,D,O){var V,J,re,ne,se,ee,de,ie,he,le,be,ye,xe,Ee,Be=G-M,Pe=Y-z,Ue=Q-G,He=q-Y,$e=D-Q,Ke=O-q;for(J=0;J<41;J++)he=(de=(re=M+(V=J/40)*Be)+V*((se=G+V*Ue)-re))+V*(se+V*(Q+V*$e-se)-de),le=(ie=(ne=z+V*Pe)+V*((ee=Y+V*He)-ne))+V*(ee+V*(q+V*Ke-ee)-ie),J==0?(be=he,ye=le,xe=he,Ee=le):(be=Math.min(be,he),ye=Math.min(ye,le),xe=Math.max(xe,he),Ee=Math.max(Ee,le));return new o(Math.round(be),Math.round(ye),Math.round(xe-be),Math.round(Ee-ye))},U=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,z,G=(M=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:z}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(rr.API),function(r){var e=function(a){var o,l,c,u,d,h,f,p,g,m;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(m=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,p+33,g+33,m+33)):l.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var o,l,c,u,d,h=String,f="length",p=255,g="charCodeAt",m="slice",v="replace";for(a[m](-2),a=a[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(a+=o="uuuuu"[m](a[f]%5||5))[f];d>u;u+=5)l=52200625*(a[g](u)-33)+614125*(a[g](u+1)-33)+7225*(a[g](u+2)-33)+85*(a[g](u+3)-33)+(a[g](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,b){for(var w=b;w>0;w--)y.pop()}(c,o[f]),h.fromCharCode.apply(h,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=RB(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};r.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(rr.API),function(r){r.loadFile=function(e,t,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(p){var g=p.length,m=[],v=String.fromCharCode;for(h=0;h<g;h+=1)m.push(v(255&p.charCodeAt(h)));return m.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,s,a)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}(rr.API),function(r){function e(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):Ga(()=>Promise.resolve().then(()=>qRe),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):Ga(()=>Promise.resolve().then(()=>vLe),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Jr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],g=p.src.find(function(m){return m.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||rr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),h=c.call(d,o,l);return a.convert(h,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,rr.getPageSize=function(o,l,c){if(Jr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,g=0,m=0;if(f.hasOwnProperty(h))g=f[h][1]/d,m=f[h][0]/d;else try{g=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",m>g&&(p=m,m=g,g=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:l,k:d,orientation:o}},r.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(DS):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(rr.API),rr.API.addJS=function(r){return K7=r,this.internal.events.subscribe("postPutResources",function(){Ub=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ub+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),G7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ub!==void 0&&G7!==void 0&&this.internal.out("/Names <</JavaScript "+Ub+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=t.internal.newObject();u.push(d);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(rr.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,g={width:0,height:0,numcomponents:1},m=4;m<p;m+=2){if(m+=f,e.indexOf(d.charCodeAt(m+1))!==-1){h=256*d.charCodeAt(m+5)+d.charCodeAt(m+6),g={width:256*d.charCodeAt(m+7)+d.charCodeAt(m+8),height:h,numcomponents:d.charCodeAt(m+9)};break}f=256*d.charCodeAt(m+2)+d.charCodeAt(m+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(rr.API),rr.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=FTe(r,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(j){for(var k=j.width,L=j.height,H=j.data,I=j.palette,T=j.depth,P=!1,N=[],S=[],C=void 0,E=!1,x=0,F=0;F<I.length;F++){var U=YD(I[F],4),M=U[0],z=U[1],G=U[2],Y=U[3];N.push(M,z,G),Y!=null&&(Y===0?(x++,S.length<1&&S.push(F)):Y<255&&(E=!0))}if(E||x>1){P=!0,S=void 0;var Q=k*L;C=new Uint8Array(Q);for(var q=new DataView(H.buffer),D=0;D<Q;D++){var O=HS(q,D,T),V=YD(I[O],4)[3];C[D]=V}}else x===0&&(S=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:P?8:void 0,colorBytes:H,alphaBytes:C,needSMask:P,palette:N,mask:S}}(s):l===2||l===4?function(j){for(var k=j.data,L=j.width,H=j.height,I=j.channels,T=j.depth,P=I===2?"DeviceGray":"DeviceRGB",N=I-1,S=L*H,C=N,E=S*C,x=1*S,F=Math.ceil(E*T/8),U=Math.ceil(x*T/8),M=new Uint8Array(F),z=new Uint8Array(U),G=new DataView(k.buffer),Y=new DataView(M.buffer),Q=new DataView(z.buffer),q=!1,D=0;D<S;D++){for(var O=D*I,V=0;V<C;V++)r9(Y,HS(G,O+V,T),D*C+V,T);var J=HS(G,O+C,T);J<(1<<T)-1&&(q=!0),r9(Q,J,1*D,T)}return{colorSpace:P,colorsPerPixel:N,sMaskBitsPerComponent:q?T:void 0,colorBytes:M,alphaBytes:z,needSMask:q}}(s):function(j){var k=j.data,L=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:L,colorsPerPixel:L==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(H){for(var I=H.length,T=new Uint8Array(2*I),P=new DataView(T.buffer,T.byteOffset,T.byteLength),N=0;N<I;N++)P.setUint16(2*N,H[N],!1);return T}(k):k,needSMask:!1}}(s);var d,h,f,p=i,g=p.colorSpace,m=p.colorsPerPixel,v=p.sMaskBitsPerComponent,y=p.colorBytes,b=p.alphaBytes,w=p.needSMask,_=p.palette,B=p.mask,R=null;return n!==rr.API.image_compression.NONE&&typeof RB=="function"?(R=function(j){var k;switch(j){case rr.API.image_compression.FAST:k=11;break;case rr.API.image_compression.MEDIUM:k=13;break;case rr.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(R," /Colors ").concat(m," /BitsPerComponent ").concat(u," /Columns ").concat(a),r=Y7(y,Math.ceil(a*m*u/8),m,u,n),w&&(f=Y7(b,Math.ceil(a*v/8),1,v,n))):(d=void 0,h=void 0,r=y,w&&(f=b)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:r,index:e,filter:d,decodeParameters:h,transparency:B,palette:_,sMask:f,predictor:R,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(r){r.processGIF89A=function(e,t,n,i){var s=new ZTe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new QS(100).encode(c,100);return r.processJPEG.call(this,u,t,n,i)},r.processGIF87A=r.processGIF89A}(rr.API),Cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cl.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){vn.log("bit decode error:"+t)}},Cl.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Cl.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Cl.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Cl.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=r}},Cl.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},Cl.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Cl.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Cl.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new Cl(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new QS(100).encode(l,100);return r.processJPEG.call(this,c,t,n,i)}}(rr.API),i9.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new i9(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new QS(100).encode(l,100);return r.processJPEG.call(this,c,t,n,i)}}(rr.API),rr.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],d=n[c+1],h=n[c+2],f=n[c+3];s[o++]=u,s[o++]=d,s[o++]=h,a[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},rr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},WA=rr.API,Hb=WA.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,h=0,f=r.length,p=0,g=o[0]||l,m=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(h=d&&Jr(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,m.push((o[n]||g)/l+h)),p=n;return m},W7=WA.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return WA.processArabic&&(r=WA.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Hb.apply(this,arguments).reduce(function(s,a){return s+a},0)},q7=function(r,e,t,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(r.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(r.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(r.slice(l,s)),i},X7=function(r,e,t){t||(t={});var n,i,s,a,o,l,c,u=[],d=[u],h=t.textIndent||0,f=0,p=0,g=r.split(" "),m=Hb.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?y=y.concat(w.map(function(_,B){return(B&&_.length?`
`:"")+_})):y.push(w[0])}),g=y,l=W7.apply(this,[v,t])}for(s=0,a=g.length;s<a;s++){var b=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+f+(p=(i=Hb.apply(this,[n,t])).reduce(function(w,_){return w+_},0))>e||b){if(p>e){for(o=q7.apply(this,[n,i,e-(h+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);p=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(w,_){return w+_},0)}else u=[n];d.push(u),h=p+l,f=m}else u.push(n),h+=f+p,f=m}return c=l?function(w,_){return(_?v:"")+w.join(" ")}:function(w){return w.join(" ")},d.map(c)},WA.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(X7.apply(this,[n[o],a,s]));return c},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=r.__fontmetrics__.compress=function(h){var f,p,g,m,v=["{"];for(var y in h){if(f=h[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=a(y).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof f=="number")f<0?(g=a(f).slice(3),m="-"):(g=a(f).slice(2),m=""),g=m+g.slice(0,-1)+i[g.slice(-1)];else{if(Jr(f)!=="object")throw new Error("Don't know what to do with value type "+Jr(f)+".");g=o(f)}v.push(p+g)}return v.push("}"),v.join("")},l=r.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,m,v={},y=1,b=v,w=[],_="",B="",R=h.length-1,j=1;j<R;j+=1)(m=h[j])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(m):m=="{"?(w.push([b,g]),b={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=b,g=void 0,b=p[0]):m=="-"?y=-1:g===void 0?n.hasOwnProperty(m)?(_+=n[m],g=parseInt(_,16)*y,y=1,_=""):_+=m:n.hasOwnProperty(m)?(B+=n[m],b[g]=parseInt(B,16)*y,y=1,g=void 0,B=""):B+=m;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(rr.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(nw(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(rr),rr.API.addSvgAsImage=function(r,e,t,n,i,s,a,o){if(isNaN(e)||isNaN(t))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(pr.canvg?Promise.resolve(pr.canvg):Ga(()=>Promise.resolve().then(()=>xWe),void 0,import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,t,n,i,a,o)})},rr.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},rr.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function h(p,g){var m,v=!1;for(m=0;m<p.length;m+=1)p[m]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=o.length;for(d=0;d<f;d+=1)t[o[d]].value=t[o[d]].defaultValue,t[o[d]].explicitSet=!1}if(Jr(r)==="object"){for(i in r)if(s=r[i],h(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&h(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in t)t[p].explicitSet===!0&&(t[p].type==="name"?g.push("/"+p+" /"+t[p].value):g.push("/"+p+" "+t[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(rr.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(s){var a,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(s).sort(function(f,p){return f-p})).length;d<h;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+cp(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+cp(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+r.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+m+" 0 R"),l("/BaseFont /"+cp(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var p=c();u({data:h,addLength1:!0,objectId:p}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var m=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+cp(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+cp(o.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,p=d.fonts,g=f,m="",v=0,y="",b=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(y=o,g=f,Array.isArray(o)&&(y=o[0]),v=0;v<y.length;v+=1)p[g].metadata.hasOwnProperty("cmap")&&(a=p[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),a||y[v].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?m+=y[v]:m+="";var w="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?w=h(m,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(w=t(m,p[g])),d.isHex=!0,{text:w,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(rr),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(rr.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,u,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var w=function(H){var I=H.charCodeAt(),T=I>>8,P=g[T];return P!==void 0?d[256*P+(255&I)]:T===252||T===253?"AL":v.test(T)?"L":T===8?"R":"N"},_=function(H){for(var I,T=0;T<H.length;T++){if((I=w(H.charAt(T)))==="L")return!1;if(I==="R")return!0}return!1},B=function(H,I,T,P){var N,S,C,E,x=I[P];switch(x){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(x="AN");break;case"AL":y=!0,x="R";break;case"WS":case"BN":x="N";break;case"CS":P<1||P+1>=I.length||(N=T[P-1])!=="EN"&&N!=="AN"||(S=I[P+1])!=="EN"&&S!=="AN"?x="N":y&&(S="AN"),x=S===N?S:"N";break;case"ES":x=(N=P>0?T[P-1]:"B")==="EN"&&P+1<I.length&&I[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&T[P-1]==="EN"){x="EN";break}if(y){x="N";break}for(C=P+1,E=I.length;C<E&&I[C]==="ET";)C++;x=C<E&&I[C]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(E=I.length,C=P+1;C<E&&I[C]==="NSM";)C++;if(C<E){var F=H[P],U=F>=1425&&F<=2303||F===64286;if(N=I[C],U&&(N==="R"||N==="AL")){x="R";break}}}x=P<1||(N=I[P-1])==="B"?"N":T[P-1];break;case"B":y=!1,i=!0,x=b;break;case"S":s=!0,x="N"}return x},R=function(H,I,T){var P=H.split("");return T&&j(P,T,{hiLevel:b}),P.reverse(),I&&I.reverse(),P.join("")},j=function(H,I,T){var P,N,S,C,E,x=-1,F=H.length,U=0,M=[],z=b?f:h,G=[];for(y=!1,i=!1,s=!1,N=0;N<F;N++)G[N]=w(H[N]);for(S=0;S<F;S++){if(E=U,M[S]=B(H,G,M,S),P=240&(U=z[E][p[M[S]]]),U&=15,I[S]=C=z[U][5],P>0)if(P===16){for(N=x;N<S;N++)I[N]=1;x=-1}else x=-1;if(z[U][6])x===-1&&(x=S);else if(x>-1){for(N=x;N<S;N++)I[N]=C;x=-1}G[S]==="B"&&(I[S]=0),T.hiLevel|=C}s&&function(Y,Q,q){for(var D=0;D<q;D++)if(Y[D]==="S"){Q[D]=b;for(var O=D-1;O>=0&&Y[O]==="WS";O--)Q[O]=b}}(G,I,F)},k=function(H,I,T,P,N){if(!(N.hiLevel<H)){if(H===1&&b===1&&!i)return I.reverse(),void(T&&T.reverse());for(var S,C,E,x,F=I.length,U=0;U<F;){if(P[U]>=H){for(E=U+1;E<F&&P[E]>=H;)E++;for(x=U,C=E-1;x<C;x++,C--)S=I[x],I[x]=I[C],I[C]=S,T&&(S=T[x],T[x]=T[C],T[C]=S);U=E}U++}}},L=function(H,I,T){var P=H.split(""),N={hiLevel:b};return T||(T=[]),j(P,T,N),function(S,C,E){if(E.hiLevel!==0&&u)for(var x,F=0;F<S.length;F++)C[F]===1&&(x=m.indexOf(S[F]))>=0&&(S[F]=m[x+1])}(P,T,N),k(2,P,I,T,N),k(1,P,I,T,N),P.join("")};return this.__bidiEngine__.doBidiReorder=function(H,I,T){if(function(N,S){if(S)for(var C=0;C<N.length;C++)S[C]=C;o===void 0&&(o=_(N)),c===void 0&&(c=_(N))}(H,I),a||!l||c)if(a&&l&&o^c)b=o?1:0,H=R(H,I,T);else if(!a&&l&&c)b=o?1:0,H=L(H,I,T),H=R(H,I);else if(!a||o||l||c){if(a&&!l&&o^c)H=R(H,I),o?(b=0,H=L(H,I,T)):(b=1,H=L(H,I,T),H=R(H,I));else if(a&&o&&!l&&c)b=1,H=L(H,I,T),H=R(H,I);else if(!a&&!l&&o^c){var P=u;o?(b=1,H=L(H,I,T),b=0,u=!1,H=L(H,I,T),u=P):(b=0,H=L(H,I,T),H=R(H,I),b=1,u=!1,H=L(H,I,T),u=P,H=R(H,I))}}else b=0,H=L(H,I,T);else b=o?1:0,H=L(H,I,T);return H},this.__bidiEngine__.setOptions=function(H){H&&(a=H.isInputVisual,l=H.isOutputVisual,o=H.isInputRtl,c=H.isOutputRtl,u=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(rr),rr.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Mh(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Aje(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new eje(this.contents),this.head=new rje(this),this.name=new oje(this),this.cmap=new AZ(this),this.toUnicode={},this.hhea=new nje(this),this.maxp=new lje(this),this.hmtx=new cje(this),this.post=new sje(this),this.os2=new ije(this),this.loca=new fje(this),this.glyf=new uje(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var Xl,Mh=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),eje=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,o,l,c,u,d,h,f,p,g;for(g in f=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),a=Math.floor(d/l),u=16*f-d,(i=new Mh).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(a),i.writeShort(u),s=16*f,c=i.pos+s,o=null,p=[],t)for(h=t[g],i.writeString(g),i.writeInt(r(h)),i.writeInt(c),i.writeInt(h.length),p=p.concat(h),g==="head"&&(o=c),c+=h.length;c%4;)p.push(0),c++;return i.write(p),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=pZ.call(t);t.length%4;)t.push(0);for(s=new Mh(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),tje={}.hasOwnProperty,Gc=function(r,e){for(var t in e)tje.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};Xl=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var rje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Mh).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r}(),s9=function(){function r(e,t){var n,i,s,a,o,l,c,u,d,h,f,p,g,m,v,y,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var w,_;for(_=[],l=w=0;0<=h?w<h:w>h;l=0<=h?++w:--w)_.push(e.readUInt16());return _}(),e.pos+=2,g=function(){var w,_;for(_=[],l=w=0;0<=h?w<h:w>h;l=0<=h?++w:--w)_.push(e.readUInt16());return _}(),c=function(){var w,_;for(_=[],l=w=0;0<=h?w<h:w>h;l=0<=h?++w:--w)_.push(e.readUInt16());return _}(),u=function(){var w,_;for(_=[],l=w=0;0<=h?w<h:w>h;l=0<=h?++w:--w)_.push(e.readUInt16());return _}(),i=(this.length-e.pos+this.offset)/2,o=function(){var w,_;for(_=[],l=w=0;0<=i?w<i:w>i;l=0<=i?++w:--w)_.push(e.readUInt16());return _}(),l=v=0,b=s.length;v<b;l=++v)for(m=s[l],n=y=p=g[l];p<=m?y<=m:y>=m;n=p<=m?++y:--y)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-p)-(h-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=d}return r.encode=function(e,t){var n,i,s,a,o,l,c,u,d,h,f,p,g,m,v,y,b,w,_,B,R,j,k,L,H,I,T,P,N,S,C,E,x,F,U,M,z,G,Y,Q,q,D,O,V,J,re;switch(P=new Mh,a=Object.keys(e).sort(function(ne,se){return ne-se}),t){case"macroman":for(g=0,m=function(){var ne=[];for(p=0;p<256;++p)ne.push(0);return ne}(),y={0:0},s={},N=0,x=a.length;N<x;N++)y[O=e[i=a[N]]]==null&&(y[O]=++g),s[i]={old:e[i],new:y[e[i]]},m[i]=y[e[i]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(m),{charMap:s,subtable:P.data,maxGlyphID:g+1};case"unicode":for(I=[],d=[],b=0,y={},n={},v=c=null,S=0,F=a.length;S<F;S++)y[_=e[i=a[S]]]==null&&(y[_]=++b),n[i]={old:_,new:y[_]},o=y[_]-i,v!=null&&o===c||(v&&d.push(v),I.push(i),c=o),v=i;for(v&&d.push(v),d.push(65535),I.push(65535),L=2*(k=I.length),j=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(j/2)/Math.LN2,R=2*k-j,l=[],B=[],f=[],p=C=0,U=I.length;C<U;p=++C){if(H=I[p],u=d[p],H===65535){l.push(0),B.push(0);break}if(H-(T=n[H].new)>=32768)for(l.push(0),B.push(2*(f.length+k-p)),i=E=H;H<=u?E<=u:E>=u;i=H<=u?++E:--E)f.push(n[i].new);else l.push(T-H),B.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*k+2*f.length),P.writeUInt16(0),P.writeUInt16(L),P.writeUInt16(j),P.writeUInt16(h),P.writeUInt16(R),q=0,M=d.length;q<M;q++)i=d[q],P.writeUInt16(i);for(P.writeUInt16(0),D=0,z=I.length;D<z;D++)i=I[D],P.writeUInt16(i);for(V=0,G=l.length;V<G;V++)o=l[V],P.writeUInt16(o);for(J=0,Y=B.length;J<Y;J++)w=B[J],P.writeUInt16(w);for(re=0,Q=f.length;re<Q;re++)g=f[re],P.writeUInt16(g);return{charMap:n,subtable:P.data,maxGlyphID:b+1}}},r}(),AZ=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new s9(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=s9.encode(e,t),(i=new Mh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r}(),nje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),ije=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),sje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}.call(this)}},r}(),aje=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,o,l,c,u,d,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=u=0,d=n.length;u<d;s=++u)i=n[s],e.pos=i.offset,c=e.readString(i.length),a=new aje(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},r}(),lje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),cje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],t=c=0;0<=i?c<i:c>i;t=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=function(){var c,u,d,h;for(h=[],c=0,u=(d=this.metrics).length;c<u;c++)s=d[c],h.push(s.advance);return h}.call(this),n=this.widths[this.widths.length-1],l=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)l.push(this.widths.push(n));return l},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),pZ=[].slice,uje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,o,l,c,u,d;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new Mh(t.read(i))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new hje(o,c,d,l,u):new dje(o,a,c,d,l,u),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=t.length;o<l;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r}(),dje=function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),hje=function(){function r(e,t,n,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Mh(pZ.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),fje=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gc(r,Xl),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}.call(this):function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}.call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},r}(),Aje=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))n=l[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,o,l,c,u,d,h,f,p,g,m,v;for(i in n=AZ.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},v=n.charMap)f[(l=v[i]).old]=l.new;for(p in h=n.maxGlyphID,a)p in f||(f[p]=h++);return u=function(y){var b,w;for(b in w={},y)w[y[b]]=b;return w}(f),d=Object.keys(u).sort(function(y,b){return y-b}),g=function(){var y,b,w;for(w=[],y=0,b=d.length;y<b;y++)o=d[y],w.push(u[o]);return w}(),s=this.font.glyf.encode(a,g,f),c=this.font.loca.encode(s.offsets,g),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},r}();rr.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)n=t[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();function mZ(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=o*l,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof r=="string"?r.split(u):r,h=d.length||1),t+=o*(2-s),n.valign==="middle"?t-=h/2*c:n.valign==="bottom"&&(t-=h*c),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),d&&h>=1){for(var p=0;p<d.length;p++)i.text(d[p],e-i.getStringUnitWidth(d[p])*f,t),t+=c;return i}e-=i.getStringUnitWidth(r)*f}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var a9={},rm=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:a9=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var u=r.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=r.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=r.unifyColor(e.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return a9||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),VB=function(r,e){return VB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},VB(r,e)};function gZ(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");VB(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var vZ=function(r){gZ(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e}(Array);function pje(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function mje(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function e5(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function yZ(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=bZ(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function bZ(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function l4(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function xZ(r,e){var t=l4(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function gje(r,e,t,n,i){var s={},a=1.3333333333333333,o=$S(e,function(b){return i.getComputedStyle(b).backgroundColor});o!=null&&(s.fillColor=o);var l=$S(e,function(b){return i.getComputedStyle(b).color});l!=null&&(s.textColor=l);var c=yje(n,t);c&&(s.cellPadding=c);var u="borderTopColor",d=a*t,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/d;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var p=$S(e,function(b){return i.getComputedStyle(b)[u]});p!=null&&(s.lineColor=p);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var m=parseInt(n.fontSize||"");isNaN(m)||(s.fontSize=m/a);var v=vje(n);v&&(s.fontStyle=v);var y=(n.fontFamily||"").toLowerCase();return r.indexOf(y)!==-1&&(s.font=y),s}function vje(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function $S(r,e){var t=wZ(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function wZ(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:wZ(r.parentElement,e):t}function yje(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(o){return parseInt(o||"0")/n}),a=l4(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function CZ(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var l=Object.keys(r.getFontList()),c=r.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:u,body:d,foot:h};for(var f=0;f<o.rows.length;f++){var p=o.rows[f],g=(a=(s=p?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),m=bje(l,c,t,p,n,i);m&&(g==="thead"?u.push(m):g==="tfoot"?h.push(m):d.push(m))}return{head:u,body:d,foot:h}}function bje(r,e,t,n,i,s){for(var a=new vZ(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=t.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=gje(r,l,e,c,t)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:xje(l)})}}var d=t.getComputedStyle(n);if(a.length>0&&(i||d.display!=="none"))return a}function xje(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function wje(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Fu(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function SZ(r,e){var t=new rm(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();wje(i,n,e);var s=Fu({},i,n,e),a;typeof window<"u"&&(a=window);var o=Cje(i,n,e),l=Sje(i,n,e),c=Eje(t,s),u=Nje(t,s,a);return{id:e.tableId,content:u,hooks:l,styles:o,settings:c}}function Cje(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=r[l],u=e[l],d=t[l];n.columnStyles=Fu({},c,u,d)}else{var h=[r,e,t],f=h.map(function(p){return p[l]||{}});n[l]=Fu({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function Sje(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Eje(r,e){var t,n,i,s,a,o,l,c,u,d,h,f,p=l4(e.margin,40/r.scaleFactor()),g=(t=_je(r,e.startY))!==null&&t!==void 0?t:p.top,m;e.showFoot===!0?m="everyPage":e.showFoot===!1?m="never":m=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var y=(s=e.useCss)!==null&&s!==void 0?s:!1,b=e.theme||(y?"plain":"striped"),w=!!e.horizontalPageBreak,_=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:y,theme:b,startY:g,margin:p,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:m,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:w,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function _je(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&t?.finalY!=null?t.finalY+20/n:null}function Nje(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var o=CZ(r,e.html,t,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Bje(n,i,s);return{columns:l,head:n,body:i,foot:s}}function Bje(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=o?.colSpan||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var GB=function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r}(),kje=function(r){gZ(e,r);function e(t,n,i,s,a,o){var l=r.call(this,t,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(GB),Tje=function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var o=0,l=t;o<l.length;o++){var c=l[o],u=new kje(e,this,n,i,s,a),d=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new GB(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new GB(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r}(),EZ=function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof vZ&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=t.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>i?c:i},0)},r}(),_Z=function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=l4(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r}(),jje=function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r}();function Fje(r,e){Ije(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=KB(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=KB(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Oje(e),Pje(e,r),Mje(e)}function Ije(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=xZ(r,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(r,u,c,s,l,null);var d=c.padding("horizontal");c.contentWidth=e5(c.text,c.styles,r)+d;var h=e5(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,r);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/t;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function KB(r,e,t){for(var n=e,i=r.reduce(function(f,p){return f+p.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],o=a.wrappedWidth/i,l=n*o,c=a.width+l,u=t(a),d=c<u?u:c;e-=d-a.width,a.width=d}if(e=Math.round(e*1e10)/1e10,e){var h=r.filter(function(f){return e<0?f.width>t(f):!0});h.length&&(e=KB(h,e,t))}return e}function Mje(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=r.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(t>1)t--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,t=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var d=n.length-i,h=u.rowSpan>d?d:u.rowSpan;e[l.index]={cell:u,left:h,row:s}}}}}function Oje(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,o=0;o<r.columns.length;o++){var l=r.columns[o];if(a-=1,a>1&&r.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(a=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function Pje(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,o=r.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=o9(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=o9(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&t.count*t.height<h*c.rowSpan?t={height:h,count:c.rowSpan}:t&&t.count>0&&t.height>h&&(h=t.height),h>s.height&&(s.height=h)}}t.count--}}function o9(r,e,t,n,i){return r.map(function(s){return Rje(s,e,t,n,i)})}function Rje(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=e5(r,t,n))return r;for(;e<e5(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function NZ(r,e){var t=new rm(r),n=Lje(e,t.scaleFactor()),i=new Tje(e,n);return Fje(t,i),t.applyStyles(t.userStyles),i}function Lje(r,e){var t=r.content,n=Uje(t.columns);if(t.head.length===0){var i=l9(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=l9(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:zS("head",t.head,n,a,s,e),body:zS("body",t.body,n,a,s,e),foot:zS("foot",t.foot,n,a,s,e)}}function zS(r,e,t,n,i,s){var a={},o=e.map(function(l,c){for(var u=0,d={},h=0,f=0,p=0,g=t;p<g.length;p++){var m=g[p];if(a[m.index]==null||a[m.index].left===0)if(f===0){var v=void 0;Array.isArray(l)?v=l[m.index-h-u]:v=l[m.dataKey];var y={};typeof v=="object"&&!Array.isArray(v)&&(y=v?.styles||{});var b=Hje(r,m,c,i,n,s,y),w=new _Z(v,b,r);d[m.dataKey]=w,d[m.index]=w,f=w.colSpan-1,a[m.index]={left:w.rowSpan-1,times:f}}else f--,h++;else a[m.index].left--,f=a[m.index].times,u++}return new EZ(l,c,r,d)});return o}function l9(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=Dje(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Dje(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function Uje(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new jje(i,e,t)})}function Hje(r,e,t,n,i,s,a){var o=mje(n),l;r==="head"?l=i.headStyles:r==="body"?l=i.bodyStyles:r==="foot"&&(l=i.footStyles);var c=Fu({},o.table,o[r],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=r==="body"?u:{},h=r==="body"&&t%2===0?Fu({},o.alternateRow,i.alternateRowStyles):{},f=pje(s),p=Fu({},f,c,h,d);return Fu(p,a)}function Qje(r,e,t){var n;t===void 0&&(t={});var i=xZ(r,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var f=e.columns.find(function(p){return p.dataKey===h||p.index===h});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var c=!0,u=(n=t?.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(s.has(u)){u++;continue}var d=e.columns[u].wrappedWidth;if(c||i>=d)c=!1,a.push(u),o.push(e.columns[u]),i-=d;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function $je(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=Qje(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function BZ(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(t.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(h,f){return h+f.height},0);o+=c}var u=new rm(r);(t.pageBreak==="always"||t.startY!=null&&o>u.pageSize().height)&&(TZ(u),s.y=i.top),e.callWillDrawPageHooks(u,s);var d=Fu({},s);e.startPageNumber=u.pageNumber(),t.horizontalPageBreak?zje(u,e,d,s):(u.applyStyles(u.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(h){return nd(u,e,h,s,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(h,f){var p=f===e.body.length-1;t5(u,e,h,p,d,s,e.columns)}),u.applyStyles(u.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(h){return nd(u,e,h,s,e.columns)})),yZ(u,e,d,s),e.callEndPageHooks(u,s),e.finalY=s.y,r.lastAutoTable=e,u.applyStyles(u.userStyles)}function zje(r,e,t,n){var i=$je(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){r.applyStyles(r.userStyles),u>0?Kg(r,e,t,n,c.columns,!0):c9(r,e,n,c.columns),Vje(r,e,t,n,c.columns),VS(r,e,n,c.columns)});else for(var a=-1,o=i[0],l=function(){var c=a;if(o){r.applyStyles(r.userStyles);var u=o.columns;a>=0?Kg(r,e,t,n,u,!0):c9(r,e,n,u),c=u9(r,e,a+1,n,u),VS(r,e,n,u)}var d=c-a;i.slice(1).forEach(function(h){r.applyStyles(r.userStyles),Kg(r,e,t,n,h.columns,!0),u9(r,e,a+1,n,h.columns,d),VS(r,e,n,h.columns)}),a=c};a<e.body.length-1;)l()}function c9(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return nd(r,e,s,t,n)})}function Vje(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;t5(r,e,s,o,t,n,i)})}function u9(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s??e.body.length;var a=Math.min(t+s,e.body.length),o=-1;return e.body.slice(t,a).forEach(function(l,c){var u=t+c===e.body.length-1,d=kZ(r,e,u,n);l.canEntireRowFit(d,i)&&(nd(r,e,l,n,i),o=t+c)}),o}function VS(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return nd(r,e,s,t,n)})}function Gje(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function Kje(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,o=t.columns;a<o.length;a++){var l=o[a],c=r.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new _Z(c.raw,c.styles,c.section);u=Fu(u,c),u.text=[];var d=Gje(c,e,n);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,f),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>r.height&&(r.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,f),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var p=new EZ(r.raw,-1,r.section,i,!0);p.height=s;for(var g=0,m=t.columns;g<m.length;g++){var l=m[g],u=p.cells[l.index];u&&(u.height=p.height);var c=r.cells[l.index];c&&(c.height=r.height)}return p}function Wje(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,r),c=l<t;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(n.columns),d=e.getMaxCellHeight(n.columns)>o;return d?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function t5(r,e,t,n,i,s,a){var o=kZ(r,e,n,s);if(t.canEntireRowFit(o,a))nd(r,e,t,s,a);else if(Wje(r,t,o,e)){var l=Kje(t,o,e,r);nd(r,e,t,s,a),Kg(r,e,i,s,a),t5(r,e,l,n,i,s,a)}else Kg(r,e,i,s,a),t5(r,e,t,n,i,s,a)}function nd(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=t.cells[o.index];if(!l){n.x+=o.width;continue}r.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(r,e.hooks.willDrawCell,l,t,o,n);if(c===!1){n.x+=o.width;continue}qje(r,l,n);var u=l.getTextPos();mZ(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,l,t,o,n),n.x+=o.width}n.y+=t.height}function qje(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=bZ(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),Xje(r,e,t,n.lineWidth))}function Xje(r,e,t,n){var i,s,a,o;n.top&&(i=t.x,s=t.y,a=t.x+e.width,o=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,o=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=t.x,s=t.y,a=t.x,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(c,u,d,h,f){r.getDocument().setLineWidth(c),r.getDocument().line(u,d,h,f,"S")}}function kZ(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function Kg(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return nd(r,e,o,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;yZ(r,e,t,n),TZ(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return nd(r,e,o,n,i)}),r.applyStyles(r.userStyles))}function TZ(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function Yje(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=SZ(this,n),s=NZ(this,i);return BZ(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){mZ(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return rm.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){rm.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new rm(this),s=CZ(i,e,window,t,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var GS;function Jje(r,e){var t=SZ(r,e),n=NZ(r,t);BZ(r,n)}try{if(typeof window<"u"&&window){var d9=window,h9=d9.jsPDF||((GS=d9.jspdf)===null||GS===void 0?void 0:GS.jsPDF);h9&&Yje(h9)}}catch(r){console.error("Could not apply autoTable plugin",r)}class Zje{static generatePDF(e){const t=new rr({orientation:"portrait",unit:"mm",format:"a4"}),n=t.internal.pageSize.getWidth();let i=20;const s=[30,58,138],a=[22,163,74],o=[220,38,38],l=[234,179,8];t.setFillColor(...s),t.rect(0,0,n,40,"F"),t.setTextColor(255,255,255),t.setFontSize(22),t.setFont("helvetica","bold"),t.text("SCRUTIX",14,18),t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Rapport d'Audit Bancaire",14,28),t.setFontSize(10),t.text(`Gnr le ${fr(new Date)}`,n-14,18,{align:"right"}),i=55,t.setTextColor(0,0,0),t.setFontSize(18),t.setFont("helvetica","bold"),t.text(e.title,14,i),i+=10,t.setFontSize(12),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text(`Client: ${e.clientName}`,14,i),i+=6,t.text(`Priode: ${fr(e.period.start)} - ${fr(e.period.end)}`,14,i),i+=15;const c=(n-42)/4,u=25,d=i;t.setFillColor(254,243,199),t.roundedRect(14,d,c,u,3,3,"F"),t.setFontSize(10),t.setTextColor(100,100,100),t.text("Anomalies",14+c/2,d+8,{align:"center"}),t.setFontSize(16),t.setFont("helvetica","bold"),t.setTextColor(...l),t.text(String(e.statistics.totalAnomalies),14+c/2,d+19,{align:"center"}),t.setFillColor(220,252,231),t.roundedRect(14+c+4,d,c,u,3,3,"F"),t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text("conomies",14+c+4+c/2,d+8,{align:"center"}),t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(...a),t.text(kt(e.statistics.potentialSavings,"XAF"),14+c+4+c/2,d+19,{align:"center"}),t.setFillColor(254,226,226),t.roundedRect(14+(c+4)*2,d,c,u,3,3,"F"),t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text("Critiques",14+(c+4)*2+c/2,d+8,{align:"center"}),t.setFontSize(16),t.setFont("helvetica","bold"),t.setTextColor(...o);const h=(e.statistics.anomaliesBySeverity[je.CRITICAL]||0)+(e.statistics.anomaliesBySeverity[je.HIGH]||0);t.text(String(h),14+(c+4)*2+c/2,d+19,{align:"center"});const f=e.summary.status==="CRITICAL"?o:e.summary.status==="WARNING"?l:a,p=e.summary.status==="CRITICAL"?[254,226,226]:e.summary.status==="WARNING"?[254,243,199]:[220,252,231];t.setFillColor(p[0],p[1],p[2]),t.roundedRect(14+(c+4)*3,d,c,u,3,3,"F"),t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text("Statut",14+(c+4)*3+c/2,d+8,{align:"center"}),t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(...f);const g=e.summary.status==="CRITICAL"?"CRITIQUE":e.summary.status==="WARNING"?"ATTENTION":"OK";t.text(g,14+(c+4)*3+c/2,d+19,{align:"center"}),i=d+u+15,t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(...s),t.text("Points cls",14,i),i+=8,t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(60,60,60),e.summary.keyFindings.forEach(y=>{t.text(` ${y}`,18,i),i+=6}),i+=10,t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(...s),t.text("Dtail des anomalies",14,i),i+=5;const m=e.anomalies.map((y,b)=>[String(b+1),Wa[y.type],Sv[y.severity],kt(y.amount,"XAF"),`${(y.confidence*100).toFixed(0)}%`,y.recommendation.substring(0,50)+"..."]);if(Jje(t,{startY:i,head:[["#","Type","Svrit","Montant","Confiance","Description"]],body:m,theme:"striped",headStyles:{fillColor:s,textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},columnStyles:{0:{cellWidth:10},1:{cellWidth:35},2:{cellWidth:25},3:{cellWidth:30},4:{cellWidth:20},5:{cellWidth:"auto"}},margin:{left:14,right:14}}),i=t.lastAutoTable.finalY+15,i>t.internal.pageSize.getHeight()-60&&(t.addPage(),i=20),t.setFontSize(14),t.setFont("helvetica","bold"),t.setTextColor(...s),t.text("Recommandations",14,i),i+=8,t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(60,60,60),e.summary.recommendations.forEach((y,b)=>{const w=t.splitTextToSize(`${b+1}. ${y}`,n-28);t.text(w,14,i),i+=w.length*5+3}),e.includeAIAnalysis&&e.aiSummary){i+=10,i>t.internal.pageSize.getHeight()-40&&(t.addPage(),i=20),t.setFillColor(243,232,255),t.roundedRect(14,i-5,n-28,30,3,3,"F"),t.setFontSize(12),t.setFont("helvetica","bold"),t.setTextColor(126,34,206),t.text(" Analyse IA",18,i+5),t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(88,28,135);const y=t.splitTextToSize(e.aiSummary,n-36);t.text(y.slice(0,3),18,i+14)}const v=t.getNumberOfPages();for(let y=1;y<=v;y++)t.setPage(y),t.setFontSize(8),t.setTextColor(150,150,150),t.text(`Page ${y} / ${v} - Scrutix  ${new Date().getFullYear()} - Document confidentiel`,n/2,t.internal.pageSize.getHeight()-10,{align:"center"});return t.output("blob")}static async generateExcel(e){const t=new vB.Workbook;t.creator="Scrutix",t.created=new Date;const n=t.addWorksheet("Rsum");n.getCell("A1").value="RAPPORT D'AUDIT BANCAIRE",n.getCell("A1").font={bold:!0,size:16},n.mergeCells("A1:B1"),n.getCell("A3").value="Client",n.getCell("B3").value=e.clientName,n.getCell("A4").value="Priode",n.getCell("B4").value=`${fr(e.period.start)} - ${fr(e.period.end)}`,n.getCell("A5").value="Date de gnration",n.getCell("B5").value=fr(new Date),n.getCell("A7").value="STATISTIQUES",n.getCell("A7").font={bold:!0},n.getCell("A8").value="Anomalies dtectes",n.getCell("B8").value=e.statistics.totalAnomalies,n.getCell("A9").value="conomies potentielles",n.getCell("B9").value=e.statistics.potentialSavings,n.getCell("B9").numFmt='#,##0" FCFA"',n.getCell("A10").value="Taux d'anomalie",n.getCell("B10").value=`${e.statistics.anomalyRate.toFixed(1)}%`,n.getCell("A11").value="Statut",n.getCell("B11").value=e.summary.status;let i=13;n.getCell(`A${i}`).value="POINTS CLS",n.getCell(`A${i}`).font={bold:!0},i++,e.summary.keyFindings.forEach(l=>{n.getCell(`A${i}`).value=` ${l}`,i++}),i+=2,n.getCell(`A${i}`).value="RECOMMANDATIONS",n.getCell(`A${i}`).font={bold:!0},i++,e.summary.recommendations.forEach((l,c)=>{n.getCell(`A${i}`).value=`${c+1}. ${l}`,i++}),n.getColumn("A").width=25,n.getColumn("B").width=50;const s=t.addWorksheet("Anomalies");s.columns=[{header:"#",key:"num",width:5},{header:"Type",key:"type",width:25},{header:"Svrit",key:"severity",width:12},{header:"Montant (FCFA)",key:"amount",width:18},{header:"Confiance",key:"confidence",width:12},{header:"Description",key:"description",width:50},{header:"Transactions",key:"txCount",width:12},{header:"Date dtection",key:"date",width:15}],s.getRow(1).font={bold:!0},s.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E3A8A"}},s.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},e.anomalies.forEach((l,c)=>{s.addRow({num:c+1,type:Wa[l.type],severity:Sv[l.severity],amount:l.amount,confidence:`${(l.confidence*100).toFixed(0)}%`,description:l.recommendation,txCount:l.transactions.length,date:fr(l.detectedAt)})});const a=t.addWorksheet("Transactions");a.columns=[{header:"Anomalie",key:"anomaly",width:25},{header:"Date",key:"date",width:12},{header:"Description",key:"description",width:40},{header:"Montant (FCFA)",key:"amount",width:18},{header:"Solde",key:"balance",width:18},{header:"Rfrence",key:"reference",width:15}],a.getRow(1).font={bold:!0},a.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF1E3A8A"}},a.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},e.anomalies.forEach(l=>{l.transactions.forEach(c=>{a.addRow({anomaly:Wa[l.type],date:fr(c.date),description:c.description,amount:c.amount,balance:c.balance,reference:c.reference||""})})});const o=await t.xlsx.writeBuffer();return new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}static downloadBlob(e,t){const n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}static downloadPDF(e,t){const n=this.generatePDF(e),i=t||`rapport-audit-${e.clientName.replace(/\s+/g,"-").toLowerCase()}-${fr(new Date).replace(/\//g,"-")}.pdf`;this.downloadBlob(n,i)}static async downloadExcel(e,t){const n=await this.generateExcel(e),i=t||`rapport-audit-${e.clientName.replace(/\s+/g,"-").toLowerCase()}-${fr(new Date).replace(/\//g,"-")}.xlsx`;this.downloadBlob(n,i)}}const Go="1.0.0";class El{static exportSettings(){return{version:"1.0",exportDate:new Date().toISOString(),appVersion:Go,type:"settings",data:{settings:Ps.getState(),banks:Ou.getState()}}}static exportAll(){return{version:"1.0",exportDate:new Date().toISOString(),appVersion:Go,type:"full",data:{settings:Ps.getState(),transactions:Tc.getState(),analysis:jc.getState(),clients:nl.getState(),banks:Ou.getState(),billing:Qg.getState(),reports:yO.getState()}}}static downloadBackup(e,t){const n=e.type==="settings"?`scrutix-settings-${new Date().toISOString().slice(0,10)}.json`:`scrutix-backup-${new Date().toISOString().slice(0,10)}.json`,i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=t||n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}static async readBackupFile(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=s=>{try{const a=s.target?.result,o=JSON.parse(a);if(!o.version||!o.exportDate||!o.data)throw new Error("Format de fichier invalide");t(o)}catch{n(new Error("Fichier de sauvegarde invalide ou corrompu"))}},i.onerror=()=>{n(new Error("Erreur de lecture du fichier"))},i.readAsText(e)})}static restoreSettings(e){const t=e.data.settings,n="banks"in e.data?e.data.banks:null;if(t){const{organization:i,thresholds:s,bankConditions:a,preferences:o,regulatorySources:l}=t;Ps.setState({organization:i,thresholds:s,bankConditions:a,preferences:o,regulatorySources:l})}n&&Ou.setState({banks:n.banks})}static restoreAll(e){this.restoreSettings(e),e.data.transactions&&Tc.setState({transactions:e.data.transactions.transactions,clients:e.data.transactions.clients,accounts:e.data.transactions.accounts}),e.data.analysis&&jc.setState({currentAnalysis:e.data.analysis.currentAnalysis,analysisHistory:e.data.analysis.analysisHistory}),e.data.clients&&nl.setState({clients:e.data.clients.clients,statements:e.data.clients.statements}),e.data.billing&&Qg.setState({invoices:e.data.billing.invoices,payments:e.data.billing.payments,pricingPlans:e.data.billing.pricingPlans}),e.data.reports&&yO.setState({currentDraft:e.data.reports.currentDraft,generatedReports:e.data.reports.generatedReports})}static resetAll(){["scrutix-transactions","scrutix-analysis","scrutix-settings","scrutix-clients","scrutix-banks","scrutix-billing","scrutix-reports","scrutix-app"].forEach(t=>localStorage.removeItem(t)),window.location.reload()}static checkAndMigrate(){const e=localStorage.getItem("scrutix-app-version");return e?e!==Go?(this.migrateData(e,Go),localStorage.setItem("scrutix-app-version",Go),{migrated:!0,fromVersion:e,toVersion:Go}):{migrated:!1,fromVersion:e,toVersion:Go}:(localStorage.setItem("scrutix-app-version",Go),{migrated:!1,fromVersion:null,toVersion:Go})}static migrateData(e,t){console.log(`Migration des donnes: ${e} -> ${t}`)}static getAppVersion(){return Go}static getStoredVersion(){return localStorage.getItem("scrutix-app-version")}static getDataStats(){const e=Tc.getState().transactions,t=jc.getState(),n=nl.getState().clients,i=Qg.getState().invoices,s=Ps.getState().cloudBackup;return{transactionsCount:e.length,anomaliesCount:t.currentAnalysis?.anomalies.length||0,clientsCount:n.length,invoicesCount:i.length,lastBackupDate:s.lastBackupAt}}}const WB={haiku:{modelId:"claude-3-haiku-20240307",displayName:"Claude 3 Haiku",tier:"haiku",inputCostPer1M:.25,outputCostPer1M:1.25,maxTokens:4096,temperature:.2,description:"Rapide et economique pour les taches simples"},sonnet:{modelId:"claude-sonnet-4-20250514",displayName:"Claude Sonnet 4",tier:"sonnet",inputCostPer1M:3,outputCostPer1M:15,maxTokens:8192,temperature:.3,description:"Equilibre precision/cout pour analyses complexes"},opus:{modelId:"claude-opus-4-1-20250414",displayName:"Claude Opus 4",tier:"opus",inputCostPer1M:15,outputCostPer1M:75,maxTokens:8192,temperature:.4,description:"Maximum de precision pour rapports et contestations"}},e8e=[{module:"doublons",tier:"haiku",description:"Detection de transactions en double",avgInputTokens:2e3,avgOutputTokens:500},{module:"parsing",tier:"haiku",description:"Extraction et structuration des donnees",avgInputTokens:3e3,avgOutputTokens:1e3},{module:"conformite_ohada",tier:"haiku",description:"Verification conformite plan comptable OHADA",avgInputTokens:1500,avgOutputTokens:800},{module:"rapprochement",tier:"haiku",description:"Rapprochement bancaire automatique",avgInputTokens:4e3,avgOutputTokens:1500},{module:"tresorerie",tier:"haiku",description:"Analyse des flux de tresorerie",avgInputTokens:2500,avgOutputTokens:800},{module:"categorisation",tier:"haiku",description:"Categorisation automatique des transactions",avgInputTokens:3e3,avgOutputTokens:1200}],t8e=[{module:"frais_bancaires",tier:"sonnet",description:"Analyse des frais et detection surfacturation",avgInputTokens:4e3,avgOutputTokens:2e3},{module:"calcul_agios",tier:"sonnet",description:"Verification calcul interets (methode Hambourg)",avgInputTokens:5e3,avgOutputTokens:2500},{module:"dates_valeur",tier:"sonnet",description:"Controle dates valeur vs reglementation CEMAC/UEMOA",avgInputTokens:3500,avgOutputTokens:1800},{module:"aml",tier:"sonnet",description:"Detection patterns blanchiment (AML/CFT)",avgInputTokens:6e3,avgOutputTokens:3e3},{module:"operations_suspectes",tier:"sonnet",description:"Identification operations atypiques",avgInputTokens:5e3,avgOutputTokens:2500},{module:"fraude",tier:"sonnet",description:"Detection patterns de fraude",avgInputTokens:5500,avgOutputTokens:2800}],r8e=[{module:"rapport_final",tier:"opus",description:"Generation rapport d'audit complet",avgInputTokens:8e3,avgOutputTokens:6e3},{module:"contestation_banque",tier:"opus",description:"Redaction argumentaire juridique de contestation",avgInputTokens:6e3,avgOutputTokens:4e3},{module:"synthese_client",tier:"opus",description:"Synthese executive pour le client",avgInputTokens:5e3,avgOutputTokens:3e3},{module:"chat",tier:"opus",description:"Assistant conversationnel Paloma",avgInputTokens:2e3,avgOutputTokens:1e3}],Wg={...Object.fromEntries(e8e.map(r=>[r.module,r])),...Object.fromEntries(t8e.map(r=>[r.module,r])),...Object.fromEntries(r8e.map(r=>[r.module,r]))},KS={doublons:"haiku",parsing:"haiku",conformite_ohada:"haiku",rapprochement:"haiku",tresorerie:"haiku",categorisation:"haiku",frais_bancaires:"sonnet",calcul_agios:"sonnet",dates_valeur:"sonnet",aml:"sonnet",operations_suspectes:"sonnet",fraude:"sonnet",rapport_final:"opus",contestation_banque:"opus",synthese_client:"opus",chat:"opus"},J0=615;class n8e{usageHistory=[];getModelForModule(e){const t=KS[e];return WB[t]}getTierForModule(e){return KS[e]}getModelIdForModule(e){return this.getModelForModule(e).modelId}getModuleConfig(e){return Wg[e]}getModulesByTier(e){return Object.values(Wg).filter(t=>t.tier===e)}estimateCost(e,t,n){const i=this.getModuleConfig(e),s=this.getModelForModule(e),a=t??i.avgInputTokens,o=n??i.avgOutputTokens,l=a/1e6*s.inputCostPer1M,c=o/1e6*s.outputCostPer1M,u=l+c;return{module:e,model:i.tier,inputTokens:a,outputTokens:o,costUSD:u,costXAF:Math.round(u*J0)}}estimateBatchCost(e){const t=e.map(s=>this.estimateCost(s)),n={haiku:{count:0,costUSD:0},sonnet:{count:0,costUSD:0},opus:{count:0,costUSD:0}};for(const s of t)n[s.model].count++,n[s.model].costUSD+=s.costUSD;const i=t.reduce((s,a)=>s+a.costUSD,0);return{modules:t,totalCostUSD:i,totalCostXAF:Math.round(i*J0),breakdown:n}}estimateFullAnalysisCost(){const t=Object.keys(Wg).filter(n=>!["chat","rapport_final","contestation_banque","synthese_client"].includes(n));return this.estimateBatchCost(t)}recordUsage(e,t,n){const i=this.getModelForModule(e),s=t/1e6*i.inputCostPer1M,a=n/1e6*i.outputCostPer1M;this.usageHistory.push({module:e,inputTokens:t,outputTokens:n,costUSD:s+a,timestamp:new Date})}getUsageStats(e){const t=e?this.usageHistory.filter(l=>l.timestamp>=e):this.usageHistory,n={},i={haiku:{calls:0,costUSD:0},sonnet:{calls:0,costUSD:0},opus:{calls:0,costUSD:0}};let s=0,a=0,o=0;for(const l of t){s+=l.inputTokens,a+=l.outputTokens,o+=l.costUSD,n[l.module]||(n[l.module]={calls:0,costUSD:0}),n[l.module].calls++,n[l.module].costUSD+=l.costUSD;const c=KS[l.module];i[c].calls++,i[c].costUSD+=l.costUSD}return{totalCalls:t.length,totalInputTokens:s,totalOutputTokens:a,totalCostUSD:o,totalCostXAF:Math.round(o*J0),byModule:n,byTier:i}}clearUsageHistory(){this.usageHistory=[]}getRecommendedParams(e){const t=this.getModelForModule(e),n=this.getModuleConfig(e);return{modelId:t.modelId,maxTokens:Math.min(t.maxTokens,n.avgOutputTokens*2),temperature:t.temperature}}formatCost(e){const t=Math.round(e*J0);return t<1?"< 1 FCFA":`${t.toLocaleString("fr-FR")} FCFA`}compareTierCosts(e){const t=this.getModuleConfig(e),n=t.avgInputTokens,i=t.avgOutputTokens,s={haiku:{costUSD:0,costXAF:0,ratio:1},sonnet:{costUSD:0,costXAF:0,ratio:1},opus:{costUSD:0,costXAF:0,ratio:1}};for(const o of["haiku","sonnet","opus"]){const l=WB[o],c=n/1e6*l.inputCostPer1M,u=i/1e6*l.outputCostPer1M;s[o].costUSD=c+u,s[o].costXAF=Math.round(s[o].costUSD*J0)}const a=s.haiku.costUSD;return a>0&&(s.haiku.ratio=1,s.sonnet.ratio=Math.round(s.sonnet.costUSD/a),s.opus.ratio=Math.round(s.opus.costUSD/a)),s}}let WS=null;function i8e(){return WS||(WS=new n8e),WS}const s8e={detection:["doublons","frais_bancaires","operations_suspectes","fraude","aml"],verification:["calcul_agios","dates_valeur","conformite_ohada"],analyse:["tresorerie","rapprochement","categorisation"],rapports:["rapport_final","contestation_banque","synthese_client"],autre:["parsing","chat"]},a8e=50*1024*1024;function jZ({onImportComplete:r,clientId:e="default",bankCode:t="UNKNOWN",accountNumber:n=""}){const[i,s]=K.useState([]),[a,o]=K.useState(!1),l=K.useCallback(async g=>{const m=Array.from(g).map(v=>v.size>a8e?{file:v,status:"error",progress:100,error:`Fichier trop volumineux (${nD(v.size)}). Maximum: 50 MB`}:{file:v,status:"idle",progress:0});s(v=>[...v,...m]);for(let v=0;v<m.length;v++){const y=m[v];if(y.status!=="error"){s(b=>b.map(w=>w.file===y.file?{...w,status:"parsing",progress:50}:w));try{const b=await $Be.parseFile(y.file,{clientId:e,bankCode:t,accountNumber:n});if(s(w=>w.map(_=>_.file===y.file?{..._,status:b.success?"success":"error",progress:100,result:b,error:b.errors.length>0?b.errors[0].message:void 0}:_)),b.success&&b.transactions.length>0){const w=b.transactions.map(L=>new Date(L.date)),_=new Date(Math.min(...w.map(L=>L.getTime()))),B=new Date(Math.max(...w.map(L=>L.getTime()))),R=y.file.name.split(".").pop()?.toLowerCase(),k=R==="csv"?"csv":R==="pdf"?"pdf":["jpg","jpeg","png","webp","bmp","tiff","tif"].includes(R||"")?"image":"excel";r({transactions:b.transactions,fileName:y.file.name,fileType:k,periodStart:_,periodEnd:B})}}catch(b){s(w=>w.map(_=>_.file===y.file?{..._,status:"error",progress:100,error:b instanceof Error?b.message:"Erreur inconnue"}:_))}}}},[e,t,n,r]),c=K.useCallback(g=>{g.preventDefault(),o(!1),g.dataTransfer.files.length>0&&l(g.dataTransfer.files)},[l]),u=K.useCallback(g=>{g.preventDefault(),o(!0)},[]),d=K.useCallback(g=>{g.preventDefault(),o(!1)},[]),h=K.useCallback(g=>{g.target.files&&g.target.files.length>0&&l(g.target.files)},[l]),f=g=>{s(m=>m.filter(v=>v.file!==g))},p=g=>{const m=g.name.split(".").pop()?.toLowerCase();return m==="csv"?A.jsx(Zr,{className:"w-8 h-8 text-green-500"}):m==="xlsx"||m==="xls"?A.jsx(wle,{className:"w-8 h-8 text-blue-500"}):["jpg","jpeg","png","webp","bmp","tiff","tif"].includes(m||"")?A.jsx(SV,{className:"w-8 h-8 text-purple-500"}):m==="pdf"?A.jsx(Zr,{className:"w-8 h-8 text-red-500"}):A.jsx(Zr,{className:"w-8 h-8 text-primary-400"})};return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{onDrop:c,onDragOver:u,onDragLeave:d,className:`
          relative border-2 border-dashed rounded-lg p-8
          transition-colors cursor-pointer
          ${a?"border-primary-500 bg-primary-50":"border-primary-200 hover:border-primary-300"}
        `,children:[A.jsx("input",{type:"file",accept:".csv,.xlsx,.xls,.pdf,.jpg,.jpeg,.png,.webp,.bmp,.tiff,.tif",multiple:!0,onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center mb-4",children:A.jsx(vs,{className:"w-6 h-6 text-primary-600"})}),A.jsx("p",{className:"text-lg font-medium text-primary-900",children:"Glissez-dposez vos fichiers ici"}),A.jsx("p",{className:"text-sm text-primary-500 mt-1",children:"ou cliquez pour slectionner"}),A.jsx("p",{className:"text-xs text-primary-400 mt-3",children:"Formats supports: CSV, Excel (.xlsx, .xls), PDF, Images (JPG, PNG) avec OCR"})]})]}),i.length>0&&A.jsx("div",{className:"space-y-3",children:i.map((g,m)=>A.jsx(it,{className:"p-4",children:A.jsxs("div",{className:"flex items-center gap-4",children:[p(g.file),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"font-medium text-primary-900 truncate",children:g.file.name}),A.jsxs("p",{className:"text-sm text-primary-500",children:[nD(g.file.size),g.result&&g.status==="success"&&A.jsxs("span",{className:"ml-2 text-success",children:[g.result.importedRows," lignes importes"]})]}),(g.status==="uploading"||g.status==="parsing")&&A.jsx(rce,{value:g.progress,className:"mt-2",size:"sm"}),g.status==="error"&&g.error&&A.jsx("p",{className:"text-sm text-error mt-1",children:g.error})]}),A.jsxs("div",{className:"flex-shrink-0",children:[g.status==="success"&&A.jsx(al,{className:"w-6 h-6 text-success"}),g.status==="error"&&A.jsx(Gu,{className:"w-6 h-6 text-error"}),(g.status==="uploading"||g.status==="parsing")&&A.jsx("div",{className:"w-6 h-6 border-2 border-primary-300 border-t-primary-600 rounded-full animate-spin"})]}),A.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>f(g.file),className:"flex-shrink-0",children:A.jsx(Eo,{className:"w-4 h-4"})})]})},m))}),i.some(g=>g.status==="success")&&A.jsxs(kc,{variant:"success",title:"Import russi",children:[i.filter(g=>g.status==="success").length," fichier(s) import(s) avec succs. Total:"," ",i.filter(g=>g.result).reduce((g,m)=>g+(m.result?.importedRows||0),0)," ","transactions."]})]})}function o8e(){const r=Hh(),{transactions:e,addTransactions:t,clearTransactions:n,getTransactionCount:i}=Tc(),{clients:s,addAccount:a,addStatement:o}=nl(),{banks:l}=Ou(),[c,u]=K.useState(!1),[d,h]=K.useState(""),[f,p]=K.useState(""),[g,m]=K.useState(""),[v,y]=K.useState(!1),[b,w]=K.useState(""),_=K.useMemo(()=>s.find(I=>I.id===d),[s,d]),B=K.useMemo(()=>_?.accounts.find(I=>I.id===f),[_,f]);K.useMemo(()=>l.find(I=>I.code===g),[l,g]);const R=I=>{t(I.transactions);const T=B?.bankCode||g,P=l.find(N=>N.code===T);o(d,{accountId:f||"new-account",bankCode:T,bankName:P?.name||T,fileName:I.fileName,fileType:I.fileType,periodStart:I.periodStart,periodEnd:I.periodEnd,transactionCount:I.transactions.length,status:"imported"})},j=()=>{n(),u(!1)},k=()=>{if(d&&b&&g){const I=l.find(T=>T.code===g);a(d,{accountNumber:b,bankCode:g,bankName:I?.name||g,currency:"XAF",isActive:!0}),w(""),y(!1)}},L=i(),H=d&&(f||v&&b&&g);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"page-header",children:[A.jsx("h1",{className:"page-title",children:"Import de relevs bancaires"}),A.jsx("p",{className:"page-description",children:"Importez vos relevs bancaires pour lancer l'analyse des anomalies"})]}),A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-900 text-white text-sm flex items-center justify-center",children:"1"}),"Slectionner le client"]}),A.jsx(xa,{children:"Choisissez le client propritaire du relev bancaire"})]}),A.jsx(Ht,{children:A.jsx("div",{className:"space-y-4",children:s.length===0?A.jsxs(kc,{variant:"warning",title:"Aucun client",children:[A.jsx("p",{className:"mt-1",children:"Vous devez d'abord crer un client avant d'importer des relevs."}),A.jsxs(Ye,{variant:"secondary",size:"sm",className:"mt-3",onClick:()=>r("/clients"),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Crer un client"]})]}):A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Client *"}),A.jsxs(Tn,{value:d,onChange:I=>{h(I.target.value),p(""),y(!1)},children:[A.jsx("option",{value:"",children:"-- Slectionner un client --"}),s.map(I=>A.jsxs("option",{value:I.id,children:[I.name," (",I.code,")"]},I.id))]})]}),_&&A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-lg",children:[A.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-900 flex items-center justify-center",children:A.jsx(Ji,{className:"w-5 h-5 text-white"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:_.name}),A.jsxs("p",{className:"text-sm text-primary-500",children:[_.accounts.length," compte(s) bancaire(s)"]})]})]})]})})})]}),_&&A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-900 text-white text-sm flex items-center justify-center",children:"2"}),"Slectionner le compte bancaire"]}),A.jsx(xa,{children:"Choisissez le compte bancaire du relev ou ajoutez-en un nouveau"})]}),A.jsx(Ht,{children:A.jsxs("div",{className:"space-y-4",children:[_.accounts.length>0&&!v&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Compte bancaire *"}),A.jsxs(Tn,{value:f,onChange:I=>p(I.target.value),children:[A.jsx("option",{value:"",children:"-- Slectionner un compte --"}),_.accounts.map(I=>A.jsxs("option",{value:I.id,children:[I.bankName," - ",I.accountNumber," (",I.currency,")"]},I.id))]})]}),B&&A.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary-900 bg-primary-50 flex items-center gap-4",children:[A.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:A.jsx(Xi,{className:"w-5 h-5 text-blue-600"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"font-medium text-primary-900",children:B.bankName}),A.jsx("p",{className:"text-sm text-primary-500 font-mono",children:B.accountNumber})]}),A.jsx(Ir,{variant:"secondary",children:B.currency})]})]}),v?A.jsxs("div",{className:"p-4 border-2 border-primary-300 rounded-lg bg-primary-50 space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h4",{className:"font-medium text-primary-900",children:"Nouveau compte bancaire"}),A.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>{y(!1),w(""),m("")},children:"Annuler"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Banque *"}),A.jsxs(Tn,{value:g,onChange:I=>m(I.target.value),children:[A.jsx("option",{value:"",children:"-- Slectionner une banque --"}),A.jsx("optgroup",{label:"CEMAC (XAF)",children:l.filter(I=>I.zone==="CEMAC"||["CM","GA","CG","TD","CF","GQ"].includes(I.country)).map(I=>A.jsxs("option",{value:I.code,children:[I.name," (",xc[I.country]||I.country,")"]},I.id))}),A.jsx("optgroup",{label:"UEMOA (XOF)",children:l.filter(I=>I.zone==="UEMOA"||["CI","SN","BF","ML","BJ","TG","NE","GW"].includes(I.country)).map(I=>A.jsxs("option",{value:I.code,children:[I.name," (",xc[I.country]||I.country,")"]},I.id))})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Numro de compte *"}),A.jsx(er,{value:b,onChange:I=>w(I.target.value),placeholder:"Ex: 10001-23456-78901234567-89"})]})]}),g&&b&&A.jsx("div",{className:"flex justify-end",children:A.jsxs(Ye,{onClick:k,size:"sm",children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Enregistrer le compte"]})})]}):A.jsxs(Ye,{variant:"ghost",onClick:()=>y(!0),className:"w-full border-2 border-dashed border-primary-300 hover:border-primary-400",children:[A.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Ajouter un nouveau compte"]})]})})]}),A.jsxs(it,{className:H?"":"opacity-50 pointer-events-none",children:[A.jsxs(or,{children:[A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx("span",{className:`w-6 h-6 rounded-full text-sm flex items-center justify-center ${H?"bg-primary-900 text-white":"bg-primary-300 text-white"}`,children:"3"}),"Tlverser les fichiers"]}),A.jsx(xa,{children:H?A.jsxs(A.Fragment,{children:["Import pour ",A.jsx("strong",{children:_?.name}),B&&A.jsxs(A.Fragment,{children:[" - Compte ",A.jsx("strong",{className:"font-mono",children:B.accountNumber})," (",B.bankName,")"]})]}):"Slectionnez d'abord un client et un compte bancaire"})]}),A.jsx(Ht,{children:A.jsx(jZ,{onImportComplete:R,clientId:d,bankCode:B?.bankCode||g,accountNumber:B?.accountNumber||b})})]}),L>0&&A.jsxs(it,{children:[A.jsxs(or,{action:A.jsxs(Ye,{variant:"ghost",size:"sm",onClick:()=>u(!0),children:[A.jsx(Ds,{className:"w-4 h-4"}),"Effacer"]}),children:[A.jsx(lr,{children:"Donnes importes"}),A.jsxs(xa,{children:[L," transaction",L>1?"s":""," en mmoire"]})]}),A.jsx(Ht,{children:A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-primary-500",children:"Transactions"}),A.jsx("p",{className:"text-xl font-semibold text-primary-900",children:L.toLocaleString("fr-FR")})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-primary-500",children:"Premire date"}),A.jsx("p",{className:"text-xl font-semibold text-primary-900",children:e.length>0?fr(e.reduce((I,T)=>new Date(T.date)<new Date(I.date)?T:I).date):"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-primary-500",children:"Dernire date"}),A.jsx("p",{className:"text-xl font-semibold text-primary-900",children:e.length>0?fr(e.reduce((I,T)=>new Date(T.date)>new Date(I.date)?T:I).date):"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-primary-500",children:"Volume total"}),A.jsx("p",{className:"text-xl font-semibold text-primary-900",children:kt(e.reduce((I,T)=>I+Math.abs(T.amount),0),"XAF")})]})]})}),A.jsx(Zf,{children:A.jsx("div",{className:"flex justify-end",children:A.jsxs(Ye,{variant:"primary",onClick:()=>r("/analysis"),children:[A.jsx(oT,{className:"w-4 h-4"}),"Lancer l'analyse"]})})})]}),A.jsx(kc,{variant:"info",title:"Conseils pour l'import",children:A.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[A.jsx("li",{children:"Exportez vos relevs au format CSV ou Excel depuis votre banque"}),A.jsx("li",{children:"Assurez-vous que les colonnes contiennent: date, montant, description"}),A.jsx("li",{children:"Les montants ngatifs reprsentent les dbits (frais)"}),A.jsx("li",{children:"Vous pouvez importer plusieurs fichiers  la fois"})]})}),A.jsx(HV,{isOpen:c,onClose:()=>u(!1),onConfirm:j,title:"Effacer les donnes",message:`tes-vous sr de vouloir effacer les ${L} transactions importes ? Cette action est irrversible.`,confirmLabel:"Effacer",variant:"danger"})]})}const l8e=Object.freeze(Object.defineProperty({__proto__:null,FileUploader:jZ,ImportPage:o8e},Symbol.toStringTag,{value:"Module"}));function c8e(){const{clients:r=[]}=nl(),{banks:e=[]}=Ou(),{transactions:t}=Tc(),{currentAnalysis:n,isAnalyzing:i,progress:s,currentStep:a,startAnalysis:o,updateProgress:l,completeAnalysis:c,failAnalysis:u}=jc(),{thresholds:d,bankConditions:h,claudeApi:f}=Ps(),[p,g]=K.useState("config"),[m,v]=K.useState(""),[y,b]=K.useState({start:"",end:""}),[w,_]=K.useState([]),[B,R]=K.useState(null),[j,k]=K.useState(100),L=f.isEnabled&&f.apiKey,[H,I]=K.useState("hybrid"),[T,P]=K.useState({detectDoublons:!0,detectFantomes:!0,detectSurfacturation:!0,verifierAgios:!0,detectDateValeur:!0,detectSeuilsDepasses:!1,detectTauxChange:!1,detectCommissions:!0,detectFraisNonAutorises:!0,detectEcrituresAnormales:!1}),N={algorithm:{icon:Eh,title:"Analyse Algorithmique",description:"Dtection base sur des rgles mathmatiques et comparaison avec les grilles tarifaires",buttonText:"Lancer l'analyse algorithmique",color:"blue"},ai:{icon:Wx,title:"Analyse IA",description:"Dtection avance par intelligence artificielle (Claude) pour identifier les anomalies complexes",buttonText:"Lancer l'analyse IA",color:"purple"},hybrid:{icon:Om,title:"Analyse Hybride",description:"Combine algorithmes + IA pour une dtection optimale avec validation croise",buttonText:"Lancer l'analyse hybride",color:"amber"}},S=n?.anomalies||[],C=S.reduce((q,D)=>q+D.amount,0),E=S.filter(q=>q.severity===je.CRITICAL).length,x=S.filter(q=>q.severity===je.HIGH).length,F=m?t.filter(q=>q.clientId===m):t,U=async()=>{if(t.length===0){alert("Aucune transaction importe. Veuillez d'abord importer des relevs bancaires.");return}const q=[];T.detectDoublons&&q.push(ke.DUPLICATE_FEE),T.detectFantomes&&q.push(ke.GHOST_FEE),T.detectSurfacturation&&q.push(ke.OVERCHARGE),T.verifierAgios&&q.push(ke.INTEREST_ERROR),T.detectDateValeur&&q.push(ke.VALUE_DATE_ERROR),T.detectCommissions&&q.push(ke.FEE_ANOMALY),T.detectFraisNonAutorises&&q.push(ke.UNAUTHORIZED),T.detectEcrituresAnormales&&q.push(ke.SUSPICIOUS_TRANSACTION);const D={clientId:m||"default",dateRange:{start:y.start?new Date(y.start):new Date(Math.min(...t.map(O=>new Date(O.date).getTime()))),end:y.end?new Date(y.end):new Date(Math.max(...t.map(O=>new Date(O.date).getTime())))},thresholds:d||fN,enabledDetectors:q};o(D);try{const O=_6e(d),V=h[0]||{id:"default",bankCode:"DEFAULT",bankName:"Banque",country:"CM",currency:"XAF",effectiveDate:new Date,fees:[],interestRates:[],isActive:!0};let J;L&&(H==="ai"||H==="hybrid")&&(J=new nG({apiKey:f.apiKey,model:f.model}));const re=await O.analyzeTransactions(F.length>0?F:t,V,D,{onProgress:(ne,se)=>l(ne,se),claudeService:J,enableAICategorization:H!=="algorithm"&&f.enableCategorization,enableAIFraudDetection:H!=="algorithm"&&f.enableFraudDetection});c(re),g("viewer")}catch(O){u(O instanceof Error?O.message:"Erreur inconnue"),alert(`Erreur lors de l'analyse: ${O instanceof Error?O.message:"Erreur inconnue"}`)}},M=()=>{alert("Rapport gnr avec succs!")},z=N[H],G=z.icon,Y=[{key:"detectDoublons",label:"Doublons",icon:"",desc:"Frais facturs plusieurs fois"},{key:"detectFantomes",label:"Frais fantmes",icon:"",desc:"Frais sans justification"},{key:"detectSurfacturation",label:"Surfacturation",icon:"",desc:"Montants excessifs"},{key:"verifierAgios",label:"Agios",icon:"",desc:"Erreurs de calcul"},{key:"detectDateValeur",label:"Dates valeur",icon:"",desc:"Jours de valeur abusifs"},{key:"detectCommissions",label:"Commissions",icon:"",desc:"Commissions non conformes"},{key:"detectFraisNonAutorises",label:"Non autoriss",icon:"",desc:"Frais hors contrat"},{key:"detectSeuilsDepasses",label:"Seuils",icon:"",desc:"Dpassements plafonds"},{key:"detectTauxChange",label:"Taux change",icon:"",desc:"Anomalies de change"},{key:"detectEcrituresAnormales",label:"critures",icon:"",desc:"Oprations suspectes"}],Q=Object.values(T).filter(Boolean).length;return p==="config"?A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h1",{className:"text-lg font-bold text-primary-900",children:"Analyses"}),A.jsxs(Ye,{size:"sm",variant:"ghost",onClick:()=>g("viewer"),className:"text-xs",children:[A.jsx(ps,{className:"w-3.5 h-3.5 mr-1"}),"Dmo"]})]}),A.jsx("div",{className:"flex gap-2",children:Object.keys(N).map(q=>{const D=N[q],O=D.icon,V=H===q;return A.jsx("button",{onClick:()=>I(q),className:`flex-1 p-3 rounded-lg border-2 transition-all ${V?q==="algorithm"?"border-blue-500 bg-blue-50":q==="ai"?"border-purple-500 bg-purple-50":"border-amber-500 bg-amber-50":"border-primary-200 bg-white hover:border-primary-300"}`,children:A.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A.jsx(O,{className:`w-4 h-4 ${q==="algorithm"?"text-blue-600":q==="ai"?"text-purple-600":"text-amber-600"}`}),A.jsx("span",{className:"text-sm font-medium",children:D.title.replace("Analyse ","")}),V&&A.jsx(ba,{className:`w-4 h-4 ${q==="algorithm"?"text-blue-600":q==="ai"?"text-purple-600":"text-amber-600"}`})]})},q)})}),A.jsx(it,{children:A.jsxs(Ht,{className:"p-4",children:[A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Client *"}),A.jsxs(Tn,{value:m,onChange:q=>v(q.target.value),className:"h-9 text-sm",children:[A.jsx("option",{value:"",children:"Slectionner"}),r.map(q=>A.jsx("option",{value:q.id,children:q.name},q.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Dbut"}),A.jsx(er,{type:"date",value:y.start,onChange:q=>b({...y,start:q.target.value}),className:"h-9 text-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Fin"}),A.jsx(er,{type:"date",value:y.end,onChange:q=>b({...y,end:q.target.value}),className:"h-9 text-sm"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Banque"}),A.jsxs(Tn,{value:"",onChange:q=>{q.target.value&&!w.includes(q.target.value)&&_([...w,q.target.value])},className:"h-9 text-sm",children:[A.jsx("option",{value:"",children:"Toutes"}),e.filter(q=>q.isActive).map(q=>A.jsx("option",{value:q.code,children:q.name},q.id))]})]})]}),A.jsxs("div",{className:"border-t border-primary-100 pt-3",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("p",{className:"text-xs font-medium text-primary-600",children:["Types de dtection (",Q,"/",Y.length,")"]}),A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>{const q={};Y.forEach(D=>q[D.key]=!0),P(q)},className:"text-[10px] text-primary-500 hover:text-primary-700 px-1",children:"Tout"}),A.jsx("span",{className:"text-primary-300",children:"|"}),A.jsx("button",{onClick:()=>{const q={};Y.forEach(D=>q[D.key]=!1),P(q)},className:"text-[10px] text-primary-500 hover:text-primary-700 px-1",children:"Aucun"})]})]}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2",children:Y.map(q=>A.jsxs("label",{className:`flex items-center gap-1.5 cursor-pointer px-2 py-1.5 rounded border transition-all ${T[q.key]?"border-primary-400 bg-primary-50":"border-primary-200 hover:border-primary-300"}`,title:q.desc,children:[A.jsx("input",{type:"checkbox",checked:T[q.key],onChange:D=>P({...T,[q.key]:D.target.checked}),className:"w-3 h-3 rounded border-primary-300 text-primary-900"}),A.jsx("span",{className:"text-sm",children:q.icon}),A.jsx("span",{className:"text-xs text-primary-700 truncate",children:q.label})]},q.key))})]}),A.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-primary-100",children:[A.jsx("p",{className:"text-xs text-primary-500",children:z.description}),A.jsx(Ye,{onClick:U,disabled:!m||i,size:"sm",className:`h-9 px-4 ${H==="algorithm"?"bg-blue-600 hover:bg-blue-700":H==="ai"?"bg-purple-600 hover:bg-purple-700":"bg-amber-600 hover:bg-amber-700"}`,children:i?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-3.5 h-3.5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Analyse..."]}):A.jsxs(A.Fragment,{children:[A.jsx(G,{className:"w-4 h-4 mr-1.5"}),"Lancer"]})})]})]})})]}):A.jsxs("div",{className:"h-[calc(100vh-8rem)] flex",children:[A.jsxs("div",{className:"w-80 border-r border-primary-200 bg-white flex flex-col",children:[A.jsxs("div",{className:"p-4 border-b border-primary-200",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs(Ye,{variant:"ghost",size:"sm",onClick:()=>g("config"),children:[A.jsx(yV,{className:"w-4 h-4 mr-1"}),"Retour"]}),A.jsxs(Ir,{variant:"secondary",className:"gap-1",children:[A.jsx(Wx,{className:"w-3 h-3"}),"IA Active"]})]}),A.jsx("h2",{className:"font-semibold text-primary-900",children:"Anomalies dtectes"}),A.jsxs("p",{className:"text-sm text-primary-500",children:[S.length," anomalies trouves"]})]}),A.jsx("div",{className:"p-4 border-b border-primary-200 bg-primary-50",children:A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{className:"bg-white p-3 rounded-lg border border-primary-200",children:[A.jsx("p",{className:"text-xs text-primary-500",children:"conomies potentielles"}),A.jsx("p",{className:"text-lg font-bold text-green-600",children:kt(C,"XAF")})]}),A.jsxs("div",{className:"bg-white p-3 rounded-lg border border-primary-200",children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Critiques/leves"}),A.jsx("p",{className:"text-lg font-bold text-red-600",children:E+x})]})]})}),S.length===0?A.jsx("div",{className:"flex-1 flex items-center justify-center",children:A.jsxs("div",{className:"p-8 text-center text-primary-500",children:[A.jsx(qM,{className:"w-12 h-12 mx-auto mb-3 text-primary-300"}),A.jsx("p",{children:"Aucune anomalie dtecte"}),A.jsx("p",{className:"text-xs mt-1",children:"Les transactions semblent conformes"})]})}):A.jsx(wce,{items:S,estimateSize:120,className:"flex-1",getItemKey:q=>q.id,renderItem:(q,D)=>A.jsxs("button",{onClick:()=>R(D),className:`w-full h-full p-4 border-b border-primary-100 text-left hover:bg-primary-50 transition-colors ${B===D?"bg-primary-100 border-l-4 border-l-primary-900":""}`,children:[A.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`w-2 h-2 rounded-full ${q.severity===je.CRITICAL?"bg-red-500":q.severity===je.HIGH?"bg-orange-500":q.severity===je.MEDIUM?"bg-yellow-500":"bg-gray-400"}`}),A.jsxs("span",{className:"text-xs font-medium text-primary-500",children:[q.transactions.length," tx"]})]}),A.jsx("div",{className:"flex items-center gap-1",children:A.jsx(P3,{severity:q.severity})})]}),A.jsx("p",{className:"text-sm font-medium text-primary-900 mb-1 line-clamp-2",children:Wa[q.type]}),A.jsx("p",{className:"text-xs text-primary-600 line-clamp-1 mb-1",children:q.recommendation}),A.jsxs("p",{className:"text-sm font-bold text-green-600",children:["+",kt(q.amount,"XAF")]})]})}),A.jsx("div",{className:"p-4 border-t border-primary-200",children:A.jsxs(Ye,{className:"w-full gap-2",onClick:M,children:[A.jsx(Zr,{className:"w-4 h-4"}),"Gnrer le rapport"]})})]}),A.jsxs("div",{className:"flex-1 flex flex-col bg-primary-100",children:[A.jsxs("div",{className:"bg-white border-b border-primary-200 px-4 py-2 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-sm font-medium text-primary-700",children:["Transactions analyses (",t.length,")"]}),n&&A.jsxs(Ir,{variant:"success",children:[n.statistics.totalAnomalies," anomalies"]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>k(Math.max(50,j-10)),children:A.jsx(LV,{className:"w-4 h-4"})}),A.jsxs("span",{className:"text-sm text-primary-600 w-12 text-center",children:[j,"%"]}),A.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>k(Math.min(200,j+10)),children:A.jsx(RV,{className:"w-4 h-4"})}),A.jsx("div",{className:"w-px h-6 bg-primary-200 mx-2"}),A.jsx(Ye,{variant:"ghost",size:"sm",children:A.jsx(Mc,{className:"w-4 h-4"})})]})]}),A.jsx("div",{className:"flex-1 overflow-auto p-4",children:A.jsx("div",{className:"bg-white shadow-lg mx-auto max-w-4xl rounded-lg overflow-hidden",style:{transform:`scale(${j/100})`,transformOrigin:"top center"},children:A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{className:"bg-primary-100",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left py-3 px-4 font-medium text-primary-700",children:"Date"}),A.jsx("th",{className:"text-left py-3 px-4 font-medium text-primary-700",children:"Description"}),A.jsx("th",{className:"text-right py-3 px-4 font-medium text-primary-700",children:"Montant"}),A.jsx("th",{className:"text-right py-3 px-4 font-medium text-primary-700",children:"Solde"}),A.jsx("th",{className:"text-center py-3 px-4 font-medium text-primary-700",children:"Statut"})]})}),A.jsxs("tbody",{className:"divide-y divide-primary-100",children:[t.slice(0,100).map((q,D)=>{const O=S.find(J=>J.transactions.some(re=>re.id===q.id)),V=B!==null&&S[B]?.transactions.some(J=>J.id===q.id);return A.jsxs("tr",{className:`${O?V?"bg-red-100 border-l-4 border-l-red-500":"bg-yellow-50":"hover:bg-primary-50"}`,children:[A.jsx("td",{className:"py-2 px-4 text-xs text-primary-600",children:fr(q.date)}),A.jsxs("td",{className:"py-2 px-4",children:[A.jsx("span",{className:O?"text-red-700 font-medium":"",children:q.description}),O&&A.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-700 px-1.5 py-0.5 rounded",children:Wa[O.type]})]}),A.jsx("td",{className:`py-2 px-4 text-right font-medium ${q.amount<0?"text-red-600":"text-green-600"}`,children:kt(Math.abs(q.amount),"XAF")}),A.jsx("td",{className:"py-2 px-4 text-right text-primary-700",children:kt(q.balance,"XAF")}),A.jsx("td",{className:"py-2 px-4 text-center",children:O?A.jsx(P3,{severity:O.severity}):A.jsx("span",{className:"text-xs text-green-600",children:"OK"})})]},q.id)}),t.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"py-8 text-center text-primary-500",children:"Aucune transaction importe"})}),t.length>100&&A.jsx("tr",{children:A.jsxs("td",{colSpan:5,className:"py-4 text-center text-primary-500 bg-primary-50",children:["... et ",t.length-100," autres transactions"]})})]})]})})})]}),B!==null&&S[B]&&A.jsxs("div",{className:"w-96 border-l border-primary-200 bg-white flex flex-col",children:[A.jsx("div",{className:"p-4 border-b border-primary-200",children:A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("h3",{className:"font-semibold text-primary-900",children:"Dtails de l'anomalie"}),A.jsx("button",{onClick:()=>R(null),className:"p-1 hover:bg-primary-100 rounded",children:A.jsx(Im,{className:"w-5 h-5"})})]})}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Type d'anomalie"}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(qM,{className:"w-5 h-5 text-amber-500"}),A.jsx("span",{className:"font-medium",children:Wa[S[B].type]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Svrit"}),A.jsx(P3,{severity:S[B].severity})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"conomie potentielle"}),A.jsx("p",{className:"text-2xl font-bold text-green-600",children:kt(S[B].amount,"XAF")})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Transactions concernes"}),A.jsxs("p",{className:"font-medium",children:[S[B].transactions.length," transaction(s)"]})]}),A.jsxs("div",{className:"bg-primary-50 rounded-lg p-4",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[L?A.jsx(Wx,{className:"w-5 h-5 text-purple-600"}):A.jsx(Eh,{className:"w-5 h-5 text-blue-600"}),A.jsx("span",{className:"font-semibold text-primary-900",children:L?"Analyse avec IA":"Analyse algorithmique"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Recommandation"}),A.jsx("p",{className:"text-sm font-medium text-green-700",children:S[B].recommendation})]}),S[B].evidence&&S[B].evidence.length>0&&A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Preuves"}),A.jsx("ul",{className:"text-sm text-primary-700 space-y-1",children:S[B].evidence.slice(0,3).map((q,D)=>A.jsx("li",{className:"bg-white p-2 rounded border border-primary-200",children:q.description},D))})]}),A.jsxs("div",{className:"pt-2 border-t border-primary-200",children:[A.jsxs("div",{className:"flex items-center justify-between text-sm",children:[A.jsx("span",{className:"text-primary-500",children:"Niveau de confiance"}),A.jsxs("span",{className:"font-medium",children:[Math.round(S[B].confidence*100),"%"]})]}),A.jsx("div",{className:"mt-1 bg-primary-200 rounded-full h-2",children:A.jsx("div",{className:"bg-primary-900 h-2 rounded-full",style:{width:`${S[B].confidence*100}%`}})})]})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs(Ye,{className:"w-full gap-2",variant:"secondary",children:[A.jsx(Am,{className:"w-4 h-4"}),"Contester l'anomalie"]}),A.jsxs(Ye,{className:"w-full gap-2",children:[A.jsx(ba,{className:"w-4 h-4"}),"Valider et ajouter au rapport"]})]})]}),A.jsxs("div",{className:"p-4 border-t border-primary-200 bg-green-50",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx(qu,{className:"w-5 h-5 text-green-600"}),A.jsx("span",{className:"font-semibold text-green-800",children:"Rsum du rapport"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-green-600",children:"Total anomalies"}),A.jsx("p",{className:"font-bold text-green-800",children:S.length})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-green-600",children:"conomies"}),A.jsx("p",{className:"font-bold text-green-800",children:kt(C,"XAF")})]})]})]})]})]})}const u8e=Object.freeze(Object.defineProperty({__proto__:null,AnalysesPage:c8e},Symbol.toStringTag,{value:"Module"}));function d8e(){const r=Hh(),{clients:e,addClient:t,updateClient:n,deleteClient:i,statements:s,reports:a}=nl(),{transactions:o}=Tc(),{analysisHistory:l=[],currentAnalysis:c}=jc(),[u,d]=K.useState(""),[h,f]=K.useState(!1),[p,g]=K.useState(null),[m,v]=K.useState(null),[y,b]=K.useState("card"),w=e.filter(j=>j.name.toLowerCase().includes(u.toLowerCase())||j.code.toLowerCase().includes(u.toLowerCase())),_=j=>{const k=s.filter(S=>S.clientId===j),L=o.filter(S=>S.clientId===j),I=[...c?[c]:[],...l].flatMap(S=>S.anomalies).filter(S=>S.transactions.some(C=>C.clientId===j)),T=a.filter(S=>S.clientId===j),N=I.filter(S=>S.status==="confirmed").reduce((S,C)=>S+C.amount,0);return{statements:k.length,transactions:L.length,anomalies:I.length,savings:N,reports:T.length}},B=j=>{p?(n(p.id,j),g(null)):(t({name:j.name||"",code:j.code||"",siret:j.siret,address:j.address,email:j.email,phone:j.phone,contactName:j.contactName}),f(!1))},R=j=>{i(j),v(null)};return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Clients"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Gestion des clients et dossiers d'audit"})]}),A.jsxs(Ye,{size:"sm",onClick:()=>f(!0),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Nouveau client"]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"relative flex-1 max-w-sm",children:[A.jsx(So,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-400"}),A.jsx(er,{type:"text",placeholder:"Rechercher...",value:u,onChange:j=>d(j.target.value),className:"pl-9 py-1.5 text-sm"})]}),A.jsxs("div",{className:"flex border border-primary-200 rounded-lg overflow-hidden",children:[A.jsx("button",{onClick:()=>b("card"),className:`p-2 transition-colors ${y==="card"?"bg-primary-900 text-white":"bg-white text-primary-500 hover:bg-primary-50"}`,title:"Vue cartes",children:A.jsx(cT,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>b("table"),className:`p-2 transition-colors ${y==="table"?"bg-primary-900 text-white":"bg-white text-primary-500 hover:bg-primary-50"}`,title:"Vue tableau",children:A.jsx(R5,{className:"w-4 h-4"})})]})]}),y==="card"?w.length===0?A.jsxs(it,{className:"p-8 text-center",children:[A.jsx(Ji,{className:"w-10 h-10 text-primary-300 mx-auto mb-3"}),A.jsx("h3",{className:"text-base font-medium text-primary-900 mb-1",children:u?"Aucun client trouv":"Aucun client"}),A.jsx("p",{className:"text-sm text-primary-500 mb-4",children:u?"Modifiez votre recherche":"Ajoutez votre premier client"}),!u&&A.jsxs(Ye,{size:"sm",onClick:()=>f(!0),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]}):A.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:w.map(j=>{const k=_(j.id);return A.jsxs(it,{className:"p-3 hover:border-primary-300 transition-colors cursor-pointer group",onClick:()=>r(`/clients/${j.id}`),children:[A.jsxs("div",{className:"flex items-start justify-between mb-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-900 flex items-center justify-center",children:A.jsx(Ji,{className:"w-4 h-4 text-white"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-sm font-semibold text-primary-900",children:j.name}),A.jsx("p",{className:"text-xs text-primary-500",children:j.code})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:L=>L.stopPropagation(),className:"p-1 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-primary-100 transition-all",children:A.jsx(EV,{className:"w-3.5 h-3.5 text-primary-500"})}),A.jsx("div",{className:"absolute right-0 top-6 z-10 hidden group-hover:block",children:A.jsxs("div",{className:"bg-white border border-primary-200 rounded-lg shadow-lg py-0.5 min-w-[100px]",children:[A.jsxs("button",{onClick:L=>{L.stopPropagation(),g(j)},className:"w-full px-2 py-1.5 text-left text-xs hover:bg-primary-50 flex items-center gap-1.5",children:[A.jsx(Wu,{className:"w-3 h-3"}),"Modifier"]}),A.jsxs("button",{onClick:L=>{L.stopPropagation(),v(j.id)},className:"w-full px-2 py-1.5 text-left text-xs hover:bg-primary-50 text-red-600 flex items-center gap-1.5",children:[A.jsx(Ds,{className:"w-3 h-3"}),"Supprimer"]})]})})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[A.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[A.jsx(Zr,{className:"w-3.5 h-3.5 text-primary-400"}),A.jsxs("span",{className:"text-primary-600",children:[k.statements," relevs"]})]}),A.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[A.jsx(Ka,{className:"w-3.5 h-3.5 text-primary-400"}),A.jsxs("span",{className:"text-primary-600",children:[k.transactions," tx"]})]}),A.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[A.jsx(As,{className:"w-3.5 h-3.5 text-severity-medium"}),A.jsxs("span",{className:"text-primary-600",children:[k.anomalies," anom."]})]}),A.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[A.jsx(L5,{className:"w-3.5 h-3.5 text-green-600"}),A.jsx("span",{className:"text-green-600 font-medium",children:k.savings.toLocaleString("fr-FR",{style:"currency",currency:"XAF"})})]})]}),j.accounts.length>0&&A.jsx("div",{className:"mt-2 pt-2 border-t border-primary-100",children:A.jsxs(Ir,{variant:"secondary",children:[j.accounts.length," compte",j.accounts.length>1?"s":""]})})]},j.id)})}):A.jsx(it,{className:"overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-200",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Client"}),A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Code"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Relevs"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Oprations"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Anomalies"}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"conomies"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Comptes"}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:w.length===0?A.jsx("tr",{children:A.jsxs("td",{colSpan:8,className:"px-4 py-8 text-center",children:[A.jsx(Ji,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-sm text-primary-500",children:u?"Aucun client trouv":"Aucun client enregistr"}),!u&&A.jsxs(Ye,{size:"sm",variant:"ghost",className:"mt-2",onClick:()=>f(!0),children:[A.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Ajouter un client"]})]})}):w.map(j=>{const k=_(j.id);return A.jsxs("tr",{className:"hover:bg-primary-50 cursor-pointer transition-colors",onClick:()=>r(`/clients/${j.id}`),children:[A.jsx("td",{className:"px-4 py-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-900 flex items-center justify-center flex-shrink-0",children:A.jsx(Ji,{className:"w-4 h-4 text-white"})}),A.jsx("span",{className:"text-sm font-medium text-primary-900",children:j.name})]})}),A.jsx("td",{className:"px-4 py-3",children:A.jsx("span",{className:"text-sm text-primary-600 font-mono",children:j.code})}),A.jsx("td",{className:"px-4 py-3 text-center",children:A.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-primary-600",children:[A.jsx(Zr,{className:"w-3.5 h-3.5 text-primary-400"}),k.statements]})}),A.jsx("td",{className:"px-4 py-3 text-center",children:A.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-primary-600",children:[A.jsx(Ka,{className:"w-3.5 h-3.5 text-primary-400"}),k.transactions]})}),A.jsx("td",{className:"px-4 py-3 text-center",children:k.anomalies>0?A.jsx(Ir,{variant:"warning",children:k.anomalies}):A.jsx("span",{className:"text-sm text-primary-400",children:"0"})}),A.jsx("td",{className:"px-4 py-3 text-right",children:A.jsx("span",{className:"text-sm font-medium text-green-600",children:k.savings.toLocaleString("fr-FR",{style:"currency",currency:"XAF"})})}),A.jsx("td",{className:"px-4 py-3 text-center",children:j.accounts.length>0?A.jsx(Ir,{variant:"secondary",children:j.accounts.length}):A.jsx("span",{className:"text-sm text-primary-400",children:"-"})}),A.jsx("td",{className:"px-4 py-3 text-right",children:A.jsxs("div",{className:"flex items-center justify-end gap-1",children:[A.jsx("button",{onClick:L=>{L.stopPropagation(),g(j)},className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Modifier",children:A.jsx(Wu,{className:"w-3.5 h-3.5"})}),A.jsx("button",{onClick:L=>{L.stopPropagation(),v(j.id)},className:"p-1.5 hover:bg-red-50 rounded text-primary-500 hover:text-red-600",title:"Supprimer",children:A.jsx(Ds,{className:"w-3.5 h-3.5"})}),A.jsx(Im,{className:"w-4 h-4 text-primary-400"})]})})]},j.id)})})]})})}),A.jsx(h8e,{isOpen:h||!!p,onClose:()=>{f(!1),g(null)},onSave:B,client:p}),A.jsxs(ld,{isOpen:!!m,onClose:()=>v(null),title:"Supprimer le client",children:[A.jsx("p",{className:"text-primary-600 mb-6",children:"tes-vous sr de vouloir supprimer ce client ? Cette action supprimera galement tous les relevs, analyses et rapports associs."}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx(Ye,{variant:"ghost",onClick:()=>v(null),children:"Annuler"}),A.jsx(Ye,{variant:"primary",className:"bg-red-600 hover:bg-red-700",onClick:()=>m&&R(m),children:"Supprimer"})]})]})]})}function h8e({isOpen:r,onClose:e,onSave:t,client:n}){const[i,s]=K.useState({name:n?.name||"",code:n?.code||"",siret:n?.siret||"",address:n?.address||"",email:n?.email||"",phone:n?.phone||"",contactName:n?.contactName||""}),a=o=>{o.preventDefault(),t(i),s({name:"",code:"",siret:"",address:"",email:"",phone:"",contactName:""})};return A.jsx(ld,{isOpen:r,onClose:e,title:n?"Modifier le client":"Nouveau client",children:A.jsxs("form",{onSubmit:a,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Nom de l'entreprise *"}),A.jsx(er,{value:i.name,onChange:o=>s({...i,name:o.target.value}),placeholder:"SARL Exemple",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Code client *"}),A.jsx(er,{value:i.code,onChange:o=>s({...i,code:o.target.value.toUpperCase()}),placeholder:"CLI001",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"SIRET"}),A.jsx(er,{value:i.siret,onChange:o=>s({...i,siret:o.target.value}),placeholder:"123 456 789 00012"})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Adresse"}),A.jsx(er,{value:i.address,onChange:o=>s({...i,address:o.target.value}),placeholder:"123 rue Exemple, 75001 Paris"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Email"}),A.jsx(er,{type:"email",value:i.email,onChange:o=>s({...i,email:o.target.value}),placeholder:"contact@exemple.fr"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Tlphone"}),A.jsx(er,{value:i.phone,onChange:o=>s({...i,phone:o.target.value}),placeholder:"01 23 45 67 89"})]}),A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Nom du contact"}),A.jsx(er,{value:i.contactName,onChange:o=>s({...i,contactName:o.target.value}),placeholder:"Jean Dupont"})]})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx(Ye,{type:"button",variant:"ghost",onClick:e,children:"Annuler"}),A.jsx(Ye,{type:"submit",children:n?"Enregistrer":"Crer le client"})]})]})})}function FZ({isOpen:r,onClose:e,onSave:t,banks:n}){const[i,s]=K.useState({bankCode:"",bankName:"",accountNumber:"",currency:"XAF",isActive:!0}),a=o=>{o.preventDefault();const l=n.find(c=>c.code===i.bankCode);t({...i,bankName:l?.name||i.bankCode}),s({bankCode:"",bankName:"",accountNumber:"",currency:"XAF",isActive:!0})};return A.jsx(ld,{isOpen:r,onClose:e,title:"Ajouter un compte bancaire",children:A.jsxs("form",{onSubmit:a,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Banque *"}),A.jsxs(Tn,{value:i.bankCode,onChange:o=>s({...i,bankCode:o.target.value}),required:!0,children:[A.jsx("option",{value:"",children:"Selectionner une banque"}),n.map(o=>A.jsx("option",{value:o.code,children:o.name},o.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Numero de compte *"}),A.jsx(er,{value:i.accountNumber,onChange:o=>s({...i,accountNumber:o.target.value}),placeholder:"Ex: 10001-23456-78",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Devise"}),A.jsxs(Tn,{value:i.currency,onChange:o=>s({...i,currency:o.target.value}),children:[A.jsx("option",{value:"XAF",children:"XAF (Franc CFA)"}),A.jsx("option",{value:"XOF",children:"XOF (Franc CFA BCEAO)"}),A.jsx("option",{value:"EUR",children:"EUR (Euro)"}),A.jsx("option",{value:"USD",children:"USD (Dollar)"})]})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx(Ye,{type:"button",variant:"ghost",onClick:e,children:"Annuler"}),A.jsx(Ye,{type:"submit",children:"Ajouter"})]})]})})}const f8e=K.memo(function({analytics:e,clientTransactions:t,clientAnomalies:n}){return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[A.jsx(it,{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 text-white",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-green-100",children:"Economies realisees"}),A.jsx("p",{className:"text-xl font-bold mt-0.5",children:kt(e.totalSavings,"XAF")}),A.jsxs("p",{className:"text-xs text-green-200 mt-1",children:["+",kt(e.potentialSavings,"XAF")," potentiel"]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:A.jsx(L5,{className:"w-5 h-5"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Anomalies detectees"}),A.jsx("p",{className:"text-xl font-bold text-primary-900 mt-0.5",children:n.length}),A.jsxs("p",{className:"text-xs text-primary-400 mt-1",children:[e.confirmedCount," confirmees, ",e.pendingCount," en attente"]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:A.jsx(As,{className:"w-5 h-5 text-amber-600"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Volume traite"}),A.jsx("p",{className:"text-xl font-bold text-primary-900 mt-0.5",children:kt(e.totalVolume,"XAF")}),A.jsxs("p",{className:"text-xs text-primary-400 mt-1",children:[t.length," transactions"]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:A.jsx(Ka,{className:"w-5 h-5 text-blue-600"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Score de risque"}),A.jsxs("p",{className:`text-xl font-bold mt-0.5 ${e.riskColor==="red"?"text-red-600":e.riskColor==="yellow"?"text-yellow-600":"text-green-600"}`,children:[e.riskScore,"%"]}),A.jsxs("p",{className:"text-xs text-primary-400 mt-1",children:["Niveau ",e.riskLevel.toLowerCase()]})]}),A.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${e.riskColor==="red"?"bg-red-100":e.riskColor==="yellow"?"bg-yellow-100":"bg-green-100"}`,children:A.jsx(jV,{className:`w-5 h-5 ${e.riskColor==="red"?"text-red-600":e.riskColor==="yellow"?"text-yellow-600":"text-green-600"}`})})]})})]}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center",children:A.jsx(D5,{className:"w-4 h-4 text-red-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-red-600",children:e.bySeverity.critical}),A.jsx("p",{className:"text-xs text-primary-500",children:"Critiques"})]})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center",children:A.jsx(As,{className:"w-4 h-4 text-orange-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-orange-600",children:e.bySeverity.high}),A.jsx("p",{className:"text-xs text-primary-500",children:"Hautes"})]})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center",children:A.jsx(fV,{className:"w-4 h-4 text-yellow-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-yellow-600",children:e.bySeverity.medium}),A.jsx("p",{className:"text-xs text-primary-500",children:"Moyennes"})]})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center",children:A.jsx(ba,{className:"w-4 h-4 text-green-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xl font-bold text-green-600",children:e.bySeverity.low}),A.jsx("p",{className:"text-xs text-primary-500",children:"Basses"})]})]})})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Evolution mensuelle"})}),A.jsx(Ht,{children:A.jsx("div",{style:{width:"100%",height:192},children:A.jsx(Pl,{width:"100%",height:"100%",minWidth:100,minHeight:100,debounce:50,children:A.jsxs(YC,{data:e.monthlyTrend,children:[A.jsxs("defs",{children:[A.jsxs("linearGradient",{id:"colorVolume",x1:"0",y1:"0",x2:"0",y2:"1",children:[A.jsx("stop",{offset:"5%",stopColor:"#171717",stopOpacity:.2}),A.jsx("stop",{offset:"95%",stopColor:"#171717",stopOpacity:0})]}),A.jsxs("linearGradient",{id:"colorSavingsClient",x1:"0",y1:"0",x2:"0",y2:"1",children:[A.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),A.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),A.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),A.jsx(vh,{dataKey:"month",stroke:"#737373",fontSize:12}),A.jsx(Ic,{yAxisId:"left",stroke:"#737373",fontSize:12,tickFormatter:i=>`${i/1e3}k`}),A.jsx(Ic,{yAxisId:"right",orientation:"right",stroke:"#22c55e",fontSize:12}),A.jsx(Rl,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e5e5",borderRadius:"8px"},formatter:(i,s)=>[s==="savings"||s==="volume"?kt(i,"XAF"):i,s==="volume"?"Volume":s==="savings"?"Economies":s==="transactions"?"Transactions":"Anomalies"]}),A.jsx(Sc,{}),A.jsx(jh,{yAxisId:"left",type:"monotone",dataKey:"volume",stroke:"#171717",fill:"url(#colorVolume)",name:"Volume"}),A.jsx(Qy,{yAxisId:"right",type:"monotone",dataKey:"anomalies",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b"},name:"Anomalies"}),A.jsx(jh,{yAxisId:"left",type:"monotone",dataKey:"savings",stroke:"#22c55e",fill:"url(#colorSavingsClient)",name:"Economies"})]})})})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Types d'anomalies"})}),A.jsx(Ht,{children:A.jsx("div",{className:"space-y-3",children:e.topTypes.length>0?e.topTypes.map((i,s)=>A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-8 text-center",children:A.jsxs("span",{className:"text-sm font-bold text-primary-400",children:["#",s+1]})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center justify-between mb-1",children:[A.jsx("span",{className:"text-sm font-medium text-primary-900",children:i.label}),A.jsxs("span",{className:"text-sm text-primary-600",children:[i.count," (",kt(i.amount,"XAF"),")"]})]}),A.jsx("div",{className:"h-2 bg-primary-100 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-primary-900 rounded-full",style:{width:`${i.count/Math.max(...e.topTypes.map(a=>a.count))*100}%`}})})]})]},i.type)):A.jsx("div",{className:"text-center py-8 text-primary-500",children:"Aucune anomalie detectee"})})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Resume des transactions"})}),A.jsx(Ht,{children:A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"Credits"}),A.jsxs("span",{className:"font-medium text-green-600",children:["+",kt(e.creditVolume,"XAF")]})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"Debits"}),A.jsxs("span",{className:"font-medium text-red-600",children:["-",kt(e.debitVolume,"XAF")]})]}),A.jsx("div",{className:"border-t border-primary-100 pt-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"Moyenne/transaction"}),A.jsx("span",{className:"font-medium",children:kt(e.avgTransaction,"XAF")})]})}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"Taux de confirmation"}),A.jsxs("span",{className:"font-medium text-blue-600",children:[e.confirmationRate,"%"]})]})]})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Repartition bancaire"})}),A.jsx(Ht,{children:e.bankDistribution.length>0?A.jsx("div",{style:{width:"100%",height:160},children:A.jsx(Pl,{width:"100%",height:"100%",minWidth:100,minHeight:100,debounce:50,children:A.jsxs(XC,{children:[A.jsx(Dy,{data:e.bankDistribution,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:3,dataKey:"count",children:e.bankDistribution.map((i,s)=>A.jsx(Ql,{fill:i.color},`cell-${s}`))}),A.jsx(Rl,{formatter:i=>[`${i} transactions`,"Volume"]}),A.jsx(Sc,{layout:"horizontal",align:"center",verticalAlign:"bottom",formatter:i=>A.jsx("span",{className:"text-xs",children:i})})]})})}):A.jsx("div",{className:"h-40 flex items-center justify-center text-primary-500",children:"Aucune transaction"})})]})]})]})}),A8e=K.memo(function({client:e,banks:t,setShowAddAccount:n,removeAccount:i}){return A.jsxs("div",{className:"space-y-4",children:[A.jsxs(it,{children:[A.jsx(or,{children:A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx(Ji,{className:"w-4 h-4"}),"Identite de l'entreprise"]})}),A.jsx(Ht,{children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Raison sociale"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.legalName||e.name})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Code client"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.code})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Forme juridique"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.legalForm||"Non renseigne"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"RCCM"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.rccm||e.siret||"Non renseigne"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"NIF"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.nif||"Non renseigne"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Capital social"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.capital?kt(e.capital,e.currency||"XAF"):"Non renseigne"})]})]})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx(dy,{className:"w-4 h-4"}),"Coordonnees"]})}),A.jsx(Ht,{children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Adresse"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.address||"Non renseignee"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Ville"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.city||"Non renseignee"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Code postal"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.postalCode||"Non renseigne"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Pays"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.country||"Non renseigne"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(fm,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Email"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.email||"Non renseigne"})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Gw,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Telephone"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.phone||"Non renseigne"})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(th,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Site web"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.website||"Non renseigne"})]})]})]})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx(uT,{className:"w-4 h-4"}),"Contact principal"]})}),A.jsx(Ht,{children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Nom du contact"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.contactName||"Non renseigne"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Fonction"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.contactRole||"Non renseigne"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(fm,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Email contact"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.contactEmail||"Non renseigne"})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Gw,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Tel. contact"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.contactPhone||"Non renseigne"})]})]})]})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx(vV,{className:"w-4 h-4"}),"Informations metier"]})}),A.jsx(Ht,{children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Secteur d'activite"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.sector||"Non renseigne"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Activite principale"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.activity||"Non renseignee"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(_h,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Effectif"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.employeeCount?`${e.employeeCount} employes`:"Non renseigne"})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(qu,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Chiffre d'affaires annuel"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.annualRevenue?kt(e.annualRevenue,e.currency||"XAF"):"Non renseigne"})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(ph,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Cloture exercice fiscal"}),A.jsx("p",{className:"font-medium text-primary-900",children:e.fiscalYearEnd||"31 decembre"})]})]})]})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx(Zr,{className:"w-4 h-4"}),"Notes et etiquettes"]})}),A.jsx(Ht,{children:A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-2",children:"Etiquettes"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags&&e.tags.length>0?e.tags.map((s,a)=>A.jsx(Ir,{variant:"secondary",children:s},a)):A.jsx("span",{className:"text-primary-400 text-sm",children:"Aucune etiquette"})})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-2",children:"Notes"}),A.jsx("p",{className:"text-sm text-primary-700 whitespace-pre-wrap",children:e.notes||"Aucune note"})]})]})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx(Sh,{className:"w-4 h-4"}),"Suivi"]})}),A.jsx(Ht,{children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Date de creation"}),A.jsx("p",{className:"font-medium text-primary-900",children:fr(e.createdAt)})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-1",children:"Derniere mise a jour"}),A.jsx("p",{className:"font-medium text-primary-900",children:fr(e.updatedAt)})]})]})})]}),A.jsxs(it,{children:[A.jsx(or,{action:A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:()=>n(!0),children:[A.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Ajouter compte"]}),children:A.jsxs(lr,{className:"flex items-center gap-2",children:[A.jsx(Xi,{className:"w-4 h-4"}),"Comptes bancaires"]})}),A.jsx(Ht,{className:"p-0",children:e.accounts.length===0?A.jsxs("div",{className:"p-6 text-center",children:[A.jsx(Xi,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-primary-500",children:"Aucun compte bancaire enregistre"}),A.jsxs(Ye,{variant:"secondary",size:"sm",className:"mt-4",onClick:()=>n(!0),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Ajouter un compte"]})]}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-100",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Banque"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Numero de compte"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"IBAN"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Statut"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:e.accounts.map(s=>{const a=t.find(o=>o.code===s.bankCode);return A.jsxs("tr",{className:"hover:bg-primary-50",children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-100 flex items-center justify-center",children:A.jsx(Xi,{className:"w-4 h-4 text-primary-600"})}),A.jsx("span",{className:"font-medium text-primary-900",children:a?.name||s.bankCode})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("span",{className:"text-sm text-primary-700 font-mono",children:s.accountNumber})}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("span",{className:"text-sm text-primary-500 font-mono",children:s.iban||"-"})}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx(Ir,{variant:s.isActive?"success":"secondary",children:s.isActive?"Actif":"Inactif"})}),A.jsx("td",{className:"px-6 py-4 text-right",children:A.jsxs("div",{className:"flex items-center justify-end gap-2",children:[A.jsx("button",{className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Modifier",children:A.jsx(Wu,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>i(e.id,s.id),className:"p-1.5 hover:bg-red-50 rounded text-primary-500 hover:text-red-600",title:"Supprimer",children:A.jsx(Ds,{className:"w-4 h-4"})})]})})]},s.id)})})]})})})]})]})}),p8e=K.memo(function({clientStatements:e,navigate:t}){return A.jsxs(it,{children:[A.jsx(or,{action:A.jsxs(Ye,{onClick:()=>t("/import"),children:[A.jsx(vs,{className:"w-4 h-4 mr-2"}),"Importer releve"]}),children:A.jsx(lr,{children:"Journal des releves bancaires"})}),A.jsx(Ht,{className:"p-0",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-100",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Date import"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Fichier"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Banque"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Periode"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Transactions"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Statut"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:e.length===0?A.jsx("tr",{children:A.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[A.jsx(Zr,{className:"w-12 h-12 text-primary-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-primary-900 mb-2",children:"Aucun releve importe"}),A.jsx("p",{className:"text-primary-500 mb-4",children:"Importez des releves bancaires pour commencer l'analyse"}),A.jsxs(Ye,{onClick:()=>t("/import"),children:[A.jsx(vs,{className:"w-4 h-4 mr-2"}),"Importer un releve"]})]})}):e.map(n=>A.jsxs("tr",{className:"hover:bg-primary-50",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Sh,{className:"w-4 h-4 text-primary-400"}),A.jsx("span",{className:"text-sm text-primary-900",children:fr(n.importedAt)})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Zr,{className:"w-4 h-4 text-primary-400"}),A.jsx("span",{className:"text-sm font-medium text-primary-900",children:n.fileName})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Xi,{className:"w-4 h-4 text-primary-400"}),A.jsx("span",{className:"text-sm text-primary-700",children:n.bankName})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("span",{className:"text-sm text-primary-700",children:[fr(n.periodStart)," - ",fr(n.periodEnd)]})}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:n.transactionCount})}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx(Ir,{variant:n.status==="analyzed"?"success":n.status==="imported"?"warning":"secondary",children:n.status==="analyzed"?"Analyse":n.status==="imported"?"A analyser":"Archive"})}),A.jsx("td",{className:"px-6 py-4 text-right",children:A.jsxs("div",{className:"flex items-center justify-end gap-2",children:[A.jsx("button",{className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Voir details",children:A.jsx(ps,{className:"w-4 h-4"})}),A.jsx("button",{className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Telecharger",children:A.jsx(Mc,{className:"w-4 h-4"})})]})})]},n.id))})]})})})]})}),m8e=K.memo(function({clientAnomalies:e,analytics:t,navigate:n}){return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[A.jsxs(it,{className:"p-3 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:e.length}),A.jsx("p",{className:"text-xs text-primary-500",children:"Total anomalies"})]}),A.jsxs(it,{className:"p-3 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.confirmedCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Confirmees"})]}),A.jsxs(it,{className:"p-3 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-amber-600",children:t.pendingCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"En attente"})]})]}),A.jsxs(it,{children:[A.jsx(or,{action:A.jsxs(Ye,{size:"sm",onClick:()=>n("/analyses"),children:[A.jsx(So,{className:"w-3 h-3 mr-1"}),"Lancer analyse"]}),children:A.jsx(lr,{children:"Historique des anomalies"})}),A.jsx(Ht,{className:"p-0",children:e.length===0?A.jsxs("div",{className:"p-8 text-center",children:[A.jsx(So,{className:"w-10 h-10 text-primary-300 mx-auto mb-3"}),A.jsx("h3",{className:"font-medium text-primary-900 mb-1",children:"Aucune analyse effectuee"}),A.jsx("p",{className:"text-sm text-primary-500 mb-4",children:"Lancez une analyse pour detecter les anomalies"})]}):A.jsx("div",{className:"divide-y divide-primary-100",children:e.map(i=>A.jsxs("div",{className:"px-6 py-4",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ir,{variant:i.severity===je.CRITICAL?"error":i.severity===je.HIGH?"warning":"secondary",children:Wa[i.type]||i.type}),A.jsx(UV,{source:i.detectionSource,size:"sm"}),A.jsx(Ir,{variant:i.status==="confirmed"?"success":"secondary",children:i.status==="confirmed"?"Confirme":"En attente"})]}),A.jsx("span",{className:"font-bold text-primary-900",children:kt(i.amount,"XAF")})]}),A.jsx("p",{className:"text-sm text-primary-600",children:i.recommendation}),A.jsx("p",{className:"text-xs text-primary-400 mt-1",children:fr(i.detectedAt)})]},i.id))})})]})]})}),g8e=K.memo(function({analytics:e,clientAnomalies:t}){const n=t.filter(i=>i.status==="confirmed");return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[A.jsxs(it,{className:"p-3 bg-gradient-to-br from-green-600 to-green-700 text-white",children:[A.jsx("p",{className:"text-xs text-green-100 mb-0.5",children:"Economies totales"}),A.jsx("p",{className:"text-2xl font-bold",children:kt(e.totalSavings,"XAF")})]}),A.jsxs(it,{className:"p-3",children:[A.jsx("p",{className:"text-xs text-primary-500 mb-0.5",children:"Economies potentielles"}),A.jsx("p",{className:"text-2xl font-bold text-amber-600",children:kt(e.potentialSavings,"XAF")})]}),A.jsxs(it,{className:"p-3",children:[A.jsx("p",{className:"text-xs text-primary-500 mb-0.5",children:"Taux de confirmation"}),A.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[e.confirmationRate,"%"]})]})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Evolution des economies"})}),A.jsx(Ht,{children:A.jsx("div",{style:{width:"100%",height:192},children:A.jsx(Pl,{width:"100%",height:"100%",minWidth:100,minHeight:100,debounce:50,children:A.jsxs(YC,{data:e.monthlyTrend,children:[A.jsx("defs",{children:A.jsxs("linearGradient",{id:"colorSavingsTrend",x1:"0",y1:"0",x2:"0",y2:"1",children:[A.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),A.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})}),A.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),A.jsx(vh,{dataKey:"month",stroke:"#737373",fontSize:12}),A.jsx(Ic,{stroke:"#737373",fontSize:12,tickFormatter:i=>`${i/1e3}k`}),A.jsx(Rl,{formatter:i=>kt(i,"XAF"),contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e5e5",borderRadius:"8px"}}),A.jsx(jh,{type:"monotone",dataKey:"savings",stroke:"#22c55e",fill:"url(#colorSavingsTrend)",name:"Economies"})]})})})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Detail des economies"})}),A.jsx(Ht,{className:"p-0",children:n.length===0?A.jsx("div",{className:"p-6 text-center text-primary-500 text-sm",children:"Aucune economie realisee pour le moment"}):A.jsx("div",{className:"divide-y divide-primary-100",children:n.map(i=>A.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[A.jsx("p",{className:"font-medium text-primary-900",children:Wa[i.type]||i.type}),A.jsx(UV,{source:i.detectionSource,size:"sm"})]}),A.jsx("p",{className:"text-sm text-primary-500",children:fr(i.detectedAt)})]}),A.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",kt(i.amount,"XAF")]})]},i.id))})})]})]})}),v8e=K.memo(function({clientReports:e,navigate:t}){return A.jsxs(it,{children:[A.jsx(or,{action:A.jsxs(Ye,{onClick:()=>t("/reports"),children:[A.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Nouveau rapport"]}),children:A.jsx(lr,{children:"Journal des rapports d'audit"})}),A.jsx(Ht,{className:"p-0",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-100",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Date"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Titre"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Type"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Periode"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Anomalies"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Montant"}),A.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Statut"}),A.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-primary-600 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:e.length===0?A.jsx("tr",{children:A.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center",children:[A.jsx(xv,{className:"w-12 h-12 text-primary-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-primary-900 mb-2",children:"Aucun rapport"}),A.jsx("p",{className:"text-primary-500 mb-4",children:"Generez un rapport d'audit pour ce client"}),A.jsxs(Ye,{onClick:()=>t("/reports"),children:[A.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Creer un rapport"]})]})}):e.map(n=>A.jsxs("tr",{className:"hover:bg-primary-50",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(ph,{className:"w-4 h-4 text-primary-400"}),A.jsx("span",{className:"text-sm text-primary-900",children:fr(n.generatedAt)})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(xv,{className:"w-4 h-4 text-primary-400"}),A.jsx("span",{className:"text-sm font-medium text-primary-900",children:n.title})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("span",{className:"text-sm text-primary-700",children:n.type==="audit"?"Audit complet":n.type==="summary"?"Synthese":n.type==="anomaly"?"Anomalies":"Standard"})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("span",{className:"text-sm text-primary-700",children:n.period?.start&&n.period?.end?`${fr(n.period.start)} - ${fr(n.period.end)}`:"Non definie"})}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:n.anomalyCount||0})}),A.jsx("td",{className:"px-6 py-4 text-right",children:A.jsx("span",{className:"text-sm font-medium text-green-600",children:kt(n.totalAmount||0,"XAF")})}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx(Ir,{variant:n.status==="sent"?"success":n.status==="final"?"info":"secondary",children:n.status==="sent"?"Envoye":n.status==="final"?"Finalise":"Brouillon"})}),A.jsx("td",{className:"px-6 py-4 text-right",children:A.jsxs("div",{className:"flex items-center justify-end gap-2",children:[A.jsx("button",{className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Voir rapport",children:A.jsx(ps,{className:"w-4 h-4"})}),A.jsx("button",{className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Telecharger PDF",children:A.jsx(Mc,{className:"w-4 h-4"})}),n.status!=="sent"&&A.jsx("button",{className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-blue-600",title:"Envoyer",children:A.jsx(fy,{className:"w-4 h-4"})})]})})]},n.id))})]})})})]})});function y8e(){const{id:r}=voe(),e=Hh(),{getClient:t,statements:n,reports:i,addAccount:s,removeAccount:a}=nl(),{banks:o}=Ou(),{transactions:l}=Tc(),{analysisHistory:c=[],currentAnalysis:u}=jc(),[d,h]=K.useState("overview"),[f,p]=K.useState(!1),[g,m]=K.useState(!1),v=r?t(r):void 0,y=K.useMemo(()=>v?n.filter(k=>k.clientId===v.id):[],[v,n]),b=K.useMemo(()=>v?l.filter(k=>k.clientId===v.id):[],[v,l]),w=K.useMemo(()=>[...u?[u]:[],...c],[u,c]),_=K.useMemo(()=>v?w.flatMap(k=>k.anomalies).filter(k=>k.transactions.some(L=>L.clientId===v.id)):[],[v,w]),B=K.useMemo(()=>v?i.filter(k=>k.clientId===v.id):[],[v,i]),R=K.useMemo(()=>{if(!v)return null;const k=new Date,L=_.filter(O=>O.status==="confirmed"),H=_.filter(O=>O.status==="pending"),I=L.reduce((O,V)=>O+V.amount,0),T=H.reduce((O,V)=>O+V.amount,0);let P=0;_.forEach(O=>{O.severity===je.CRITICAL?P+=25:O.severity===je.HIGH?P+=15:O.severity===je.MEDIUM?P+=8:P+=3}),P=Math.min(100,P);const N=P>60?"Eleve":P>30?"Moyen":"Faible",S=P>60?"red":P>30?"yellow":"green",C={critical:_.filter(O=>O.severity===je.CRITICAL).length,high:_.filter(O=>O.severity===je.HIGH).length,medium:_.filter(O=>O.severity===je.MEDIUM).length,low:_.filter(O=>O.severity===je.LOW).length},E={};_.forEach(O=>{const V=O.type;E[V]||(E[V]={count:0,amount:0}),E[V].count+=1,E[V].amount+=O.amount});const x=Object.entries(E).sort((O,V)=>V[1].count-O[1].count).slice(0,5).map(([O,V])=>({type:O,label:Wa[O]||O,...V})),F=b.reduce((O,V)=>O+Math.abs(V.amount),0),U=b.filter(O=>O.amount>0).reduce((O,V)=>O+V.amount,0),M=b.filter(O=>O.amount<0).reduce((O,V)=>O+Math.abs(V.amount),0),z=b.length>0?F/b.length:0,G=[];for(let O=5;O>=0;O--){const V=new Date(k.getFullYear(),k.getMonth()-O,1),J=new Date(k.getFullYear(),k.getMonth()-O+1,0),re=b.filter(de=>{const ie=new Date(de.date);return ie>=V&&ie<=J}),ne=_.filter(de=>{const ie=new Date(de.detectedAt);return ie.getMonth()===V.getMonth()&&ie.getFullYear()===V.getFullYear()}),se=re.reduce((de,ie)=>de+Math.abs(ie.amount),0),ee=ne.filter(de=>de.status==="confirmed").reduce((de,ie)=>de+ie.amount,0);G.push({month:V.toLocaleDateString("fr-FR",{month:"short"}),transactions:re.length,volume:se,anomalies:ne.length,savings:ee})}const Y={};b.forEach(O=>{const J=o.find(re=>re.code===O.bankCode)?.name||"Autre";Y[J]=(Y[J]||0)+1});const Q=_.length>0?Math.round(L.length/_.length*100):0,D=b.filter(O=>O.description.toLowerCase().includes("frais")||O.description.toLowerCase().includes("commission")||O.description.toLowerCase().includes("agios")||O.amount<0).reduce((O,V)=>O+Math.abs(V.amount),0);return{totalSavings:I,potentialSavings:T,riskScore:P,riskLevel:N,riskColor:S,bySeverity:C,topTypes:x,totalVolume:F,creditVolume:U,debitVolume:M,avgTransaction:z,monthlyTrend:G,totalFees:D,bankDistribution:Object.entries(Y).map(([O,V],J)=>({name:O,count:V,color:["#171717","#3b82f6","#10b981","#f59e0b","#8b5cf6"][J%5]})),confirmationRate:Q,confirmedCount:L.length,pendingCount:H.length}},[v,b,_,o]);if(!v||!R)return A.jsxs("div",{className:"text-center py-12",children:[A.jsx("h2",{className:"text-xl font-medium text-primary-900 mb-2",children:"Client non trouve"}),A.jsxs(Ye,{onClick:()=>e("/clients"),children:[A.jsx(GM,{className:"w-4 h-4 mr-2"}),"Retour aux clients"]})]});const j=[{id:"overview",label:"Vue d'ensemble",icon:Ji},{id:"info",label:"Fiche client",icon:gle},{id:"statements",label:"Journal releves",icon:Zr,count:y.length},{id:"analyses",label:"Analyses",icon:So,count:_.length},{id:"savings",label:"Economies",icon:L5},{id:"reports",label:"Journal rapports",icon:xv,count:B.length}];return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>e("/clients"),children:A.jsx(GM,{className:"w-4 h-4"})}),A.jsx("div",{className:"flex-1",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-900 flex items-center justify-center",children:A.jsx(Ji,{className:"w-5 h-5 text-white"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-primary-900",children:v.name}),A.jsx("p",{className:"text-sm text-primary-500",children:v.code})]}),A.jsxs("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${R.riskColor==="red"?"bg-red-100 text-red-700":R.riskColor==="yellow"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:["Risque ",R.riskLevel]})]})}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:[A.jsx(Wu,{className:"w-3 h-3 mr-1"}),"Modifier"]}),A.jsxs(Ye,{size:"sm",onClick:()=>e("/import"),children:[A.jsx(vs,{className:"w-3 h-3 mr-1"}),"Import"]})]})]}),A.jsx("div",{className:"border-b border-primary-200",children:A.jsx("nav",{className:"flex gap-0.5 overflow-x-auto",children:j.map(k=>A.jsxs("button",{onClick:()=>h(k.id),className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium border-b-2 transition-colors whitespace-nowrap ${d===k.id?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(k.icon,{className:"w-3.5 h-3.5"}),k.label,k.count!==void 0&&k.count>0&&A.jsx(Ir,{variant:"secondary",className:"ml-1 text-xs",children:k.count})]},k.id))})}),d==="overview"&&A.jsx(f8e,{analytics:R,clientTransactions:b,clientAnomalies:_}),d==="info"&&A.jsx(A8e,{client:v,banks:o,setShowAddAccount:p,removeAccount:a}),d==="statements"&&A.jsx(p8e,{clientStatements:y,navigate:e}),d==="analyses"&&A.jsx(m8e,{clientAnomalies:_,analytics:R,navigate:e}),d==="savings"&&A.jsx(g8e,{analytics:R,clientAnomalies:_}),d==="reports"&&A.jsx(v8e,{clientReports:B,navigate:e}),A.jsx(FZ,{isOpen:f,onClose:()=>p(!1),onSave:k=>{s(v.id,k),p(!1)},banks:o})]})}const IZ=Object.freeze(Object.defineProperty({__proto__:null,AddAccountModal:FZ,ClientDetailPage:y8e,ClientsPage:d8e},Symbol.toStringTag,{value:"Module"}));yh.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${i4}/pdf.worker.min.js`;class b8e{async extractTextFromPdf(e){const t=await e.arrayBuffer(),n=await Cm({data:t}).promise;let i="";for(let s=1;s<=n.numPages;s++){const l=(await(await n.getPage(s)).getTextContent()).items.map(c=>c.str).join(" ");i+=l+`

`}return i}async extractTextFromBase64(e){const t=e.replace(/^data:application\/pdf;base64,/,""),n=atob(t),i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);const s=await Cm({data:i}).promise;let a="";for(let o=1;o<=s.numPages;o++){const u=(await(await s.getPage(o)).getTextContent()).items.map(d=>d.str).join(" ");a+=u+`

`}return a}analyzeText(e){try{const t=this.normalizeText(e),n=this.extractAccountFees(t),i=this.extractCardFees(t),s=this.extractTransferFees(t),a=this.extractCheckFees(t),o=this.extractCreditFees(t),l=this.extractMiscFees(t),c=this.extractPenalties(t),u=this.calculateConfidence(n,i,s,a,o);return{success:!0,extractedData:{accountFees:n,cardFees:i,transferFees:s,checkFees:a,creditFees:o,miscFees:l,penalties:c},rawText:e,confidence:u}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erreur lors de l'extraction",confidence:0}}}async extractFromFile(e){try{const t=await this.extractTextFromPdf(e);return this.analyzeText(t)}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erreur lors de l'extraction du PDF",confidence:0}}}async extractFromBase64(e){try{const t=await this.extractTextFromBase64(e);return this.analyzeText(t)}catch(t){return{success:!1,error:t instanceof Error?t.message:"Erreur lors de l'extraction du PDF",confidence:0}}}normalizeText(e){return e.replace(/\s+/g," ").replace(/(\d)\s+(\d)/g,"$1$2").replace(/FCFA|F\s*CFA|XAF|XOF/gi,"FCFA").trim()}extractAmount(e,t){for(const n of t){const i=e.match(n);if(i){const a=(i[1]||i[0]).replace(/[^\d,\.]/g,"").replace(",","."),o=parseFloat(a);if(!isNaN(o))return o}}return null}extractPercentage(e,t){for(const n of t){const i=e.match(n);if(i){const a=(i[1]||i[0]).replace(/[^\d,\.]/g,"").replace(",","."),o=parseFloat(a);if(!isNaN(o))return o}}return null}extractAccountFees(e){const t=this.extractAmount(e,[/tenue\s*(?:de\s*)?compte.*?particulier[^\d]*(\d[\d\s]*)/i,/frais\s*(?:de\s*)?tenue.*?particulier[^\d]*(\d[\d\s]*)/i,/particulier[^\d]*tenue[^\d]*(\d[\d\s]*)/i])||5e3,n=this.extractAmount(e,[/tenue\s*(?:de\s*)?compte.*?professionnel[^\d]*(\d[\d\s]*)/i,/frais\s*(?:de\s*)?tenue.*?professionnel[^\d]*(\d[\d\s]*)/i,/professionnel[^\d]*tenue[^\d]*(\d[\d\s]*)/i])||1e4,i=this.extractAmount(e,[/tenue\s*(?:de\s*)?compte.*?entreprise[^\d]*(\d[\d\s]*)/i,/frais\s*(?:de\s*)?tenue.*?entreprise[^\d]*(\d[\d\s]*)/i,/entreprise[^\d]*tenue[^\d]*(\d[\d\s]*)/i,/personne\s*morale[^\d]*(\d[\d\s]*)/i])||25e3,s=this.extractAmount(e,[/relev[e]\s*(?:de\s*)?compte[^\d]*(\d[\d\s]*)/i,/envoi\s*relev[e][^\d]*(\d[\d\s]*)/i])||1e3,a=this.extractAmount(e,[/duplicata[^\d]*relev[e][^\d]*(\d[\d\s]*)/i,/relev[e].*?duplicata[^\d]*(\d[\d\s]*)/i])||2500,o=this.extractAmount(e,[/attestation\s*(?:de\s*)?solde[^\d]*(\d[\d\s]*)/i,/certificat.*?solde[^\d]*(\d[\d\s]*)/i])||5e3,l=this.extractAmount(e,[/cl[o]ture\s*(?:de\s*)?compte[^\d]*(\d[\d\s]*)/i,/frais\s*(?:de\s*)?cl[o]ture[^\d]*(\d[\d\s]*)/i])||5e3,c=this.extractAmount(e,[/inactivit[e][^\d]*(\d[\d\s]*)/i,/compte\s*dormant[^\d]*(\d[\d\s]*)/i,/compte\s*inactif[^\d]*(\d[\d\s]*)/i])||1e4,u=this.extractAmount(e,[/lettre\s*(?:d['])?injonction[^\d]*(\d[\d\s]*)/i,/mise\s*en\s*demeure[^\d]*(\d[\d\s]*)/i])||15e3;return{tenueCompte:{particulier:t,professionnel:n,entreprise:i},fraisOuverture:0,fraisCloture:l,fraisInactivite:c,releveCompte:{mensuel:s,duplicata:a},attestationSolde:o,lettreInjonction:u,droitTimbre:0}}extractCardFees(e){const t=this.extractAmount(e,[/visa\s*classic[^\d]*(\d[\d\s]*)/i,/carte\s*classic[^\d]*(\d[\d\s]*)/i])||25e3,n=this.extractAmount(e,[/visa\s*gold[^\d]*(\d[\d\s]*)/i,/carte\s*gold[^\d]*(\d[\d\s]*)/i,/visa\s*premier[^\d]*(\d[\d\s]*)/i])||75e3,i=this.extractAmount(e,[/visa\s*platinum[^\d]*(\d[\d\s]*)/i,/carte\s*platinum[^\d]*(\d[\d\s]*)/i,/visa\s*infinite[^\d]*(\d[\d\s]*)/i])||15e4,s=this.extractAmount(e,[/gimac[^\d]*(\d[\d\s]*)/i,/gim[- ]?uemoa[^\d]*(\d[\d\s]*)/i,/carte\s*r[e]gionale[^\d]*(\d[\d\s]*)/i])||1e4,a=this.extractAmount(e,[/opposition\s*(?:sur\s*)?carte[^\d]*(\d[\d\s]*)/i,/perte\s*(?:de\s*)?carte[^\d]*(\d[\d\s]*)/i])||5e3,o=this.extractAmount(e,[/renouvellement\s*anticip[e][^\d]*(\d[\d\s]*)/i,/remplacement\s*carte[^\d]*(\d[\d\s]*)/i])||1e4,l=this.extractAmount(e,[/code\s*pin[^\d]*(\d[\d\s]*)/i,/code\s*secret[^\d]*(\d[\d\s]*)/i,/r[e]initialisation\s*pin[^\d]*(\d[\d\s]*)/i])||2500,c=this.extractAmount(e,[/retrait\s*(?:dab|gab).*?autre\s*banque[^\d]*(\d[\d\s]*)/i,/retrait\s*d[e]plac[e][^\d]*(\d[\d\s]*)/i,/retrait\s*hors\s*r[e]seau[^\d]*(\d[\d\s]*)/i])||1500;return{cartes:[{nom:"Carte VISA Classic",type:"debit",reseau:"VISA",cotisationAnnuelle:t,plafondRetrait:5e5,plafondPaiement:1e6,validite:3},{nom:"Carte VISA Gold",type:"debit",reseau:"VISA",cotisationAnnuelle:n,plafondRetrait:1e6,plafondPaiement:3e6,validite:3},{nom:"Carte VISA Platinum",type:"credit",reseau:"VISA",cotisationAnnuelle:i,plafondRetrait:2e6,plafondPaiement:5e6,validite:3},{nom:"Carte GIMAC/GIM-UEMOA",type:"debit",reseau:"GIMAC",cotisationAnnuelle:s,plafondRetrait:3e5,plafondPaiement:5e5,validite:2}],oppositionCarte:a,renouvellementAnticipe:o,codePinOublie:l,retraitDabAutreBanque:c,paiementTpe:0,consultationSolde:200}}extractTransferFees(e){const t=this.extractPercentage(e,[/virement\s*(?:cemac|beac|zone)[^\d]*(\d[\d,\.]*)\s*%/i,/transfert\s*r[e]gional[^\d]*(\d[\d,\.]*)\s*%/i])||.5,n=this.extractAmount(e,[/virement\s*(?:cemac|beac).*?minimum[^\d]*(\d[\d\s]*)/i,/minimum.*?virement\s*(?:cemac|beac)[^\d]*(\d[\d\s]*)/i])||5e3,i=this.extractPercentage(e,[/virement\s*international[^\d]*(\d[\d,\.]*)\s*%/i,/transfert\s*international[^\d]*(\d[\d,\.]*)\s*%/i,/virement\s*[e]tranger[^\d]*(\d[\d,\.]*)\s*%/i])||1,s=this.extractAmount(e,[/virement\s*international.*?minimum[^\d]*(\d[\d\s]*)/i,/minimum.*?virement\s*international[^\d]*(\d[\d\s]*)/i])||15e3,a=this.extractAmount(e,[/swift[^\d]*(\d[\d\s]*)/i,/frais\s*swift[^\d]*(\d[\d\s]*)/i])||25e3,o=this.extractAmount(e,[/virement\s*instantan[e][^\d]*(\d[\d\s]*)/i,/transfert\s*instantan[e][^\d]*(\d[\d\s]*)/i])||500,l=this.extractAmount(e,[/virement\s*permanent[^\d]*(\d[\d\s]*)/i,/ordre\s*permanent[^\d]*(\d[\d\s]*)/i])||2500,c=this.extractAmount(e,[/rejet\s*(?:de\s*)?virement[^\d]*(\d[\d\s]*)/i,/virement\s*rejet[e][^\d]*(\d[\d\s]*)/i])||5e3;return{virementInterne:{commission:0,minimum:0,maximum:0},virementCemacUemoa:{commission:t,minimum:n,swift:1e4},virementInternational:{commission:i,minimum:s,swift:a,fraisCorrespondant:3e4},virementInstantane:o,ordreVirementPermanent:l,rejetVirement:c}}extractCheckFees(e){const t=this.extractAmount(e,[/carnet.*?25\s*feuilles[^\d]*(\d[\d\s]*)/i,/ch[e]quier.*?25[^\d]*(\d[\d\s]*)/i])||5e3,n=this.extractAmount(e,[/carnet.*?50\s*feuilles[^\d]*(\d[\d\s]*)/i,/ch[e]quier.*?50[^\d]*(\d[\d\s]*)/i])||8e3,i=this.extractAmount(e,[/ch[e]que\s*(?:de\s*)?guichet[^\d]*(\d[\d\s]*)/i])||500,s=this.extractAmount(e,[/ch[e]que\s*certifi[e][^\d]*(\d[\d\s]*)/i,/certification\s*ch[e]que[^\d]*(\d[\d\s]*)/i])||5e3,a=this.extractAmount(e,[/opposition\s*(?:sur\s*)?ch[e]que[^\d]*(\d[\d\s]*)/i])||1e4,o=this.extractAmount(e,[/ch[e]que\s*impay[e][^\d]*(\d[\d\s]*)/i,/impay[e]\s*ch[e]que[^\d]*(\d[\d\s]*)/i])||25e3,l=this.extractAmount(e,[/ch[e]que\s*retourn[e][^\d]*(\d[\d\s]*)/i,/retour\s*ch[e]que[^\d]*(\d[\d\s]*)/i])||15e3;return{carnetCheques:{feuilles25:t,feuilles50:n},chequeGuichet:i,chequeCertifie:s,oppositionCheque:a,chequeImpaye:o,chequeRetourne:l,encaissementChequePlace:0,encaissementChequeDeplacement:2500,certificationCheque:s}}extractCreditFees(e){const t=this.extractPercentage(e,[/d[e]couvert\s*autoris[e][^\d]*(\d[\d,\.]*)\s*%/i,/taux\s*d[e]biteur\s*autoris[e][^\d]*(\d[\d,\.]*)\s*%/i])||14.5,n=this.extractPercentage(e,[/d[e]couvert\s*non\s*autoris[e][^\d]*(\d[\d,\.]*)\s*%/i,/d[e]couvert\s*d[e]pass[e][^\d]*(\d[\d,\.]*)\s*%/i,/taux\s*d[e]biteur\s*non\s*autoris[e][^\d]*(\d[\d,\.]*)\s*%/i])||18,i=this.extractPercentage(e,[/commission\s*(?:de\s*)?mouvement[^\d]*(\d[\d,\.]*)\s*%/i])||.025,s=this.extractPercentage(e,[/plus\s*forte\s*d[e]couverte[^\d]*(\d[\d,\.]*)\s*%/i,/commission\s*(?:de\s*)?plus\s*fort[^\d]*(\d[\d,\.]*)\s*%/i])||.05,a=this.extractPercentage(e,[/taux\s*(?:d['])?usure[^\d]*(\d[\d,\.]*)\s*%/i])||27,o=this.extractPercentage(e,[/cr[e]dit\s*consommation.*?(\d[\d,\.]*)\s*%/i])||12,l=this.extractPercentage(e,[/cr[e]dit\s*immobilier.*?(\d[\d,\.]*)\s*%/i,/pr[e]t\s*immobilier.*?(\d[\d,\.]*)\s*%/i])||8;return{decouvertAutorise:{tauxAnnuel:t,commissionMouvement:i,commissionPlusForte:s},decouvertNonAutorise:{tauxAnnuel:n,penalite:.5},creditConsommation:{tauxMin:o,tauxMax:o+6,fraisDossier:1},creditImmobilier:{tauxMin:l,tauxMax:l+4,fraisDossier:.5},tauxUsure:a}}extractMiscFees(e){const t=this.extractAmount(e,[/sms\s*(?:alerte)?[^\d]*(\d[\d\s]*)/i,/alerte\s*sms[^\d]*(\d[\d\s]*)/i])||500,n=this.extractAmount(e,[/coffre.*?petit[^\d]*(\d[\d\s]*)/i,/petit\s*coffre[^\d]*(\d[\d\s]*)/i])||5e4,i=this.extractAmount(e,[/coffre.*?moyen[^\d]*(\d[\d\s]*)/i,/moyen\s*coffre[^\d]*(\d[\d\s]*)/i])||1e5,s=this.extractAmount(e,[/coffre.*?grand[^\d]*(\d[\d\s]*)/i,/grand\s*coffre[^\d]*(\d[\d\s]*)/i])||2e5;return{smsAlerte:t,eBanking:{abonnement:0,parOperation:0},mobileBanking:{abonnement:0},coffre:{petit:n,moyen:i,grand:s},assuranceCompte:2500,garantieLocative:25e3,cautionMarche:5e4}}extractPenalties(e){const t=this.extractAmount(e,[/ch[e]que\s*rejet[e].*?p[e]nalit[e][^\d]*(\d[\d\s]*)/i,/p[e]nalit[e].*?ch[e]que[^\d]*(\d[\d\s]*)/i,/incident\s*ch[e]que[^\d]*(\d[\d\s]*)/i])||5e4,n=this.extractAmount(e,[/incident\s*(?:de\s*)?paiement[^\d]*(\d[\d\s]*)/i])||25e3,i=this.extractAmount(e,[/d[e]couvert\s*d[e]pass[e][^\d]*(\d[\d\s]*)/i,/d[e]passement\s*d[e]couvert[^\d]*(\d[\d\s]*)/i])||15e3,s=this.extractAmount(e,[/commission\s*(?:d['])?intervention[^\d]*(\d[\d\s]*)/i,/frais\s*(?:d['])?intervention[^\d]*(\d[\d\s]*)/i])||15e3,a=this.extractAmount(e,[/frais\s*(?:de\s*)?contentieux[^\d]*(\d[\d\s]*)/i,/contentieux[^\d]*(\d[\d\s]*)/i])||5e4;return{chequeRejete:t,incidentPaiement:n,decouvertDepasse:i,retardRemboursement:.5,commissionIntervention:s,fraisContentieux:a}}calculateConfidence(e,t,n,i,s){let a=0,o=0;return e.tenueCompte.particulier!==5e3&&a++,e.tenueCompte.professionnel!==1e4&&a++,e.attestationSolde!==5e3&&a++,o+=3,t.cartes[0].cotisationAnnuelle!==25e3&&a++,t.oppositionCarte!==5e3&&a++,o+=2,n.virementCemacUemoa.commission!==.5&&a++,n.virementInternational.commission!==1&&a++,o+=2,i.carnetCheques.feuilles25!==5e3&&a++,o+=1,s.decouvertAutorise.tauxAnnuel!==14.5&&a++,s.tauxUsure!==27&&a++,o+=2,Math.round(a/o*100)}}const MZ=new b8e;function x8e(r){const e=["CM","CF","CG","GA","GQ","TD"],t=["BJ","BF","CI","GW","ML","NE","SN","TG"];return e.includes(r)?"CEMAC":t.includes(r)?"UEMOA":null}const w8e=[{id:"compte",label:"Compte",icon:A.jsx(Ji,{className:"w-4 h-4"})},{id:"guichet",label:"Oprations guichet",icon:A.jsx(nT,{className:"w-4 h-4"})},{id:"cartes",label:"Cartes",icon:A.jsx(bV,{className:"w-4 h-4"})},{id:"virements",label:"Virements",icon:A.jsx(mV,{className:"w-4 h-4"})},{id:"cheques",label:"Chques",icon:A.jsx(Zr,{className:"w-4 h-4"})},{id:"credits",label:"Crdits & Agios",icon:A.jsx(BV,{className:"w-4 h-4"})},{id:"ebanking",label:"E-Banking",icon:A.jsx(IV,{className:"w-4 h-4"})},{id:"divers",label:"Divers",icon:A.jsx(vA,{className:"w-4 h-4"})},{id:"documents",label:"Documents",icon:A.jsx(xV,{className:"w-4 h-4"})}];function qS(){return{tenueCompte:{particulierLocal:2500,particulierEtranger:5e3,professionnel:7500,entreprise:15e3,association:5e3,compteEpargne:0,compteDevises:1e4},ouvertureCompte:{particulier:0,entreprise:25e3,minimumDepot:5e4},clotureCompte:{particulier:5e3,entreprise:1e4},releves:{mensuelPapier:1e3,mensuelEmail:0,duplicata:2500,releveAnnuel:5e3,attestationSolde:5e3,certificatNonEngagement:1e4,rib:500},guichet:{versementEspeces:0,versementEspecesCommission:0,retraitEspeces:0,retraitEspecesCommission:.1,changeManuel:2500,achatDevises:.5,venteDevises:.5},cartes:[{id:at(),nom:"VISA Classic",type:"debit",reseau:"VISA",cotisationAnnuelle:25e3,fraisEmission:5e3,plafondRetraitJour:5e5,plafondPaiementJour:1e6,plafondRetraitMois:5e6,plafondPaiementMois:1e7,validiteAnnees:3},{id:at(),nom:"VISA Gold",type:"debit",reseau:"VISA",cotisationAnnuelle:75e3,fraisEmission:1e4,plafondRetraitJour:1e6,plafondPaiementJour:3e6,plafondRetraitMois:1e7,plafondPaiementMois:3e7,validiteAnnees:3},{id:at(),nom:"Carte GIMAC",type:"debit",reseau:"GIMAC",cotisationAnnuelle:1e4,fraisEmission:2500,plafondRetraitJour:3e5,plafondPaiementJour:5e5,plafondRetraitMois:3e6,plafondPaiementMois:5e6,validiteAnnees:2}],fraisCartes:{retraitDabPropre:0,retraitDabAutre:500,retraitDabInternational:3e3,paiementTpePropre:0,paiementTpeAutre:250,paiementTpeInternational:1.5,paiementInternet:1,oppositionCarte:5e3,renouvellementAnticipe:1e4,codeOublie:2500,carteCaptee:5e3,consultationSolde:200},virements:{interneGratuit:!0,interneFrais:0,nationalMemeBank:0,nationalAutreBank:2500,nationalAutreBankCommission:.1,zoneMonetaire:5e3,zoneMonetaireCommission:.25,international:15e3,internationalCommission:.5,swift:25e3,instantane:500,permanent:2500,rejetVirement:5e3,recuVirement:0},cheques:{carnet25:5e3,carnet50:8e3,carnet100:15e3,chequeGuichet:500,chequeCertifie:5e3,chequeBanque:1e4,oppositionCheque:1e4,chequeImpaye:25e3,chequeRetourne:15e3,encaissementPlace:0,encaissementDeplacement:2500,encaissementEtranger:1e4,encaissementEtrangerCommission:.5},credits:{decouvertAutorise:14.5,decouvertNonAutorise:18,commissionMouvement:.025,commissionPlusForte:.05,tauxUsure:27,fraisDossierCredit:1,creditConsommationMin:12,creditConsommationMax:18,creditImmobilierMin:8,creditImmobilierMax:12,creditPME:14,penaliteRetard:2},ebanking:{abonnementMensuel:0,abonnementAnnuel:0,parOperation:0,virementEnLigne:250,consultationGratuite:!0,smsAlerte:50,smsAlerteAbonnement:1e3,mobileBanking:0,ussd:100},divers:{coffrePetit:5e4,coffreMoyen:1e5,coffreGrand:2e5,assuranceCompte:2500,garantieBancaire:1,garantieLocative:25e3,cautionMarche:1,lettreInjonction:15e3,saisieAttribution:25e3,mainLevee:15e3,procuration:5e3,successionFrais:5e4,successionCommission:.5,avoirInactif:1e4,fraisInactivite:5e3,droitTimbre:0,tvaServices:19.25},customFees:[],documents:[]}}function OZ({isOpen:r,onClose:e,bank:t,onSaveConditions:n}){const[i,s]=K.useState("compte"),[a,o]=K.useState(!1),[l,c]=K.useState(!1),[u,d]=K.useState(null),[h,f]=K.useState(!1),[p,g]=K.useState({}),m=K.useRef(null),[v,y]=K.useState(qS());if(K.useEffect(()=>{t?.conditions?y({...qS(),...t.conditions,documents:t.conditions.documents||[]}):y(qS()),f(!1)},[t,r]),!r||!t)return null;const b=t.zone||x8e(t.country),w=b?DV[b]:{code:"XAF"},_=xc[t.country]||t.country,B=(x,F)=>{y(U=>{const M={...U},z=x.split(".");let G=M;for(let Y=0;Y<z.length-1;Y++)G=G[z[Y]];return G[z[z.length-1]]=F,M}),f(!0)},R=()=>{const x={id:at(),nom:"Nouvelle carte",type:"debit",reseau:"VISA",cotisationAnnuelle:0,fraisEmission:0,plafondRetraitJour:0,plafondPaiementJour:0,plafondRetraitMois:0,plafondPaiementMois:0,validiteAnnees:2};y(F=>({...F,cartes:[...F.cartes,x]})),f(!0)},j=x=>{y(F=>({...F,cartes:F.cartes.filter(U=>U.id!==x)})),f(!0)},k=(x,F,U)=>{y(M=>({...M,cartes:M.cartes.map(z=>z.id===x?{...z,[F]:U}:z)})),f(!0)},L=()=>{const x={id:at(),label:"Nouveau frais",amount:0,type:"fixed",frequency:"once",category:i};y(F=>({...F,customFees:[...F.customFees,x]})),f(!0)},H=x=>{y(F=>({...F,customFees:F.customFees.filter(U=>U.id!==x)})),f(!0)},I=x=>{g(F=>({...F,[x]:!F[x]}))},T=()=>{n(t.id,v),f(!1)},P=async x=>{const F=x.target.files?.[0];if(!(!F||!F.type.includes("pdf"))){o(!0),d(null);try{const U=await N(F);c(!0);const M=await MZ.extractFromFile(F);d(M);const z={id:`doc-${Date.now()}`,name:F.name,type:"conditions",uploadDate:new Date,effectiveDate:new Date,fileData:U,fileSize:F.size,extractedAt:M.success?new Date:void 0,isActive:!0};y(G=>({...G,documents:[...G.documents,z]})),f(!0)}catch(U){console.error("Erreur upload:",U),d({success:!1,error:U instanceof Error?U.message:"Erreur inconnue",confidence:0})}finally{o(!1),c(!1)}}},N=x=>new Promise((F,U)=>{const M=new FileReader;M.readAsDataURL(x),M.onload=()=>F(M.result),M.onerror=z=>U(z)}),S=x=>{y(F=>({...F,documents:F.documents.filter(U=>U.id!==x)})),f(!0)},C=({label:x,value:F,onChange:U,type:M="number",suffix:z="",min:G,max:Y,step:Q})=>M==="checkbox"?A.jsxs("div",{className:"flex items-center justify-between py-2",children:[A.jsx("span",{className:"text-sm text-primary-700",children:x}),A.jsx("input",{type:"checkbox",checked:F,onChange:q=>U(q.target.checked),className:"w-5 h-5 rounded border-primary-300 text-primary-900 focus:ring-primary-500"})]}):A.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-primary-50",children:[A.jsx("span",{className:"text-sm text-primary-700 flex-1",children:x}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("input",{type:"number",value:F,onChange:q=>U(M==="number"?Number(q.target.value):parseFloat(q.target.value)),min:G,max:Y,step:Q||(M==="percent"?.01:1),className:"w-28 px-2 py-1 text-right text-sm border border-primary-200 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500"}),A.jsx("span",{className:"text-xs text-primary-500 w-12",children:z||(M==="percent"?"%":w.code)})]})]}),E=({title:x,icon:F,children:U,id:M})=>{const z=p[M]!==!1;return A.jsxs("div",{className:"border border-primary-200 rounded-lg overflow-hidden mb-4",children:[A.jsxs("button",{onClick:()=>I(M),className:"w-full flex items-center justify-between p-3 bg-primary-50 hover:bg-primary-100 transition-colors",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[F,A.jsx("span",{className:"font-medium text-primary-900",children:x})]}),z?A.jsx(sT,{className:"w-5 h-5 text-primary-500"}):A.jsx(gA,{className:"w-5 h-5 text-primary-500"})]}),z&&A.jsx("div",{className:"p-4 bg-white",children:U})]})};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[95vw] h-[90vh] max-w-7xl flex flex-col",children:[A.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-6 py-4 border-b border-primary-200 bg-primary-900 text-white rounded-t-xl",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center",children:A.jsx(Xi,{className:"w-6 h-6"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-bold",children:t.name}),A.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-300",children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(dy,{className:"w-3 h-3"}),_]}),A.jsxs(Ir,{variant:b==="CEMAC"?"info":"success",className:"text-xs",children:[b," - ",w.code]})]})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[h&&A.jsx(Ir,{variant:"warning",className:"animate-pulse",children:"Modifications non sauvegardes"}),A.jsxs(Ye,{variant:"secondary",onClick:T,disabled:!h,className:"bg-white text-primary-900 hover:bg-primary-100",children:[A.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Enregistrer"]}),A.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:A.jsx(Eo,{className:"w-5 h-5"})})]})]}),A.jsx("div",{className:"flex-shrink-0 border-b border-primary-200 bg-primary-50",children:A.jsx("div",{className:"flex gap-1 px-4 overflow-x-auto",children:w8e.map(x=>A.jsxs("button",{onClick:()=>s(x.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${i===x.id?"border-primary-900 text-primary-900 bg-white":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[x.icon,x.label]},x.id))})}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="compte"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs(E,{id:"tenue",title:"Frais de tenue de compte (mensuel)",icon:A.jsx(Ji,{className:"w-5 h-5 text-primary-600"}),children:[A.jsx(C,{label:"Particulier rsident",value:v.tenueCompte.particulierLocal,onChange:x=>B("tenueCompte.particulierLocal",x)}),A.jsx(C,{label:"Particulier non-rsident",value:v.tenueCompte.particulierEtranger,onChange:x=>B("tenueCompte.particulierEtranger",x)}),A.jsx(C,{label:"Professionnel / Auto-entrepreneur",value:v.tenueCompte.professionnel,onChange:x=>B("tenueCompte.professionnel",x)}),A.jsx(C,{label:"Entreprise / Personne morale",value:v.tenueCompte.entreprise,onChange:x=>B("tenueCompte.entreprise",x)}),A.jsx(C,{label:"Association / ONG",value:v.tenueCompte.association,onChange:x=>B("tenueCompte.association",x)}),A.jsx(C,{label:"Compte pargne",value:v.tenueCompte.compteEpargne,onChange:x=>B("tenueCompte.compteEpargne",x)}),A.jsx(C,{label:"Compte devises",value:v.tenueCompte.compteDevises,onChange:x=>B("tenueCompte.compteDevises",x)})]}),A.jsxs(E,{id:"ouverture",title:"Ouverture de compte",icon:A.jsx(Yn,{className:"w-5 h-5 text-green-600"}),children:[A.jsx(C,{label:"Frais ouverture particulier",value:v.ouvertureCompte.particulier,onChange:x=>B("ouvertureCompte.particulier",x)}),A.jsx(C,{label:"Frais ouverture entreprise",value:v.ouvertureCompte.entreprise,onChange:x=>B("ouvertureCompte.entreprise",x)}),A.jsx(C,{label:"Dpt minimum initial",value:v.ouvertureCompte.minimumDepot,onChange:x=>B("ouvertureCompte.minimumDepot",x)})]}),A.jsxs(E,{id:"cloture",title:"Clture de compte",icon:A.jsx(Eo,{className:"w-5 h-5 text-red-600"}),children:[A.jsx(C,{label:"Clture compte particulier",value:v.clotureCompte.particulier,onChange:x=>B("clotureCompte.particulier",x)}),A.jsx(C,{label:"Clture compte entreprise",value:v.clotureCompte.entreprise,onChange:x=>B("clotureCompte.entreprise",x)})]}),A.jsxs(E,{id:"releves",title:"Relevs et attestations",icon:A.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),children:[A.jsx(C,{label:"Relev mensuel (papier)",value:v.releves.mensuelPapier,onChange:x=>B("releves.mensuelPapier",x)}),A.jsx(C,{label:"Relev mensuel (email)",value:v.releves.mensuelEmail,onChange:x=>B("releves.mensuelEmail",x)}),A.jsx(C,{label:"Duplicata de relev",value:v.releves.duplicata,onChange:x=>B("releves.duplicata",x)}),A.jsx(C,{label:"Relev annuel",value:v.releves.releveAnnuel,onChange:x=>B("releves.releveAnnuel",x)}),A.jsx(C,{label:"Attestation de solde",value:v.releves.attestationSolde,onChange:x=>B("releves.attestationSolde",x)}),A.jsx(C,{label:"Certificat de non-engagement",value:v.releves.certificatNonEngagement,onChange:x=>B("releves.certificatNonEngagement",x)}),A.jsx(C,{label:"RIB / IBAN",value:v.releves.rib,onChange:x=>B("releves.rib",x)})]})]}),i==="guichet"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs(E,{id:"especes",title:"Oprations en espces",icon:A.jsx(nT,{className:"w-5 h-5 text-green-600"}),children:[A.jsx(C,{label:"Versement espces (frais fixes)",value:v.guichet.versementEspeces,onChange:x=>B("guichet.versementEspeces",x)}),A.jsx(C,{label:"Versement espces (commission)",value:v.guichet.versementEspecesCommission,onChange:x=>B("guichet.versementEspecesCommission",x),type:"percent"}),A.jsx(C,{label:"Retrait espces (frais fixes)",value:v.guichet.retraitEspeces,onChange:x=>B("guichet.retraitEspeces",x)}),A.jsx(C,{label:"Retrait espces (commission)",value:v.guichet.retraitEspecesCommission,onChange:x=>B("guichet.retraitEspecesCommission",x),type:"percent"})]}),A.jsxs(E,{id:"change",title:"Change manuel",icon:A.jsx(th,{className:"w-5 h-5 text-blue-600"}),children:[A.jsx(C,{label:"Frais fixes change",value:v.guichet.changeManuel,onChange:x=>B("guichet.changeManuel",x)}),A.jsx(C,{label:"Commission achat devises",value:v.guichet.achatDevises,onChange:x=>B("guichet.achatDevises",x),type:"percent"}),A.jsx(C,{label:"Commission vente devises",value:v.guichet.venteDevises,onChange:x=>B("guichet.venteDevises",x),type:"percent"})]})]}),i==="cartes"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"font-semibold text-primary-900",children:"Cartes bancaires"}),A.jsxs(Ye,{onClick:R,size:"sm",children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Ajouter une carte"]})]}),v.cartes.map(x=>A.jsxs("div",{className:"border border-primary-200 rounded-lg overflow-hidden",children:[A.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(bV,{className:"w-5 h-5 text-primary-600"}),A.jsx("input",{type:"text",value:x.nom,onChange:F=>k(x.id,"nom",F.target.value),className:"font-medium text-primary-900 bg-transparent border-none focus:ring-0 p-0"}),A.jsx(Ir,{variant:x.type==="credit"?"warning":"info",children:x.type==="credit"?"Crdit":x.type==="prepaid"?"Prpaye":"Dbit"})]}),A.jsx("button",{onClick:()=>j(x.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:A.jsx(Ds,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs text-primary-500 mb-1",children:"Rseau"}),A.jsxs("select",{value:x.reseau,onChange:F=>k(x.id,"reseau",F.target.value),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded",children:[A.jsx("option",{value:"VISA",children:"VISA"}),A.jsx("option",{value:"MASTERCARD",children:"MASTERCARD"}),A.jsx("option",{value:"GIMAC",children:"GIMAC"}),A.jsx("option",{value:"GIM-UEMOA",children:"GIM-UEMOA"}),A.jsx("option",{value:"AUTRE",children:"Autre"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs text-primary-500 mb-1",children:"Type"}),A.jsxs("select",{value:x.type,onChange:F=>k(x.id,"type",F.target.value),className:"w-full px-2 py-1 text-sm border border-primary-200 rounded",children:[A.jsx("option",{value:"debit",children:"Dbit"}),A.jsx("option",{value:"credit",children:"Crdit"}),A.jsx("option",{value:"prepaid",children:"Prpaye"})]})]}),A.jsx(C,{label:"Cotisation annuelle",value:x.cotisationAnnuelle,onChange:F=>k(x.id,"cotisationAnnuelle",F)}),A.jsx(C,{label:"Frais d'mission",value:x.fraisEmission,onChange:F=>k(x.id,"fraisEmission",F)}),A.jsx(C,{label:"Plafond retrait/jour",value:x.plafondRetraitJour,onChange:F=>k(x.id,"plafondRetraitJour",F)}),A.jsx(C,{label:"Plafond paiement/jour",value:x.plafondPaiementJour,onChange:F=>k(x.id,"plafondPaiementJour",F)}),A.jsx(C,{label:"Validit (annes)",value:x.validiteAnnees,onChange:F=>k(x.id,"validiteAnnees",F),suffix:"ans"})]})]},x.id)),A.jsxs(E,{id:"fraisCartes",title:"Frais lis aux cartes",icon:A.jsx($p,{className:"w-5 h-5 text-primary-600"}),children:[A.jsx(C,{label:"Retrait DAB propre rseau",value:v.fraisCartes.retraitDabPropre,onChange:x=>B("fraisCartes.retraitDabPropre",x)}),A.jsx(C,{label:"Retrait DAB autre banque",value:v.fraisCartes.retraitDabAutre,onChange:x=>B("fraisCartes.retraitDabAutre",x)}),A.jsx(C,{label:"Retrait DAB international",value:v.fraisCartes.retraitDabInternational,onChange:x=>B("fraisCartes.retraitDabInternational",x)}),A.jsx(C,{label:"Paiement TPE propre rseau",value:v.fraisCartes.paiementTpePropre,onChange:x=>B("fraisCartes.paiementTpePropre",x)}),A.jsx(C,{label:"Paiement TPE autre banque",value:v.fraisCartes.paiementTpeAutre,onChange:x=>B("fraisCartes.paiementTpeAutre",x)}),A.jsx(C,{label:"Paiement TPE international",value:v.fraisCartes.paiementTpeInternational,onChange:x=>B("fraisCartes.paiementTpeInternational",x),type:"percent"}),A.jsx(C,{label:"Paiement internet",value:v.fraisCartes.paiementInternet,onChange:x=>B("fraisCartes.paiementInternet",x),type:"percent"}),A.jsx(C,{label:"Opposition sur carte",value:v.fraisCartes.oppositionCarte,onChange:x=>B("fraisCartes.oppositionCarte",x)}),A.jsx(C,{label:"Renouvellement anticip",value:v.fraisCartes.renouvellementAnticipe,onChange:x=>B("fraisCartes.renouvellementAnticipe",x)}),A.jsx(C,{label:"Code PIN oubli",value:v.fraisCartes.codeOublie,onChange:x=>B("fraisCartes.codeOublie",x)}),A.jsx(C,{label:"Carte capture",value:v.fraisCartes.carteCaptee,onChange:x=>B("fraisCartes.carteCaptee",x)}),A.jsx(C,{label:"Consultation solde DAB",value:v.fraisCartes.consultationSolde,onChange:x=>B("fraisCartes.consultationSolde",x)})]})]}),i==="virements"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs(E,{id:"virInternes",title:"Virements internes",icon:A.jsx(mV,{className:"w-5 h-5 text-green-600"}),children:[A.jsx(C,{label:"Virement interne gratuit",value:v.virements.interneGratuit,onChange:x=>B("virements.interneGratuit",x),type:"checkbox"}),!v.virements.interneGratuit&&A.jsx(C,{label:"Frais virement interne",value:v.virements.interneFrais,onChange:x=>B("virements.interneFrais",x)})]}),A.jsxs(E,{id:"virNationaux",title:"Virements nationaux",icon:A.jsx(mle,{className:"w-5 h-5 text-blue-600"}),children:[A.jsx(C,{label:"Mme banque (agence diffrente)",value:v.virements.nationalMemeBank,onChange:x=>B("virements.nationalMemeBank",x)}),A.jsx(C,{label:"Autre banque (frais fixes)",value:v.virements.nationalAutreBank,onChange:x=>B("virements.nationalAutreBank",x)}),A.jsx(C,{label:"Autre banque (commission)",value:v.virements.nationalAutreBankCommission,onChange:x=>B("virements.nationalAutreBankCommission",x),type:"percent"}),A.jsx(C,{label:"Virement instantan",value:v.virements.instantane,onChange:x=>B("virements.instantane",x)})]}),A.jsxs(E,{id:"virZone",title:`Virements zone ${b||"CEMAC/UEMOA"}`,icon:A.jsx(th,{className:"w-5 h-5 text-amber-600"}),children:[A.jsx(C,{label:"Frais fixes",value:v.virements.zoneMonetaire,onChange:x=>B("virements.zoneMonetaire",x)}),A.jsx(C,{label:"Commission",value:v.virements.zoneMonetaireCommission,onChange:x=>B("virements.zoneMonetaireCommission",x),type:"percent"})]}),A.jsxs(E,{id:"virInternational",title:"Virements internationaux",icon:A.jsx(th,{className:"w-5 h-5 text-red-600"}),children:[A.jsx(C,{label:"Frais fixes",value:v.virements.international,onChange:x=>B("virements.international",x)}),A.jsx(C,{label:"Commission",value:v.virements.internationalCommission,onChange:x=>B("virements.internationalCommission",x),type:"percent"}),A.jsx(C,{label:"Frais SWIFT",value:v.virements.swift,onChange:x=>B("virements.swift",x)})]}),A.jsxs(E,{id:"virAutres",title:"Autres virements",icon:A.jsx(vA,{className:"w-5 h-5 text-primary-600"}),children:[A.jsx(C,{label:"Ordre permanent",value:v.virements.permanent,onChange:x=>B("virements.permanent",x)}),A.jsx(C,{label:"Rejet de virement",value:v.virements.rejetVirement,onChange:x=>B("virements.rejetVirement",x)}),A.jsx(C,{label:"Virement reu",value:v.virements.recuVirement,onChange:x=>B("virements.recuVirement",x)})]})]}),i==="cheques"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs(E,{id:"carnets",title:"Carnets de chques",icon:A.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),children:[A.jsx(C,{label:"Carnet 25 feuilles",value:v.cheques.carnet25,onChange:x=>B("cheques.carnet25",x)}),A.jsx(C,{label:"Carnet 50 feuilles",value:v.cheques.carnet50,onChange:x=>B("cheques.carnet50",x)}),A.jsx(C,{label:"Carnet 100 feuilles",value:v.cheques.carnet100,onChange:x=>B("cheques.carnet100",x)})]}),A.jsxs(E,{id:"typesCheques",title:"Types de chques",icon:A.jsx($p,{className:"w-5 h-5 text-green-600"}),children:[A.jsx(C,{label:"Chque de guichet",value:v.cheques.chequeGuichet,onChange:x=>B("cheques.chequeGuichet",x)}),A.jsx(C,{label:"Chque certifi",value:v.cheques.chequeCertifie,onChange:x=>B("cheques.chequeCertifie",x)}),A.jsx(C,{label:"Chque de banque",value:v.cheques.chequeBanque,onChange:x=>B("cheques.chequeBanque",x)})]}),A.jsxs(E,{id:"incidentsCheques",title:"Incidents sur chques",icon:A.jsx(As,{className:"w-5 h-5 text-red-600"}),children:[A.jsx(C,{label:"Opposition sur chque",value:v.cheques.oppositionCheque,onChange:x=>B("cheques.oppositionCheque",x)}),A.jsx(C,{label:"Chque impay mis",value:v.cheques.chequeImpaye,onChange:x=>B("cheques.chequeImpaye",x)}),A.jsx(C,{label:"Chque retourn",value:v.cheques.chequeRetourne,onChange:x=>B("cheques.chequeRetourne",x)})]}),A.jsxs(E,{id:"encaissement",title:"Encaissement de chques",icon:A.jsx(dT,{className:"w-5 h-5 text-amber-600"}),children:[A.jsx(C,{label:"Encaissement sur place",value:v.cheques.encaissementPlace,onChange:x=>B("cheques.encaissementPlace",x)}),A.jsx(C,{label:"Encaissement dplac",value:v.cheques.encaissementDeplacement,onChange:x=>B("cheques.encaissementDeplacement",x)}),A.jsx(C,{label:"Encaissement tranger (frais)",value:v.cheques.encaissementEtranger,onChange:x=>B("cheques.encaissementEtranger",x)}),A.jsx(C,{label:"Encaissement tranger (commission)",value:v.cheques.encaissementEtrangerCommission,onChange:x=>B("cheques.encaissementEtrangerCommission",x),type:"percent"})]})]}),i==="credits"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs(E,{id:"decouvert",title:"Dcouverts",icon:A.jsx(As,{className:"w-5 h-5 text-red-600"}),children:[A.jsx(C,{label:"Taux dcouvert autoris (TEG)",value:v.credits.decouvertAutorise,onChange:x=>B("credits.decouvertAutorise",x),type:"percent"}),A.jsx(C,{label:"Taux dcouvert non autoris",value:v.credits.decouvertNonAutorise,onChange:x=>B("credits.decouvertNonAutorise",x),type:"percent"}),A.jsx(C,{label:"Commission de mouvement",value:v.credits.commissionMouvement,onChange:x=>B("credits.commissionMouvement",x),type:"percent"}),A.jsx(C,{label:"Commission plus forte dcouverte",value:v.credits.commissionPlusForte,onChange:x=>B("credits.commissionPlusForte",x),type:"percent"}),A.jsx(C,{label:"Taux d'usure lgal",value:v.credits.tauxUsure,onChange:x=>B("credits.tauxUsure",x),type:"percent"})]}),A.jsxs(E,{id:"credits",title:"Crdits",icon:A.jsx(BV,{className:"w-5 h-5 text-blue-600"}),children:[A.jsx(C,{label:"Frais de dossier crdit",value:v.credits.fraisDossierCredit,onChange:x=>B("credits.fraisDossierCredit",x),type:"percent"}),A.jsx(C,{label:"Crdit conso - taux min",value:v.credits.creditConsommationMin,onChange:x=>B("credits.creditConsommationMin",x),type:"percent"}),A.jsx(C,{label:"Crdit conso - taux max",value:v.credits.creditConsommationMax,onChange:x=>B("credits.creditConsommationMax",x),type:"percent"}),A.jsx(C,{label:"Crdit immobilier - taux min",value:v.credits.creditImmobilierMin,onChange:x=>B("credits.creditImmobilierMin",x),type:"percent"}),A.jsx(C,{label:"Crdit immobilier - taux max",value:v.credits.creditImmobilierMax,onChange:x=>B("credits.creditImmobilierMax",x),type:"percent"}),A.jsx(C,{label:"Crdit PME/TPE",value:v.credits.creditPME,onChange:x=>B("credits.creditPME",x),type:"percent"}),A.jsx(C,{label:"Pnalit de retard",value:v.credits.penaliteRetard,onChange:x=>B("credits.penaliteRetard",x),type:"percent"})]})]}),i==="ebanking"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs(E,{id:"abonnement",title:"Abonnements",icon:A.jsx(IV,{className:"w-5 h-5 text-blue-600"}),children:[A.jsx(C,{label:"Abonnement mensuel",value:v.ebanking.abonnementMensuel,onChange:x=>B("ebanking.abonnementMensuel",x)}),A.jsx(C,{label:"Abonnement annuel",value:v.ebanking.abonnementAnnuel,onChange:x=>B("ebanking.abonnementAnnuel",x)}),A.jsx(C,{label:"Consultation gratuite",value:v.ebanking.consultationGratuite,onChange:x=>B("ebanking.consultationGratuite",x),type:"checkbox"})]}),A.jsxs(E,{id:"operations",title:"Oprations en ligne",icon:A.jsx(th,{className:"w-5 h-5 text-green-600"}),children:[A.jsx(C,{label:"Par opration",value:v.ebanking.parOperation,onChange:x=>B("ebanking.parOperation",x)}),A.jsx(C,{label:"Virement en ligne",value:v.ebanking.virementEnLigne,onChange:x=>B("ebanking.virementEnLigne",x)}),A.jsx(C,{label:"Mobile Banking",value:v.ebanking.mobileBanking,onChange:x=>B("ebanking.mobileBanking",x)}),A.jsx(C,{label:"USSD",value:v.ebanking.ussd,onChange:x=>B("ebanking.ussd",x)})]}),A.jsxs(E,{id:"alertes",title:"Alertes SMS",icon:A.jsx(Gw,{className:"w-5 h-5 text-amber-600"}),children:[A.jsx(C,{label:"Par SMS",value:v.ebanking.smsAlerte,onChange:x=>B("ebanking.smsAlerte",x)}),A.jsx(C,{label:"Abonnement SMS (mensuel)",value:v.ebanking.smsAlerteAbonnement,onChange:x=>B("ebanking.smsAlerteAbonnement",x)})]})]}),i==="divers"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[A.jsxs(E,{id:"coffres",title:"Location de coffres",icon:A.jsx(wv,{className:"w-5 h-5 text-primary-600"}),children:[A.jsx(C,{label:"Coffre petit (annuel)",value:v.divers.coffrePetit,onChange:x=>B("divers.coffrePetit",x)}),A.jsx(C,{label:"Coffre moyen (annuel)",value:v.divers.coffreMoyen,onChange:x=>B("divers.coffreMoyen",x)}),A.jsx(C,{label:"Coffre grand (annuel)",value:v.divers.coffreGrand,onChange:x=>B("divers.coffreGrand",x)})]}),A.jsxs(E,{id:"garanties",title:"Garanties et cautions",icon:A.jsx(Mm,{className:"w-5 h-5 text-green-600"}),children:[A.jsx(C,{label:"Assurance compte",value:v.divers.assuranceCompte,onChange:x=>B("divers.assuranceCompte",x)}),A.jsx(C,{label:"Garantie bancaire (commission)",value:v.divers.garantieBancaire,onChange:x=>B("divers.garantieBancaire",x),type:"percent"}),A.jsx(C,{label:"Garantie locative",value:v.divers.garantieLocative,onChange:x=>B("divers.garantieLocative",x)}),A.jsx(C,{label:"Caution march (commission)",value:v.divers.cautionMarche,onChange:x=>B("divers.cautionMarche",x),type:"percent"})]}),A.jsxs(E,{id:"incidents",title:"Incidents et contentieux",icon:A.jsx(As,{className:"w-5 h-5 text-red-600"}),children:[A.jsx(C,{label:"Lettre d'injonction",value:v.divers.lettreInjonction,onChange:x=>B("divers.lettreInjonction",x)}),A.jsx(C,{label:"Saisie attribution",value:v.divers.saisieAttribution,onChange:x=>B("divers.saisieAttribution",x)}),A.jsx(C,{label:"Mainleve",value:v.divers.mainLevee,onChange:x=>B("divers.mainLevee",x)}),A.jsx(C,{label:"Frais d'inactivit",value:v.divers.fraisInactivite,onChange:x=>B("divers.fraisInactivite",x)})]}),A.jsxs(E,{id:"succession",title:"Succession et procurations",icon:A.jsx(_h,{className:"w-5 h-5 text-blue-600"}),children:[A.jsx(C,{label:"Procuration",value:v.divers.procuration,onChange:x=>B("divers.procuration",x)}),A.jsx(C,{label:"Succession (frais fixes)",value:v.divers.successionFrais,onChange:x=>B("divers.successionFrais",x)}),A.jsx(C,{label:"Succession (commission)",value:v.divers.successionCommission,onChange:x=>B("divers.successionCommission",x),type:"percent"})]}),A.jsxs(E,{id:"taxes",title:"Taxes et timbres",icon:A.jsx($p,{className:"w-5 h-5 text-amber-600"}),children:[A.jsx(C,{label:"Droit de timbre",value:v.divers.droitTimbre,onChange:x=>B("divers.droitTimbre",x)}),A.jsx(C,{label:"TVA sur services",value:v.divers.tvaServices,onChange:x=>B("divers.tvaServices",x),type:"percent"})]}),A.jsxs("div",{className:"border border-primary-200 rounded-lg overflow-hidden",children:[A.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Yn,{className:"w-5 h-5 text-primary-600"}),A.jsx("span",{className:"font-medium text-primary-900",children:"Frais personnaliss"})]}),A.jsxs(Ye,{onClick:L,size:"sm",variant:"secondary",children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Ajouter"]})]}),v.customFees.filter(x=>x.category===i).length>0&&A.jsx("div",{className:"p-4 space-y-2",children:v.customFees.filter(x=>x.category===i).map(x=>A.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary-50 rounded",children:[A.jsx("input",{type:"text",value:x.label,onChange:F=>{y(U=>({...U,customFees:U.customFees.map(M=>M.id===x.id?{...M,label:F.target.value}:M)})),f(!0)},className:"flex-1 px-2 py-1 text-sm border border-primary-200 rounded",placeholder:"Libell"}),A.jsx("input",{type:"number",value:x.amount,onChange:F=>{y(U=>({...U,customFees:U.customFees.map(M=>M.id===x.id?{...M,amount:Number(F.target.value)}:M)})),f(!0)},className:"w-24 px-2 py-1 text-sm border border-primary-200 rounded text-right"}),A.jsx("span",{className:"text-xs text-primary-500",children:w.code}),A.jsx("button",{onClick:()=>H(x.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:A.jsx(Ds,{className:"w-4 h-4"})})]},x.id))})]})]}),i==="documents"&&A.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[A.jsxs("div",{onClick:()=>!a&&!l&&m.current?.click(),className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all ${a||l?"border-primary-400 bg-primary-50 cursor-wait":"border-primary-300 hover:border-primary-400 hover:bg-primary-50"}`,children:[a||l?A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx(Vl,{className:"w-12 h-12 text-primary-500 animate-spin mb-4"}),A.jsx("p",{className:"text-primary-700 font-medium",children:l?"Extraction des donnes...":"Tlchargement..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(vs,{className:"w-12 h-12 text-primary-400 mx-auto mb-4"}),A.jsx("p",{className:"text-lg font-medium text-primary-900",children:"Importer un PDF de conditions bancaires"}),A.jsx("p",{className:"text-sm text-primary-500 mt-2",children:"Cliquez ou glissez-dposez un fichier PDF"})]}),A.jsx("input",{ref:m,type:"file",accept:".pdf",onChange:P,className:"hidden"})]}),u&&A.jsx("div",{className:`rounded-lg p-4 ${u.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:A.jsxs("div",{className:"flex items-center gap-3",children:[u.success?A.jsx(Om,{className:"w-5 h-5 text-green-600"}):A.jsx(As,{className:"w-5 h-5 text-red-600"}),A.jsxs("div",{children:[A.jsx("p",{className:`font-medium ${u.success?"text-green-800":"text-red-800"}`,children:u.success?"Extraction russie":"Erreur d'extraction"}),u.success&&A.jsxs("p",{className:"text-sm text-green-700",children:["Confiance: ",u.confidence,"%"]})]})]})}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-primary-900 mb-4",children:"Documents archivs"}),v.documents.length===0?A.jsxs("div",{className:"text-center py-8 text-primary-500",children:[A.jsx(xV,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),A.jsx("p",{children:"Aucun document archiv"})]}):A.jsx("div",{className:"space-y-2",children:v.documents.map(x=>A.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary-50 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Zr,{className:"w-5 h-5 text-red-600"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:x.name}),A.jsxs("p",{className:"text-xs text-primary-500",children:[new Date(x.uploadDate).toLocaleDateString("fr-FR")," "," ",(x.fileSize/1024).toFixed(0)," Ko",x.extractedAt&&"  Donnes extraites"]})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("a",{href:x.fileData,download:x.name,className:"p-2 text-primary-600 hover:bg-primary-100 rounded",children:A.jsx(ps,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>S(x.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:A.jsx(Ds,{className:"w-4 h-4"})})]})]},x.id))})]})]})]}),A.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-t border-primary-200 bg-primary-50 flex items-center justify-between",children:[A.jsxs("p",{className:"text-sm text-primary-500",children:["Dernire modification: ",t.updatedAt?new Date(t.updatedAt).toLocaleDateString("fr-FR"):"N/A"]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx(Ye,{variant:"secondary",onClick:e,children:"Annuler"}),A.jsxs(Ye,{onClick:T,disabled:!h,children:[A.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Enregistrer les modifications"]})]})]})]})})}function f9(r){return r in Pm?"CEMAC":r in Rm?"UEMOA":null}function PZ({isOpen:r,onClose:e,onSave:t,bank:n}){const[i,s]=K.useState({code:"",name:"",country:"CM",zone:"CEMAC"});K.useEffect(()=>{s(n?{code:n.code,name:n.name,country:n.country,zone:n.zone||f9(n.country)||"CEMAC"}:{code:"",name:"",country:"CM",zone:"CEMAC"})},[n,r]);const a=c=>{const u=f9(c)||"CEMAC";s({...i,country:c,zone:u})},o=c=>{c.preventDefault(),t(i)},l=i.zone==="CEMAC"?Pm:Rm;return A.jsx(ld,{isOpen:r,onClose:e,title:n?"Modifier la banque":"Nouvelle banque",children:A.jsxs("form",{onSubmit:o,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Zone monetaire *"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("button",{type:"button",onClick:()=>s({...i,zone:"CEMAC",country:"CM"}),className:`p-4 rounded-lg border-2 text-left transition-colors ${i.zone==="CEMAC"?"border-blue-500 bg-blue-50":"border-primary-200 hover:border-primary-300"}`,children:[A.jsx("p",{className:"font-semibold text-primary-900",children:"CEMAC"}),A.jsx("p",{className:"text-xs text-primary-500",children:"Afrique Centrale"}),A.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"XAF - Franc CFA BEAC"})]}),A.jsxs("button",{type:"button",onClick:()=>s({...i,zone:"UEMOA",country:"CI"}),className:`p-4 rounded-lg border-2 text-left transition-colors ${i.zone==="UEMOA"?"border-green-500 bg-green-50":"border-primary-200 hover:border-primary-300"}`,children:[A.jsx("p",{className:"font-semibold text-primary-900",children:"UEMOA"}),A.jsx("p",{className:"text-xs text-primary-500",children:"Afrique de l'Ouest"}),A.jsx("p",{className:"text-xs text-green-600 mt-1",children:"XOF - Franc CFA BCEAO"})]})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Pays *"}),A.jsx(Tn,{value:i.country,onChange:c=>a(c.target.value),children:Object.entries(l).map(([c,u])=>A.jsx("option",{value:c,children:u},c))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Code BIC/SWIFT *"}),A.jsx(er,{value:i.code,onChange:c=>s({...i,code:c.target.value.toUpperCase()}),placeholder:"BICECMCX",required:!0}),A.jsx("p",{className:"text-xs text-primary-400 mt-1",children:"Code d'identification bancaire (8 ou 11 caracteres)"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Nom de la banque *"}),A.jsx(er,{value:i.name,onChange:c=>s({...i,name:c.target.value}),placeholder:"BICEC - Banque Internationale du Cameroun",required:!0})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx(Ye,{type:"button",variant:"ghost",onClick:e,children:"Annuler"}),A.jsx(Ye,{type:"submit",children:n?"Enregistrer":"Creer la banque"})]})]})})}function Au(r){return r in Pm?"CEMAC":r in Rm?"UEMOA":null}function C8e(){const{banks:r,addBank:e,updateBank:t,deleteBank:n,selectedBankId:i,setSelectedBank:s,getAllGrids:a,getActiveGrid:o,addConditionGrid:l,archiveConditionGrid:c,deleteConditionGrid:u,setActiveGrid:d}=Ou(),{clients:h}=nl(),[f,p]=K.useState("banks"),[g,m]=K.useState(""),[v,y]=K.useState("all"),[b,w]=K.useState("all"),[_,B]=K.useState(!1),[R,j]=K.useState(null),[k,L]=K.useState(!1),[H,I]=K.useState(null),[T,P]=K.useState(!1),[N,S]=K.useState(null),C=K.useRef(null),E=K.useMemo(()=>i?r.find(D=>D.id===i):null,[r,i]),x=K.useMemo(()=>E?a(E.id):[],[E,a]),F=K.useMemo(()=>E?o(E.id):null,[E,o]),U=K.useMemo(()=>{let D=r;if(v!=="all"&&(D=D.filter(O=>O.zone===v||Au(O.country)===v)),b!=="all"&&(D=D.filter(O=>O.country===b)),g){const O=g.toLowerCase();D=D.filter(V=>V.name.toLowerCase().includes(O)||V.code.toLowerCase().includes(O)||xc[V.country]?.toLowerCase().includes(O))}return D},[r,v,b,g]),M=K.useMemo(()=>{let D=[];if(r.forEach(O=>{a(O.id).forEach(J=>{D.push({...J,bankName:O.name,bankCountry:O.country})})}),v!=="all"&&(D=D.filter(O=>Au(O.bankCountry)===v)),b!=="all"&&(D=D.filter(O=>O.bankCountry===b)),g){const O=g.toLowerCase();D=D.filter(V=>V.name.toLowerCase().includes(O)||V.bankName.toLowerCase().includes(O))}return D.sort((O,V)=>new Date(V.effectiveDate).getTime()-new Date(O.effectiveDate).getTime())},[r,a,v,b,g]),z=K.useMemo(()=>v==="CEMAC"?Pm:v==="UEMOA"?Rm:xc,[v]),G=async(D,O)=>{const V=D.target.files?.[0];if(!V||!V.type.includes("pdf"))return;const J=r.find(re=>re.id===O);if(J){P(!0),S(O);try{const re=await MZ.extractFromFile(V),ne={bankId:O,name:`Conditions ${new Date().toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`,version:new Date().toISOString().slice(0,7),effectiveDate:new Date,status:"active",conditions:{id:at(),bankCode:J.code,bankName:J.name,country:J.country,currency:J.zone==="UEMOA"?"XOF":"XAF",effectiveDate:new Date,fees:re.data?.fees||[],interestRates:re.data?.interestRates||[],isActive:!0,documents:[{id:at(),name:V.name,type:"conditions",uploadDate:new Date,effectiveDate:new Date,fileSize:V.size,extractedAt:new Date,isActive:!0}]},sourceDocument:{id:at(),name:V.name,type:"conditions",uploadDate:new Date,effectiveDate:new Date,fileSize:V.size,extractedAt:new Date,isActive:!0}};F&&c(O,F.id);const se=l(O,ne);d(O,se.id),s(O),L(!0)}catch(re){console.error("Erreur extraction PDF:",re),alert("Erreur lors de l'extraction des conditions. Veuillez reessayer.")}finally{P(!1),S(null),C.current&&(C.current.value="")}}},Y=D=>{R?t(R.id,D):e({...D,conditions:null,isActive:!0}),B(!1),j(null)},Q=D=>new Date(D).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"}),q=D=>{switch(D){case"active":return A.jsxs(Ir,{variant:"success",className:"flex items-center gap-1",children:[A.jsx(ba,{className:"w-3 h-3"}),"Active"]});case"archived":return A.jsxs(Ir,{variant:"secondary",className:"flex items-center gap-1",children:[A.jsx(AV,{className:"w-3 h-3"}),"Archivee"]});case"draft":return A.jsxs(Ir,{variant:"warning",className:"flex items-center gap-1",children:[A.jsx(Zr,{className:"w-3 h-3"}),"Brouillon"]})}};return A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pb-2 border-b border-primary-100",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("h1",{className:"text-lg font-bold text-primary-900",children:"Banques"}),A.jsxs("div",{className:"flex bg-primary-100 rounded-md p-0.5",children:[A.jsxs("button",{onClick:()=>p("banks"),className:`flex items-center gap-1 px-2.5 py-1 rounded text-xs font-medium transition-colors ${f==="banks"?"bg-white text-primary-900 shadow-sm":"text-primary-500 hover:text-primary-900"}`,children:[A.jsx(Xi,{className:"w-3 h-3"}),"Liste"]}),A.jsxs("button",{onClick:()=>p("grids"),className:`flex items-center gap-1 px-2.5 py-1 rounded text-xs font-medium transition-colors ${f==="grids"?"bg-white text-primary-900 shadow-sm":"text-primary-500 hover:text-primary-900"}`,children:[A.jsx(hN,{className:"w-3 h-3"}),"Grilles"]})]}),A.jsxs("div",{className:"hidden md:flex items-center gap-1.5",children:[A.jsxs("button",{onClick:()=>y(v==="CEMAC"?"all":"CEMAC"),className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium transition-all ${v==="CEMAC"?"bg-blue-500 text-white":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,children:["CEMAC ",r.filter(D=>D.zone==="CEMAC"||Au(D.country)==="CEMAC").length]}),A.jsxs("button",{onClick:()=>y(v==="UEMOA"?"all":"UEMOA"),className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium transition-all ${v==="UEMOA"?"bg-green-500 text-white":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:["UEMOA ",r.filter(D=>D.zone==="UEMOA"||Au(D.country)==="UEMOA").length]}),A.jsxs("span",{className:"text-xs text-primary-400 px-1",children:[M.filter(D=>D.status==="active").length," grilles"]})]})]}),A.jsxs("div",{className:"flex items-center gap-1.5",children:[A.jsxs("div",{className:"relative",children:[A.jsx(So,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-400"}),A.jsx(er,{type:"text",placeholder:"Rechercher...",value:g,onChange:D=>m(D.target.value),className:"pl-8 h-9 text-sm w-32 sm:w-44"})]}),A.jsxs(Tn,{value:v,onChange:D=>{y(D.target.value),w("all")},className:"h-9 text-sm w-28 md:hidden",children:[A.jsx("option",{value:"all",children:"Zone"}),A.jsx("option",{value:"CEMAC",children:"CEMAC"}),A.jsx("option",{value:"UEMOA",children:"UEMOA"})]}),A.jsxs(Tn,{value:b,onChange:D=>w(D.target.value),className:"h-9 text-sm w-36",children:[A.jsx("option",{value:"all",children:"Tous les pays"}),Object.entries(z).map(([D,O])=>A.jsx("option",{value:D,children:O},D))]}),(v!=="all"||b!=="all"||g)&&A.jsx("button",{className:"p-1.5 text-primary-400 hover:text-primary-600",onClick:()=>{y("all"),w("all"),m("")},children:A.jsx(Eo,{className:"w-4 h-4"})}),A.jsxs(Ye,{size:"sm",className:"h-9 text-sm px-3",onClick:()=>B(!0),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Banque"]})]})]}),f==="banks"?A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[A.jsxs(it,{className:"lg:col-span-1",children:[A.jsx(or,{className:"py-2 px-3",children:A.jsxs(lr,{className:"text-sm",children:["Banques (",U.length,")"]})}),A.jsx(Ht,{className:"p-0",children:A.jsxs("div",{className:"divide-y divide-primary-100 max-h-[calc(100vh-180px)] overflow-y-auto",children:[U.map(D=>{const O=D.zone||Au(D.country);a(D.id);const V=o(D.id);return A.jsx("div",{onClick:()=>s(D.id),className:`px-3 py-2 cursor-pointer transition-colors ${i===D.id?"bg-primary-100":"hover:bg-primary-50"}`,children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:`w-7 h-7 rounded flex items-center justify-center flex-shrink-0 ${O==="CEMAC"?"bg-blue-100":"bg-green-100"}`,children:A.jsx(Xi,{className:`w-3.5 h-3.5 ${O==="CEMAC"?"text-blue-600":"text-green-600"}`})}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("p",{className:"text-sm font-medium text-primary-900 truncate",children:D.name}),A.jsxs("p",{className:"text-[10px] text-primary-500 truncate",children:[xc[D.country],"  ",D.code,V&&A.jsx("span",{className:"text-green-600 ml-1",children:" Grille"})]})]})]}),A.jsx(Im,{className:"w-4 h-4 text-primary-300 flex-shrink-0"})]})},D.id)}),U.length===0&&A.jsxs("div",{className:"p-6 text-center",children:[A.jsx(Xi,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-xs text-primary-500",children:"Aucune banque"})]})]})})]}),A.jsx("div",{className:"lg:col-span-2 space-y-3",children:E?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg border border-primary-200 px-4 py-2",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center ${E.zone==="CEMAC"||Au(E.country)==="CEMAC"?"bg-blue-100":"bg-green-100"}`,children:A.jsx(Xi,{className:`w-4 h-4 ${E.zone==="CEMAC"||Au(E.country)==="CEMAC"?"text-blue-600":"text-green-600"}`})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-base font-semibold text-primary-900",children:E.name}),A.jsxs("p",{className:"text-xs text-primary-500",children:[xc[E.country],"  ",E.code," "," ",A.jsx("span",{className:E.zone==="CEMAC"||Au(E.country)==="CEMAC"?"text-blue-600":"text-green-600",children:E.zone==="UEMOA"||Au(E.country)==="UEMOA"?"XOF":"XAF"})]})]})]}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("input",{type:"file",ref:C,accept:".pdf",onChange:D=>G(D,E.id),className:"hidden"}),A.jsxs(Ye,{size:"sm",variant:"secondary",className:"h-7 text-xs",onClick:()=>C.current?.click(),disabled:T&&N===E.id,children:[T&&N===E.id?A.jsx(Vl,{className:"w-3 h-3 mr-1 animate-spin"}):A.jsx(vs,{className:"w-3 h-3 mr-1"}),"PDF"]}),A.jsxs(Ye,{size:"sm",className:"h-7 text-xs",onClick:()=>L(!0),children:[A.jsx(Wu,{className:"w-3 h-3 mr-1"}),"Editer"]})]})]}),F?A.jsxs(it,{children:[A.jsx(or,{className:"py-2 px-3",action:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ir,{variant:"success",className:"text-[10px] py-0",children:"Active"}),A.jsxs("span",{className:"text-xs text-primary-400",children:["v",F.version]})]}),children:A.jsx(lr,{className:"text-sm",children:F.name})}),A.jsx(Ht,{className:"p-3 pt-0",children:A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex items-center gap-4 text-xs text-primary-500",children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(ph,{className:"w-3 h-3"}),Q(F.effectiveDate)]}),F.expirationDate&&A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(Sh,{className:"w-3 h-3"}),"Exp: ",Q(F.expirationDate)]}),F.sourceDocument&&A.jsxs("span",{className:"flex items-center gap-1 truncate",children:[A.jsx(Zr,{className:"w-3 h-3"}),F.sourceDocument.name]})]}),F.conditions.fees.length>0&&A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-medium text-primary-700 mb-1",children:"Frais bancaires"}),A.jsxs("div",{className:"border border-primary-200 rounded overflow-hidden max-h-48 overflow-y-auto",children:[A.jsxs("table",{className:"w-full text-xs",children:[A.jsx("thead",{className:"bg-primary-50 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-2 py-1 font-medium text-primary-500",children:"Service"}),A.jsx("th",{className:"text-right px-2 py-1 font-medium text-primary-500",children:"Montant"}),A.jsx("th",{className:"text-right px-2 py-1 font-medium text-primary-500 w-16",children:"Type"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:F.conditions.fees.slice(0,15).map((D,O)=>A.jsxs("tr",{className:"hover:bg-primary-50",children:[A.jsx("td",{className:"px-2 py-1 truncate max-w-[200px]",children:D.name}),A.jsx("td",{className:"px-2 py-1 text-right font-medium",children:D.type==="percentage"?`${D.percentage}%`:kt(D.amount,"XAF")}),A.jsx("td",{className:"px-2 py-1 text-right text-primary-400",children:D.type==="fixed"?"Fixe":D.type==="percentage"?"%":"Palier"})]},O))})]}),F.conditions.fees.length>15&&A.jsxs("div",{className:"px-2 py-1 bg-primary-50 text-xs text-primary-500 text-center",children:["+",F.conditions.fees.length-15," autres"]})]})]}),F.conditions.interestRates.length>0&&A.jsxs("div",{children:[A.jsx("h4",{className:"text-xs font-medium text-primary-700 mb-1",children:"Taux d'interet"}),A.jsx("div",{className:"grid grid-cols-4 gap-2",children:F.conditions.interestRates.map((D,O)=>A.jsxs("div",{className:"p-2 border border-primary-200 rounded text-center",children:[A.jsx("p",{className:"text-[10px] text-primary-500",children:D.type==="overdraft"?"Decouvert":D.type==="authorized"?"Autorise":D.type==="unauthorized"?"Non autorise":"Epargne"}),A.jsxs("p",{className:"text-lg font-bold text-primary-900",children:[(D.rate*100).toFixed(1),"%"]})]},O))})]}),F.conditions.fees.length===0&&F.conditions.interestRates.length===0&&A.jsxs("div",{className:"text-center py-4",children:[A.jsx(Gu,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-xs text-primary-500",children:"Aucune condition"}),A.jsx(Ye,{size:"sm",variant:"secondary",className:"mt-2 h-7 text-xs",onClick:()=>L(!0),children:"Configurer"})]})]})})]}):E.conditions?A.jsxs(it,{className:"p-4 text-center",children:[A.jsx(Gu,{className:"w-8 h-8 text-amber-400 mx-auto mb-2"}),A.jsx("p",{className:"text-sm text-primary-700 font-medium",children:"Conditions non versionnees"}),A.jsx("p",{className:"text-xs text-primary-500 mb-3",children:"Importez un PDF pour versionner"}),A.jsxs(Ye,{size:"sm",className:"h-7 text-xs",onClick:()=>C.current?.click(),children:[A.jsx(vs,{className:"w-3 h-3 mr-1"}),"PDF"]})]}):A.jsxs(it,{className:"p-6 text-center",children:[A.jsx(Zr,{className:"w-10 h-10 text-primary-300 mx-auto mb-2"}),A.jsx("h3",{className:"text-sm font-medium text-primary-900 mb-1",children:"Aucune grille"}),A.jsx("p",{className:"text-xs text-primary-500 mb-3",children:"Importez un PDF ou saisissez manuellement"}),A.jsxs("div",{className:"flex justify-center gap-2",children:[A.jsxs(Ye,{size:"sm",className:"h-7 text-xs",onClick:()=>C.current?.click(),children:[A.jsx(vs,{className:"w-3 h-3 mr-1"}),"PDF"]}),A.jsx(Ye,{size:"sm",variant:"secondary",className:"h-7 text-xs",onClick:()=>L(!0),children:"Manuel"})]})]}),x.length>1&&A.jsxs(it,{children:[A.jsx(or,{className:"py-2 px-3",children:A.jsxs(lr,{className:"text-xs",children:["Historique (",x.length,")"]})}),A.jsx(Ht,{className:"p-0",children:A.jsx("div",{className:"divide-y divide-primary-100 max-h-32 overflow-y-auto",children:x.filter(D=>D.id!==F?.id).map(D=>A.jsxs("div",{className:"px-3 py-1.5 flex items-center justify-between hover:bg-primary-50",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[q(D.status),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-medium text-primary-900",children:D.name}),A.jsxs("p",{className:"text-[10px] text-primary-500",children:["v",D.version,"  ",Q(D.effectiveDate)]})]})]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("button",{className:"p-1 text-primary-400 hover:text-primary-600",onClick:()=>{I(D),L(!0)},children:A.jsx(ps,{className:"w-3.5 h-3.5"})}),D.status!=="active"&&A.jsx("button",{className:"p-1 text-green-500 hover:text-green-600",onClick:()=>d(E.id,D.id),title:"Activer",children:A.jsx(ba,{className:"w-3.5 h-3.5"})})]})]},D.id))})})]})]}):A.jsxs(it,{className:"p-8 text-center",children:[A.jsx(Xi,{className:"w-10 h-10 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Selectionnez une banque"})]})})]}):A.jsxs(it,{children:[A.jsx(or,{className:"py-2 px-3",children:A.jsxs(lr,{className:"text-sm",children:["Grilles (",M.length,")"]})}),A.jsx(Ht,{className:"p-0",children:M.length>0?A.jsx("div",{className:"overflow-x-auto max-h-[calc(100vh-180px)]",children:A.jsxs("table",{className:"w-full text-xs",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-200 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-2 py-1.5 font-medium text-primary-500",children:"Banque"}),A.jsx("th",{className:"text-left px-2 py-1.5 font-medium text-primary-500",children:"Grille"}),A.jsx("th",{className:"text-left px-2 py-1.5 font-medium text-primary-500",children:"Ver."}),A.jsx("th",{className:"text-left px-2 py-1.5 font-medium text-primary-500",children:"Date"}),A.jsx("th",{className:"text-left px-2 py-1.5 font-medium text-primary-500",children:"Statut"}),A.jsx("th",{className:"text-left px-2 py-1.5 font-medium text-primary-500",children:"Pays"}),A.jsx("th",{className:"text-right px-2 py-1.5 font-medium text-primary-500",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:M.map(D=>A.jsxs("tr",{className:"hover:bg-primary-50",children:[A.jsx("td",{className:"px-2 py-1.5",children:A.jsx("span",{className:"font-medium text-primary-900",children:D.bankName})}),A.jsx("td",{className:"px-2 py-1.5 text-primary-700 truncate max-w-[120px]",children:D.name}),A.jsxs("td",{className:"px-2 py-1.5 text-primary-500",children:["v",D.version]}),A.jsx("td",{className:"px-2 py-1.5 text-primary-600",children:Q(D.effectiveDate)}),A.jsx("td",{className:"px-2 py-1.5",children:q(D.status)}),A.jsx("td",{className:"px-2 py-1.5 text-primary-600",children:xc[D.bankCountry]}),A.jsx("td",{className:"px-2 py-1.5 text-right",children:A.jsxs("div",{className:"flex items-center justify-end gap-0.5",children:[A.jsx("button",{className:"p-1 text-primary-400 hover:text-primary-600",onClick:()=>{const O=r.find(V=>V.id===D.bankId);O&&(s(O.id),I(D),L(!0))},title:"Voir",children:A.jsx(ps,{className:"w-3.5 h-3.5"})}),D.status!=="active"&&A.jsx("button",{className:"p-1 text-green-500 hover:text-green-600",onClick:()=>d(D.bankId,D.id),title:"Activer",children:A.jsx(ba,{className:"w-3.5 h-3.5"})}),A.jsx("button",{className:"p-1 text-red-400 hover:text-red-600",onClick:()=>{confirm("Supprimer?")&&u(D.bankId,D.id)},title:"Supprimer",children:A.jsx(Ds,{className:"w-3.5 h-3.5"})})]})})]},D.id))})]})}):A.jsxs("div",{className:"p-8 text-center",children:[A.jsx(hN,{className:"w-10 h-10 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Aucune grille"})]})})]}),A.jsx(PZ,{isOpen:_||!!R,onClose:()=>{B(!1),j(null)},onSave:Y,bank:R}),A.jsx(OZ,{isOpen:k,onClose:()=>{L(!1),I(null)},bank:E,onSaveConditions:(D,O)=>{},onUploadDocument:(D,O)=>{}})]})}function S8e(r){return r in Pm?"CEMAC":r in Rm?"UEMOA":null}function E8e({banks:r,onAdd:e,onEdit:t,onDelete:n,onViewConditions:i,getClientCount:s}){return r.length===0?A.jsx(it,{children:A.jsxs(Ht,{className:"p-12 text-center",children:[A.jsx(Xi,{className:"w-12 h-12 text-primary-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-primary-900 mb-2",children:"Aucune banque trouvee"}),A.jsx("p",{className:"text-primary-500 mb-6",children:"Ajoutez une banque pour commencer"}),A.jsxs(Ye,{onClick:e,children:[A.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Ajouter une banque"]})]})}):A.jsx(it,{children:A.jsx(Ht,{className:"p-0",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-200",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Banque"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Pays / Zone"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Code BIC"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Devise"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Clients"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Conditions"}),A.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:r.map(a=>{const o=a.zone||S8e(a.country),l=o?DV[o]:null;return A.jsxs("tr",{className:"hover:bg-primary-50",children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${o==="CEMAC"?"bg-blue-100":o==="UEMOA"?"bg-green-100":"bg-primary-100"}`,children:A.jsx(Xi,{className:`w-5 h-5 ${o==="CEMAC"?"text-blue-600":o==="UEMOA"?"text-green-600":"text-primary-600"}`})}),A.jsx("span",{className:"font-medium text-primary-900",children:a.name})]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(dy,{className:"w-4 h-4 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-primary-900",children:xc[a.country]||a.country}),o&&A.jsx(Ir,{variant:o==="CEMAC"?"info":"success",className:"text-xs mt-0.5",children:o})]})]})}),A.jsx("td",{className:"px-6 py-4 text-sm text-primary-600 font-mono",children:a.code}),A.jsx("td",{className:"px-6 py-4 text-sm",children:l?A.jsx("span",{className:"font-medium text-primary-900",children:l.code}):"-"}),A.jsx("td",{className:"px-6 py-4",children:A.jsx(Ir,{variant:"secondary",children:s(a.code)})}),A.jsx("td",{className:"px-6 py-4",children:a.conditions?A.jsxs(Ir,{variant:"success",children:[A.jsx(ba,{className:"w-3 h-3 mr-1"}),"Configure"]}):A.jsxs(Ir,{variant:"warning",children:[A.jsx(Gu,{className:"w-3 h-3 mr-1"}),"A configurer"]})}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center justify-end gap-2",children:[A.jsx("button",{onClick:()=>i(a.id),className:"p-2 hover:bg-primary-100 rounded-lg text-primary-600",title:"Voir les conditions",children:A.jsx(ps,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>t(a),className:"p-2 hover:bg-primary-100 rounded-lg text-primary-600",title:"Modifier",children:A.jsx(Wu,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>n(a.id),className:"p-2 hover:bg-primary-100 rounded-lg text-red-600",title:"Supprimer",children:A.jsx(Ds,{className:"w-4 h-4"})})]})})]},a.id)})})]})})})}function _8e({banks:r,selectedBankId:e,onSelectBank:t,onOpenConditions:n}){const i=e?r.find(s=>s.id===e):null;return A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Selectionner une banque"})}),A.jsx(Ht,{className:"p-0",children:A.jsx("div",{className:"divide-y divide-primary-100",children:r.map(s=>A.jsxs("button",{onClick:()=>t(s.id),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-primary-50 transition-colors ${e===s.id?"bg-primary-100":""}`,children:[A.jsx(Xi,{className:"w-5 h-5 text-primary-600"}),A.jsx("span",{className:"flex-1 text-left font-medium text-primary-900",children:s.name}),s.conditions&&A.jsx(ba,{className:"w-4 h-4 text-green-600"})]},s.id))})})]}),A.jsx("div",{className:"lg:col-span-2",children:i?A.jsxs(it,{children:[A.jsx(or,{action:A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Ye,{variant:"ghost",size:"sm",onClick:()=>n(i.id),children:[A.jsx(vs,{className:"w-4 h-4 mr-1"}),"Importer PDF"]}),A.jsxs(Ye,{variant:"ghost",size:"sm",onClick:()=>n(i.id),children:[A.jsx(hN,{className:"w-4 h-4 mr-1"}),"Historique"]})]}),children:A.jsxs(lr,{children:["Conditions - ",i.name]})}),A.jsx(Ht,{children:i.conditions?A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-medium text-primary-900 mb-3",children:"Frais bancaires"}),A.jsx("div",{className:"border border-primary-200 rounded-lg overflow-hidden",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-4 py-2 text-xs font-medium text-primary-500",children:"Service"}),A.jsx("th",{className:"text-right px-4 py-2 text-xs font-medium text-primary-500",children:"Montant"}),A.jsx("th",{className:"text-right px-4 py-2 text-xs font-medium text-primary-500",children:"Type"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:i.conditions.fees.map(s=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-2 text-sm",children:s.name}),A.jsx("td",{className:"px-4 py-2 text-sm text-right",children:s.type==="percentage"?`${s.percentage}%`:kt(s.amount,"XAF")}),A.jsx("td",{className:"px-4 py-2 text-sm text-right text-primary-500",children:s.type==="fixed"?"Fixe":s.type==="percentage"?"%":"Palier"})]},s.code))})]})})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-medium text-primary-900 mb-3",children:"Taux d'interet"}),A.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.conditions.interestRates.map(s=>A.jsxs("div",{className:"p-4 border border-primary-200 rounded-lg",children:[A.jsx("p",{className:"text-sm text-primary-500 mb-1",children:s.type==="overdraft"?"Decouvert":s.type==="authorized"?"Autorise":s.type==="unauthorized"?"Non autorise":"Epargne"}),A.jsxs("p",{className:"text-2xl font-bold text-primary-900",children:[(s.rate*100).toFixed(2),"%"]}),A.jsxs("p",{className:"text-xs text-primary-400",children:[s.calculationMethod," - ",s.dayCountConvention]})]},s.type))})]})]}):A.jsxs("div",{className:"text-center py-8",children:[A.jsx(Gu,{className:"w-12 h-12 text-primary-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-primary-900 mb-2",children:"Conditions non configurees"}),A.jsx("p",{className:"text-primary-500 mb-6",children:"Importez ou saisissez les conditions tarifaires"}),A.jsxs("div",{className:"flex justify-center gap-3",children:[A.jsxs(Ye,{variant:"secondary",onClick:()=>n(i.id),children:[A.jsx(vs,{className:"w-4 h-4 mr-2"}),"Importer PDF"]}),A.jsxs(Ye,{onClick:()=>n(i.id),children:[A.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Saisir manuellement"]})]})]})})]}):A.jsxs(it,{className:"p-12 text-center",children:[A.jsx(Xi,{className:"w-12 h-12 text-primary-300 mx-auto mb-4"}),A.jsx("h3",{className:"text-lg font-medium text-primary-900 mb-2",children:"Selectionnez une banque"}),A.jsx("p",{className:"text-primary-500",children:"Choisissez une banque pour voir ses conditions tarifaires"})]})})]})}function N8e({banks:r,compareBanks:e,onToggleBank:t}){const n=r.filter(a=>a.conditions),i=new Map;e.forEach(a=>{r.find(l=>l.id===a)?.conditions?.fees.forEach(l=>{i.has(l.code)||i.set(l.code,l.name)})});const s=(a,o)=>{const l=a.conditions?.fees.find(c=>c.code===o);return l?l.type==="percentage"?`${l.percentage}%`:kt(l.amount,"XAF"):null};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Selectionnez les banques a comparer (2-5)"})}),A.jsxs(Ht,{children:[A.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(a=>A.jsxs("button",{onClick:()=>t(a.id),className:`px-4 py-2 rounded-lg border transition-colors ${e.includes(a.id)?"bg-primary-900 text-white border-primary-900":"bg-white text-primary-700 border-primary-300 hover:border-primary-500"}`,children:[a.name,e.includes(a.id)&&A.jsx(Eo,{className:"w-4 h-4 ml-2 inline"})]},a.id))}),n.length===0&&A.jsx("p",{className:"text-primary-500 text-center py-4",children:"Configurez les conditions des banques pour pouvoir les comparer"})]})]}),e.length>=2&&A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Comparaison des tarifs"})}),A.jsx(Ht,{children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-primary-700",children:"Service"}),e.map(a=>{const o=r.find(l=>l.id===a);return A.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-primary-700",children:o?.name},a)})]})}),A.jsxs("tbody",{className:"divide-y divide-primary-100",children:[Array.from(i.entries()).map(([a,o])=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-3 text-sm",children:o}),e.map(l=>{const c=r.find(d=>d.id===l),u=c?s(c,a):null;return A.jsx("td",{className:"px-4 py-3 text-sm text-right font-medium",children:u||"-"},l)})]},a)),i.size===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:e.length+1,className:"px-4 py-8 text-center text-primary-500",children:"Aucun frais a comparer"})})]})]})})})]})]})}const B8e=Object.freeze(Object.defineProperty({__proto__:null,BankCompareTab:N8e,BankConditionsModal:OZ,BankConditionsTab:_8e,BankFormModal:PZ,BankListTab:E8e,BanksPage:C8e},Symbol.toStringTag,{value:"Module"})),k8e={public:ps,internal:_h,confidential:wv,secret:Mm},T8e={public:"Public",internal:"Usage interne",confidential:"Confidentiel",secret:"Secret"};function j8e({config:r,onEdit:e}){const t=k8e[r.confidentialityLevel];return A.jsxs("div",{className:"relative w-full min-h-[297mm] flex flex-col",style:{background:r.backgroundImage?`url(${r.backgroundImage}) center/cover`:`linear-gradient(135deg, ${r.primaryColor} 0%, ${r.secondaryColor} 100%)`},children:[e&&A.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors z-10",title:"Modifier la page de garde",children:A.jsx(NV,{className:"w-5 h-5 text-white"})}),r.watermark&&A.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-10",children:A.jsx("img",{src:r.watermark,alt:"",className:"max-w-[60%] max-h-[60%]"})}),A.jsxs("div",{className:"flex-shrink-0 p-12 flex items-start justify-between",children:[r.logo&&A.jsx("img",{src:r.logo,alt:"Logo",className:"h-16 object-contain"}),A.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full ${r.confidentialityLevel==="secret"?"bg-red-500 text-white":r.confidentialityLevel==="confidential"?"bg-orange-500 text-white":"bg-white/20 text-white"}`,children:[A.jsx(t,{className:"w-4 h-4"}),A.jsx("span",{className:"text-sm font-medium",children:T8e[r.confidentialityLevel]})]})]}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-12 text-center text-white",children:[A.jsx("div",{className:"w-24 h-1 mb-8 rounded-full",style:{backgroundColor:r.accentColor}}),A.jsx("h1",{className:"text-5xl font-bold mb-4 max-w-3xl leading-tight",children:r.title}),r.subtitle&&A.jsx("p",{className:"text-2xl opacity-80 mb-8 max-w-2xl",children:r.subtitle}),A.jsx("div",{className:"w-32 h-0.5 my-8 opacity-50",style:{backgroundColor:r.accentColor}}),A.jsxs("div",{className:"mb-8",children:[A.jsx("p",{className:"text-sm uppercase tracking-widest opacity-60 mb-2",children:"Client"}),A.jsx("p",{className:"text-3xl font-semibold",children:r.clientName})]}),r.reference&&A.jsxs("p",{className:"text-sm opacity-60 mb-4",children:["Rfrence: ",r.reference]}),r.period&&A.jsxs("p",{className:"text-lg opacity-80",children:["Priode: ",fr(r.period.start)," - ",fr(r.period.end)]})]}),A.jsxs("div",{className:"flex-shrink-0 p-12",children:[A.jsxs("div",{className:"flex items-end justify-between text-white",children:[A.jsx("div",{children:r.authorName&&A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"text-sm opacity-60 mb-1",children:"Prpar par"}),A.jsx("p",{className:"font-semibold text-lg",children:r.authorName}),r.authorTitle&&A.jsx("p",{className:"text-sm opacity-80",children:r.authorTitle})]})}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-2xl font-light",children:fr(r.date)}),r.version&&A.jsxs("p",{className:"text-sm opacity-60 mt-1",children:["Version ",r.version]})]})]}),(r.contactEmail||r.contactPhone)&&A.jsxs("div",{className:"mt-6 pt-6 border-t border-white/20 flex items-center gap-8 text-sm text-white/70",children:[r.contactEmail&&A.jsx("span",{children:r.contactEmail}),r.contactPhone&&A.jsx("span",{children:r.contactPhone})]})]}),A.jsx("div",{className:"h-2 w-full",style:{backgroundColor:r.accentColor}})]})}function F8e({config:r,onEdit:e}){return A.jsxs("div",{className:"relative w-full min-h-[297mm] flex flex-col",style:{backgroundColor:r.backgroundColor,color:r.textColor},children:[e&&A.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors z-10",title:"Modifier la couverture arrire",children:A.jsx(NV,{className:"w-5 h-5"})}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-16 py-12",children:[r.showLogo&&A.jsx("div",{className:"mb-12",children:A.jsx("div",{className:"w-32 h-32 rounded-full bg-white/10 flex items-center justify-center",children:A.jsx("span",{className:"text-4xl font-bold opacity-50",children:r.companyName.charAt(0)})})}),A.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:r.companyName}),A.jsxs("div",{className:"flex items-start gap-2 mb-8 text-center opacity-80",children:[A.jsx(dy,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),A.jsx("p",{className:"whitespace-pre-line",children:r.address})]}),A.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-12",children:[r.phone&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Gw,{className:"w-5 h-5 opacity-60"}),A.jsx("span",{children:r.phone})]}),r.email&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(fm,{className:"w-5 h-5 opacity-60"}),A.jsx("span",{children:r.email})]}),r.website&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(th,{className:"w-5 h-5 opacity-60"}),A.jsx("span",{children:r.website})]})]}),r.socialLinks&&A.jsxs("div",{className:"flex items-center gap-4 mb-12",children:[r.socialLinks.linkedin&&A.jsx("a",{href:r.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:A.jsx(Fle,{className:"w-5 h-5"})}),r.socialLinks.twitter&&A.jsx("a",{href:r.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:A.jsx(Gle,{className:"w-5 h-5"})}),r.socialLinks.facebook&&A.jsx("a",{href:r.socialLinks.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:A.jsx(ble,{className:"w-5 h-5"})})]}),r.showQRCode&&r.qrCodeUrl&&A.jsxs("div",{className:"mb-12",children:[A.jsx("div",{className:"w-32 h-32 bg-white rounded-lg p-2",children:A.jsx("div",{className:"w-full h-full bg-primary-100 rounded flex items-center justify-center text-xs text-primary-500",children:"QR Code"})}),A.jsx("p",{className:"text-xs opacity-60 text-center mt-2",children:"Scannez pour plus d'infos"})]})]}),A.jsxs("div",{className:"flex-shrink-0 px-16 py-8 border-t border-current/20",children:[r.legalMention&&A.jsx("p",{className:"text-sm opacity-60 mb-4 text-center",children:r.legalMention}),r.disclaimer&&A.jsx("p",{className:"text-xs opacity-50 mb-6 text-center max-w-2xl mx-auto leading-relaxed",children:r.disclaimer}),A.jsx("p",{className:"text-sm opacity-70 text-center",children:r.copyright||` ${new Date().getFullYear()} ${r.companyName}. Tous droits rservs.`}),A.jsxs("p",{className:"text-xs opacity-40 text-center mt-4",children:["Rapport gnr par ",A.jsx("span",{className:"font-display text-base",children:"Scrutix"})," - Solution d'audit bancaire"]}),A.jsxs("p",{className:"text-xs opacity-30 text-center mt-1",children:["Dvelopp par ",A.jsx("span",{className:"font-display text-sm",children:"Atlas Studio"})]})]})]})}function I8e({data:r,currency:e}){const[t,n]=K.useState(null),[i,s]=K.useState("asc"),a=c=>{r.sortable&&(t===c?s(i==="asc"?"desc":"asc"):(n(c),s("asc")))},o=[...r.rows];t!==null&&r.sortable&&o.sort((c,u)=>{const d=c[t],h=u[t];if(typeof d=="number"&&typeof h=="number")return i==="asc"?d-h:h-d;const f=String(d).toLowerCase(),p=String(h).toLowerCase();return i==="asc"?f.localeCompare(p):p.localeCompare(f)});const l=(c,u)=>{if(typeof c=="number"){const d=r.headers[u]?.toLowerCase()||"";return d.includes("montant")||d.includes("total")||d.includes("somme")||d.includes("frais")||d.includes("amount")?kt(c,e):d.includes("%")||d.includes("taux")||d.includes("pourcentage")?`${c.toFixed(2)}%`:c.toLocaleString("fr-FR")}return c};return A.jsxs("div",{className:"border border-primary-200 rounded-lg overflow-hidden",children:[r.title&&A.jsx("div",{className:"px-4 py-3 bg-primary-50 border-b border-primary-200",children:A.jsx("h4",{className:"font-semibold text-primary-900",children:r.title})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{children:A.jsx("tr",{className:"bg-primary-100",children:r.headers.map((c,u)=>A.jsx("th",{onClick:()=>a(u),className:`px-4 py-3 text-left text-xs font-semibold text-primary-600 uppercase tracking-wider ${r.sortable?"cursor-pointer hover:bg-primary-200":""}`,children:A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("span",{children:c}),r.sortable&&t===u&&(i==="asc"?A.jsx(sT,{className:"w-4 h-4"}):A.jsx(gA,{className:"w-4 h-4"}))]})},u))})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:o.map((c,u)=>A.jsx("tr",{className:`${r.striped&&u%2===1?"bg-primary-50":""} hover:bg-primary-50 transition-colors`,children:c.map((d,h)=>A.jsx("td",{className:`px-4 py-3 text-sm text-primary-700 ${typeof d=="number"?"text-right font-mono":""}`,children:l(d,h)},h))},u))}),r.totals&&A.jsx("tfoot",{children:A.jsx("tr",{className:"bg-primary-900 text-white font-semibold",children:r.totals.map((c,u)=>A.jsx("td",{className:`px-4 py-3 text-sm ${typeof c=="number"?"text-right font-mono":""}`,children:l(c,u)},u))})})]})}),A.jsxs("div",{className:"px-4 py-2 bg-primary-50 border-t border-primary-200 text-xs text-primary-500",children:[r.rows.length," ligne",r.rows.length>1?"s":""]})]})}const M8e=["#1e3a5f","#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316"];function O8e({data:r,height:e=300}){const t=r.colors||M8e,n=K.useMemo(()=>r.data.map((o,l)=>({name:o.label,value:o.value,fill:o.color||t[l%t.length]})),[r.data,t]),i=o=>o.toLocaleString("fr-FR"),s=({active:o,payload:l,label:c})=>!o||!l?.length?null:A.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-primary-200",children:[A.jsx("p",{className:"font-medium text-primary-900 mb-1",children:c}),l.map((u,d)=>A.jsxs("p",{className:"text-sm",style:{color:u.color},children:[u.name,": ",i(u.value)]},d))]}),a=()=>{switch(r.type){case"bar":return A.jsx(Pl,{width:"100%",height:e,minWidth:200,minHeight:200,debounce:50,children:A.jsxs(jEe,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[A.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),A.jsx(vh,{dataKey:"name",tick:{fontSize:12,fill:"#737373"},axisLine:{stroke:"#d4d4d4"}}),A.jsx(Ic,{tick:{fontSize:12,fill:"#737373"},axisLine:{stroke:"#d4d4d4"},tickFormatter:i}),A.jsx(Rl,{content:A.jsx(s,{})}),r.showLegend&&A.jsx(Sc,{}),A.jsx(x8,{dataKey:"value",radius:[4,4,0,0],children:n.map((o,l)=>A.jsx(Ql,{fill:o.fill},`cell-${l}`))})]})});case"line":return A.jsx(Pl,{width:"100%",height:e,minWidth:200,minHeight:200,debounce:50,children:A.jsxs(kEe,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[A.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),A.jsx(vh,{dataKey:"name",tick:{fontSize:12,fill:"#737373"},axisLine:{stroke:"#d4d4d4"}}),A.jsx(Ic,{tick:{fontSize:12,fill:"#737373"},axisLine:{stroke:"#d4d4d4"},tickFormatter:i}),A.jsx(Rl,{content:A.jsx(s,{})}),r.showLegend&&A.jsx(Sc,{}),A.jsx(Qy,{type:"monotone",dataKey:"value",stroke:t[0],strokeWidth:2,dot:{fill:t[0],strokeWidth:2,r:4},activeDot:{r:6}})]})});case"area":return A.jsx(Pl,{width:"100%",height:e,minWidth:200,minHeight:200,debounce:50,children:A.jsxs(YC,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[A.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),A.jsx(vh,{dataKey:"name",tick:{fontSize:12,fill:"#737373"},axisLine:{stroke:"#d4d4d4"}}),A.jsx(Ic,{tick:{fontSize:12,fill:"#737373"},axisLine:{stroke:"#d4d4d4"},tickFormatter:i}),A.jsx(Rl,{content:A.jsx(s,{})}),r.showLegend&&A.jsx(Sc,{}),A.jsx(jh,{type:"monotone",dataKey:"value",stroke:t[0],fill:t[0],fillOpacity:.3})]})});case"pie":case"donut":return A.jsx(Pl,{width:"100%",height:e,minWidth:200,minHeight:200,debounce:50,children:A.jsxs(XC,{children:[A.jsx(Dy,{data:n,cx:"50%",cy:"50%",innerRadius:r.type==="donut"?60:0,outerRadius:100,paddingAngle:2,dataKey:"value",label:r.showValues?({name:o,value:l})=>`${o}: ${i(l)}`:void 0,labelLine:r.showValues,children:n.map((o,l)=>A.jsx(Ql,{fill:o.fill},`cell-${l}`))}),A.jsx(Rl,{content:A.jsx(s,{})}),r.showLegend&&A.jsx(Sc,{layout:"horizontal",verticalAlign:"bottom",align:"center",formatter:o=>A.jsx("span",{className:"text-sm text-primary-700",children:o})})]})});default:return A.jsx("div",{className:"flex items-center justify-center h-full text-primary-500",children:"Type de graphique non support"})}};return A.jsxs("div",{className:"border border-primary-200 rounded-lg overflow-hidden bg-white",children:[(r.title||r.subtitle)&&A.jsxs("div",{className:"px-4 py-3 border-b border-primary-200",children:[r.title&&A.jsx("h4",{className:"font-semibold text-primary-900",children:r.title}),r.subtitle&&A.jsx("p",{className:"text-sm text-primary-500 mt-0.5",children:r.subtitle})]}),A.jsx("div",{className:"p-4",children:a()}),r.showValues&&r.type!=="pie"&&r.type!=="donut"&&A.jsx("div",{className:"px-4 py-3 border-t border-primary-200 bg-primary-50",children:A.jsx("div",{className:"flex flex-wrap gap-4",children:n.map((o,l)=>A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.fill}}),A.jsxs("span",{className:"text-sm text-primary-700",children:[o.name,": ",A.jsx("strong",{children:i(o.value)})]})]},l))})})]})}function P8e({page:r,report:e,pageNumber:t,totalPages:n}){const i=e.config.currency||"XAF",s=a=>{if(!a.visible)return null;switch(a.type){case"summary":return A.jsx(R8e,{title:a.title,statistics:e.statistics,currency:i},a.id);case"table":const o=e.tables.find(c=>c.id===a.content?.tableId);return o?A.jsxs("div",{className:"mb-8",children:[a.title&&A.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:a.title}),A.jsx(I8e,{data:o,currency:i})]},a.id):null;case"chart":const l=e.charts.find(c=>c.id===a.content?.chartId);return l?A.jsxs("div",{className:"mb-8",children:[a.title&&A.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:a.title}),A.jsx(O8e,{data:l})]},a.id):null;case"content":return A.jsx(L8e,{title:a.title,content:a.content},a.id);case"toc":return A.jsx(D8e,{pages:e.pages,totalPages:n},a.id);default:return null}};return A.jsxs("div",{className:"w-full min-h-[297mm] flex flex-col bg-white",children:[r.header?.show&&A.jsxs("div",{className:"flex-shrink-0 px-12 py-6 border-b border-primary-200 flex items-center justify-between",children:[r.header.logo&&A.jsx("img",{src:r.header.logo,alt:"",className:"h-8 object-contain"}),A.jsx("span",{className:"text-sm text-primary-500",children:r.header.title||e.config.title})]}),A.jsx("div",{className:"flex-1 px-12 py-8",children:r.sections.map(s)}),r.footer?.show&&A.jsxs("div",{className:"flex-shrink-0 px-12 py-4 border-t border-primary-200 flex items-center justify-between text-sm text-primary-500",children:[A.jsx("span",{children:r.footer.text||e.config.clientName}),r.footer.showPageNumber&&A.jsxs("span",{children:["Page ",t," / ",n]})]})]})}function R8e({title:r,statistics:e,currency:t}){return A.jsxs("div",{className:"mb-8",children:[r&&A.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:r}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map(n=>A.jsxs("div",{className:"p-4 rounded-lg border border-primary-200 bg-primary-50",children:[A.jsx("p",{className:"text-sm text-primary-500 mb-1",children:n.label}),A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:typeof n.value=="number"?kt(n.value,t):n.value}),n.change!==void 0&&A.jsxs("div",{className:`flex items-center gap-1 text-sm mt-1 ${n.changeType==="increase"?"text-green-600":n.changeType==="decrease"?"text-red-600":"text-primary-500"}`,children:[n.changeType==="increase"?A.jsx(qu,{className:"w-4 h-4"}):n.changeType==="decrease"?A.jsx(OV,{className:"w-4 h-4"}):null,A.jsxs("span",{children:[n.change>0?"+":"",n.change,"%"]})]})]},n.id))})]})}function L8e({title:r,content:e}){return e?A.jsxs("div",{className:"mb-8",children:[r&&A.jsx("h2",{className:"text-xl font-bold text-primary-900 mb-4",children:r}),typeof e=="string"&&A.jsx("div",{className:"prose prose-primary max-w-none",children:A.jsx("p",{className:"text-primary-700 leading-relaxed whitespace-pre-wrap",children:e})}),typeof e=="object"&&e.type==="alert"&&A.jsxs("div",{className:`p-4 rounded-lg flex items-start gap-3 ${e.severity==="error"?"bg-red-50 text-red-800":e.severity==="warning"?"bg-amber-50 text-amber-800":e.severity==="success"?"bg-green-50 text-green-800":"bg-blue-50 text-blue-800"}`,children:[e.severity==="error"?A.jsx(As,{className:"w-5 h-5 flex-shrink-0"}):e.severity==="success"?A.jsx(al,{className:"w-5 h-5 flex-shrink-0"}):A.jsx(uy,{className:"w-5 h-5 flex-shrink-0"}),A.jsxs("div",{children:[e.title&&A.jsx("p",{className:"font-semibold mb-1",children:e.title}),A.jsx("p",{children:e.message})]})]}),typeof e=="object"&&e.type==="list"&&A.jsx("ul",{className:"space-y-2",children:e.items.map((t,n)=>A.jsxs("li",{className:"flex items-start gap-2 text-primary-700",children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-400 mt-2 flex-shrink-0"}),A.jsx("span",{children:t})]},n))})]}):null}function D8e({pages:r,totalPages:e}){const t=K.useMemo(()=>{const n=[{title:"Page de garde",page:1}];return r.forEach((i,s)=>{const a=i.sections.find(o=>o.title);a?.title&&n.push({title:a.title,page:s+2})}),n.push({title:"Couverture arrire",page:e}),n},[r,e]);return A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Table des matires"}),A.jsx("div",{className:"space-y-3",children:t.map((n,i)=>A.jsxs("div",{className:"flex items-end gap-2 text-primary-700",children:[A.jsx("span",{className:"font-medium",children:n.title}),A.jsx("span",{className:"flex-1 border-b border-dotted border-primary-300 mb-1"}),A.jsx("span",{className:"text-primary-500",children:n.page})]},i))})]})}function U8e({comments:r,currentPage:e,onAddComment:t,onResolveComment:n,onDeleteComment:i,readOnly:s=!1}){const[a,o]=K.useState(""),[l,c]=K.useState("all"),[u,d]=K.useState(null),f=[...r.filter(m=>l==="page"?m.pageNumber===e:l==="unresolved"?!m.resolved:!0)].sort((m,v)=>new Date(v.createdAt).getTime()-new Date(m.createdAt).getTime()),p=()=>{a.trim()&&(t({sectionId:"general",pageNumber:e,author:"Utilisateur",content:a.trim(),resolved:!1}),o(""))},g=m=>{const v=new Date(m),b=new Date().getTime()-v.getTime(),w=Math.floor(b/6e4),_=Math.floor(b/36e5),B=Math.floor(b/864e5);return w<1?" l'instant":w<60?`Il y a ${w} min`:_<24?`Il y a ${_}h`:B<7?`Il y a ${B}j`:v.toLocaleDateString("fr-FR")};return A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-primary-200",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs("h3",{className:"font-semibold text-primary-900 flex items-center gap-2",children:[A.jsx(Am,{className:"w-4 h-4"}),"Commentaires",A.jsx("span",{className:"text-xs bg-primary-100 text-primary-600 px-2 py-0.5 rounded-full",children:r.length})]}),A.jsx(Cle,{className:"w-4 h-4 text-primary-400"})]}),A.jsxs("div",{className:"flex gap-1",children:[A.jsxs("button",{onClick:()=>c("all"),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors ${l==="all"?"bg-primary-900 text-white":"bg-primary-100 text-primary-600 hover:bg-primary-200"}`,children:["Tous (",r.length,")"]}),A.jsxs("button",{onClick:()=>c("page"),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors ${l==="page"?"bg-primary-900 text-white":"bg-primary-100 text-primary-600 hover:bg-primary-200"}`,children:["Cette page (",r.filter(m=>m.pageNumber===e).length,")"]}),A.jsxs("button",{onClick:()=>c("unresolved"),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded transition-colors ${l==="unresolved"?"bg-primary-900 text-white":"bg-primary-100 text-primary-600 hover:bg-primary-200"}`,children:["Non rsolus (",r.filter(m=>!m.resolved).length,")"]})]})]}),A.jsx("div",{className:"flex-1 overflow-y-auto",children:f.length===0?A.jsxs("div",{className:"p-8 text-center",children:[A.jsx(Am,{className:"w-12 h-12 text-primary-200 mx-auto mb-3"}),A.jsx("p",{className:"text-primary-500 text-sm",children:"Aucun commentaire"}),A.jsx("p",{className:"text-primary-400 text-xs mt-1",children:l==="page"?"Aucun commentaire sur cette page":l==="unresolved"?"Tous les commentaires sont rsolus":"Ajoutez un commentaire ci-dessous"})]}):A.jsx("div",{className:"divide-y divide-primary-100",children:f.map(m=>A.jsx(H8e,{comment:m,onResolve:()=>n(m.id),onDelete:()=>i(m.id),onReply:()=>d(m.id),formatDate:g,readOnly:s,isReplying:u===m.id},m.id))})}),!s&&A.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-primary-200 bg-primary-50",children:[A.jsxs("div",{className:"flex gap-2",children:[A.jsx("div",{className:"flex-1",children:A.jsx("textarea",{value:a,onChange:m=>o(m.target.value),placeholder:`Ajouter un commentaire (page ${e+1})...`,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:2,onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),p())}})}),A.jsx(Ye,{variant:"primary",size:"sm",onClick:p,disabled:!a.trim(),className:"self-end",children:A.jsx(fy,{className:"w-4 h-4"})})]}),A.jsx("p",{className:"text-xs text-primary-400 mt-1",children:"Entre pour envoyer, Shift+Entre pour nouvelle ligne"})]})]})}function H8e({comment:r,onResolve:e,onDelete:t,onReply:n,formatDate:i,readOnly:s,isReplying:a}){const[o,l]=K.useState(!1);return A.jsx("div",{className:`p-4 ${r.resolved?"bg-green-50/50":""}`,children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"flex-shrink-0",children:r.authorAvatar?A.jsx("img",{src:r.authorAvatar,alt:r.author,className:"w-8 h-8 rounded-full"}):A.jsx("div",{className:"w-8 h-8 rounded-full bg-primary-200 flex items-center justify-center",children:A.jsx(uT,{className:"w-4 h-4 text-primary-500"})})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"flex items-center justify-between gap-2",children:[A.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[A.jsx("span",{className:"font-medium text-primary-900 text-sm truncate",children:r.author}),A.jsxs("span",{className:"text-xs text-primary-400 flex items-center gap-1",children:[A.jsx(Sh,{className:"w-3 h-3"}),i(r.createdAt)]})]}),!s&&A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>l(!o),className:"p-1 hover:bg-primary-100 rounded",children:A.jsx(EV,{className:"w-4 h-4 text-primary-400"})}),o&&A.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-primary-200 rounded-lg shadow-lg z-10 py-1 min-w-[120px]",children:[!r.resolved&&A.jsxs("button",{onClick:()=>{e(),l(!1)},className:"w-full px-3 py-2 text-left text-sm text-primary-700 hover:bg-primary-50 flex items-center gap-2",children:[A.jsx(dN,{className:"w-4 h-4"}),"Rsoudre"]}),A.jsxs("button",{onClick:()=>{n(),l(!1)},className:"w-full px-3 py-2 text-left text-sm text-primary-700 hover:bg-primary-50 flex items-center gap-2",children:[A.jsx(Ule,{className:"w-4 h-4"}),"Rpondre"]}),A.jsxs("button",{onClick:()=>{t(),l(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[A.jsx(Ds,{className:"w-4 h-4"}),"Supprimer"]})]})]})]}),A.jsxs("span",{className:"inline-flex items-center text-xs text-primary-400 mt-1 mb-2",children:["Page ",r.pageNumber+1,r.resolved&&A.jsxs("span",{className:"ml-2 text-green-600 flex items-center gap-1",children:[A.jsx(dN,{className:"w-3 h-3"}),"Rsolu"]})]}),A.jsx("p",{className:"text-sm text-primary-700 whitespace-pre-wrap",children:r.content}),r.replies&&r.replies.length>0&&A.jsx("div",{className:"mt-3 pl-4 border-l-2 border-primary-200 space-y-2",children:r.replies.map(c=>A.jsxs("div",{className:"text-sm",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-medium text-primary-900",children:c.author}),A.jsx("span",{className:"text-xs text-primary-400",children:i(c.createdAt)})]}),A.jsx("p",{className:"text-primary-700 mt-0.5",children:c.content})]},c.id))})]})]})})}function Q8e({coverConfig:r,backCoverConfig:e,onUpdateCover:t,onUpdateBackCover:n,readOnly:i=!1}){const[s,a]=K.useState({colors:!0,"cover-text":!0,"cover-contact":!1,"back-company":!1,"back-legal":!1}),o=u=>{a(d=>({...d,[u]:!d[u]}))},l=({label:u,value:d,onChange:h})=>A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-sm text-primary-700",children:u}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"color",value:d,onChange:f=>h(f.target.value),disabled:i,className:"w-8 h-8 rounded cursor-pointer border border-primary-200"}),A.jsx("input",{type:"text",value:d,onChange:f=>h(f.target.value),disabled:i,className:"w-20 px-2 py-1 text-xs font-mono border border-primary-200 rounded"})]})]}),c=({title:u,icon:d,section:h})=>A.jsxs("button",{onClick:()=>o(h),className:"w-full flex items-center justify-between p-3 bg-primary-50 hover:bg-primary-100 transition-colors",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(d,{className:"w-4 h-4 text-primary-600"}),A.jsx("span",{className:"font-medium text-primary-900",children:u})]}),s[h]?A.jsx(sT,{className:"w-4 h-4 text-primary-500"}):A.jsx(gA,{className:"w-4 h-4 text-primary-500"})]});return A.jsxs("div",{className:"divide-y divide-primary-200",children:[A.jsxs("div",{children:[A.jsx(c,{title:"Couleurs",icon:_V,section:"colors"}),s.colors&&A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsx(l,{label:"Couleur principale",value:r.primaryColor,onChange:u=>t({primaryColor:u})}),A.jsx(l,{label:"Couleur secondaire",value:r.secondaryColor,onChange:u=>t({secondaryColor:u})}),A.jsx(l,{label:"Couleur d'accent",value:r.accentColor,onChange:u=>t({accentColor:u})}),A.jsxs("div",{className:"pt-2",children:[A.jsx("p",{className:"text-xs text-primary-500 mb-2",children:"Thmes prdfinis"}),A.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{primary:"#1e3a5f",secondary:"#0f2744",accent:"#3b82f6",name:"Bleu Pro"},{primary:"#064e3b",secondary:"#022c22",accent:"#10b981",name:"Vert"},{primary:"#7c2d12",secondary:"#431407",accent:"#f97316",name:"Orange"},{primary:"#581c87",secondary:"#3b0764",accent:"#a855f7",name:"Violet"},{primary:"#1f2937",secondary:"#111827",accent:"#6b7280",name:"Gris"},{primary:"#991b1b",secondary:"#7f1d1d",accent:"#ef4444",name:"Rouge"},{primary:"#0c4a6e",secondary:"#082f49",accent:"#0ea5e9",name:"Cyan"},{primary:"#713f12",secondary:"#422006",accent:"#eab308",name:"Or"}].map((u,d)=>A.jsx("button",{onClick:()=>t({primaryColor:u.primary,secondaryColor:u.secondary,accentColor:u.accent}),className:"aspect-square rounded-lg overflow-hidden border-2 border-transparent hover:border-primary-400 transition-colors",title:u.name,style:{background:`linear-gradient(135deg, ${u.primary} 0%, ${u.secondary} 100%)`},children:A.jsx("div",{className:"w-full h-1/4",style:{backgroundColor:u.accent}})},d))})]})]})]}),A.jsxs("div",{children:[A.jsx(c,{title:"Texte de couverture",icon:PV,section:"cover-text"}),s["cover-text"]&&A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Titre principal"}),A.jsx("input",{type:"text",value:r.title,onChange:u=>t({title:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Rapport d'Audit Bancaire"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Sous-titre"}),A.jsx("input",{type:"text",value:r.subtitle||"",onChange:u=>t({subtitle:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Analyse des frais bancaires"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Nom du client"}),A.jsx("input",{type:"text",value:r.clientName,onChange:u=>t({clientName:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Rfrence"}),A.jsx("input",{type:"text",value:r.reference||"",onChange:u=>t({reference:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"REF-2024-001"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Niveau de confidentialit"}),A.jsxs("select",{value:r.confidentialityLevel,onChange:u=>t({confidentialityLevel:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500",children:[A.jsx("option",{value:"public",children:"Public"}),A.jsx("option",{value:"internal",children:"Usage interne"}),A.jsx("option",{value:"confidential",children:"Confidentiel"}),A.jsx("option",{value:"secret",children:"Secret"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Version"}),A.jsx("input",{type:"text",value:r.version||"",onChange:u=>t({version:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"1.0"})]})]})]}),A.jsxs("div",{children:[A.jsx(c,{title:"Contact couverture",icon:uT,section:"cover-contact"}),s["cover-contact"]&&A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Nom de l'auteur"}),A.jsx("input",{type:"text",value:r.authorName||"",onChange:u=>t({authorName:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Titre / Fonction"}),A.jsx("input",{type:"text",value:r.authorTitle||"",onChange:u=>t({authorTitle:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg",placeholder:"Expert-Comptable"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Email"}),A.jsx("input",{type:"email",value:r.contactEmail||"",onChange:u=>t({contactEmail:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Tlphone"}),A.jsx("input",{type:"tel",value:r.contactPhone||"",onChange:u=>t({contactPhone:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Logo"}),A.jsxs("div",{className:"border-2 border-dashed border-primary-200 rounded-lg p-4 text-center hover:border-primary-400 transition-colors cursor-pointer",children:[A.jsx(vs,{className:"w-8 h-8 text-primary-400 mx-auto mb-2"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Cliquez pour uploader"}),A.jsx("p",{className:"text-xs text-primary-400",children:"PNG, JPG jusqu' 2MB"})]})]})]})]}),A.jsxs("div",{children:[A.jsx(c,{title:"Entreprise (4e de couv.)",icon:Ji,section:"back-company"}),s["back-company"]&&A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Nom de l'entreprise"}),A.jsx("input",{type:"text",value:e.companyName,onChange:u=>n({companyName:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Adresse"}),A.jsx("textarea",{value:e.address,onChange:u=>n({address:u.target.value}),disabled:i,rows:3,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg resize-none"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Tlphone"}),A.jsx("input",{type:"tel",value:e.phone||"",onChange:u=>n({phone:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Email"}),A.jsx("input",{type:"email",value:e.email||"",onChange:u=>n({email:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg"})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Site web"}),A.jsx("input",{type:"url",value:e.website||"",onChange:u=>n({website:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:e.showLogo,onChange:u=>n({showLogo:u.target.checked}),disabled:i,className:"rounded"}),A.jsx("span",{className:"text-sm text-primary-700",children:"Afficher le logo"})]}),A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:e.showQRCode,onChange:u=>n({showQRCode:u.target.checked}),disabled:i,className:"rounded"}),A.jsx("span",{className:"text-sm text-primary-700",children:"Afficher un QR code"})]})]}),A.jsx(l,{label:"Couleur de fond",value:e.backgroundColor,onChange:u=>n({backgroundColor:u})}),A.jsx(l,{label:"Couleur du texte",value:e.textColor,onChange:u=>n({textColor:u})})]})]}),A.jsxs("div",{children:[A.jsx(c,{title:"Mentions lgales",icon:wv,section:"back-legal"}),s["back-legal"]&&A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Mention lgale"}),A.jsx("input",{type:"text",value:e.legalMention||"",onChange:u=>n({legalMention:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg",placeholder:"Document confidentiel"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Avertissement"}),A.jsx("textarea",{value:e.disclaimer||"",onChange:u=>n({disclaimer:u.target.value}),disabled:i,rows:3,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg resize-none",placeholder:"Ce document est la proprit exclusive de..."})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Copyright"}),A.jsx("input",{type:"text",value:e.copyright||"",onChange:u=>n({copyright:u.target.value}),disabled:i,className:"w-full px-3 py-2 text-sm border border-primary-200 rounded-lg",placeholder:` ${new Date().getFullYear()} Votre Entreprise`})]})]})]})]})}function $8e({section:r,availableTables:e,availableCharts:t,onSave:n,onClose:i,onAIAssist:s}){const[a,o]=K.useState(r?.title||""),[l,c]=K.useState(typeof r?.content=="string"?r.content:""),[u,d]=K.useState(r?.type||"content"),[h,f]=K.useState(r?.content?.tableId||""),[p,g]=K.useState(r?.content?.chartId||""),[m,v]=K.useState(""),[y,b]=K.useState(!1),[w,_]=K.useState([]),[B,R]=K.useState(!1),j=()=>{const I={id:r?.id||`section-${Date.now()}`,type:u,title:a,content:u==="table"?{tableId:h}:u==="chart"?{chartId:p}:l,visible:r?.visible??!0};n(I)},k=async()=>{if(!(!m.trim()||!s)){b(!0);try{const I=await s(m);_(I)}catch(I){console.error("AI error:",I)}finally{b(!1)}}},L=I=>{c(T=>T?T+`

`+I:I),_([])},H=I=>{const T=document.getElementById("section-content");if(!T)return;const P=T.selectionStart,N=T.selectionEnd,S=l.substring(P,N);let C="";switch(I){case"bold":C=`**${S||"texte en gras"}**`;break;case"italic":C=`*${S||"texte en italique"}*`;break;case"h1":C=`# ${S||"Titre"}`;break;case"h2":C=`## ${S||"Sous-titre"}`;break;case"list":C=`
- ${S||"Element de liste"}`;break;case"numbered":C=`
1. ${S||"Element numerote"}`;break;default:C=S}const E=l.substring(0,P)+C+l.substring(N);c(E)};return A.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-200",children:[A.jsx("h2",{className:"text-lg font-semibold text-primary-900",children:r?"Modifier la section":"Nouvelle section"}),A.jsx("button",{onClick:i,className:"p-2 hover:bg-primary-100 rounded-lg transition-colors",children:A.jsx(Eo,{className:"w-5 h-5"})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Type de section"}),A.jsx("div",{className:"flex gap-2 flex-wrap",children:[{type:"content",label:"Texte",icon:PV},{type:"table",label:"Tableau",icon:zp},{type:"chart",label:"Graphique",icon:Ka},{type:"summary",label:"Statistiques",icon:qu}].map(({type:I,label:T,icon:P})=>A.jsxs("button",{onClick:()=>d(I),className:`flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition-colors ${u===I?"border-primary-900 bg-primary-50 text-primary-900":"border-primary-200 hover:border-primary-300 text-primary-600"}`,children:[A.jsx(P,{className:"w-4 h-4"}),T]},I))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Titre de la section"}),A.jsx("input",{type:"text",value:a,onChange:I=>o(I.target.value),placeholder:"Entrez le titre...",className:"w-full px-4 py-2 border border-primary-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),u==="content"&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Contenu"}),A.jsxs("div",{className:"flex items-center gap-1 p-2 bg-primary-50 rounded-t-lg border border-b-0 border-primary-200",children:[A.jsx("button",{onClick:()=>H("h1"),className:"p-2 hover:bg-primary-200 rounded transition-colors",title:"Titre 1",children:A.jsx(_le,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>H("h2"),className:"p-2 hover:bg-primary-200 rounded transition-colors",title:"Titre 2",children:A.jsx(Nle,{className:"w-4 h-4"})}),A.jsx("div",{className:"w-px h-6 bg-primary-300 mx-1"}),A.jsx("button",{onClick:()=>H("bold"),className:"p-2 hover:bg-primary-200 rounded transition-colors",title:"Gras",children:A.jsx(ple,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>H("italic"),className:"p-2 hover:bg-primary-200 rounded transition-colors",title:"Italique",children:A.jsx(Ble,{className:"w-4 h-4"})}),A.jsx("div",{className:"w-px h-6 bg-primary-300 mx-1"}),A.jsx("button",{onClick:()=>H("list"),className:"p-2 hover:bg-primary-200 rounded transition-colors",title:"Liste",children:A.jsx(R5,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>H("numbered"),className:"p-2 hover:bg-primary-200 rounded transition-colors",title:"Liste numerotee",children:A.jsx(Ile,{className:"w-4 h-4"})}),A.jsx("div",{className:"flex-1"}),A.jsxs("button",{onClick:()=>R(!B),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg transition-colors ${B?"bg-purple-600 text-white":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,children:[A.jsx(Ku,{className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"IA"})]})]}),B&&A.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 border-x border-primary-200",children:[A.jsxs("div",{className:"flex gap-2 mb-3",children:[A.jsx("input",{type:"text",value:m,onChange:I=>v(I.target.value),onKeyDown:I=>I.key==="Enter"&&k(),placeholder:"Demandez a l'IA de rediger du contenu...",className:"flex-1 px-3 py-2 text-sm border border-primary-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),A.jsx(Ye,{variant:"primary",size:"sm",onClick:k,disabled:y||!m.trim(),className:"bg-purple-600 hover:bg-purple-700",children:y?A.jsx(Vl,{className:"w-4 h-4 animate-spin"}):A.jsx(Om,{className:"w-4 h-4"})})]}),A.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:["Introduction du rapport","Conclusion","Analyse des resultats","Recommandations"].map(I=>A.jsx("button",{onClick:()=>v(`Redige ${I.toLowerCase()}`),className:"px-2 py-1 text-xs bg-white border border-primary-200 rounded-full hover:bg-primary-50 transition-colors",children:I},I))}),w.length>0&&A.jsx("div",{className:"space-y-2",children:w.map((I,T)=>A.jsxs("div",{className:"p-3 bg-white border border-primary-200 rounded-lg text-sm",children:[A.jsx("p",{className:"text-primary-700 mb-2",children:I}),A.jsx("button",{onClick:()=>L(I),className:"text-xs text-purple-600 hover:text-purple-800 font-medium",children:"+ Inserer dans le contenu"})]},T))})]}),A.jsx("textarea",{id:"section-content",value:l,onChange:I=>c(I.target.value),placeholder:`Redigez le contenu de la section...

Vous pouvez utiliser le format Markdown:
# Titre
## Sous-titre
**Gras** et *Italique*
- Liste a puces
1. Liste numerotee`,className:"w-full h-64 px-4 py-3 border border-primary-200 rounded-b-lg focus:outline-none focus:ring-2 focus:ring-primary-500 font-mono text-sm resize-y"})]}),u==="table"&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Selectionner un tableau"}),e.length>0?A.jsx("div",{className:"space-y-2",children:e.map(I=>A.jsx("button",{onClick:()=>f(I.id),className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${h===I.id?"border-primary-900 bg-primary-50":"border-primary-200 hover:border-primary-300"}`,children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(zp,{className:"w-5 h-5 text-blue-600"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:I.title}),A.jsxs("p",{className:"text-sm text-primary-500",children:[I.headers?.length||0," colonnes, ",I.rows?.length||0," lignes"]})]})]})},I.id))}):A.jsxs("div",{className:"p-8 text-center border-2 border-dashed border-primary-200 rounded-lg",children:[A.jsx(zp,{className:"w-10 h-10 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-primary-500",children:"Aucun tableau disponible"}),A.jsx("p",{className:"text-sm text-primary-400",children:"Lancez une analyse pour generer des tableaux"})]})]}),u==="chart"&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Selectionner un graphique"}),t.length>0?A.jsx("div",{className:"space-y-2",children:t.map(I=>A.jsx("button",{onClick:()=>g(I.id),className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${p===I.id?"border-primary-900 bg-primary-50":"border-primary-200 hover:border-primary-300"}`,children:A.jsxs("div",{className:"flex items-center gap-3",children:[I.type==="pie"||I.type==="donut"?A.jsx(kV,{className:"w-5 h-5 text-green-600"}):A.jsx(Ka,{className:"w-5 h-5 text-green-600"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:I.title}),A.jsxs("p",{className:"text-sm text-primary-500",children:["Type: ",I.type," - ",I.data?.length||0," donnees"]})]})]})},I.id))}):A.jsxs("div",{className:"p-8 text-center border-2 border-dashed border-primary-200 rounded-lg",children:[A.jsx(Ka,{className:"w-10 h-10 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-primary-500",children:"Aucun graphique disponible"}),A.jsx("p",{className:"text-sm text-primary-400",children:"Lancez une analyse pour generer des graphiques"})]})]}),u==="summary"&&A.jsxs("div",{className:"p-6 bg-primary-50 rounded-lg border border-primary-200",children:[A.jsx(qu,{className:"w-8 h-8 text-primary-600 mx-auto mb-3"}),A.jsx("p",{className:"text-center text-primary-600",children:"Cette section affichera automatiquement les statistiques cles de l'analyse."})]})]}),A.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-primary-200",children:[A.jsx(Ye,{variant:"secondary",onClick:i,children:"Annuler"}),A.jsxs(Ye,{variant:"primary",onClick:j,children:[A.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Enregistrer"]})]})]})})}function z8e({report:r,currentPage:e,onUpdateReport:t,onNavigateToPage:n,readOnly:i=!1}){const[s,a]=K.useState({}),[o,l]=K.useState({isOpen:!0,isLoading:!1,prompt:"",suggestions:[],selectedSection:null}),[c,u]=K.useState(null),[d,h]=K.useState(null),f=k=>{a(L=>({...L,[k]:!L[k]}))},p=k=>{h({pageId:k,section:null})},g=(k,L)=>{h({pageId:k,section:L})},m=k=>{if(!d)return;const L=r.pages.map(H=>{if(H.id===d.pageId){const I=H.sections.findIndex(T=>T.id===k.id);if(I>=0){const T=[...H.sections];return T[I]=k,{...H,sections:T}}else return{...H,sections:[...H.sections,k]}}return H});t({...r,pages:L}),h(null)},v=(k,L)=>{const H=r.pages.map(I=>I.id===k?{...I,sections:I.sections.filter(T=>T.id!==L)}:I);t({...r,pages:H})},y=(k,L)=>{const H=r.pages.map(I=>I.id===k?{...I,sections:I.sections.map(T=>T.id===L?{...T,visible:!T.visible}:T)}:I);t({...r,pages:H})},b=k=>{switch(k){case"table":return A.jsx(zp,{className:"w-4 h-4"});case"chart":return A.jsx(Ka,{className:"w-4 h-4"});case"summary":return A.jsx(qu,{className:"w-4 h-4"});case"image":return A.jsx(SV,{className:"w-4 h-4"});default:return A.jsx(Zr,{className:"w-4 h-4"})}},w=async()=>{if(!o.prompt.trim())return;l(L=>({...L,isLoading:!0})),await new Promise(L=>setTimeout(L,1500));const k=_(o.prompt);l(L=>({...L,isLoading:!1,suggestions:k}))},_=k=>{const L=k.toLowerCase();return L.includes("introduction")||L.includes("sommaire")?["Ce rapport presente une analyse approfondie des frais bancaires pour la periode consideree. L'objectif est d'identifier les anomalies de facturation et les opportunites d'optimisation des couts bancaires.","Dans le cadre de notre mission d'audit bancaire, nous avons procede a l'examen systematique des releves de compte et des conditions tarifaires appliquees. Ce document synthetise nos observations et recommandations.","L'analyse des operations bancaires constitue un enjeu majeur pour la maitrise des couts financiers. Ce rapport detaille les ecarts constates entre les conditions negociees et les frais effectivement preleves."]:L.includes("conclusion")||L.includes("recommandation")?["En conclusion, l'audit revele des opportunites significatives d'optimisation des frais bancaires. Nous recommandons d'engager des negociations avec les etablissements concernes pour obtenir le remboursement des surfacturations identifiees.","Les anomalies detectees representent un montant considerable qui justifie une action rapide aupres des banques. La mise en place d'un suivi regulier permettra d'eviter la recurrence de ces ecarts.","Au regard des constats effectues, il apparait essentiel de revoir les conventions bancaires en vigueur et de mettre en place des controles systematiques des prelevements de frais."]:L.includes("anomalie")||L.includes("ecart")?["L'analyse a mis en evidence plusieurs categories d'anomalies: surfacturations par rapport aux conditions negociees, doublons de prelevement, et application de taux non conformes aux conventions en vigueur.","Les ecarts constates concernent principalement les frais de tenue de compte, les commissions de mouvement et les agios appliques aux facilites de caisse. Ces anomalies resultent d'erreurs de parametrage ou de modifications unilaterales des conditions.","La repartition des anomalies par type revele une concentration sur les operations internationales et les frais de change, ou les marges appliquees depassent frequemment les conditions contractuelles."]:["L'analyse des donnees financieres permet d'identifier les axes d'amelioration et les economies potentielles realisables.","Les observations formulees dans ce rapport s'appuient sur l'examen exhaustif des pieces justificatives mises a disposition.","Cette section presente les elements cles issus de notre analyse et les actions recommandees pour optimiser la gestion des frais bancaires."]},B=(k,L)=>{navigator.clipboard.writeText(k),u(`suggestion-${L}`),setTimeout(()=>u(null),2e3)},R=r.charts||[],j=r.tables||[];return A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"p-4 border-b border-primary-200",children:[A.jsxs("h3",{className:"font-semibold text-primary-900 mb-3 flex items-center gap-2",children:[A.jsx(Zr,{className:"w-4 h-4"}),"Sommaire du rapport"]}),A.jsxs("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:[A.jsx("button",{onClick:()=>n(0),className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${e===0?"bg-primary-100 text-primary-900 font-medium":"text-primary-600 hover:bg-primary-50"}`,children:"Page de garde"}),r.pages.map((k,L)=>A.jsx("div",{children:A.jsxs("button",{onClick:()=>n(L+1),className:`w-full text-left px-3 py-2 rounded text-sm transition-colors flex items-center justify-between ${e===L+1?"bg-primary-100 text-primary-900 font-medium":"text-primary-600 hover:bg-primary-50"}`,children:[A.jsx("span",{className:"truncate",children:k.sections[0]?.title||`Page ${L+1}`}),A.jsx(Ir,{variant:"secondary",className:"text-xs",children:k.sections.length})]})},k.id)),A.jsx("button",{onClick:()=>n(r.pages.length+1),className:`w-full text-left px-3 py-2 rounded text-sm transition-colors ${e===r.pages.length+1?"bg-primary-100 text-primary-900 font-medium":"text-primary-600 hover:bg-primary-50"}`,children:"Couverture arriere"})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[A.jsxs("h3",{className:"font-semibold text-primary-900 mb-3 flex items-center gap-2",children:[A.jsx(zp,{className:"w-4 h-4"}),"Structure des pages"]}),A.jsx("div",{className:"space-y-2",children:r.pages.map((k,L)=>A.jsxs("div",{className:"border border-primary-200 rounded-lg overflow-hidden",children:[A.jsxs("button",{onClick:()=>f(k.id),className:"w-full px-3 py-2 bg-primary-50 flex items-center justify-between text-sm hover:bg-primary-100 transition-colors",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[s[k.id]?A.jsx(gA,{className:"w-4 h-4 text-primary-500"}):A.jsx(Im,{className:"w-4 h-4 text-primary-500"}),A.jsxs("span",{className:"font-medium text-primary-900",children:["Page ",L+1,": ",k.sections[0]?.title||"Sans titre"]})]}),A.jsxs(Ir,{variant:"secondary",children:[k.sections.length," sections"]})]}),s[k.id]&&A.jsxs("div",{className:"p-2 space-y-1",children:[k.sections.map(H=>A.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded text-sm group ${H.visible?"bg-white hover:bg-primary-50":"bg-primary-50 opacity-60"}`,children:[A.jsx(Ele,{className:"w-3 h-3 text-primary-300 cursor-move"}),b(H.type),A.jsx("span",{className:"flex-1 truncate text-primary-700",children:H.title}),!i&&A.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx("button",{onClick:()=>g(k.id,H),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Modifier",children:A.jsx(Wu,{className:"w-3 h-3"})}),A.jsx("button",{onClick:()=>y(k.id,H.id),className:`p-1 rounded transition-colors ${H.visible?"text-green-600 hover:bg-green-50":"text-primary-400 hover:bg-primary-100"}`,title:H.visible?"Masquer":"Afficher",children:H.visible?A.jsx(ps,{className:"w-3 h-3"}):A.jsx(cy,{className:"w-3 h-3"})}),A.jsx("button",{onClick:()=>v(k.id,H.id),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Supprimer",children:A.jsx(Ds,{className:"w-3 h-3"})})]})]},H.id)),!i&&A.jsx("div",{className:"pt-2 border-t border-primary-100 mt-2",children:A.jsxs("button",{onClick:()=>p(k.id),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm bg-primary-900 hover:bg-primary-800 rounded-lg transition-colors text-white",children:[A.jsx(Yn,{className:"w-4 h-4"}),"Ajouter une section"]})})]})]},k.id))}),A.jsxs("div",{className:"mt-6 pt-4 border-t border-primary-200",children:[A.jsxs("h4",{className:"font-medium text-primary-900 mb-3 flex items-center gap-2",children:[A.jsx(Ka,{className:"w-4 h-4"}),"Elements disponibles"]}),R.length>0&&A.jsxs("div",{className:"mb-3",children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-2",children:"Graphiques"}),A.jsx("div",{className:"space-y-1",children:R.map(k=>A.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 bg-green-50 rounded text-sm",children:[k.type==="pie"||k.type==="donut"?A.jsx(kV,{className:"w-4 h-4 text-green-600"}):k.type==="area"?A.jsx(fle,{className:"w-4 h-4 text-green-600"}):A.jsx(Ka,{className:"w-4 h-4 text-green-600"}),A.jsx("span",{className:"text-primary-700 truncate",children:k.title})]},k.id))})]}),j.length>0&&A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase mb-2",children:"Tableaux"}),A.jsx("div",{className:"space-y-1",children:j.map(k=>A.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 bg-blue-50 rounded text-sm",children:[A.jsx(zp,{className:"w-4 h-4 text-blue-600"}),A.jsx("span",{className:"text-primary-700 truncate",children:k.title})]},k.id))})]}),R.length===0&&j.length===0&&A.jsx("p",{className:"text-sm text-primary-400 italic",children:"Aucun element disponible. Lancez une analyse pour generer des donnees."})]})]}),A.jsxs("div",{className:"border-t border-primary-200",children:[A.jsxs("button",{onClick:()=>l(k=>({...k,isOpen:!k.isOpen})),className:"w-full px-4 py-3 flex items-center justify-between bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 transition-colors",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ku,{className:"w-5 h-5 text-purple-600"}),A.jsx("span",{className:"font-medium text-primary-900",children:"Assistant IA"})]}),A.jsx(Om,{className:"w-4 h-4 text-purple-500"})]}),o.isOpen&&A.jsxs("div",{className:"p-4 bg-gradient-to-b from-purple-50/50 to-white space-y-3",children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Demandez a l'IA de vous aider a rediger le contenu du rapport"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",value:o.prompt,onChange:k=>l(L=>({...L,prompt:k.target.value})),onKeyDown:k=>k.key==="Enter"&&w(),placeholder:"Ex: Redige une introduction pour ce rapport...",className:"flex-1 px-3 py-2 text-sm border border-primary-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),A.jsx(Ye,{variant:"primary",size:"sm",onClick:w,disabled:o.isLoading||!o.prompt.trim(),className:"bg-purple-600 hover:bg-purple-700",children:o.isLoading?A.jsx(Vl,{className:"w-4 h-4 animate-spin"}):A.jsx(fy,{className:"w-4 h-4"})})]}),A.jsx("div",{className:"flex flex-wrap gap-1",children:["Introduction","Conclusion","Recommandations","Analyse des ecarts"].map(k=>A.jsx("button",{onClick:()=>{l(L=>({...L,prompt:`Redige ${k.toLowerCase()} du rapport`}))},className:"px-2 py-1 text-xs bg-white border border-primary-200 rounded-full hover:bg-primary-50 transition-colors text-primary-600",children:k},k))}),o.suggestions.length>0&&A.jsxs("div",{className:"space-y-2 pt-2",children:[A.jsx("p",{className:"text-xs text-primary-500 font-medium",children:"Suggestions:"}),o.suggestions.map((k,L)=>A.jsxs("div",{className:"p-3 bg-white border border-primary-200 rounded-lg text-sm text-primary-700",children:[A.jsx("p",{className:"mb-2",children:k}),A.jsx("div",{className:"flex gap-2",children:A.jsx("button",{onClick:()=>B(k,L),className:"flex items-center gap-1 px-2 py-1 text-xs bg-primary-100 hover:bg-primary-200 rounded transition-colors text-primary-600",children:c===`suggestion-${L}`?A.jsxs(A.Fragment,{children:[A.jsx(dN,{className:"w-3 h-3"}),"Copie!"]}):A.jsxs(A.Fragment,{children:[A.jsx(vle,{className:"w-3 h-3"}),"Copier"]})})})]},L)),A.jsxs("button",{onClick:w,className:"flex items-center gap-1 text-xs text-purple-600 hover:text-purple-800",children:[A.jsx(hy,{className:"w-3 h-3"}),"Regenerer"]})]})]})]}),d&&A.jsx($8e,{section:d.section,availableTables:j,availableCharts:R,onSave:m,onClose:()=>h(null),onAIAssist:async k=>(await new Promise(L=>setTimeout(L,1500)),_(k))})]})}function V8e({report:r,onClose:e,onSave:t,onExportPDF:n,onExportExcel:i,readOnly:s=!1}){const[a,o]=K.useState(0),[l,c]=K.useState(100),[u,d]=K.useState("single"),[h,f]=K.useState(!0),[p,g]=K.useState("content"),[m,v]=K.useState(!1),[y,b]=K.useState(!1),[w,_]=K.useState(!1),[B,R]=K.useState(r),[j,k]=K.useState(r.comments||[]),L=K.useRef(null),H=K.useRef(null),I=B.pages.length+2;K.useEffect(()=>{const Q=q=>{q.key==="ArrowRight"||q.key==="PageDown"?o(D=>Math.min(D+1,I-1)):q.key==="ArrowLeft"||q.key==="PageUp"?o(D=>Math.max(D-1,0)):q.key==="Escape"?m?v(!1):e():q.key==="+"||q.key==="="?c(D=>Math.min(D+10,200)):q.key==="-"&&c(D=>Math.max(D-10,50))};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[I,m,e]),K.useEffect(()=>{m&&L.current?L.current.requestFullscreen?.():!m&&document.fullscreenElement&&document.exitFullscreen?.()},[m]);const T=Q=>{o(Math.max(0,Math.min(Q,I-1)))},P=()=>T(a+1),N=()=>T(a-1),S=()=>c(Q=>Math.min(Q+10,200)),C=()=>c(Q=>Math.max(Q-10,50)),E=()=>c(100),x=Q=>{const q={...Q,id:`comment-${Date.now()}`,createdAt:new Date,resolved:!1};k(D=>[...D,q])},F=Q=>{k(q=>q.map(D=>D.id===Q?{...D,resolved:!0}:D))},U=Q=>{k(q=>q.filter(D=>D.id!==Q))},M=Q=>{R(q=>({...q,coverConfig:{...q.coverConfig,...Q}}))},z=Q=>{R(q=>({...q,backCoverConfig:{...q.backCoverConfig,...Q}}))},G=()=>{if(a===0)return A.jsx(j8e,{config:B.coverConfig,onEdit:s?void 0:()=>b(!0)});if(a===I-1)return A.jsx(F8e,{config:B.backCoverConfig,onEdit:s?void 0:()=>_(!0)});{const Q=a-1,q=B.pages[Q];return q?A.jsx(P8e,{page:q,report:B,pageNumber:a,totalPages:I}):null}},Y=()=>a===0?"Page de garde":a===I-1?"Couverture arrire":`Page ${a}`;return A.jsxs("div",{ref:L,className:"fixed inset-0 z-50 bg-primary-950 flex flex-col ",children:[A.jsxs("div",{className:"flex-shrink-0 h-14 bg-primary-900 border-b border-primary-700 flex items-center justify-between px-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:e,className:"p-2 hover:bg-primary-800 rounded-lg transition-colors text-white",children:A.jsx(Eo,{className:"w-5 h-5"})}),A.jsxs("div",{className:"border-l border-primary-700 pl-4",children:[A.jsx("h2",{className:"text-white font-semibold truncate max-w-md",children:B.config.title}),A.jsx("p",{className:"text-primary-400 text-xs",children:B.config.clientName})]}),A.jsx(Ir,{variant:B.config.status==="final"?"success":B.config.status==="review"?"warning":"info",children:B.config.status==="final"?"Final":B.config.status==="review"?"En rvision":"Brouillon"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:N,disabled:a===0,className:"p-2 hover:bg-primary-800 rounded-lg transition-colors text-white disabled:opacity-50 disabled:cursor-not-allowed",children:A.jsx(yV,{className:"w-5 h-5"})}),A.jsxs("div",{className:"px-4 py-1.5 bg-primary-800 rounded-lg text-white text-sm min-w-[140px] text-center",children:[Y()," (",a+1," / ",I,")"]}),A.jsx("button",{onClick:P,disabled:a===I-1,className:"p-2 hover:bg-primary-800 rounded-lg transition-colors text-white disabled:opacity-50 disabled:cursor-not-allowed",children:A.jsx(Im,{className:"w-5 h-5"})})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[A.jsx("button",{onClick:C,className:"p-2 hover:bg-primary-800 rounded transition-colors text-white",children:A.jsx(LV,{className:"w-4 h-4"})}),A.jsxs("button",{onClick:E,className:"px-2 py-1 hover:bg-primary-800 rounded transition-colors text-white text-sm min-w-[50px]",children:[l,"%"]}),A.jsx("button",{onClick:S,className:"p-2 hover:bg-primary-800 rounded transition-colors text-white",children:A.jsx(RV,{className:"w-4 h-4"})})]}),A.jsxs("div",{className:"flex items-center border-l border-primary-700 pl-2 mr-2",children:[A.jsx("button",{onClick:()=>d("single"),className:`p-2 rounded transition-colors ${u==="single"?"bg-primary-700 text-white":"text-primary-400 hover:bg-primary-800 hover:text-white"}`,title:"Vue simple",children:A.jsx(Zr,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>d("double"),className:`p-2 rounded transition-colors ${u==="double"?"bg-primary-700 text-white":"text-primary-400 hover:bg-primary-800 hover:text-white"}`,title:"Vue double",children:A.jsx(cT,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>d("scroll"),className:`p-2 rounded transition-colors ${u==="scroll"?"bg-primary-700 text-white":"text-primary-400 hover:bg-primary-800 hover:text-white"}`,title:"Vue dfilement",children:A.jsx(R5,{className:"w-4 h-4"})})]}),A.jsx("button",{onClick:()=>v(!m),className:"p-2 hover:bg-primary-800 rounded transition-colors text-white",title:m?"Quitter plein cran":"Plein cran",children:m?A.jsx(Rle,{className:"w-4 h-4"}):A.jsx(Ole,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>f(!h),className:`p-2 rounded transition-colors ${h?"bg-primary-700 text-white":"text-primary-400 hover:bg-primary-800 hover:text-white"}`,title:"Panneau latral",children:A.jsx(Am,{className:"w-4 h-4"})}),A.jsxs("div",{className:"border-l border-primary-700 pl-2 flex items-center gap-1",children:[A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:n,className:"bg-primary-800 text-white border-primary-700 hover:bg-primary-700",children:[A.jsx(Mc,{className:"w-4 h-4 mr-1"}),"PDF"]}),A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:i,className:"bg-primary-800 text-white border-primary-700 hover:bg-primary-700",children:[A.jsx(Mc,{className:"w-4 h-4 mr-1"}),"Excel"]}),A.jsx("button",{onClick:()=>window.print(),className:"p-2 hover:bg-primary-800 rounded transition-colors text-white",title:"Imprimer",children:A.jsx(Kw,{className:"w-4 h-4"})})]})]})]}),A.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[A.jsxs("div",{className:"w-20 bg-primary-900 border-r border-primary-700 overflow-y-auto py-2",children:[A.jsxs("button",{onClick:()=>T(0),className:`w-full p-2 ${a===0?"bg-primary-700":"hover:bg-primary-800"}`,children:[A.jsx("div",{className:"w-14 h-20 mx-auto bg-white rounded shadow-sm flex items-center justify-center text-xs text-primary-400",children:"Garde"}),A.jsx("p",{className:"text-xs text-primary-400 mt-1 text-center",children:"1"})]}),B.pages.map((Q,q)=>A.jsxs("button",{onClick:()=>T(q+1),className:`w-full p-2 ${a===q+1?"bg-primary-700":"hover:bg-primary-800"}`,children:[A.jsx("div",{className:"w-14 h-20 mx-auto bg-white rounded shadow-sm flex items-center justify-center text-xs text-primary-400",children:Q.type}),A.jsx("p",{className:"text-xs text-primary-400 mt-1 text-center",children:q+2})]},Q.id)),A.jsxs("button",{onClick:()=>T(I-1),className:`w-full p-2 ${a===I-1?"bg-primary-700":"hover:bg-primary-800"}`,children:[A.jsx("div",{className:"w-14 h-20 mx-auto bg-primary-800 rounded shadow-sm flex items-center justify-center text-xs text-primary-400",children:"Fin"}),A.jsx("p",{className:"text-xs text-primary-400 mt-1 text-center",children:I})]})]}),A.jsx("div",{ref:H,className:"flex-1 overflow-auto bg-primary-800 flex items-center justify-center p-8",children:A.jsx("div",{className:"bg-white shadow-2xl transition-transform duration-200",style:{transform:`scale(${l/100})`,transformOrigin:"center center",width:"210mm",minHeight:"297mm"},children:G()})}),h&&A.jsxs("div",{className:"w-[420px] bg-white border-l border-primary-200 flex flex-col",children:[A.jsx("div",{className:"flex-shrink-0 border-b border-primary-200",children:A.jsxs("div",{className:"flex",children:[A.jsxs("button",{onClick:()=>g("content"),className:`flex-1 px-2 py-3 text-xs font-medium border-b-2 transition-colors ${p==="content"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(iT,{className:"w-4 h-4 inline mr-0.5"}),"Contenu"]}),A.jsxs("button",{onClick:()=>g("comments"),className:`flex-1 px-2 py-3 text-xs font-medium border-b-2 transition-colors ${p==="comments"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(Am,{className:"w-4 h-4 inline mr-0.5"}),"Notes"]}),A.jsxs("button",{onClick:()=>g("cover"),className:`flex-1 px-2 py-3 text-xs font-medium border-b-2 transition-colors ${p==="cover"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(_V,{className:"w-4 h-4 inline mr-0.5"}),"Design"]}),A.jsxs("button",{onClick:()=>g("settings"),className:`flex-1 px-2 py-3 text-xs font-medium border-b-2 transition-colors ${p==="settings"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(vA,{className:"w-4 h-4 inline mr-0.5"}),"Options"]})]})}),A.jsxs("div",{className:"flex-1 overflow-hidden",children:[p==="content"&&A.jsx(z8e,{report:B,currentPage:a,onUpdateReport:R,onNavigateToPage:T,readOnly:s}),p==="comments"&&A.jsx(U8e,{comments:j,currentPage:a,onAddComment:x,onResolveComment:F,onDeleteComment:U,readOnly:s}),p==="cover"&&A.jsx(Q8e,{coverConfig:B.coverConfig,backCoverConfig:B.backCoverConfig,onUpdateCover:M,onUpdateBackCover:z,readOnly:s}),p==="settings"&&A.jsxs("div",{className:"p-4 space-y-4",children:[A.jsx("h3",{className:"font-semibold text-primary-900",children:"Options du rapport"}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),A.jsx("span",{className:"text-sm text-primary-700",children:"Afficher les numros de page"})]}),A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),A.jsx("span",{className:"text-sm text-primary-700",children:"Inclure la table des matires"})]}),A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),A.jsx("span",{className:"text-sm text-primary-700",children:"Inclure les graphiques"})]}),A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),A.jsx("span",{className:"text-sm text-primary-700",children:"Inclure les annexes"})]})]})]})]}),!s&&A.jsx("div",{className:"flex-shrink-0 p-4 border-t border-primary-200",children:A.jsx(Ye,{variant:"primary",className:"w-full",onClick:()=>t?.({...B,comments:j}),children:"Enregistrer les modifications"})})]})]})]})}const G8e={[je.LOW]:"#6b7280",[je.MEDIUM]:"#f59e0b",[je.HIGH]:"#ef4444",[je.CRITICAL]:"#7f1d1d"};function K8e({client:r,analysis:e,auditorName:t="Expert-Comptable",auditorCompany:n="Cabinet d'Expertise Comptable",auditorLogo:i}){const s=r.currency||"XAF",a=new Date,o={id:`audit-${e.id}`,title:"Rapport d'Audit Bancaire",subtitle:"Analyse des frais et anomalies",clientName:r.name,auditorName:t,period:{start:e.config.dateRange.start,end:e.config.dateRange.end},createdAt:a,type:"audit",status:"draft",language:"fr",currency:s},l={primaryColor:"#1e3a5f",secondaryColor:"#0f2744",accentColor:"#3b82f6",logo:i,title:"Rapport d'Audit Bancaire",subtitle:"Analyse des frais et conditions bancaires",clientName:r.name,reference:`REF-${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${e.id.slice(-6).toUpperCase()}`,confidentialityLevel:"confidential",authorName:t,authorTitle:"Expert-Comptable",date:a,period:{start:e.config.dateRange.start,end:e.config.dateRange.end},version:"1.0"},c={companyName:n,address:`Votre adresse
Ville, Pays`,showLogo:!0,showQRCode:!1,backgroundColor:"#1e3a5f",textColor:"#ffffff",legalMention:"Document confidentiel - Usage strictement rserv au client",disclaimer:`Ce rapport a t tabli sur la base des relevs bancaires fournis par le client.
Les anomalies identifies sont soumises  vrification auprs des tablissements bancaires concerns.
Scrutix et ${n} dclinent toute responsabilit quant  l'exhaustivit des donnes analyses.`,copyright:` ${a.getFullYear()} ${n} - Propuls par Scrutix`},u=[{id:"total-transactions",label:"Transactions analyses",value:e.statistics.totalTransactions},{id:"total-anomalies",label:"Anomalies dtectes",value:e.statistics.totalAnomalies,color:e.statistics.totalAnomalies>0?"#ef4444":"#22c55e"},{id:"total-amount",label:"Montant des anomalies",value:e.statistics.totalAnomalyAmount},{id:"potential-savings",label:"conomies potentielles",value:e.statistics.potentialSavings,color:"#22c55e"}],d=e.anomalies.length>0,h=Object.entries(e.statistics.anomaliesByType||{}).filter(([B,R])=>R>0).map(([B,R])=>{const k=e.anomalies.filter(I=>I.type===B).reduce((I,T)=>I+T.amount,0),L=e.statistics.totalAnomalyAmount||1,H=k/L*100;return[Wa[B]||B,R,k,`${H.toFixed(1)}%`]}).sort((B,R)=>R[2]-B[2]),f={id:"anomalies-by-type",title:"Rpartition des anomalies par type",headers:["Type d'anomalie","Nombre","Montant total","% du total"],rows:d?h:[["Aucune anomalie dtecte","-","-","-"]],totals:d?["TOTAL",e.statistics.totalAnomalies,e.statistics.totalAnomalyAmount,"100%"]:void 0,striped:!0,sortable:d},p=e.anomalies.sort((B,R)=>R.amount-B.amount).slice(0,50).map(B=>[fr(B.detectedAt),Wa[B.type]||B.type,Sv[B.severity],B.recommendation.slice(0,60)+(B.recommendation.length>60?"...":""),B.amount]),g={id:"anomalies-detail",title:"Dtail des anomalies dtectes",headers:["Date","Type","Svrit","Description","Montant"],rows:d?p:[["","Aucune anomalie","","Aucune anomalie  afficher",""]],totals:d?["","","",`${e.anomalies.length} anomalies`,e.statistics.totalAnomalyAmount]:void 0,striped:!0,sortable:d},m=Object.entries(e.statistics.anomaliesByType||{}).filter(([B,R])=>R>0).map(([B,R])=>{const k=e.anomalies.filter(L=>L.type===B).reduce((L,H)=>L+H.amount,0);return{label:Wa[B]||B,value:k}}).sort((B,R)=>R.value-B.value),v={id:"chart-by-type",type:"bar",title:"Montants par type d'anomalie",subtitle:d?`Total: ${kt(e.statistics.totalAnomalyAmount,s)}`:"Aucune donne disponible",data:d?m:[{label:"Aucune donne",value:0}],showLegend:!1,showValues:d},y=Object.entries(e.statistics.anomaliesBySeverity||{}).filter(([B,R])=>R>0).map(([B,R])=>({label:Sv[B],value:R,color:G8e[B]})),b={id:"chart-by-severity",type:"donut",title:"Rpartition par svrit",data:d?y:[{label:"Aucune donne",value:1,color:"#e5e5e5"}],showLegend:!0,showValues:d},_=[{id:"page-summary",pageNumber:1,type:"content",sections:[{id:"section-title",type:"content",title:"Sommaire Excutif",content:d?`Ce rapport prsente les rsultats de l'audit des frais bancaires pour ${r.name} sur la priode du ${fr(e.config.dateRange.start)} au ${fr(e.config.dateRange.end)}.

L'analyse a port sur ${e.statistics.totalTransactions.toLocaleString("fr-FR")} transactions et a permis d'identifier ${e.statistics.totalAnomalies} anomalies potentielles reprsentant un montant total de ${kt(e.statistics.totalAnomalyAmount,s)}.

${e.summary.status==="CRITICAL"?" ATTENTION: Des anomalies critiques ont t identifies et ncessitent une action immdiate.":e.summary.status==="WARNING"?" Plusieurs anomalies significatives ont t dtectes et mritent une attention particulire.":" La situation globale est satisfaisante avec quelques points d'amlioration possibles."}`:`**Ceci est un modle de rapport de dmonstration.**

Ce rapport illustre la structure et la prsentation des rapports d'audit bancaire gnrs par Scrutix pour ${r.name}.

Pour obtenir un rapport avec des donnes relles:
1. Importez vos relevs bancaires
2. Configurez les conditions tarifaires de vos banques
3. Lancez une analyse des transactions
4. Gnrez votre rapport personnalis

Scrutix vous aidera  identifier les anomalies et optimiser vos frais bancaires.`,visible:!0},{id:"section-stats",type:"summary",title:"Indicateurs cls",visible:!0}],header:{show:!0,title:"Rapport d'Audit Bancaire - Scrutix"},footer:{show:!0,showPageNumber:!0,text:r.name}},{id:"page-by-type",pageNumber:2,type:"content",sections:[{id:"section-type-table",type:"table",title:"Analyse par type d'anomalie",content:{tableId:"anomalies-by-type"},visible:!0},{id:"section-type-chart",type:"chart",title:"",content:{chartId:"chart-by-type"},visible:!0}],header:{show:!0,title:"Rapport d'Audit Bancaire - Scrutix"},footer:{show:!0,showPageNumber:!0,text:r.name}},{id:"page-by-severity",pageNumber:3,type:"content",sections:[{id:"section-severity-chart",type:"chart",title:"Analyse par niveau de svrit",content:{chartId:"chart-by-severity"},visible:!0},{id:"section-recommendations",type:"content",title:"Recommandations",content:{type:"list",items:e.summary.recommendations},visible:!0}],header:{show:!0,title:"Rapport d'Audit Bancaire - Scrutix"},footer:{show:!0,showPageNumber:!0,text:r.name}},{id:"page-detail",pageNumber:4,type:"table",sections:[{id:"section-detail-table",type:"table",title:"Dtail des anomalies (Top 50)",content:{tableId:"anomalies-detail"},visible:!0}],header:{show:!0,title:"Rapport d'Audit Bancaire - Scrutix"},footer:{show:!0,showPageNumber:!0,text:r.name}},{id:"page-conclusion",pageNumber:5,type:"content",sections:[{id:"section-conclusion",type:"content",title:"Conclusions et prochaines tapes",content:d?`${e.summary.message}

**conomies potentielles identifies:** ${kt(e.statistics.potentialSavings,s)}

**Prochaines tapes recommandes:**
1. Transmettre ce rapport aux tablissements bancaires concerns
2. Ngocier le remboursement des frais injustifis
3. Revoir les conditions tarifaires avec les banques
4. Mettre en place un suivi rgulier des frais bancaires

Pour toute question concernant ce rapport, n'hsitez pas  contacter votre expert-comptable.`:`**Ce rapport est un modle de dmonstration.**

Ce document illustre le format et la prsentation des rapports d'audit bancaire Scrutix.

**Pour gnrer un vrai rapport:**
1. Rendez-vous sur la page d'import pour charger vos relevs bancaires
2. Configurez les conditions tarifaires dans la section Banques
3. Lancez une analyse depuis la page Analyses
4. Revenez ici pour gnrer votre rapport personnalis

Scrutix analyse automatiquement vos transactions et identifie les anomalies de facturation bancaire.`,visible:!0},{id:"section-signature",type:"content",title:"",content:`
---

Fait  _____________, le ${fr(a)}

Signature: _________________________

${t}
${n}
          `,visible:!0}],header:{show:!0,title:"Rapport d'Audit Bancaire - Scrutix"},footer:{show:!0,showPageNumber:!0,text:r.name}}];return{config:o,coverConfig:l,backCoverConfig:c,pages:_,comments:[],statistics:u,tables:[f,g],charts:[v,b]}}function W8e(){const r=Hh(),{currentAnalysis:e,analysisHistory:t}=jc(),{transactions:n}=Tc(),{claudeApi:i}=Ps(),{clients:s,statements:a,reports:o,addReport:l,deleteReport:c}=nl(),[u,d]=K.useState("statements"),[h,f]=K.useState("table"),[p,g]=K.useState(!1),[m,v]=K.useState(null),[y,b]=K.useState(null),[w,_]=K.useState(!1),[B,R]=K.useState(!1),[j,k]=K.useState({type:"audit",includeAI:!0}),L=C=>s.find(E=>E.id===C),H=C=>{const E=n.filter(M=>M.clientId===C.clientId&&new Date(M.date)>=new Date(C.periodStart)&&new Date(M.date)<=new Date(C.periodEnd)),F=[...e?[e]:[],...t||[]].flatMap(M=>M.anomalies).filter(M=>M.transactions.some(z=>z.clientId===C.clientId&&new Date(z.date)>=new Date(C.periodStart)&&new Date(z.date)<=new Date(C.periodEnd))),U=F.reduce((M,z)=>M+z.amount,0);return{transactions:E.length,anomalies:F.length,amount:U}},I=C=>o.filter(E=>E.clientId===C.clientId&&new Date(E.period.start).getTime()===new Date(C.periodStart).getTime()&&new Date(E.period.end).getTime()===new Date(C.periodEnd).getTime()),T=async C=>{const E=L(C.clientId);if(E){R(!0);try{const x=H(C),F={id:`report-${Date.now()}`,clientId:C.clientId,title:`Rapport ${j.type} - ${E.name}`,type:j.type,period:{start:new Date(C.periodStart),end:new Date(C.periodEnd)},anomalyCount:x.anomalies,totalAmount:x.amount,recoveredAmount:0,status:"final",generatedAt:new Date};l(F);const M=[...e?[e]:[],...t||[]].find(z=>z.anomalies.some(G=>G.transactions.some(Y=>Y.clientId===C.clientId)));if(M){const z={title:F.title,clientName:E.name,period:F.period,anomalies:M.anomalies.filter(G=>G.transactions.some(Y=>Y.clientId===C.clientId)),statistics:M.statistics,summary:M.summary,includeAIAnalysis:j.includeAI&&i.isEnabled,aiSummary:M.summary.message};Zje.downloadPDF(z)}_(!1),b(null)}catch(x){console.error("Erreur generation rapport:",x)}finally{R(!1)}}},P=C=>{const E=L(C.clientId);if(!E)return;const F=[...e?[e]:[],...t||[]].find(M=>M.anomalies.some(z=>z.transactions.some(G=>G.clientId===C.clientId)))||N(E),U=K8e({client:E,analysis:F,auditorName:"Expert-Comptable",auditorCompany:"Cabinet d'Expertise Comptable"});v(U),g(!0)},N=C=>{const E=new Date;return{id:"demo-analysis",status:"completed",startedAt:E,completedAt:E,anomalies:[],config:{dateRange:{start:new Date(E.getFullYear(),0,1),end:E},transactionIds:[],clientId:C.id,rules:[]},statistics:{totalTransactions:0,analyzedTransactions:0,totalAnomalies:0,totalAnomalyAmount:0,potentialSavings:0,anomaliesBySeverity:{[je.CRITICAL]:0,[je.HIGH]:0,[je.MEDIUM]:0,[je.LOW]:0},anomaliesByType:{}},summary:{status:"OK",message:"Aucune anomalie detectee.",keyFindings:[],recommendations:[]}}},S={imported:{label:"Importe",color:"bg-blue-100 text-blue-700",icon:Sh},analyzed:{label:"Analyse",color:"bg-green-100 text-green-700",icon:M0},archived:{label:"Archive",color:"bg-gray-100 text-gray-700",icon:AV}};return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Rapports"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Generez des rapports d'audit bancaire"})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex border-b border-primary-200",children:[A.jsxs("button",{onClick:()=>d("statements"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${u==="statements"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(Zr,{className:"w-4 h-4 inline mr-1.5"}),"Releves (",a.length,")"]}),A.jsxs("button",{onClick:()=>d("reports"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${u==="reports"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(M0,{className:"w-4 h-4 inline mr-1.5"}),"Rapports generes (",o.length,")"]})]}),A.jsxs("div",{className:"flex border border-primary-200 rounded-lg overflow-hidden",children:[A.jsx("button",{onClick:()=>f("table"),className:`p-2 transition-colors ${h==="table"?"bg-primary-900 text-white":"bg-white text-primary-500 hover:bg-primary-50"}`,title:"Vue tableau",children:A.jsx(R5,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>f("card"),className:`p-2 transition-colors ${h==="card"?"bg-primary-900 text-white":"bg-white text-primary-500 hover:bg-primary-50"}`,title:"Vue cartes",children:A.jsx(cT,{className:"w-4 h-4"})})]})]}),u==="statements"&&A.jsx(A.Fragment,{children:h==="table"?A.jsx(it,{className:"overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-200",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Client"}),A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Banque"}),A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Priode"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Oprations"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Anomalies"}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Montant"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Statut"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Rapports"}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:a.length===0?A.jsx("tr",{children:A.jsxs("td",{colSpan:9,className:"px-4 py-8 text-center",children:[A.jsx(Zr,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsxs("p",{className:"text-sm text-primary-500",children:["Aucun releve importe."," ",A.jsx("button",{onClick:()=>r("/import"),className:"text-primary-900 underline hover:text-primary-700",children:"Importer des releves"})]})]})}):a.map(C=>{const E=L(C.clientId),x=H(C),F=I(C),U=S[C.status].icon;return A.jsxs("tr",{className:"hover:bg-primary-50 transition-colors",children:[A.jsx("td",{className:"px-4 py-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-900 flex items-center justify-center flex-shrink-0",children:A.jsx(Ji,{className:"w-4 h-4 text-white"})}),A.jsx("span",{className:"text-sm font-medium text-primary-900",children:E?.name||"Client inconnu"})]})}),A.jsx("td",{className:"px-4 py-3",children:A.jsxs("div",{className:"flex items-center gap-1.5",children:[A.jsx(Xi,{className:"w-3.5 h-3.5 text-primary-400"}),A.jsx("span",{className:"text-sm text-primary-600",children:C.bankName})]})}),A.jsx("td",{className:"px-4 py-3",children:A.jsxs("div",{className:"flex items-center gap-1.5",children:[A.jsx(ph,{className:"w-3.5 h-3.5 text-primary-400"}),A.jsxs("span",{className:"text-xs text-primary-600",children:[fr(C.periodStart)," - ",fr(C.periodEnd)]})]})}),A.jsx("td",{className:"px-4 py-3 text-center",children:A.jsx("span",{className:"text-sm text-primary-600",children:x.transactions})}),A.jsx("td",{className:"px-4 py-3 text-center",children:x.anomalies>0?A.jsx(Ir,{variant:"warning",children:x.anomalies}):A.jsx("span",{className:"text-sm text-primary-400",children:"0"})}),A.jsx("td",{className:"px-4 py-3 text-right",children:A.jsx("span",{className:"text-sm font-medium text-green-600",children:kt(x.amount,"XAF")})}),A.jsx("td",{className:"px-4 py-3 text-center",children:A.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${S[C.status].color}`,children:[A.jsx(U,{className:"w-3 h-3"}),S[C.status].label]})}),A.jsx("td",{className:"px-4 py-3 text-center",children:F.length>0?A.jsx(Ir,{variant:"secondary",children:F.length}):A.jsx("span",{className:"text-sm text-primary-400",children:"-"})}),A.jsx("td",{className:"px-4 py-3",children:A.jsxs("div",{className:"flex items-center justify-end gap-1",children:[A.jsx("button",{onClick:()=>P(C),className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Voir le rapport",children:A.jsx(ps,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>{b(C),_(!0)},className:"p-1.5 hover:bg-blue-50 rounded text-primary-500 hover:text-blue-600",title:"Generer un rapport",children:A.jsx(Kw,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>r(`/clients/${C.clientId}`),className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Voir le client",children:A.jsx(Im,{className:"w-4 h-4"})})]})})]},C.id)})})]})})}):a.length===0?A.jsxs(it,{className:"p-8 text-center",children:[A.jsx(Zr,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsxs("p",{className:"text-sm text-primary-500",children:["Aucun releve importe."," ",A.jsx("button",{onClick:()=>r("/import"),className:"text-primary-900 underline hover:text-primary-700",children:"Importer des releves"})]})]}):A.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:a.map(C=>{const E=L(C.clientId),x=H(C),F=I(C),U=S[C.status].icon;return A.jsxs(it,{className:"p-3 hover:border-primary-300 transition-colors",children:[A.jsxs("div",{className:"flex items-start justify-between mb-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-900 flex items-center justify-center",children:A.jsx(Ji,{className:"w-4 h-4 text-white"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-sm font-semibold text-primary-900",children:E?.name||"Client inconnu"}),A.jsx("p",{className:"text-xs text-primary-500",children:C.bankName})]})]}),A.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${S[C.status].color}`,children:[A.jsx(U,{className:"w-3 h-3"}),S[C.status].label]})]}),A.jsxs("div",{className:"text-xs text-primary-500 mb-3 flex items-center gap-1",children:[A.jsx(ph,{className:"w-3 h-3"}),fr(C.periodStart)," - ",fr(C.periodEnd)]}),A.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[A.jsxs("div",{className:"text-center p-2 bg-primary-50 rounded",children:[A.jsx("p",{className:"text-lg font-bold text-primary-900",children:x.transactions}),A.jsx("p",{className:"text-xs text-primary-500",children:"Tx"})]}),A.jsxs("div",{className:"text-center p-2 bg-amber-50 rounded",children:[A.jsx("p",{className:"text-lg font-bold text-amber-600",children:x.anomalies}),A.jsx("p",{className:"text-xs text-primary-500",children:"Anom."})]}),A.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[A.jsx("p",{className:"text-sm font-bold text-green-600",children:kt(x.amount,"XAF")}),A.jsx("p",{className:"text-xs text-primary-500",children:"Montant"})]})]}),F.length>0&&A.jsxs("div",{className:"mb-3 p-2 bg-blue-50 rounded flex items-center justify-between",children:[A.jsxs("span",{className:"text-xs text-blue-700",children:[F.length," rapport(s) genere(s)"]}),A.jsx(M0,{className:"w-4 h-4 text-blue-600"})]}),A.jsxs("div",{className:"flex gap-2 pt-2 border-t border-primary-100",children:[A.jsxs(Ye,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>P(C),children:[A.jsx(ps,{className:"w-3 h-3 mr-1"}),"Voir"]}),A.jsxs(Ye,{size:"sm",className:"flex-1",onClick:()=>{b(C),_(!0)},children:[A.jsx(Kw,{className:"w-3 h-3 mr-1"}),"Generer"]})]})]},C.id)})})}),u==="reports"&&A.jsx(A.Fragment,{children:h==="table"?A.jsx(it,{className:"overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-200",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Titre"}),A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Client"}),A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Type"}),A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Priode"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Anomalies"}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Montant"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Statut"}),A.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Cr le"}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-primary-600 uppercase",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:o.length===0?A.jsx("tr",{children:A.jsxs("td",{colSpan:9,className:"px-4 py-8 text-center",children:[A.jsx(M0,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Aucun rapport genere"}),A.jsx("p",{className:"text-xs text-primary-400 mt-1",children:"Generez des rapports depuis l'onglet Releves"})]})}):o.map(C=>{const E=L(C.clientId),x={audit:"Audit complet",summary:"Synthetique",detailed:"Detaille",recovery:"Recouvrement"},F={draft:{label:"Brouillon",color:"bg-gray-100 text-gray-700"},final:{label:"Final",color:"bg-green-100 text-green-700"},sent:{label:"Envoye",color:"bg-blue-100 text-blue-700"}};return A.jsxs("tr",{className:"hover:bg-primary-50 transition-colors",children:[A.jsx("td",{className:"px-4 py-3",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Zr,{className:"w-4 h-4 text-red-500"}),A.jsx("span",{className:"text-sm font-medium text-primary-900",children:C.title})]})}),A.jsx("td",{className:"px-4 py-3",children:A.jsx("span",{className:"text-sm text-primary-600",children:E?.name||"Client inconnu"})}),A.jsx("td",{className:"px-4 py-3",children:A.jsx("span",{className:"text-xs text-primary-500",children:x[C.type]})}),A.jsx("td",{className:"px-4 py-3",children:A.jsxs("span",{className:"text-xs text-primary-600",children:[fr(C.period.start)," - ",fr(C.period.end)]})}),A.jsx("td",{className:"px-4 py-3 text-center",children:A.jsx(Ir,{variant:"secondary",children:C.anomalyCount})}),A.jsx("td",{className:"px-4 py-3 text-right",children:A.jsx("span",{className:"text-sm font-medium text-green-600",children:kt(C.totalAmount,"XAF")})}),A.jsx("td",{className:"px-4 py-3 text-center",children:A.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${F[C.status].color}`,children:F[C.status].label})}),A.jsx("td",{className:"px-4 py-3",children:A.jsx("span",{className:"text-xs text-primary-500",children:fr(C.generatedAt)})}),A.jsx("td",{className:"px-4 py-3",children:A.jsxs("div",{className:"flex items-center justify-end gap-1",children:[A.jsx("button",{onClick:()=>{const U=a.find(M=>M.clientId===C.clientId&&new Date(M.periodStart).getTime()===new Date(C.period.start).getTime());U&&P(U)},className:"p-1.5 hover:bg-primary-100 rounded text-primary-500 hover:text-primary-700",title:"Voir le rapport",children:A.jsx(ps,{className:"w-4 h-4"})}),A.jsx("button",{onClick:()=>c(C.id),className:"p-1.5 hover:bg-red-50 rounded text-primary-500 hover:text-red-600",title:"Supprimer",children:A.jsx(Ds,{className:"w-4 h-4"})})]})})]},C.id)})})]})})}):o.length===0?A.jsxs(it,{className:"p-8 text-center",children:[A.jsx(M0,{className:"w-8 h-8 text-primary-300 mx-auto mb-2"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Aucun rapport genere"}),A.jsx("p",{className:"text-xs text-primary-400 mt-1",children:"Generez des rapports depuis l'onglet Releves"})]}):A.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:o.map(C=>{const E=L(C.clientId),x={audit:"Audit complet",summary:"Synthetique",detailed:"Detaille",recovery:"Recouvrement"};return A.jsxs(it,{className:"p-3 hover:border-primary-300 transition-colors",children:[A.jsx("div",{className:"flex items-start justify-between mb-2",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:A.jsx(Zr,{className:"w-4 h-4 text-red-600"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-sm font-semibold text-primary-900 line-clamp-1",children:C.title}),A.jsx("p",{className:"text-xs text-primary-500",children:E?.name})]})]})}),A.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-xs",children:[A.jsxs("div",{className:"flex items-center gap-1 text-primary-500",children:[A.jsx(ph,{className:"w-3 h-3"}),fr(C.generatedAt)]}),A.jsx("div",{className:"text-right",children:A.jsx(Ir,{variant:"secondary",children:x[C.type]})})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[A.jsxs("div",{className:"p-2 bg-primary-50 rounded text-center",children:[A.jsx("p",{className:"text-lg font-bold text-primary-900",children:C.anomalyCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Anomalies"})]}),A.jsxs("div",{className:"p-2 bg-green-50 rounded text-center",children:[A.jsx("p",{className:"text-sm font-bold text-green-600",children:kt(C.totalAmount,"XAF")}),A.jsx("p",{className:"text-xs text-primary-500",children:"Montant"})]})]}),A.jsxs("div",{className:"flex gap-2 pt-2 border-t border-primary-100",children:[A.jsxs(Ye,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>{const F=a.find(U=>U.clientId===C.clientId&&new Date(U.periodStart).getTime()===new Date(C.period.start).getTime());F&&P(F)},children:[A.jsx(ps,{className:"w-3 h-3 mr-1"}),"Voir"]}),A.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>c(C.id),children:A.jsx(Ds,{className:"w-3 h-3"})})]})]},C.id)})})}),A.jsx(ld,{isOpen:w,onClose:()=>{_(!1),b(null)},title:"Generer un rapport",children:y&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx(Ji,{className:"w-4 h-4 text-primary-500"}),A.jsx("span",{className:"font-medium",children:L(y.clientId)?.name})]}),A.jsxs("div",{className:"text-sm text-primary-600",children:[y.bankName,"  ",fr(y.periodStart)," - ",fr(y.periodEnd)]})]}),A.jsx(Tn,{label:"Type de rapport",value:j.type,onChange:C=>k({...j,type:C.target.value}),options:[{value:"audit",label:"Rapport d'audit complet"},{value:"summary",label:"Rapport synthetique"},{value:"detailed",label:"Rapport detaille"},{value:"recovery",label:"Rapport de recouvrement"}]}),i.isEnabled&&A.jsxs("label",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:j.includeAI,onChange:C=>k({...j,includeAI:C.target.checked}),className:"w-4 h-4"}),A.jsx(Ku,{className:"w-4 h-4 text-purple-600"}),A.jsx("span",{className:"text-sm text-purple-700",children:"Inclure l'analyse IA"})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[A.jsx(Ye,{variant:"ghost",onClick:()=>_(!1),children:"Annuler"}),A.jsxs(Ye,{onClick:()=>T(y),disabled:B,children:[B?A.jsx(Vl,{className:"w-4 h-4 animate-spin mr-1"}):A.jsx(Mc,{className:"w-4 h-4 mr-1"}),"Generer et telecharger"]})]})]})}),p&&m&&A.jsx(V8e,{report:m,onClose:()=>g(!1)})]})}const q8e=Object.freeze(Object.defineProperty({__proto__:null,ReportsPage:W8e},Symbol.toStringTag,{value:"Module"}));function X8e(){const{invoices:r,addInvoice:e,getMonthlyStats:t,generateInvoiceNumber:n}=Qg(),{clients:i}=nl(),{analysisHistory:s=[],currentAnalysis:a}=jc(),[o,l]=K.useState("dashboard"),[c,u]=K.useState(""),[d,h]=K.useState("all"),[f,p]=K.useState(!1),[g,m]=K.useState(""),[v,y]=K.useState(null),b=new Date;t(b.getFullYear(),b.getMonth());const w=K.useMemo(()=>{const k=[...a?.anomalies||[],...(s||[]).flatMap(V=>V.anomalies)],L=r.reduce((V,J)=>V+J.total,0),H=r.filter(V=>V.status==="paid").reduce((V,J)=>V+J.total,0),I=r.filter(V=>V.status==="sent").reduce((V,J)=>V+J.total,0),T=r.filter(V=>V.status==="overdue").reduce((V,J)=>V+J.total,0),P=r.filter(V=>V.status==="draft").reduce((V,J)=>V+J.total,0),N=L>0?Math.round(H/L*100):0,S=r.filter(V=>V.status==="paid"&&V.paidAt),C=S.length>0?Math.round(S.reduce((V,J)=>{const re=new Date(J.dateEmission).getTime(),ne=new Date(J.paidAt).getTime();return V+(ne-re)/(1e3*60*60*24)},0)/S.length):30,E={current:0,days30:0,days60:0,days90:0};r.filter(V=>V.status==="sent"||V.status==="overdue").forEach(V=>{const J=Math.floor((b.getTime()-new Date(V.dateEmission).getTime())/864e5);J<=30?E.current+=V.total:J<=60?E.days30+=V.total:J<=90?E.days60+=V.total:E.days90+=V.total});const F={};r.forEach(V=>{F[V.clientId]||(F[V.clientId]={name:V.clientName,total:0,paid:0,count:0}),F[V.clientId].total+=V.total,F[V.clientId].count+=1,V.status==="paid"&&(F[V.clientId].paid+=V.total)});const U=Object.values(F).sort((V,J)=>J.total-V.total).slice(0,5),M=[];for(let V=5;V>=0;V--){const J=new Date(b.getFullYear(),b.getMonth()-V,1),re=new Date(b.getFullYear(),b.getMonth()-V+1,0),ne=r.filter(ie=>{const he=new Date(ie.dateEmission);return he>=J&&he<=re}),se=ne.reduce((ie,he)=>ie+he.total,0),ee=ne.filter(ie=>ie.status==="paid").reduce((ie,he)=>ie+he.total,0),de=ne.reduce((ie,he)=>ie+he.lignes.filter(le=>le.type==="commission").reduce((le,be)=>le+be.montant,0),0);M.push({month:J.toLocaleDateString("fr-FR",{month:"short"}),invoiced:se,paid:ee,commissions:de,count:ne.length})}const z={forfait:0,commission:0,service:0};r.forEach(V=>{V.lignes.forEach(J=>{J.type==="forfait"?z.forfait+=J.montant:J.type==="commission"?z.commission+=J.montant:z.service+=J.montant})});const G={};k.filter(V=>V.status==="confirmed").forEach(V=>{const J=Wa[V.type]||V.type;G[J]=(G[J]||0)+V.amount*.2});const Y=Object.entries(G).sort((V,J)=>J[1]-V[1]).slice(0,5).map(([V,J])=>({type:V,amount:J})),Q=M[4]?.invoiced||0,q=M[5]?.invoiced||0,D=Q>0?Math.round((q-Q)/Q*100):0,O={total:r.length,paid:r.filter(V=>V.status==="paid").length,sent:r.filter(V=>V.status==="sent").length,overdue:r.filter(V=>V.status==="overdue").length,draft:r.filter(V=>V.status==="draft").length};return{totalInvoiced:L,totalPaid:H,totalPending:I,totalOverdue:T,totalDraft:P,paymentRate:N,avgDSO:C,aging:E,topClients:U,monthlyEvolution:M,revenueByType:z,topCommissionTypes:Y,growth:D,invoiceStats:O}},[r,a,s]),_=r.filter(k=>{const L=k.numero.toLowerCase().includes(c.toLowerCase())||k.clientName.toLowerCase().includes(c.toLowerCase()),H=d==="all"||k.status===d;return L&&H}),B={primary:"#171717",success:"#22c55e",info:"#3b82f6"},R=k=>{switch(k){case"paid":return A.jsxs(Ir,{variant:"success",children:[A.jsx(ba,{className:"w-3 h-3 mr-1"}),"Payee"]});case"sent":return A.jsxs(Ir,{variant:"warning",children:[A.jsx(Sh,{className:"w-3 h-3 mr-1"}),"Envoyee"]});case"overdue":return A.jsxs(Ir,{variant:"error",children:[A.jsx(Gu,{className:"w-3 h-3 mr-1"}),"En retard"]});case"draft":return A.jsx(Ir,{variant:"secondary",children:"Brouillon"});default:return A.jsx(Ir,{variant:"secondary",children:k})}},j=k=>{const L=new rr,H=L.internal.pageSize.getWidth();L.setFillColor(23,23,23),L.rect(0,0,H,40,"F"),L.setTextColor(255,255,255),L.setFontSize(24),L.setFont("helvetica","bold"),L.text("FACTURE",20,25),L.setFontSize(12),L.setFont("helvetica","normal"),L.text(`N ${k.numero}`,H-20,20,{align:"right"}),L.text(`Date: ${fr(k.dateEmission)}`,H-20,28,{align:"right"}),L.setTextColor(23,23,23),L.setFontSize(10),L.text("Cabinet d'Expertise Comptable",20,55),L.text("Audit & Conseil",20,62),L.text("CEMAC / UEMOA",20,69),L.setFont("helvetica","bold"),L.text("FACTURE A:",H-80,55),L.setFont("helvetica","normal"),L.text(k.clientName,H-80,62),L.text(`Periode: ${fr(k.periode.start)} - ${fr(k.periode.end)}`,H-80,69);const I=k.lignes.map(P=>[P.description,P.quantite.toString(),kt(P.prixUnitaire,"XAF"),kt(P.montant,"XAF")]);L.autoTable({startY:85,head:[["Description","Qte","Prix unitaire","Montant"]],body:I,theme:"striped",headStyles:{fillColor:[23,23,23],textColor:[255,255,255],fontStyle:"bold"},styles:{fontSize:10,cellPadding:5},columnStyles:{0:{cellWidth:80},1:{cellWidth:20,halign:"center"},2:{cellWidth:40,halign:"right"},3:{cellWidth:40,halign:"right"}}});const T=L.lastAutoTable.finalY+10;L.setFontSize(10),L.text("Sous-total:",H-70,T),L.text(kt(k.sousTotal,"XAF"),H-20,T,{align:"right"}),L.text(`TVA (${(k.tauxTva*100).toFixed(2)}%):`,H-70,T+8),L.text(kt(k.tva,"XAF"),H-20,T+8,{align:"right"}),L.setFillColor(23,23,23),L.rect(H-90,T+12,70,12,"F"),L.setTextColor(255,255,255),L.setFont("helvetica","bold"),L.setFontSize(12),L.text("TOTAL:",H-85,T+20),L.text(kt(k.total,"XAF"),H-22,T+20,{align:"right"}),L.setTextColor(23,23,23),L.setFont("helvetica","normal"),L.setFontSize(10),L.text(`Date d'echeance: ${fr(k.dateEcheance)}`,20,T+35),k.status==="paid"&&(L.setTextColor(34,197,94),L.setFont("helvetica","bold"),L.setFontSize(14),L.text("PAYEE",H/2,T+50,{align:"center"})),L.setTextColor(115,115,115),L.setFontSize(8),L.setFont("helvetica","normal"),L.text("Merci pour votre confiance.",H/2,280,{align:"center"}),L.text("Scrutix - Solution d'audit bancaire - Developpe par Atlas Studio",H/2,286,{align:"center"}),L.save(`Facture_${k.numero}.pdf`)};return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-xl font-bold text-primary-900",children:"Facturation"}),A.jsx("p",{className:"text-sm text-primary-500",children:"Gerez les honoraires et factures du cabinet"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:()=>l("calculator"),children:[A.jsx(Vw,{className:"w-3 h-3 mr-1"}),"Calculer honoraires"]}),A.jsxs(Ye,{size:"sm",onClick:()=>p(!0),children:[A.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Nouvelle facture"]})]})]}),A.jsx("div",{className:"border-b border-primary-200",children:A.jsx("nav",{className:"flex gap-0.5",children:[{id:"dashboard",label:"Tableau de bord",icon:Ka},{id:"invoices",label:"Factures",icon:$p,count:r.length},{id:"calculator",label:"Calculateur",icon:Vw}].map(k=>A.jsxs("button",{onClick:()=>l(k.id),className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium border-b-2 transition-colors ${o===k.id?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(k.icon,{className:"w-3.5 h-3.5"}),k.label,k.count!==void 0&&A.jsx(Ir,{variant:"secondary",className:"ml-1 text-xs",children:k.count})]},k.id))})}),o==="dashboard"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[A.jsx(it,{className:"p-3 bg-gradient-to-br from-primary-900 to-primary-800 text-white",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-300",children:"Chiffre d'affaires"}),A.jsx("p",{className:"text-xl font-bold mt-0.5",children:kt(w.totalInvoiced,"XAF")}),A.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[w.growth>=0?A.jsx(gV,{className:"w-3 h-3 text-green-400"}):A.jsx(pV,{className:"w-3 h-3 text-red-400"}),A.jsxs("span",{className:`text-xs ${w.growth>=0?"text-green-400":"text-red-400"}`,children:[w.growth>=0?"+":"",w.growth,"% ce mois"]})]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center",children:A.jsx(nT,{className:"w-5 h-5"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"Encaisse"}),A.jsx("p",{className:"text-xl font-bold text-green-600 mt-0.5",children:kt(w.totalPaid,"XAF")}),A.jsxs("p",{className:"text-xs text-primary-400 mt-1",children:[w.paymentRate,"% du total facture"]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:A.jsx(dT,{className:"w-5 h-5 text-green-600"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"En attente"}),A.jsx("p",{className:"text-xl font-bold text-amber-600 mt-0.5",children:kt(w.totalPending,"XAF")}),A.jsxs("p",{className:"text-xs text-primary-400 mt-1",children:[w.invoiceStats.sent," facture",w.invoiceStats.sent>1?"s":""]})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 flex items-center justify-center",children:A.jsx(Sh,{className:"w-5 h-5 text-amber-600"})})]})}),A.jsx(it,{className:"p-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500",children:"DSO moyen"}),A.jsxs("p",{className:"text-xl font-bold text-blue-600 mt-0.5",children:[w.avgDSO," jours"]}),A.jsx("p",{className:"text-xs text-primary-400 mt-1",children:"Delai moyen de paiement"})]}),A.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:A.jsx(MV,{className:"w-5 h-5 text-blue-600"})})]})})]}),w.totalOverdue>0&&A.jsx(it,{className:"p-3 bg-red-50 border-red-200",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:A.jsx(As,{className:"w-4 h-4 text-red-600"})}),A.jsxs("div",{children:[A.jsxs("p",{className:"text-sm font-semibold text-red-800",children:[kt(w.totalOverdue,"XAF")," en retard de paiement"]}),A.jsxs("p",{className:"text-xs text-red-600",children:[w.invoiceStats.overdue," facture",w.invoiceStats.overdue>1?"s":""," a relancer"]})]})]}),A.jsx(Ye,{variant:"primary",size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>l("invoices"),children:"Voir les factures"})]})}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[A.jsxs(it,{className:"p-3 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:w.invoiceStats.total}),A.jsx("p",{className:"text-xs text-primary-500",children:"Factures totales"})]}),A.jsxs(it,{className:"p-3 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.invoiceStats.paid}),A.jsx("p",{className:"text-xs text-primary-500",children:"Payees"})]}),A.jsxs(it,{className:"p-3 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-amber-600",children:w.invoiceStats.sent}),A.jsx("p",{className:"text-xs text-primary-500",children:"En attente"})]}),A.jsxs(it,{className:"p-3 text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.invoiceStats.overdue}),A.jsx("p",{className:"text-xs text-primary-500",children:"En retard"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Evolution du chiffre d'affaires"})}),A.jsx(Ht,{children:A.jsx("div",{style:{width:"100%",height:192},children:A.jsx(Pl,{width:"100%",height:"100%",minWidth:100,minHeight:100,debounce:50,children:A.jsxs(VEe,{data:w.monthlyEvolution,children:[A.jsx("defs",{children:A.jsxs("linearGradient",{id:"colorInvoiced",x1:"0",y1:"0",x2:"0",y2:"1",children:[A.jsx("stop",{offset:"5%",stopColor:B.primary,stopOpacity:.3}),A.jsx("stop",{offset:"95%",stopColor:B.primary,stopOpacity:0})]})}),A.jsx(gh,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),A.jsx(vh,{dataKey:"month",stroke:"#737373",fontSize:12}),A.jsx(Ic,{stroke:"#737373",fontSize:12,tickFormatter:k=>`${k/1e6}M`}),A.jsx(Rl,{formatter:k=>kt(k,"XAF"),contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e5e5",borderRadius:"8px"}}),A.jsx(Sc,{}),A.jsx(jh,{type:"monotone",dataKey:"invoiced",stroke:B.primary,fill:"url(#colorInvoiced)",name:"Facture"}),A.jsx(x8,{dataKey:"paid",fill:B.success,name:"Encaisse",radius:[4,4,0,0]}),A.jsx(Qy,{type:"monotone",dataKey:"commissions",stroke:B.info,strokeWidth:2,dot:{fill:B.info},name:"Commissions"})]})})})})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Repartition des revenus"})}),A.jsx(Ht,{children:A.jsxs("div",{style:{height:192},className:"flex items-center",children:[A.jsx("div",{className:"w-1/2",children:A.jsx(Pl,{width:"100%",height:160,minWidth:100,minHeight:100,debounce:50,children:A.jsxs(XC,{children:[A.jsxs(Dy,{data:[{name:"Forfaits",value:w.revenueByType.forfait},{name:"Commissions",value:w.revenueByType.commission},{name:"Services",value:w.revenueByType.service}],cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",children:[A.jsx(Ql,{fill:B.primary}),A.jsx(Ql,{fill:B.info}),A.jsx(Ql,{fill:B.success})]}),A.jsx(Rl,{formatter:k=>kt(k,"XAF")})]})})}),A.jsxs("div",{className:"w-1/2 space-y-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary-900"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-xs font-medium",children:"Forfaits"}),A.jsx("p",{className:"text-sm font-bold",children:kt(w.revenueByType.forfait,"XAF")})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-xs font-medium",children:"Commissions"}),A.jsx("p",{className:"text-sm font-bold",children:kt(w.revenueByType.commission,"XAF")})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-xs font-medium",children:"Services"}),A.jsx("p",{className:"text-sm font-bold",children:kt(w.revenueByType.service,"XAF")})]})]})]})]})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Anciennete des creances"})}),A.jsx(Ht,{children:A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-1",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"0-30 jours"}),A.jsx("span",{className:"text-sm font-bold text-green-600",children:kt(w.aging.current,"XAF")})]}),A.jsx("div",{className:"h-2 bg-primary-100 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${w.aging.current/(w.totalPending+w.totalOverdue||1)*100}%`}})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-1",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"31-60 jours"}),A.jsx("span",{className:"text-sm font-bold text-yellow-600",children:kt(w.aging.days30,"XAF")})]}),A.jsx("div",{className:"h-2 bg-primary-100 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:`${w.aging.days30/(w.totalPending+w.totalOverdue||1)*100}%`}})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-1",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"61-90 jours"}),A.jsx("span",{className:"text-sm font-bold text-orange-600",children:kt(w.aging.days60,"XAF")})]}),A.jsx("div",{className:"h-2 bg-primary-100 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${w.aging.days60/(w.totalPending+w.totalOverdue||1)*100}%`}})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-1",children:[A.jsx("span",{className:"text-sm text-primary-600",children:"90+ jours"}),A.jsx("span",{className:"text-sm font-bold text-red-600",children:kt(w.aging.days90,"XAF")})]}),A.jsx("div",{className:"h-2 bg-primary-100 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${w.aging.days90/(w.totalPending+w.totalOverdue||1)*100}%`}})})]})]})})]}),A.jsxs(it,{className:"lg:col-span-2",children:[A.jsx(or,{children:A.jsx(lr,{children:"Top clients par chiffre d'affaires"})}),A.jsx(Ht,{className:"p-0",children:A.jsx("div",{className:"divide-y divide-primary-100",children:w.topClients.length>0?w.topClients.map((k,L)=>A.jsxs("div",{className:"px-4 py-2 flex items-center gap-3",children:[A.jsx("div",{className:"w-6 h-6 rounded bg-primary-900 flex items-center justify-center text-white font-bold text-xs",children:L+1}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-sm font-medium text-primary-900",children:k.name}),A.jsxs("p",{className:"text-xs text-primary-500",children:[k.count," factures"]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-sm font-bold text-primary-900",children:kt(k.total,"XAF")}),A.jsxs("p",{className:"text-xs text-green-600",children:[kt(k.paid,"XAF")," encaisse"]})]})]},L)):A.jsx("div",{className:"px-4 py-6 text-center text-primary-500 text-sm",children:"Aucune facture emise"})})})]})]}),w.topCommissionTypes.length>0&&A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Commissions par type d'anomalie"})}),A.jsx(Ht,{children:A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:w.topCommissionTypes.map((k,L)=>A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[A.jsx("p",{className:"text-xs text-primary-500 truncate",children:k.type}),A.jsx("p",{className:"text-sm font-bold text-primary-900 mt-0.5",children:kt(k.amount,"XAF")})]},L))})})]})]}),o==="invoices"&&A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[A.jsxs("div",{className:"relative flex-1 max-w-md",children:[A.jsx(So,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-primary-400"}),A.jsx(er,{type:"text",placeholder:"Rechercher une facture...",value:c,onChange:k=>u(k.target.value),className:"pl-10"})]}),A.jsxs(Tn,{value:d,onChange:k=>h(k.target.value),children:[A.jsx("option",{value:"all",children:"Tous les statuts"}),A.jsx("option",{value:"draft",children:"Brouillon"}),A.jsx("option",{value:"sent",children:"Envoyee"}),A.jsx("option",{value:"paid",children:"Payee"}),A.jsx("option",{value:"overdue",children:"En retard"})]})]}),A.jsx(it,{children:A.jsxs(Ht,{className:"p-0",children:[A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50 border-b border-primary-200",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Numero"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Client"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Date"}),A.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Montant"}),A.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Statut"}),A.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-primary-500 uppercase",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:_.map(k=>A.jsxs("tr",{className:"hover:bg-primary-50",children:[A.jsx("td",{className:"px-6 py-4 font-medium text-primary-900",children:k.numero}),A.jsx("td",{className:"px-6 py-4 text-primary-700",children:k.clientName}),A.jsx("td",{className:"px-6 py-4 text-sm text-primary-600",children:fr(k.dateEmission)}),A.jsx("td",{className:"px-6 py-4 text-right font-medium text-primary-900",children:kt(k.total,"XAF")}),A.jsx("td",{className:"px-6 py-4",children:R(k.status)}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center justify-end gap-2",children:[A.jsx("button",{className:"p-2 hover:bg-primary-100 rounded-lg text-primary-600",onClick:()=>y(k),title:"Voir la facture",children:A.jsx(ps,{className:"w-4 h-4"})}),A.jsx("button",{className:"p-2 hover:bg-primary-100 rounded-lg text-primary-600",onClick:()=>j(k),title:"Telecharger PDF",children:A.jsx(Mc,{className:"w-4 h-4"})}),k.status!=="paid"&&A.jsx("button",{className:"p-2 hover:bg-primary-100 rounded-lg text-primary-600",title:"Envoyer par email",children:A.jsx(fm,{className:"w-4 h-4"})})]})})]},k.id))})]}),_.length===0&&A.jsxs("div",{className:"p-8 text-center",children:[A.jsx($p,{className:"w-10 h-10 text-primary-300 mx-auto mb-3"}),A.jsx("h3",{className:"font-medium text-primary-900 mb-1",children:"Aucune facture"}),A.jsx("p",{className:"text-sm text-primary-500 mb-4",children:"Creez votre premiere facture"}),A.jsxs(Ye,{size:"sm",onClick:()=>p(!0),children:[A.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Nouvelle facture"]})]})]})})]}),o==="calculator"&&A.jsx("div",{className:"max-w-2xl",children:A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Calculateur d'honoraires"})}),A.jsx(Ht,{children:A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Selectionner un client"}),A.jsxs(Tn,{value:g,onChange:k=>m(k.target.value),children:[A.jsx("option",{value:"",children:"Choisir un client"}),i.map(k=>A.jsx("option",{value:k.id,children:k.name},k.id))]})]}),g&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"border-t border-primary-200 pt-4",children:[A.jsx("h4",{className:"font-medium text-primary-900 mb-3",children:"Configuration des honoraires"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Forfait mensuel"}),A.jsx(er,{type:"number",placeholder:"50000"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Commission succes (%)"}),A.jsx(er,{type:"number",placeholder:"20"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Seuil minimum"}),A.jsx(er,{type:"number",placeholder:"100000"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-primary-600 mb-1",children:"Periode"}),A.jsxs(Tn,{children:[A.jsx("option",{children:"Janvier 2024"}),A.jsx("option",{children:"Fevrier 2024"}),A.jsx("option",{children:"Mars 2024"})]})]})]})]}),A.jsxs("div",{className:"border-t border-primary-200 pt-4",children:[A.jsx("h4",{className:"font-medium text-primary-900 mb-3",children:"Calcul des honoraires"}),A.jsxs("div",{className:"space-y-2 bg-primary-50 rounded-lg p-3",children:[A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{className:"text-primary-600",children:"Forfait mensuel"}),A.jsx("span",{className:"font-medium",children:kt(5e4,"XAF")})]}),A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{className:"text-primary-600",children:"Economies realisees"}),A.jsx("span",{className:"font-medium",children:kt(625e3,"XAF")})]}),A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{className:"text-primary-600",children:"Commission (20%)"}),A.jsx("span",{className:"font-medium",children:kt(125e3,"XAF")})]}),A.jsxs("div",{className:"border-t border-primary-300 pt-2 flex justify-between",children:[A.jsx("span",{className:"font-bold text-primary-900",children:"Total a facturer"}),A.jsx("span",{className:"font-bold text-primary-900 text-lg",children:kt(175e3,"XAF")})]})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Ye,{variant:"secondary",size:"sm",className:"flex-1",children:"Modifier"}),A.jsx(Ye,{size:"sm",className:"flex-1",children:"Generer la facture"})]})]})]})})]})}),A.jsx(Y8e,{isOpen:f,onClose:()=>p(!1),clients:i,onSave:k=>{e(k),p(!1)},generateNumber:n}),A.jsx(J8e,{invoice:v,onClose:()=>y(null),onDownload:j,getStatusBadge:R})]})}function Y8e({isOpen:r,onClose:e,clients:t,onSave:n,generateNumber:i}){const[s,a]=K.useState(""),[o,l]=K.useState([{description:"Forfait mensuel audit",quantite:1,prixUnitaire:5e4,montant:5e4,type:"forfait"}]),c=u=>{u.preventDefault();const d=t.find(g=>g.id===s);if(!d)return;const h=o.reduce((g,m)=>g+m.montant,0),f=.1925,p=h*f;n({numero:i(),clientId:s,clientName:d.name,periode:{start:new Date,end:new Date},lignes:o,sousTotal:h,tva:p,tauxTva:f,total:h+p,status:"draft",dateEmission:new Date,dateEcheance:new Date(Date.now()+30*24*60*60*1e3)})};return A.jsx(ld,{isOpen:r,onClose:e,title:"Nouvelle facture",className:"max-w-2xl",children:A.jsxs("form",{onSubmit:c,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1",children:"Client *"}),A.jsxs(Tn,{value:s,onChange:u=>a(u.target.value),required:!0,children:[A.jsx("option",{value:"",children:"Selectionner un client"}),t.map(u=>A.jsx("option",{value:u.id,children:u.name},u.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:"Lignes de facture"}),A.jsx("div",{className:"space-y-2",children:o.map((u,d)=>A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx(er,{value:u.description,onChange:h=>{const f=[...o];f[d].description=h.target.value,l(f)},placeholder:"Description",className:"flex-1"}),A.jsx(er,{type:"number",value:u.prixUnitaire,onChange:h=>{const f=[...o];f[d].prixUnitaire=Number(h.target.value),f[d].montant=f[d].quantite*f[d].prixUnitaire,l(f)},className:"w-32"}),A.jsx("button",{type:"button",onClick:()=>l(o.filter((h,f)=>f!==d)),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:A.jsx(Ds,{className:"w-4 h-4"})})]},d))}),A.jsxs(Ye,{type:"button",variant:"ghost",size:"sm",className:"mt-2",onClick:()=>l([...o,{description:"",quantite:1,prixUnitaire:0,montant:0,type:"service"}]),children:[A.jsx(Yn,{className:"w-4 h-4 mr-1"}),"Ajouter une ligne"]})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-primary-200",children:[A.jsx(Ye,{type:"button",variant:"ghost",onClick:e,children:"Annuler"}),A.jsx(Ye,{type:"submit",children:"Creer la facture"})]})]})})}function J8e({invoice:r,onClose:e,onDownload:t,getStatusBadge:n}){return r?A.jsx(ld,{isOpen:!!r,onClose:e,title:`Facture ${r.numero}`,size:"lg",children:A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-start justify-between p-4 bg-primary-900 text-white rounded-lg",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold",children:"FACTURE"}),A.jsxs("p",{className:"text-primary-300 mt-1",children:["N ",r.numero]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-sm text-primary-300",children:"Date d'emission"}),A.jsx("p",{className:"font-medium",children:fr(r.dateEmission)})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase font-medium mb-1",children:"Cabinet"}),A.jsx("p",{className:"font-medium text-primary-900",children:"Cabinet d'Expertise Comptable"}),A.jsx("p",{className:"text-sm text-primary-600",children:"Audit & Conseil"}),A.jsx("p",{className:"text-sm text-primary-600",children:"CEMAC / UEMOA"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-primary-500 uppercase font-medium mb-1",children:"Facture a"}),A.jsx("p",{className:"font-medium text-primary-900",children:r.clientName}),A.jsxs("p",{className:"text-sm text-primary-600",children:["Periode: ",fr(r.periode.start)," - ",fr(r.periode.end)]})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"text-sm text-primary-500",children:"Statut:"}),n(r.status),r.status!=="paid"&&A.jsxs("span",{className:"text-sm text-primary-500 ml-4",children:[A.jsx(ph,{className:"w-4 h-4 inline mr-1"}),"Echeance: ",fr(r.dateEcheance)]})]}),A.jsx("div",{className:"border border-primary-200 rounded-lg overflow-hidden",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-primary-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"text-left px-4 py-3 text-xs font-medium text-primary-500 uppercase",children:"Description"}),A.jsx("th",{className:"text-center px-4 py-3 text-xs font-medium text-primary-500 uppercase",children:"Qte"}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-medium text-primary-500 uppercase",children:"Prix unit."}),A.jsx("th",{className:"text-right px-4 py-3 text-xs font-medium text-primary-500 uppercase",children:"Montant"})]})}),A.jsx("tbody",{className:"divide-y divide-primary-100",children:r.lignes.map((i,s)=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-3 text-primary-900",children:i.description}),A.jsx("td",{className:"px-4 py-3 text-center text-primary-600",children:i.quantite}),A.jsx("td",{className:"px-4 py-3 text-right text-primary-600",children:kt(i.prixUnitaire,"XAF")}),A.jsx("td",{className:"px-4 py-3 text-right font-medium text-primary-900",children:kt(i.montant,"XAF")})]},s))})]})}),A.jsx("div",{className:"flex justify-end",children:A.jsxs("div",{className:"w-64 space-y-2",children:[A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsx("span",{className:"text-primary-500",children:"Sous-total"}),A.jsx("span",{className:"text-primary-900",children:kt(r.sousTotal,"XAF")})]}),A.jsxs("div",{className:"flex justify-between text-sm",children:[A.jsxs("span",{className:"text-primary-500",children:["TVA (",(r.tauxTva*100).toFixed(2),"%)"]}),A.jsx("span",{className:"text-primary-900",children:kt(r.tva,"XAF")})]}),A.jsxs("div",{className:"flex justify-between pt-2 border-t border-primary-200",children:[A.jsx("span",{className:"font-bold text-primary-900",children:"TOTAL"}),A.jsx("span",{className:"font-bold text-xl text-primary-900",children:kt(r.total,"XAF")})]})]})}),A.jsxs("div",{className:"flex justify-between pt-4 border-t border-primary-200",children:[A.jsx(Ye,{variant:"ghost",onClick:e,children:"Fermer"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Ye,{variant:"secondary",onClick:()=>t(r),children:[A.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Telecharger PDF"]}),A.jsxs(Ye,{variant:"primary",onClick:()=>window.print(),children:[A.jsx(Kw,{className:"w-4 h-4 mr-2"}),"Imprimer"]})]})]})]})}):null}const Z8e=Object.freeze(Object.defineProperty({__proto__:null,BillingPage:X8e},Symbol.toStringTag,{value:"Module"}));function RZ({onSave:r}){const{claudeApi:e,updateClaudeApi:t,clearClaudeApiKey:n,resetMonthlyUsage:i}=Ps(),[s,a]=K.useState(!1),[o,l]=K.useState(e.apiKey),[c,u]=K.useState(!1),[d,h]=K.useState("idle"),f=K.useMemo(()=>i8e(),[]),p=K.useMemo(()=>f.estimateFullAnalysisCost(),[f]),g={haiku:{icon:D5,color:"text-green-600",bgColor:"bg-green-100"},sonnet:{icon:Eh,color:"text-blue-600",bgColor:"bg-blue-100"},opus:{icon:Om,color:"text-purple-600",bgColor:"bg-purple-100"}},m={detection:"Detection",verification:"Verification",analyse:"Analyse",rapports:"Rapports",autre:"Autre"},v=async()=>{if(o.trim()){u(!0),h("idle");try{const{ClaudeService:w}=await Ga(async()=>{const{ClaudeService:R}=await Promise.resolve().then(()=>ihe);return{ClaudeService:R}},void 0,import.meta.url);(await new w({apiKey:o,model:e.model}).validateApiKey()).valid?(h("valid"),t({apiKey:o,isEnabled:!0})):h("invalid")}catch{h("invalid")}finally{u(!1)}}},y=()=>{l(""),h("idle"),n()},b=w=>w?w.length<=8?"********":w.substring(0,4)+"************"+w.substring(w.length-4):"";return A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ku,{className:"w-5 h-5 text-purple-500"}),A.jsx(lr,{children:"Intelligence Artificielle Claude"})]}),A.jsx(xa,{children:"Configurez l'integration avec Claude AI pour la categorisation automatique et la detection de fraude"})]}),A.jsxs(Ht,{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:[A.jsx(kle,{className:"w-4 h-4"}),"Cle API Anthropic",A.jsx(Ep,{content:"Obtenez votre cle API sur console.anthropic.com"})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(er,{type:s?"text":"password",value:s?o:b(o),onChange:w=>{l(w.target.value),h("idle")},placeholder:"sk-ant-api03-...",className:"pr-10"}),A.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-primary-400 hover:text-primary-600",children:s?A.jsx(cy,{className:"w-4 h-4"}):A.jsx(ps,{className:"w-4 h-4"})})]}),A.jsx(Ye,{variant:"secondary",onClick:v,disabled:c||!o.trim(),children:c?A.jsx(Vl,{className:"w-4 h-4 animate-spin"}):d==="valid"?A.jsx(al,{className:"w-4 h-4 text-green-500"}):d==="invalid"?A.jsx(Cv,{className:"w-4 h-4 text-red-500"}):"Valider"}),e.apiKey&&A.jsx(Ye,{variant:"secondary",onClick:y,children:"Effacer"})]}),d==="valid"&&A.jsx("p",{className:"text-sm text-green-600 mt-2",children:"Cle API validee avec succes"}),d==="invalid"&&A.jsx("p",{className:"text-sm text-red-600 mt-2",children:"Cle API invalide. Verifiez votre cle et reessayez."})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsx(Tn,{label:"Modele Claude",value:e.model,onChange:w=>t({model:w.target.value}),options:[{value:"claude-sonnet-4-20250514",label:"Claude Sonnet 4 (Recommande)"},{value:"claude-opus-4-1-20250414",label:"Claude Opus 4 (Plus puissant)"},{value:"claude-3-5-sonnet-20241022",label:"Claude 3.5 Sonnet"},{value:"claude-3-haiku-20240307",label:"Claude 3 Haiku (Rapide)"}],disabled:!e.isEnabled}),A.jsx("div",{className:"flex items-end",children:A.jsxs("label",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md w-full",children:[A.jsx("input",{type:"checkbox",checked:e.isEnabled,onChange:w=>t({isEnabled:w.target.checked}),disabled:!e.apiKey,className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Activer l'IA Claude"})]})})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-primary-700 mb-4",children:"Fonctionnalites IA"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[A.jsxs("label",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md cursor-pointer hover:bg-primary-50",children:[A.jsx("input",{type:"checkbox",checked:e.enableCategorization,onChange:w=>t({enableCategorization:w.target.checked}),disabled:!e.isEnabled,className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Categorisation auto"})]}),A.jsxs("label",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md cursor-pointer hover:bg-primary-50",children:[A.jsx("input",{type:"checkbox",checked:e.enableFraudDetection,onChange:w=>t({enableFraudDetection:w.target.checked}),disabled:!e.isEnabled,className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Detection fraude"})]}),A.jsxs("label",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md cursor-pointer hover:bg-primary-50",children:[A.jsx("input",{type:"checkbox",checked:e.enableReportGeneration,onChange:w=>t({enableReportGeneration:w.target.checked}),disabled:!e.isEnabled,className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Generation rapports"})]}),A.jsxs("label",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md cursor-pointer hover:bg-primary-50",children:[A.jsx("input",{type:"checkbox",checked:e.enableChat,onChange:w=>t({enableChat:w.target.checked}),disabled:!e.isEnabled,className:"w-4 h-4"}),A.jsx(Am,{className:"w-4 h-4 text-primary-500"}),A.jsx("span",{className:"text-sm",children:"Chat IA"})]})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-primary-700 mb-4",children:"Detection IA de base"}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{key:"duplicates",emoji:"",label:"Doublons"},{key:"ghostFees",emoji:"",label:"Frais fantomes"},{key:"overcharges",emoji:"",label:"Surfacturation"},{key:"interestErrors",emoji:"",label:"Erreurs d'agios"}].map(({key:w,emoji:_,label:B})=>A.jsxs("label",{className:"flex items-center gap-2 p-2 border border-primary-200 rounded-md cursor-pointer hover:bg-primary-50",children:[A.jsx("input",{type:"checkbox",checked:e.aiDetection?.[w]??!0,onChange:R=>t({aiDetection:{...e.aiDetection,[w]:R.target.checked}}),disabled:!e.isEnabled,className:"w-4 h-4"}),A.jsx("span",{children:_}),A.jsx("span",{className:"text-xs",children:B})]},w))})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-sm font-medium text-primary-700 mb-4",children:"Detection IA etendue"}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:[{key:"valueDateErrors",emoji:"",label:"Dates valeur"},{key:"suspiciousTransactions",emoji:"",label:"Suspect"},{key:"complianceViolations",emoji:"",label:"Conformite"},{key:"cashflowAnomalies",emoji:"",label:"Tresorerie"},{key:"reconciliationGaps",emoji:"",label:"Rapprochement"},{key:"multiBankIssues",emoji:"",label:"Multi-banques"},{key:"ohadaCompliance",emoji:"",label:"OHADA"},{key:"amlAlerts",emoji:"",label:"LCB-FT"},{key:"feeAnomalies",emoji:"",label:"Frais"}].map(({key:w,emoji:_,label:B})=>A.jsxs("label",{className:"flex items-center gap-2 p-2 border border-primary-200 rounded-md cursor-pointer hover:bg-primary-50",children:[A.jsx("input",{type:"checkbox",checked:e.aiDetection?.[w]??!0,onChange:R=>t({aiDetection:{...e.aiDetection,[w]:R.target.checked}}),disabled:!e.isEnabled,className:"w-4 h-4"}),A.jsx("span",{children:_}),A.jsx("span",{className:"text-xs",children:B})]},w))})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:[A.jsx(Vle,{className:"w-4 h-4"}),"Parametres avances"]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:["Temperature: ",e.temperature?.toFixed(1)||"0.3"]}),A.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.temperature||.3,onChange:w=>t({temperature:parseFloat(w.target.value)}),disabled:!e.isEnabled,className:"w-full h-2 bg-primary-200 rounded-lg appearance-none cursor-pointer disabled:opacity-50"}),A.jsxs("div",{className:"flex justify-between text-xs text-primary-400 mt-1",children:[A.jsx("span",{children:"Precis"}),A.jsx("span",{children:"Creatif"})]})]}),A.jsx("div",{children:A.jsx(er,{type:"number",label:"Tokens maximum",value:e.maxTokens||4e3,onChange:w=>t({maxTokens:parseInt(w.target.value)||4e3}),disabled:!e.isEnabled,min:100,max:8e3,helperText:"Limite la longueur des reponses (100-8000)"})})]})]}),e.isEnabled&&A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:[A.jsx(Ka,{className:"w-4 h-4"}),"Statistiques d'utilisation"]}),A.jsxs("div",{className:"bg-primary-50 rounded-lg p-4",children:[A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{value:e.usage?.monthlyTokens||0,label:"Tokens ce mois"},{value:e.usage?.monthlyRequests||0,label:"Requetes ce mois"},{value:e.usage?.totalTokensUsed||0,label:"Tokens total"},{value:e.usage?.totalRequests||0,label:"Requetes total"}].map(({value:w,label:_})=>A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:typeof w=="number"?w.toLocaleString("fr-FR"):w}),A.jsx("p",{className:"text-xs text-primary-500",children:_})]},_))}),e.usage?.lastRequestAt&&A.jsxs("p",{className:"text-xs text-primary-400 text-center mt-3",children:["Derniere utilisation: ",new Date(e.usage.lastRequestAt).toLocaleString("fr-FR")]}),A.jsx("div",{className:"mt-4 flex justify-center",children:A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:i,children:[A.jsx(hy,{className:"w-3 h-3"}),"Reinitialiser stats mensuelles"]})})]})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:[A.jsx(Vw,{className:"w-4 h-4"}),"Routage Intelligent des Modeles",A.jsx(Ep,{content:"Chaque module utilise le modele le plus adapte a sa complexite pour optimiser le rapport cout/precision"})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:["haiku","sonnet","opus"].map(w=>{const _=WB[w],B=g[w].icon,R=Object.values(Wg).filter(k=>k.tier===w).length,j=p.breakdown[w];return A.jsxs("div",{className:`p-3 rounded-lg border-2 ${w==="haiku"?"border-green-200 bg-green-50":w==="sonnet"?"border-blue-200 bg-blue-50":"border-purple-200 bg-purple-50"}`,children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("div",{className:`w-8 h-8 rounded-lg ${g[w].bgColor} flex items-center justify-center`,children:A.jsx(B,{className:`w-4 h-4 ${g[w].color}`})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-primary-900",children:_.displayName}),A.jsxs("p",{className:"text-xs text-primary-500",children:[R," modules"]})]})]}),A.jsxs("div",{className:"text-xs text-primary-600 space-y-1",children:[A.jsxs("p",{children:["Entree: $",_.inputCostPer1M,"/1M tokens"]}),A.jsxs("p",{children:["Sortie: $",_.outputCostPer1M,"/1M tokens"]}),j.count>0&&A.jsxs("p",{className:"font-medium pt-1 border-t border-primary-200",children:["~",f.formatCost(j.costUSD)," / analyse"]})]})]},w)})}),A.jsx("div",{className:"bg-gradient-to-r from-primary-900 to-primary-800 rounded-lg p-4 text-white mb-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm text-primary-300",children:"Cout estime par analyse complete"}),A.jsx("p",{className:"text-2xl font-bold",children:f.formatCost(p.totalCostUSD)}),A.jsxs("p",{className:"text-xs text-primary-400",children:[" $",p.totalCostUSD.toFixed(4)," USD"]})]}),A.jsxs("div",{className:"text-right text-xs text-primary-300",children:[A.jsxs("p",{children:[p.modules.length," modules"]}),A.jsxs("p",{children:["Haiku: ",p.breakdown.haiku.count]}),A.jsxs("p",{children:["Sonnet: ",p.breakdown.sonnet.count]}),A.jsxs("p",{children:["Opus: ",p.breakdown.opus.count]})]})]})}),A.jsx("div",{className:"space-y-3",children:Object.entries(s8e).map(([w,_])=>A.jsxs("div",{className:"border border-primary-200 rounded-lg overflow-hidden",children:[A.jsx("div",{className:"bg-primary-50 px-3 py-2 border-b border-primary-200",children:A.jsx("p",{className:"text-sm font-medium text-primary-700",children:m[w]})}),A.jsx("div",{className:"p-2",children:A.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(B=>{const R=Wg[B],j=g[R.tier].icon,k=f.estimateCost(B);return A.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs ${R.tier==="haiku"?"bg-green-100 text-green-800":R.tier==="sonnet"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,title:`${R.description}
Cout: ${f.formatCost(k.costUSD)}`,children:[A.jsx(j,{className:"w-3 h-3"}),A.jsx("span",{children:R.description.split(" ")[0]}),A.jsxs("span",{className:"opacity-60",children:["(",f.formatCost(k.costUSD),")"]})]},B)})})})]},w))}),A.jsx("p",{className:"text-xs text-primary-400 mt-3 text-center",children:"Les couts sont des estimations basees sur une utilisation moyenne. Le cout reel depend du volume de donnees."})]})]}),A.jsx(Zf,{children:A.jsxs("div",{className:"flex items-center justify-between w-full",children:[A.jsx("p",{className:"text-xs text-primary-400",children:"Les appels API sont factures par Anthropic selon leur tarification."}),A.jsxs(Ye,{variant:"primary",onClick:r,children:[A.jsx(Oc,{className:"w-4 h-4"}),"Enregistrer"]})]})})]})}const Jy={claude:[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",provider:"claude",contextWindow:2e5,maxOutputTokens:8192,supportsVision:!0,isDefault:!0},{id:"claude-opus-4-1-20250414",name:"Claude Opus 4",provider:"claude",contextWindow:2e5,maxOutputTokens:8192,supportsVision:!0},{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",provider:"claude",contextWindow:2e5,maxOutputTokens:8192,supportsVision:!0},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku",provider:"claude",contextWindow:2e5,maxOutputTokens:4096,supportsVision:!0}],openai:[{id:"gpt-4o",name:"GPT-4o",provider:"openai",contextWindow:128e3,maxOutputTokens:16384,supportsVision:!0,isDefault:!0},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"openai",contextWindow:128e3,maxOutputTokens:16384,supportsVision:!0},{id:"gpt-4-turbo",name:"GPT-4 Turbo",provider:"openai",contextWindow:128e3,maxOutputTokens:4096,supportsVision:!0},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",provider:"openai",contextWindow:16385,maxOutputTokens:4096}],mistral:[{id:"mistral-large-latest",name:"Mistral Large",provider:"mistral",contextWindow:128e3,maxOutputTokens:8192,isDefault:!0},{id:"mistral-medium-latest",name:"Mistral Medium",provider:"mistral",contextWindow:32e3,maxOutputTokens:8192},{id:"mistral-small-latest",name:"Mistral Small",provider:"mistral",contextWindow:32e3,maxOutputTokens:8192},{id:"codestral-latest",name:"Codestral",provider:"mistral",contextWindow:32e3,maxOutputTokens:8192}],ollama:[{id:"llama3.1:70b",name:"Llama 3.1 70B",provider:"ollama",contextWindow:128e3,maxOutputTokens:8192,isDefault:!0},{id:"llama3.1:8b",name:"Llama 3.1 8B",provider:"ollama",contextWindow:128e3,maxOutputTokens:8192},{id:"mistral:7b",name:"Mistral 7B",provider:"ollama",contextWindow:32e3,maxOutputTokens:4096},{id:"codellama:34b",name:"Code Llama 34B",provider:"ollama",contextWindow:16e3,maxOutputTokens:4096}],custom:[]},eFe={provider:"claude",model:"claude-sonnet-4-20250514",temperature:.3,maxTokens:4e3,timeout:6e4,retryAttempts:3};var Pa=(r=>(r.DUPLICATES="duplicates",r.GHOST_FEES="ghost_fees",r.OVERCHARGES="overcharges",r.INTEREST_ERRORS="interest_errors",r.VALUE_DATE="value_date",r.SUSPICIOUS="suspicious",r.COMPLIANCE="compliance",r.CASHFLOW="cashflow",r.RECONCILIATION="reconciliation",r.MULTI_BANK="multi_bank",r.OHADA="ohada",r.AML_LCB_FT="aml_lcb_ft",r.FEES="fees",r))(Pa||{});const tFe={duplicates:ke.DUPLICATE_FEE,ghost_fees:ke.GHOST_FEE,overcharges:ke.OVERCHARGE,interest_errors:ke.INTEREST_ERROR,value_date:ke.VALUE_DATE_ERROR,suspicious:ke.SUSPICIOUS_TRANSACTION,compliance:ke.COMPLIANCE_VIOLATION,cashflow:ke.CASHFLOW_ANOMALY,reconciliation:ke.RECONCILIATION_GAP,multi_bank:ke.MULTI_BANK_ISSUE,ohada:ke.OHADA_NON_COMPLIANCE,aml_lcb_ft:ke.AML_ALERT,fees:ke.FEE_ANOMALY},rFe={NETWORK:"Erreur de connexion. Vrifiez votre accs internet.",AUTH:"Cl API invalide ou expire. Veuillez vrifier vos paramtres.",RATE_LIMIT:"Limite d'appels API atteinte. Veuillez patienter.",TIMEOUT:"Dlai d'attente dpass. L'opration a pris trop de temps.",INVALID_REQUEST:"Requte invalide. Contactez le support si le problme persiste.",SERVER:"Erreur serveur. Ressayez dans quelques instants.",CONTENT_FILTER:"Le contenu a t filtr par les rgles de scurit.",CONTEXT_LENGTH:"Le contexte dpasse la limite du modle.",UNKNOWN:"Une erreur inattendue s'est produite."};class c4{config;usage;lastTokens=null;constructor(e){this.config=e,this.usage={provider:e.provider,totalRequests:0,totalTokensInput:0,totalTokensOutput:0,totalCost:0}}configure(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}async chat(e,t){const n=[];if(t?.systemPrompt&&n.push({role:"system",content:t.systemPrompt}),t?.context){const s=this.buildContextMessage(t.context);s&&(n.push({role:"user",content:`[CONTEXTE]
${s}
[FIN CONTEXTE]`}),n.push({role:"assistant",content:"Compris. Je suis prt  vous aider avec l'analyse de ces donnes bancaires."}))}for(const s of e)s.role!=="system"&&n.push({role:s.role,content:s.content});const i=await this.callAPI(n,{maxTokens:t?.maxTokens??this.config.maxTokens,temperature:t?.temperature??this.config.temperature});return this.updateUsage(i.inputTokens,i.outputTokens),{content:i.content,tokensUsed:{input:i.inputTokens,output:i.outputTokens,total:i.inputTokens+i.outputTokens},model:this.config.model,finishReason:"stop"}}async complete(e,t){const n=await this.callAPI([{role:"user",content:e}],{maxTokens:t?.maxTokens??this.config.maxTokens,temperature:t?.temperature??this.config.temperature});return this.updateUsage(n.inputTokens,n.outputTokens),n.content}async categorizeTransactions(e,t){const i=[];for(let s=0;s<e.length;s+=50){const a=e.slice(s,s+50),o=await this.categorizeBatch(a,t);i.push(...o)}return i}async categorizeBatch(e,t){const n=e.map(a=>({id:a.id,description:a.description,amount:a.amount,date:a.date})),i=t?.length?`Catgories existantes  privilgier: ${t.join(", ")}`:"Cre des catgories appropries pour une comptabilit bancaire.",s=`Tu es un expert comptable spcialis dans l'audit bancaire africain (CEMAC/UEMOA).

Catgorise ces transactions bancaires:

${JSON.stringify(n,null,2)}

${i}

Rponds UNIQUEMENT avec un JSON valide (sans markdown, sans commentaires) dans ce format:
[
  {
    "transactionId": "id",
    "category": "Nom de la catgorie",
    "confidence": 0.95,
    "type": "DEBIT|CREDIT|FEE|INTEREST|TRANSFER|CARD|ATM|CHECK|OTHER"
  }
]

Catgories suggres: Frais bancaires, Virement entrant, Virement sortant, Prlvement, Carte bancaire, Retrait DAB, Agios/Intrts, Commission, Salaires, Fournisseurs, Clients, Impts/Taxes, Loyer, Tlcom, Assurances, Divers`;try{const a=await this.complete(s,{maxTokens:4e3}),o=this.extractJson(a);return JSON.parse(o)}catch(a){return console.error("Erreur de catgorisation:",a),e.map(o=>({transactionId:o.id,category:"Non catgoris",confidence:0,type:Pi.OTHER}))}}async detectAnomalies(e,t,n){const i=this.buildDetectionPrompt(e,t,n);try{const s=await this.complete(i,{maxTokens:4e3}),a=this.extractJson(s),o=JSON.parse(a),l=tFe[t];return o.map((c,u)=>({id:`ai-${t}-${Date.now()}-${u}`,type:l,severity:this.parseSeverity(c.severity),confidence:c.confidence,amount:c.amount,transactions:e.filter(d=>c.transactionIds.includes(d.id)),evidence:c.evidence.map(d=>({type:"ai_analysis",description:d,value:""})),recommendation:c.recommendation,status:"pending",detectedAt:new Date,detectionSource:"ai",aiAnalysis:{explanation:c.description,suggestedActions:[c.recommendation]}}))}catch(s){return console.error(`Erreur dtection ${t}:`,s),[]}}async analyzeFraud(e,t){const i=e.slice(-200).map(o=>({id:o.id,date:o.date,amount:o.amount,description:o.description,type:o.type})),s=t?.map(o=>({type:o.type,amount:o.amount,severity:o.severity}))||[],a=`Tu es un expert en dtection de fraude bancaire pour les entreprises africaines.

Analyse ces transactions pour dtecter des patterns de fraude potentielle:

TRANSACTIONS:
${JSON.stringify(i,null,2)}

ANOMALIES DJ DTECTES:
${JSON.stringify(s,null,2)}

Cherche ces patterns de fraude:
1. Fractionnement de paiements (structuration)
2. Transactions rondes suspectes
3. Horaires inhabituels
4. Bnficiaires inconnus rcurrents
5. Augmentation soudaine des frais
6. Transactions juste sous les seuils de contrle
7. Double facturation dguise
8. Virements circulaires

Rponds UNIQUEMENT avec un JSON valide:
[
  {
    "transactionId": "id ou 'PATTERN'",
    "isSuspicious": true,
    "riskScore": 0.85,
    "reasons": ["Raison 1", "Raison 2"],
    "recommendation": "Action recommande"
  }
]

Si aucune fraude n'est dtecte, retourne un tableau vide: []`;try{const o=await this.complete(a,{maxTokens:4e3}),l=this.extractJson(o);return JSON.parse(l)}catch(o){return console.error("Erreur de dtection de fraude:",o),[]}}async generateReport(e){const t=`du ${this.formatDate(e.period.start)} au ${this.formatDate(e.period.end)}`,n=this.groupAnomalies(e.anomalies),i=`Tu es un expert-comptable rdigeant un rapport d'audit bancaire professionnel.

CLIENT: ${e.clientName}
PRIODE: ${t}

STATISTIQUES:
- Transactions analyses: ${e.statistics.totalTransactions}
- Volume total: ${e.statistics.totalAmount.toLocaleString("fr-FR")} FCFA
- conomies potentielles: ${e.statistics.potentialSavings.toLocaleString("fr-FR")} FCFA

ANOMALIES PAR TYPE:
${n}

Rdige un rapport d'audit professionnel en franais. Le rapport doit tre formel, prcis et actionnable.

Rponds UNIQUEMENT avec un JSON valide:
{
  "title": "Titre du rapport",
  "executiveSummary": "Rsum excutif (2-3 paragraphes)",
  "keyFindings": ["Constatation cl 1", "Constatation cl 2", "..."],
  "detailedAnalysis": "Analyse dtaille (plusieurs paragraphes)",
  "recommendations": ["Recommandation 1 avec justification", "Recommandation 2 avec justification", "..."],
  "conclusion": "Conclusion et prochaines tapes"
}`;try{const s=await this.complete(i,{maxTokens:4e3}),a=this.extractJson(s);return JSON.parse(a)}catch(s){return console.error("Erreur de gnration de rapport:",s),{title:`Rapport d'audit bancaire - ${e.clientName}`,executiveSummary:"Erreur lors de la gnration du rapport.",keyFindings:[],detailedAnalysis:"",recommendations:[],conclusion:""}}}getUsage(){return{...this.usage}}getLastTokensUsed(){return this.lastTokens}updateUsage(e,t){this.lastTokens={input:e,output:t},this.usage.totalRequests++,this.usage.totalTokensInput+=e,this.usage.totalTokensOutput+=t,this.usage.lastRequestAt=new Date}buildContextMessage(e){const t=[];if(e?.clientName&&t.push(`Client en cours d'analyse: ${e.clientName}`),e?.transactions&&e.transactions.length>0){const n=e.transactions.slice(0,50).map(i=>({date:i.date,montant:i.amount,description:i.description,type:i.type}));t.push(`Dernires transactions (${e.transactions.length} total):
${JSON.stringify(n,null,2)}`)}if(e?.anomalies&&e.anomalies.length>0){const n=e.anomalies.map(i=>({type:i.type,severite:i.severity,montant:i.amount,confiance:i.confidence}));t.push(`Anomalies dtectes (${e.anomalies.length}):
${JSON.stringify(n,null,2)}`)}return e?.bankConditions&&t.push(`Conditions bancaires: ${e.bankConditions.bankName}`),t.join(`

`)}buildDetectionPrompt(e,t,n){const i=e.slice(0,100).map(o=>({id:o.id,date:o.date,valueDate:o.valueDate,amount:o.amount,balance:o.balance,description:o.description,type:o.type})),s=n?.bankConditions?`Conditions bancaires: ${n.bankConditions.bankName}, Frais: ${n.bankConditions.fees.map(o=>`${o.name}: ${o.amount} FCFA`).join(", ")}`:"Pas de conditions bancaires de rfrence.",a=this.getDetectionInstructions(t);return`Tu es un auditeur bancaire expert spcialis dans les banques CEMAC/UEMOA.

OBJECTIF: ${a.objective}

TRANSACTIONS  ANALYSER:
${JSON.stringify(i,null,2)}

${s}

CRITRES DE DTECTION:
${a.criteria.join(`
`)}

Rponds UNIQUEMENT avec un JSON valide:
[
  {
    "transactionIds": ["id1", "id2"],
    "severity": "LOW|MEDIUM|HIGH|CRITICAL",
    "confidence": 0.85,
    "amount": 50000,
    "description": "Description de l'anomalie",
    "recommendation": "Action recommande",
    "evidence": ["Preuve 1", "Preuve 2"]
  }
]

Si aucune anomalie n'est dtecte, retourne: []`}getDetectionInstructions(e){return{[Pa.DUPLICATES]:{objective:"Dtecter les transactions en double ou frais facturs plusieurs fois",criteria:["- Mmes montants  des dates proches","- Descriptions similaires","- Mme bnficiaire"]},[Pa.GHOST_FEES]:{objective:"Identifier les frais fantmes sans justification",criteria:["- Frais sans transaction associe","- Libells vagues ou gnriques","- Montants inhabituels"]},[Pa.OVERCHARGES]:{objective:"Dtecter les surfacturations par rapport aux conditions",criteria:["- Frais suprieurs aux tarifs convenus","- Commissions excessives","- carts significatifs avec les conditions bancaires"]},[Pa.INTEREST_ERRORS]:{objective:"Vrifier les calculs d'intrts et d'agios",criteria:["- Taux appliqus vs taux contractuels","- Base de calcul incorrecte","- Priodes de calcul errones"]},[Pa.VALUE_DATE]:{objective:"Analyser les carts entre dates d'opration et dates de valeur",criteria:["- Dcalages excessifs dfavorables","- Non-respect des dlais rglementaires","- Impact sur le calcul des intrts"]},[Pa.SUSPICIOUS]:{objective:"Identifier les transactions suspectes ou inhabituelles",criteria:["- Montants anormalement levs","- Frquence inhabituelle","- Patterns atypiques"]},[Pa.COMPLIANCE]:{objective:"Vrifier la conformit aux conditions contractuelles",criteria:["- Respect des plafonds","- Application correcte des tarifs","- Conformit aux engagements"]},[Pa.CASHFLOW]:{objective:"Dtecter les anomalies de trsorerie",criteria:["- Incohrences de soldes","- Mouvements inhabituels","- carts de rapprochement"]},[Pa.RECONCILIATION]:{objective:"Identifier les carts de rapprochement bancaire",criteria:["- Transactions non rapproches","- carts persistants","- Erreurs de saisie potentielles"]},[Pa.MULTI_BANK]:{objective:"Analyser les incohrences multi-banques",criteria:["- Virements inter-bancaires non reus","- Doublons entre banques","- Incohrences de dates"]},[Pa.OHADA]:{objective:"Vrifier la conformit OHADA",criteria:["- Respect des normes comptables","- Documentation approprie","- Classement correct des oprations"]},[Pa.AML_LCB_FT]:{objective:"Dtecter les indicateurs de blanchiment (LCB-FT)",criteria:["- Fractionnement de transactions","- Montants juste sous les seuils","- Transactions circulaires","- Bnficiaires  risque"]},[Pa.FEES]:{objective:"Analyse complte des frais bancaires",criteria:["- Comparaison avec les grilles tarifaires","- volution des frais dans le temps","- Frais cachs ou mal libells"]}}[e]}extractJson(e){const t=e.match(/```(?:json)?\s*([\s\S]*?)```/);if(t)return t[1].trim();const n=e.match(/\[[\s\S]*\]/),i=e.match(/\{[\s\S]*\}/);return n&&(!i||n.index<i.index)?n[0]:i?i[0]:e.trim()}parseSeverity(e){const t=e.toUpperCase();return t==="LOW"?je.LOW:t==="MEDIUM"?je.MEDIUM:t==="HIGH"?je.HIGH:t==="CRITICAL"?je.CRITICAL:je.MEDIUM}formatDate(e){return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})}groupAnomalies(e){const t={};for(const n of e)t[n.type]||(t[n.type]={count:0,amount:0}),t[n.type].count++,t[n.type].amount+=n.amount;return Object.entries(t).map(([n,i])=>`- ${n}: ${i.count} cas, ${i.amount.toLocaleString("fr-FR")} FCFA`).join(`
`)}createError(e,t,n,i){return{code:e,message:t||rFe[e],provider:this.type,timestamp:new Date,statusCode:n,retryAfter:i,isRetryable:["NETWORK","RATE_LIMIT","TIMEOUT","SERVER"].includes(e)}}}const nFe="https://api.anthropic.com/v1/messages",iFe=6e4;class sFe extends c4{name="Anthropic Claude";type="claude";models=Jy.claude;constructor(e){super({...e,provider:"claude"})}async testConnection(){try{return await this.callAPI([{role:"user",content:'Rponds simplement "OK" pour valider la connexion.'}],{maxTokens:10}),{valid:!0}}catch(e){return e instanceof Ho?{valid:!1,error:e.userMessage}:{valid:!1,error:e instanceof Error?e.message:"Erreur inconnue"}}}async callAPI(e,t){if(!this.config.apiKey||this.config.apiKey.trim()==="")throw new Ho("Cl API non configure","AUTH");const n=this.convertMessagesToClaudeFormat(e),i=new AbortController,s=setTimeout(()=>i.abort(),this.config.timeout??iFe);try{const a=await fetch(nFe,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.config.apiKey,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:this.config.model,max_tokens:t?.maxTokens??this.config.maxTokens??4e3,temperature:t?.temperature??this.config.temperature??.3,messages:n}),signal:i.signal});clearTimeout(s),a.ok||await this.handleErrorResponse(a);const o=await a.json();if(!o.content||!Array.isArray(o.content)||o.content.length===0)throw new Ho("Rponse API invalide","INVALID_REQUEST");return{content:o.content[0]?.text||"",inputTokens:o.usage?.input_tokens||0,outputTokens:o.usage?.output_tokens||0}}catch(a){throw clearTimeout(s),a instanceof DOMException&&a.name==="AbortError"?new Ho("Dlai d'attente dpass","TIMEOUT"):a instanceof TypeError&&a.message.includes("fetch")?new Ho("Impossible de contacter l'API Claude","NETWORK"):a instanceof Ho?a:new Ho(a instanceof Error?a.message:"Erreur inconnue","UNKNOWN")}}convertMessagesToClaudeFormat(e){const t=[];let n="";for(const i of e)i.role==="system"&&(n+=(n?`

`:"")+i.content);n&&(t.push({role:"user",content:`[INSTRUCTIONS SYSTME]
${n}
[FIN INSTRUCTIONS]`}),t.push({role:"assistant",content:"Compris. Je suivrai ces instructions."}));for(const i of e)i.role!=="system"&&t.push({role:i.role,content:i.content});return t}async handleErrorResponse(e){const n=(await e.json().catch(()=>({})))?.error?.message||e.statusText;switch(e.status){case 401:throw new Ho(n,"AUTH",e.status);case 429:{const i=parseInt(e.headers.get("retry-after")||"60",10);throw new Ho(n,"RATE_LIMIT",e.status,i)}case 400:throw new Ho(n,"INVALID_REQUEST",e.status);case 500:case 502:case 503:case 504:throw new Ho(n,"SERVER",e.status);default:throw new Ho(n,"UNKNOWN",e.status)}}}class Ho extends Error{constructor(e,t,n,i){super(e),this.code=t,this.statusCode=n,this.retryAfter=i,this.name="ClaudeAPIError"}get isRetryable(){return["NETWORK","RATE_LIMIT","TIMEOUT","SERVER"].includes(this.code)}get userMessage(){switch(this.code){case"NETWORK":return"Erreur de connexion. Vrifiez votre accs internet.";case"AUTH":return"Cl API invalide ou expire. Veuillez vrifier vos paramtres.";case"RATE_LIMIT":return`Limite d'appels API atteinte. Ressayez dans ${this.retryAfter||60} secondes.`;case"TIMEOUT":return"Dlai d'attente dpass. L'opration a pris trop de temps.";case"INVALID_REQUEST":return"Requte invalide. Contactez le support si le problme persiste.";case"SERVER":return"Erreur serveur Claude. Ressayez dans quelques instants.";default:return"Une erreur inattendue s'est produite."}}}const aFe="https://api.openai.com/v1/chat/completions",oFe=6e4;class A9 extends c4{name="OpenAI GPT";type="openai";models=Jy.openai;constructor(e){super({...e,provider:"openai"})}async testConnection(){try{return await this.callAPI([{role:"user",content:'Rponds simplement "OK" pour valider la connexion.'}],{maxTokens:10}),{valid:!0}}catch(e){return e instanceof lo?{valid:!1,error:e.userMessage}:{valid:!1,error:e instanceof Error?e.message:"Erreur inconnue"}}}async callAPI(e,t){if(!this.config.apiKey||this.config.apiKey.trim()==="")throw new lo("Cl API non configure","AUTH");const n=new AbortController,i=setTimeout(()=>n.abort(),this.config.timeout??oFe);try{const s=await fetch(aFe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify({model:this.config.model,messages:e.map(o=>({role:o.role,content:o.content})),max_tokens:t?.maxTokens??this.config.maxTokens??4e3,temperature:t?.temperature??this.config.temperature??.3}),signal:n.signal});clearTimeout(i),s.ok||await this.handleErrorResponse(s);const a=await s.json();if(!a.choices||a.choices.length===0)throw new lo("Rponse API invalide","INVALID_REQUEST");return{content:a.choices[0]?.message?.content||"",inputTokens:a.usage?.prompt_tokens||0,outputTokens:a.usage?.completion_tokens||0}}catch(s){throw clearTimeout(i),s instanceof DOMException&&s.name==="AbortError"?new lo("Dlai d'attente dpass","TIMEOUT"):s instanceof TypeError&&s.message.includes("fetch")?new lo("Impossible de contacter l'API OpenAI","NETWORK"):s instanceof lo?s:new lo(s instanceof Error?s.message:"Erreur inconnue","UNKNOWN")}}async handleErrorResponse(e){const t=await e.json().catch(()=>({})),n=t?.error?.message||e.statusText;switch(e.status){case 401:throw new lo(n,"AUTH",e.status);case 429:{const i=parseInt(e.headers.get("retry-after")||"60",10);throw new lo(n,"RATE_LIMIT",e.status,i)}case 400:throw t?.error?.code==="context_length_exceeded"?new lo(n,"CONTEXT_LENGTH",e.status):new lo(n,"INVALID_REQUEST",e.status);case 500:case 502:case 503:case 504:throw new lo(n,"SERVER",e.status);default:throw new lo(n,"UNKNOWN",e.status)}}}class lo extends Error{constructor(e,t,n,i){super(e),this.code=t,this.statusCode=n,this.retryAfter=i,this.name="OpenAIAPIError"}get isRetryable(){return["NETWORK","RATE_LIMIT","TIMEOUT","SERVER"].includes(this.code)}get userMessage(){switch(this.code){case"NETWORK":return"Erreur de connexion. Vrifiez votre accs internet.";case"AUTH":return"Cl API invalide ou expire. Veuillez vrifier vos paramtres.";case"RATE_LIMIT":return`Limite d'appels API atteinte. Ressayez dans ${this.retryAfter||60} secondes.`;case"TIMEOUT":return"Dlai d'attente dpass. L'opration a pris trop de temps.";case"INVALID_REQUEST":return"Requte invalide. Contactez le support si le problme persiste.";case"CONTEXT_LENGTH":return"Le contexte dpasse la limite du modle. Rduisez la taille des donnes.";case"SERVER":return"Erreur serveur OpenAI. Ressayez dans quelques instants.";default:return"Une erreur inattendue s'est produite."}}}const lFe="https://api.mistral.ai/v1/chat/completions",cFe=6e4;class uFe extends c4{name="Mistral AI";type="mistral";models=Jy.mistral;constructor(e){super({...e,provider:"mistral"})}async testConnection(){try{return await this.callAPI([{role:"user",content:'Rponds simplement "OK" pour valider la connexion.'}],{maxTokens:10}),{valid:!0}}catch(e){return e instanceof Qo?{valid:!1,error:e.userMessage}:{valid:!1,error:e instanceof Error?e.message:"Erreur inconnue"}}}async callAPI(e,t){if(!this.config.apiKey||this.config.apiKey.trim()==="")throw new Qo("Cl API non configure","AUTH");const n=new AbortController,i=setTimeout(()=>n.abort(),this.config.timeout??cFe);try{const s=await fetch(lFe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify({model:this.config.model,messages:e.map(o=>({role:o.role,content:o.content})),max_tokens:t?.maxTokens??this.config.maxTokens??4e3,temperature:t?.temperature??this.config.temperature??.3}),signal:n.signal});clearTimeout(i),s.ok||await this.handleErrorResponse(s);const a=await s.json();if(!a.choices||a.choices.length===0)throw new Qo("Rponse API invalide","INVALID_REQUEST");return{content:a.choices[0]?.message?.content||"",inputTokens:a.usage?.prompt_tokens||0,outputTokens:a.usage?.completion_tokens||0}}catch(s){throw clearTimeout(i),s instanceof DOMException&&s.name==="AbortError"?new Qo("Dlai d'attente dpass","TIMEOUT"):s instanceof TypeError&&s.message.includes("fetch")?new Qo("Impossible de contacter l'API Mistral","NETWORK"):s instanceof Qo?s:new Qo(s instanceof Error?s.message:"Erreur inconnue","UNKNOWN")}}async handleErrorResponse(e){const t=await e.json().catch(()=>({})),n=t?.message||t?.error?.message||e.statusText;switch(e.status){case 401:throw new Qo(n,"AUTH",e.status);case 429:{const i=parseInt(e.headers.get("retry-after")||"60",10);throw new Qo(n,"RATE_LIMIT",e.status,i)}case 400:throw new Qo(n,"INVALID_REQUEST",e.status);case 500:case 502:case 503:case 504:throw new Qo(n,"SERVER",e.status);default:throw new Qo(n,"UNKNOWN",e.status)}}}class Qo extends Error{constructor(e,t,n,i){super(e),this.code=t,this.statusCode=n,this.retryAfter=i,this.name="MistralAPIError"}get isRetryable(){return["NETWORK","RATE_LIMIT","TIMEOUT","SERVER"].includes(this.code)}get userMessage(){switch(this.code){case"NETWORK":return"Erreur de connexion. Vrifiez votre accs internet.";case"AUTH":return"Cl API invalide ou expire. Veuillez vrifier vos paramtres.";case"RATE_LIMIT":return`Limite d'appels API atteinte. Ressayez dans ${this.retryAfter||60} secondes.`;case"TIMEOUT":return"Dlai d'attente dpass. L'opration a pris trop de temps.";case"INVALID_REQUEST":return"Requte invalide. Contactez le support si le problme persiste.";case"SERVER":return"Erreur serveur Mistral. Ressayez dans quelques instants.";default:return"Une erreur inattendue s'est produite."}}}const dFe="http://localhost:11434",hFe=12e4;class fFe extends c4{name="Ollama (Local)";type="ollama";models=Jy.ollama;baseUrl;constructor(e){super({...e,provider:"ollama"}),this.baseUrl=e.baseUrl??dFe}configure(e){super.configure(e),e.baseUrl&&(this.baseUrl=e.baseUrl)}async testConnection(){try{const e=await fetch(`${this.baseUrl}/api/tags`,{method:"GET"}).catch(()=>null);if(!e||!e.ok)return{valid:!1,error:`Ollama n'est pas accessible  ${this.baseUrl}. Vrifiez que le serveur est dmarr.`};const t=await e.json(),n=this.config.model.split(":")[0];return t.models?.some(s=>s.name.startsWith(n))?(await this.callAPI([{role:"user",content:'Rponds simplement "OK".'}],{maxTokens:10}),{valid:!0}):{valid:!1,error:`Le modle "${this.config.model}" n'est pas install. Excutez: ollama pull ${this.config.model}`}}catch(e){return e instanceof pu?{valid:!1,error:e.userMessage}:{valid:!1,error:e instanceof Error?e.message:"Erreur inconnue"}}}async listAvailableModels(){try{const e=await fetch(`${this.baseUrl}/api/tags`);return e.ok?(await e.json()).models?.map(n=>n.name)||[]:[]}catch{return[]}}async callAPI(e,t){const n=new AbortController,i=setTimeout(()=>n.abort(),this.config.timeout??hFe);try{const s=await fetch(`${this.baseUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:this.config.model,messages:e.map(c=>({role:c.role,content:c.content})),stream:!1,options:{num_predict:t?.maxTokens??this.config.maxTokens??4e3,temperature:t?.temperature??this.config.temperature??.3}}),signal:n.signal});clearTimeout(i),s.ok||await this.handleErrorResponse(s);const a=await s.json();if(!a.message?.content)throw new pu("Rponse API invalide","INVALID_REQUEST");const o=e.reduce((c,u)=>c+Math.ceil(u.content.length/4),0),l=Math.ceil(a.message.content.length/4);return{content:a.message.content,inputTokens:a.prompt_eval_count||o,outputTokens:a.eval_count||l}}catch(s){throw clearTimeout(i),s instanceof DOMException&&s.name==="AbortError"?new pu("Dlai d'attente dpass","TIMEOUT"):s instanceof TypeError&&s.message.includes("fetch")?new pu(`Impossible de contacter Ollama  ${this.baseUrl}. Vrifiez que le serveur est dmarr.`,"NETWORK"):s instanceof pu?s:new pu(s instanceof Error?s.message:"Erreur inconnue","UNKNOWN")}}async handleErrorResponse(e){const n=(await e.json().catch(()=>({})))?.error||e.statusText;switch(e.status){case 404:throw new pu(`Modle "${this.config.model}" non trouv. Excutez: ollama pull ${this.config.model}`,"INVALID_REQUEST",e.status);case 500:case 502:case 503:case 504:throw new pu(n,"SERVER",e.status);default:throw new pu(n,"UNKNOWN",e.status)}}}class pu extends Error{constructor(e,t,n){super(e),this.code=t,this.statusCode=n,this.name="OllamaAPIError"}get isRetryable(){return["NETWORK","TIMEOUT","SERVER"].includes(this.code)}get userMessage(){switch(this.code){case"NETWORK":return this.message||"Ollama n'est pas accessible. Vrifiez que le serveur est dmarr (ollama serve).";case"TIMEOUT":return"Dlai d'attente dpass. Le modle local peut tre lent, augmentez le timeout.";case"INVALID_REQUEST":return this.message||"Requte invalide.";case"SERVER":return"Erreur serveur Ollama. Vrifiez les logs du serveur.";default:return"Une erreur inattendue s'est produite."}}}class AFe{currentProvider=null;currentConfig=null;createProvider(e){switch(e.provider){case"claude":return new sFe(e);case"openai":return new A9(e);case"mistral":return new uFe(e);case"ollama":return new fFe(e);case"custom":return new A9({...e});default:throw new Error(`Provider inconnu: ${e.provider}`)}}getProvider(e){return e&&this.hasConfigChanged(e)&&(this.currentProvider=this.createProvider(e),this.currentConfig={...e}),this.currentProvider}hasConfigChanged(e){return this.currentConfig?this.currentConfig.provider!==e.provider||this.currentConfig.model!==e.model||this.currentConfig.apiKey!==e.apiKey||this.currentConfig.baseUrl!==e.baseUrl:!0}updateConfig(e){if(this.currentProvider&&this.currentConfig){const t={...this.currentConfig,...e};this.currentProvider.configure(t),this.currentConfig=t}}reset(){this.currentProvider=null,this.currentConfig=null}hasProvider(){return this.currentProvider!==null}getModelsForProvider(e){return Jy[e]||[]}getDefaultModel(e){const t=this.getModelsForProvider(e);return t.find(n=>n.isDefault)||t[0]}getAvailableProviders(){return[{type:"claude",name:"Anthropic Claude",requiresApiKey:!0},{type:"openai",name:"OpenAI GPT",requiresApiKey:!0},{type:"mistral",name:"Mistral AI",requiresApiKey:!0},{type:"ollama",name:"Ollama (Local)",requiresApiKey:!1}]}createDefaultConfig(e,t){const n=this.getDefaultModel(e);return{...eFe,provider:e,model:n?.id||"",apiKey:t||"",baseUrl:e==="ollama"?"http://localhost:11434":void 0}}async testConnection(e){try{return await this.createProvider(e).testConnection()}catch(t){return{valid:!1,error:t instanceof Error?t.message:"Erreur inconnue"}}}}const pFe=new AFe,p9={claude:{name:"Claude (Anthropic)",icon:Ku,color:"purple",models:[{value:"claude-sonnet-4-20250514",label:"Claude Sonnet 4 (Recommande)"},{value:"claude-opus-4-1-20250414",label:"Claude Opus 4 (Plus puissant)"},{value:"claude-3-5-sonnet-20241022",label:"Claude 3.5 Sonnet"},{value:"claude-3-haiku-20240307",label:"Claude 3 Haiku (Rapide)"}],placeholder:"sk-ant-api03-...",description:"IA de reference pour l'analyse bancaire"},openai:{name:"OpenAI (GPT)",icon:bv,color:"green",models:[{value:"gpt-4-turbo",label:"GPT-4 Turbo (Recommande)"},{value:"gpt-4o",label:"GPT-4o"},{value:"gpt-4o-mini",label:"GPT-4o Mini (Economique)"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo (Rapide)"}],placeholder:"sk-...",description:"Solution OpenAI populaire",hasOrganization:!0},mistral:{name:"Mistral AI",icon:Qle,color:"orange",models:[{value:"mistral-large-latest",label:"Mistral Large (Recommande)"},{value:"mistral-medium-latest",label:"Mistral Medium"},{value:"mistral-small-latest",label:"Mistral Small (Economique)"},{value:"codestral-latest",label:"Codestral (Code)"}],placeholder:"...",description:"IA francaise performante"},gemini:{name:"Google Gemini",icon:bv,color:"blue",models:[{value:"gemini-1.5-pro",label:"Gemini 1.5 Pro (Recommande)"},{value:"gemini-1.5-flash",label:"Gemini 1.5 Flash (Rapide)"},{value:"gemini-1.0-pro",label:"Gemini 1.0 Pro"}],placeholder:"AIza...",description:"IA Google avec contexte etendu",hasProjectId:!0},ollama:{name:"Ollama (Local)",icon:Eh,color:"gray",models:[{value:"llama3.1",label:"Llama 3.1 (Recommande)"},{value:"llama3.1:70b",label:"Llama 3.1 70B (Puissant)"},{value:"mistral",label:"Mistral"},{value:"codellama",label:"Code Llama"},{value:"qwen2.5",label:"Qwen 2.5"}],placeholder:"",description:"IA locale, gratuit, donnees privees",hasBaseUrl:!0,noApiKey:!0},custom:{name:"Personnalise",icon:TV,color:"primary",models:[],placeholder:"...",description:"Endpoint OpenAI-compatible",hasBaseUrl:!0,customModel:!0}};function LZ({onSave:r}){const{aiProviders:e,setActiveAIProvider:t,updateProviderConfig:n,getActiveAIConfig:i}=Ps(),[s,a]=K.useState({}),[o,l]=K.useState(null),[c,u]=K.useState({}),d=e.activeProvider,h=async m=>{if(m==="none")return;const v=e.providers[m];if(!(!v?.apiKey&&m!=="ollama")){l(m),u(y=>({...y,[m]:"idle"}));try{const b={claude:"claude",openai:"openai",mistral:"mistral",ollama:"ollama",gemini:"openai",custom:"openai"}[m];if(!b){u(_=>({..._,[m]:"invalid"}));return}const w=await pFe.testConnection({provider:b,apiKey:v.apiKey,model:v.model,temperature:v.temperature||.3,maxTokens:v.maxTokens||4e3,baseUrl:v.baseUrl});u(_=>({..._,[m]:w.valid?"valid":"invalid"})),w.valid&&n(m,{enabled:!0})}catch(y){console.error("Validation error:",y),u(b=>({...b,[m]:"invalid"}))}finally{l(null)}}},f=m=>m?m.length<=8?"********":m.substring(0,4)+"************"+m.substring(m.length-4):"",p=m=>{const v={purple:"from-purple-50 to-purple-100 border-purple-200",green:"from-green-50 to-green-100 border-green-200",orange:"from-orange-50 to-orange-100 border-orange-200",blue:"from-blue-50 to-blue-100 border-blue-200",gray:"from-primary-50 to-primary-100 border-primary-200",primary:"from-primary-50 to-primary-100 border-primary-200"};return v[m]||v.primary},g=m=>{if(m==="none")return null;const v=p9[m];if(!v)return null;const y=e.providers[m],b=v.icon,w=d===m,_=c[m]==="valid";return A.jsxs("div",{className:`p-4 border-2 rounded-lg transition-all cursor-pointer ${w?`bg-gradient-to-br ${p(v.color)} border-${v.color}-500`:"border-primary-200 hover:border-primary-300 bg-white"}`,onClick:()=>t(m),children:[A.jsxs("div",{className:"flex items-start justify-between mb-3",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(b,{className:`w-5 h-5 ${w?`text-${v.color}-600`:"text-primary-500"}`}),A.jsx("span",{className:"font-medium text-primary-900",children:v.name})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[_&&A.jsx(al,{className:"w-4 h-4 text-green-500"}),A.jsx("input",{type:"radio",checked:w,onChange:()=>t(m),className:"w-4 h-4"})]})]}),A.jsx("p",{className:"text-xs text-primary-500 mb-3",children:v.description}),w&&A.jsxs("div",{className:"space-y-3 pt-3 border-t border-primary-200",children:[!v.noApiKey&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-primary-700 mb-1",children:"Cle API"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(er,{type:s[m]?"text":"password",value:s[m]?y.apiKey:f(y.apiKey),onChange:B=>n(m,{apiKey:B.target.value}),placeholder:v.placeholder,className:"pr-8 text-sm"}),A.jsx("button",{type:"button",onClick:()=>a(B=>({...B,[m]:!B[m]})),className:"absolute right-2 top-1/2 -translate-y-1/2 text-primary-400 hover:text-primary-600",children:s[m]?A.jsx(cy,{className:"w-4 h-4"}):A.jsx(ps,{className:"w-4 h-4"})})]}),A.jsx(Ye,{variant:"secondary",size:"sm",onClick:()=>h(m),disabled:o===m||!y.apiKey,children:o===m?A.jsx(Vl,{className:"w-4 h-4 animate-spin"}):c[m]==="valid"?A.jsx(al,{className:"w-4 h-4 text-green-500"}):c[m]==="invalid"?A.jsx(Cv,{className:"w-4 h-4 text-red-500"}):"Test"})]})]}),v.hasBaseUrl&&A.jsx(er,{label:"URL du serveur",value:y.baseUrl||"",onChange:B=>n(m,{baseUrl:B.target.value}),placeholder:m==="ollama"?"http://localhost:11434":"https://api.example.com/v1"}),v.hasOrganization&&A.jsx(er,{label:"Organisation (optionnel)",value:y.organization||"",onChange:B=>n(m,{organization:B.target.value}),placeholder:"org-..."}),v.hasProjectId&&A.jsx(er,{label:"Project ID (optionnel)",value:y.projectId||"",onChange:B=>n(m,{projectId:B.target.value}),placeholder:"my-project-123"}),v.customModel?A.jsx(er,{label:"Modele",value:y.model,onChange:B=>n(m,{model:B.target.value}),placeholder:"gpt-4-turbo, claude-3-opus, etc."}):A.jsx(Tn,{label:"Modele",value:y.model,onChange:B=>n(m,{model:B.target.value}),options:v.models}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-xs font-medium text-primary-700 mb-1",children:["Temperature: ",y.temperature?.toFixed(1)||"0.3"]}),A.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:y.temperature||.3,onChange:B=>n(m,{temperature:parseFloat(B.target.value)}),className:"w-full h-2 bg-primary-200 rounded-lg appearance-none cursor-pointer"}),A.jsxs("div",{className:"flex justify-between text-xs text-primary-400 mt-1",children:[A.jsx("span",{children:"Precis"}),A.jsx("span",{children:"Creatif"})]})]}),A.jsx(er,{type:"number",label:"Tokens maximum",value:y.maxTokens||4e3,onChange:B=>n(m,{maxTokens:parseInt(B.target.value)||4e3}),min:100,max:128e3,helperText:"Limite la longueur des reponses"}),A.jsxs("label",{className:"flex items-center gap-2 pt-2",children:[A.jsx("input",{type:"checkbox",checked:y.enabled,onChange:B=>n(m,{enabled:B.target.checked}),className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Activer ce provider"})]})]})]},m)};return A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ku,{className:"w-5 h-5 text-purple-500"}),A.jsx(lr,{children:"Providers d'Intelligence Artificielle"})]}),A.jsx(xa,{children:"Configurez et selectionnez le provider IA a utiliser pour l'analyse bancaire"})]}),A.jsxs(Ht,{className:"space-y-6",children:[A.jsxs("div",{className:`p-4 border-2 rounded-lg transition-all cursor-pointer ${d==="none"?"bg-primary-50 border-primary-500":"border-primary-200 hover:border-primary-300"}`,onClick:()=>t("none"),children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Cv,{className:"w-5 h-5 text-primary-400"}),A.jsx("span",{className:"font-medium text-primary-900",children:"Sans IA"})]}),A.jsx("input",{type:"radio",checked:d==="none",onChange:()=>t("none"),className:"w-4 h-4"})]}),A.jsx("p",{className:"text-xs text-primary-500 mt-2",children:"Utiliser uniquement les algorithmes de detection sans assistance IA"})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[g("claude"),g("openai"),g("mistral"),g("gemini"),g("ollama"),g("custom")]}),d!=="none"&&A.jsxs("div",{className:"p-4 bg-primary-50 rounded-lg",children:[A.jsx("h4",{className:"text-sm font-medium text-primary-700 mb-2",children:"Provider actif"}),A.jsx("div",{className:"flex items-center gap-3",children:(()=>{const m=p9[d],v=m?.icon||Ku;return A.jsxs(A.Fragment,{children:[A.jsx(v,{className:"w-5 h-5 text-primary-600"}),A.jsx("span",{className:"font-medium",children:m?.name}),A.jsxs("span",{className:"text-sm text-primary-500",children:["- ",e.providers[d]?.model]})]})})()})]})]}),A.jsx(Zf,{children:A.jsxs("div",{className:"flex items-center justify-between w-full",children:[A.jsx("p",{className:"text-xs text-primary-400",children:"Les appels API sont factures par le provider selon leur tarification."}),A.jsxs(Ye,{variant:"primary",onClick:r,children:[A.jsx(Oc,{className:"w-4 h-4"}),"Enregistrer"]})]})})]})}function DZ({onSave:r,initialTab:e="modules"}){const{thresholds:t,updateThresholds:n,resetThresholds:i,detectionModules:s,updateDetectionModules:a,resetDetectionModules:o}=Ps(),l=[{key:"duplicateFee",label:"Doublons",emoji:"",description:"Dtection des frais prlevs en double"},{key:"ghostFee",label:"Frais fantmes",emoji:"",description:"Frais sans service associ identifiable"},{key:"overcharge",label:"Surfacturation",emoji:"",description:"Frais suprieurs aux conditions contractuelles"},{key:"interestError",label:"Erreurs agios",emoji:"",description:"Calcul incorrect des intrts dbiteurs"}],c=[{key:"valueDateError",label:"Dates de valeur",emoji:"",description:"Dates de valeur non conformes"},{key:"suspiciousTransaction",label:"Oprations suspectes",emoji:"",description:"Transactions inhabituelles ou atypiques"},{key:"complianceViolation",label:"Non-conformits",emoji:"",description:"Violations des conditions contractuelles"},{key:"cashflowAnomaly",label:"Trsorerie",emoji:"",description:"Anomalies dans les flux de trsorerie"},{key:"reconciliationGap",label:"Rapprochement",emoji:"",description:"carts dans le rapprochement bancaire"},{key:"multiBankIssue",label:"Multi-banques",emoji:"",description:"Incohrences entre comptes bancaires"}],u=[{key:"ohadaCompliance",label:"Conformit OHADA",emoji:"",description:"Respect des normes comptables OHADA"},{key:"amlAlert",label:"Anti-blanchiment",emoji:"",description:"Alertes LCB-FT (obligation lgale)"}],d=[{key:"feeAnomaly",label:"Audit des frais",emoji:"",description:"Analyse complte par catgorie de frais"}],h=f=>A.jsxs("label",{className:"flex items-start gap-3 p-3 border border-primary-200 rounded-lg cursor-pointer hover:bg-primary-50 transition-colors",children:[A.jsx("input",{type:"checkbox",checked:s[f.key],onChange:p=>a({[f.key]:p.target.checked}),className:"w-4 h-4 mt-0.5"}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-lg",children:f.emoji}),A.jsx("span",{className:"text-sm font-medium text-primary-900",children:f.label})]}),A.jsx("p",{className:"text-xs text-primary-500 mt-0.5",children:f.description})]})]},f.key);return A.jsxs("div",{className:"space-y-6",children:[e==="modules"&&A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Mm,{className:"w-5 h-5 text-primary-500"}),A.jsx(lr,{children:"Modules de detection"})]}),A.jsx(xa,{children:"Activez ou desactivez les algorithmes de detection (fonctionne sans IA)"})]}),A.jsxs(Ht,{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-3 flex items-center gap-2",children:[A.jsx(As,{className:"w-4 h-4"}),"Detection de base"]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(h)})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-3 flex items-center gap-2",children:[A.jsx(oT,{className:"w-4 h-4"}),"Detection etendue"]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map(h)})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-3 flex items-center gap-2",children:[A.jsx(Hle,{className:"w-4 h-4"}),"Conformite reglementaire"]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:u.map(h)})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-3 flex items-center gap-2",children:[A.jsx(dT,{className:"w-4 h-4"}),"Audit des frais par categorie",A.jsx(Ep,{content:"Analyse detaillee: tenue de compte, cartes, virements, international, services annexes, packages"})]}),A.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.map(h)})]})]}),A.jsx(Zf,{children:A.jsxs("div",{className:"flex gap-3",children:[A.jsxs(Ye,{variant:"secondary",onClick:o,children:[A.jsx(Ww,{className:"w-4 h-4"}),"Reinitialiser modules"]}),A.jsxs(Ye,{variant:"primary",onClick:r,children:[A.jsx(Oc,{className:"w-4 h-4"}),"Enregistrer"]})]})})]}),e==="thresholds"&&A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(FV,{className:"w-5 h-5 text-primary-500"}),A.jsx(lr,{children:"Seuils de detection"})]}),A.jsx(xa,{children:"Ajustez la sensibilite des algorithmes de detection"})]}),A.jsxs(Ht,{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:["Detection des doublons",A.jsx(Ep,{content:"Parametres pour identifier les transactions en double"})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[A.jsx(er,{type:"number",label:"Seuil de similarite",value:t.duplicateDetection.similarityThreshold*100,onChange:f=>n({duplicateDetection:{...t.duplicateDetection,similarityThreshold:Number(f.target.value)/100}}),helperText:"% de similarite minimum",min:50,max:100}),A.jsx(er,{type:"number",label:"Fenetre temporelle",value:t.duplicateDetection.timeWindowDays,onChange:f=>n({duplicateDetection:{...t.duplicateDetection,timeWindowDays:Number(f.target.value)}}),helperText:"Jours de recherche",min:1,max:30}),A.jsx(er,{type:"number",label:"Tolerance montant",value:t.duplicateDetection.amountTolerance*100,onChange:f=>n({duplicateDetection:{...t.duplicateDetection,amountTolerance:Number(f.target.value)/100}}),helperText:"% de difference acceptee",min:0,max:10})]})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:["Detection des frais fantomes",A.jsx(Ep,{content:"Parametres pour identifier les frais sans service associe"})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[A.jsx(er,{type:"number",label:"Seuil d'entropie",value:t.ghostFeeDetection.entropyThreshold,onChange:f=>n({ghostFeeDetection:{...t.ghostFeeDetection,entropyThreshold:Number(f.target.value)}}),helperText:"Complexite de description",min:1,max:5,step:.5}),A.jsx(er,{type:"number",label:"Fenetre service",value:t.ghostFeeDetection.orphanWindowDays,onChange:f=>n({ghostFeeDetection:{...t.ghostFeeDetection,orphanWindowDays:Number(f.target.value)}}),helperText:"Jours de recherche service",min:1,max:7}),A.jsx(er,{type:"number",label:"Confiance minimum",value:t.ghostFeeDetection.minConfidence*100,onChange:f=>n({ghostFeeDetection:{...t.ghostFeeDetection,minConfidence:Number(f.target.value)/100}}),helperText:"% de confiance",min:50,max:100})]})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:["Detection des surfacturations",A.jsx(Ep,{content:"Parametres pour comparer aux tarifs officiels"})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsx(er,{type:"number",label:"Tolerance",value:t.overchargeDetection.tolerancePercentage*100,onChange:f=>n({overchargeDetection:{...t.overchargeDetection,tolerancePercentage:Number(f.target.value)/100}}),helperText:"% de depassement accepte",min:0,max:20}),A.jsx("div",{className:"flex items-end",children:A.jsxs("label",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md w-full",children:[A.jsx("input",{type:"checkbox",checked:t.overchargeDetection.useHistoricalBaseline,onChange:f=>n({overchargeDetection:{...t.overchargeDetection,useHistoricalBaseline:f.target.checked}}),className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Utiliser l'historique comme reference"})]})})]})]})]}),A.jsx(Zf,{children:A.jsxs("div",{className:"flex gap-3",children:[A.jsxs(Ye,{variant:"secondary",onClick:i,children:[A.jsx(Ww,{className:"w-4 h-4"}),"Reinitialiser"]}),A.jsxs(Ye,{variant:"primary",onClick:r,children:[A.jsx(Oc,{className:"w-4 h-4"}),"Enregistrer"]})]})})]})]})}function Qb({title:r,icon:e,description:t,techniques:n,complexity:i}){return A.jsxs("div",{className:"p-4 border border-primary-200 rounded-lg bg-white",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[A.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:e}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-medium text-primary-900",children:r}),i&&A.jsxs("span",{className:"text-xs text-primary-500",children:["Complexite: ",i]})]})]}),A.jsx("p",{className:"text-sm text-primary-600 mb-3",children:t}),A.jsx("div",{className:"space-y-2",children:n.map((s,a)=>A.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[A.jsx(aT,{className:"w-3 h-3 text-blue-500 mt-0.5 flex-shrink-0"}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-medium text-primary-800",children:[s.name,":"]})," ",A.jsx("span",{className:"text-primary-600",children:s.detail})]})]},a))})]})}function UZ(){return A.jsx("div",{className:"space-y-6",children:A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Eh,{className:"w-5 h-5 text-blue-600"}),A.jsx(lr,{children:"Algorithmes de Detection"})]}),A.jsx(xa,{children:"Techniques algorithmiques utilisees pour l'audit automatique des releves bancaires"})]}),A.jsxs(Ht,{children:[A.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:A.jsxs("p",{className:"text-sm text-blue-800",children:["Scrutix utilise des algorithmes deterministes bases sur la theorie de l'information, la similarite de chaines et les calculs financiers. Ces algorithmes fonctionnent",A.jsx("strong",{children:" sans intelligence artificielle"})," et produisent des resultats explicables et auditables."]})}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[A.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[A.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"4"}),A.jsx("p",{className:"text-xs text-orange-700",children:"Core"})]}),A.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[A.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"8"}),A.jsx("p",{className:"text-xs text-purple-700",children:"Etendus"})]}),A.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[A.jsx("p",{className:"text-2xl font-bold text-green-600",children:"6"}),A.jsx("p",{className:"text-xs text-green-700",children:"Audit Frais"})]})]}),A.jsxs("h3",{className:"text-sm font-semibold text-primary-900 mb-4 flex items-center gap-2",children:[A.jsx(Sle,{className:"w-4 h-4"}),"Detecteurs Principaux (4)"]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[A.jsx(Qb,{title:"Detection des Doublons",icon:A.jsx(So,{className:"w-5 h-5 text-orange-600"}),description:"Identifie les transactions dupliquees ou quasi-identiques dans une fenetre temporelle.",complexity:"O(n)",techniques:[{name:"Jaccard Index",detail:"Similarite par intersection/union de tokens"},{name:"Levenshtein",detail:"Distance d'edition entre descriptions"},{name:"Decroissance exponentielle",detail:"Poids temporel (plus proche = plus suspect)"},{name:"Score composite",detail:"Montant (40%) + Description (40%) + Date (20%)"}]}),A.jsx(Qb,{title:"Detection Frais Fantomes",icon:A.jsx(Ale,{className:"w-5 h-5 text-purple-600"}),description:"Detecte les frais sans transaction de service associee dans une fenetre temporelle.",complexity:"O(n)",techniques:[{name:"Entropie Shannon",detail:"H = -Sum(p_i  log2(p_i)) pour detecter textes suspects"},{name:"Pattern matching",detail:"Regex pour classifier frais vs services"},{name:"Score multi-facteurs",detail:"7 criteres ponderes (description, service, montant...)"},{name:"Detection recurrence",detail:"Meme frais 2+ fois en 3 mois"}]}),A.jsx(Qb,{title:"Detection Surfacturation",icon:A.jsx(Vw,{className:"w-5 h-5 text-red-600"}),description:"Compare les frais factures aux conditions contractuelles et a l'historique.",complexity:"O(n)",techniques:[{name:"Comparaison tarifaire",detail:"Frais vs conditions bancaires officielles"},{name:"Baseline historique",detail:"Moyenne mobile des frais passes (+20% seuil)"},{name:"Classification service",detail:"Regex pour type de service (virement, carte, DAB...)"},{name:"Tolerance parametrable",detail:"Defaut 2% au-dessus du tarif attendu"}]}),A.jsx(Qb,{title:"Verification Agios",icon:A.jsx($le,{className:"w-5 h-5 text-green-600"}),description:"Recalcule les interets jour par jour selon la convention ACT/360.",complexity:"O(nd)",techniques:[{name:"ACT/360",detail:"Convention bancaire standard (annee de 360 jours)"},{name:"Calcul journalier",detail:"Interet = Solde  (Taux / 360) par jour debiteur"},{name:"Detection periode",detail:"Identification automatique du mois de reference"},{name:"Tolerance",detail:"max(1 FCFA, 1% du theorique)"}]})]}),A.jsxs("h3",{className:"text-sm font-semibold text-primary-900 mb-4 flex items-center gap-2",children:[A.jsx(aT,{className:"w-4 h-4"}),"Fonctions Utilitaires"]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[A.jsx("h5",{className:"font-medium text-primary-900 text-sm mb-2",children:"Similarite"}),A.jsxs("ul",{className:"text-xs text-primary-600 space-y-1",children:[A.jsx("li",{children:" Levenshtein Distance"}),A.jsx("li",{children:" Jaccard Similarity"}),A.jsx("li",{children:" Amount Similarity (tolerance %)"}),A.jsx("li",{children:" Time Similarity (decay)"}),A.jsx("li",{children:" Transaction Similarity (composite)"})]})]}),A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[A.jsx("h5",{className:"font-medium text-primary-900 text-sm mb-2",children:"Entropie"}),A.jsxs("ul",{className:"text-xs text-primary-600 space-y-1",children:[A.jsx("li",{children:" Shannon Entropy (caracteres)"}),A.jsx("li",{children:" Word-Level Entropy"}),A.jsx("li",{children:" Normalized Entropy"}),A.jsx("li",{children:" Randomness Analysis"}),A.jsx("li",{children:" Fee Suspicion Score"})]})]}),A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg",children:[A.jsx("h5",{className:"font-medium text-primary-900 text-sm mb-2",children:"Classification"}),A.jsxs("ul",{className:"text-xs text-primary-600 space-y-1",children:[A.jsx("li",{children:" Regex patterns (frais/services)"}),A.jsx("li",{children:" Service type mapping"}),A.jsx("li",{children:" Severity calculation"}),A.jsx("li",{children:" Confidence scoring"}),A.jsx("li",{children:" Evidence generation"})]})]})]}),A.jsxs("h3",{className:"text-sm font-semibold text-primary-900 mb-4 flex items-center gap-2",children:[A.jsx(Sh,{className:"w-4 h-4"}),"Seuils par Defaut"]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-xs",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b border-primary-200",children:[A.jsx("th",{className:"text-left py-2 px-3 font-medium text-primary-700",children:"Detecteur"}),A.jsx("th",{className:"text-left py-2 px-3 font-medium text-primary-700",children:"Parametre"}),A.jsx("th",{className:"text-left py-2 px-3 font-medium text-primary-700",children:"Valeur"}),A.jsx("th",{className:"text-left py-2 px-3 font-medium text-primary-700",children:"Description"})]})}),A.jsxs("tbody",{className:"divide-y divide-primary-100",children:[A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Doublons"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"similarityThreshold"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"0.85"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"85% similarite minimum"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Doublons"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"timeWindowDays"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"5"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"Fenetre de 5 jours"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Doublons"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"amountTolerance"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"0.01"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"1% tolerance montant"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Frais fantomes"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"entropyThreshold"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"2.5"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"Entropie minimum"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Frais fantomes"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"orphanWindowDays"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"1"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"Recherche service 1 jour"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Frais fantomes"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"minConfidence"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"0.70"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"70% confiance minimum"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Surfacturation"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"tolerancePercentage"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"0.02"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"2% au-dessus du tarif"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Agios"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"toleranceAmount"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"1"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"1 FCFA de tolerance"})]}),A.jsxs("tr",{children:[A.jsx("td",{className:"py-2 px-3 text-primary-900",children:"Agios"}),A.jsx("td",{className:"py-2 px-3 text-primary-600",children:"dayCountConvention"}),A.jsx("td",{className:"py-2 px-3 font-mono text-blue-600",children:"ACT/360"}),A.jsx("td",{className:"py-2 px-3 text-primary-500",children:"Standard bancaire"})]})]})]})}),A.jsxs("div",{className:"mt-6 p-4 bg-primary-50 rounded-lg",children:[A.jsx("h4",{className:"text-sm font-medium text-primary-900 mb-3",children:"Classification des Severites"}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"w-3 h-3 rounded-full bg-red-600"}),A.jsxs("span",{children:[A.jsx("strong",{children:"CRITICAL:"})," ",">","50K FCFA ou fraude"]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"w-3 h-3 rounded-full bg-orange-500"}),A.jsxs("span",{children:[A.jsx("strong",{children:"HIGH:"})," ",">","20K FCFA"]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-500"}),A.jsxs("span",{children:[A.jsx("strong",{children:"MEDIUM:"})," ",">","5K FCFA"]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-500"}),A.jsxs("span",{children:[A.jsx("strong",{children:"LOW:"})," ","<","5K FCFA"]})]})]})]})]})]})})}function HZ({onSave:r}){const{preferences:e,updatePreferences:t,resetPreferences:n}=Ps();return A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Ji,{className:"w-5 h-5 text-primary-500"}),A.jsx(lr,{children:"Preferences"})]}),A.jsx(xa,{children:"Personnalisez l'affichage et le comportement de l'application"})]}),A.jsx(Ht,{className:"space-y-4",children:A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsx(Tn,{label:"Devise",value:e.currency,onChange:i=>t({currency:i.target.value}),options:[{value:"XAF",label:"FCFA (XAF)"},{value:"XOF",label:"FCFA (XOF)"},{value:"EUR",label:"Euro (EUR)"},{value:"USD",label:"Dollar (USD)"}]}),A.jsx(Tn,{label:"Format de date",value:e.dateFormat,onChange:i=>t({dateFormat:i.target.value}),options:[{value:"dd/MM/yyyy",label:"JJ/MM/AAAA"},{value:"MM/dd/yyyy",label:"MM/JJ/AAAA"},{value:"yyyy-MM-dd",label:"AAAA-MM-JJ"}]}),A.jsx(Tn,{label:"Elements par page",value:String(e.pageSize),onChange:i=>t({pageSize:Number(i.target.value)}),options:[{value:"10",label:"10"},{value:"25",label:"25"},{value:"50",label:"50"},{value:"100",label:"100"}]}),A.jsx("div",{className:"flex items-end",children:A.jsxs("label",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md w-full",children:[A.jsx("input",{type:"checkbox",checked:e.showConfidenceScores,onChange:i=>t({showConfidenceScores:i.target.checked}),className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Afficher les scores de confiance"})]})})]})}),A.jsx(Zf,{children:A.jsxs("div",{className:"flex gap-3",children:[A.jsxs(Ye,{variant:"secondary",onClick:n,children:[A.jsx(Ww,{className:"w-4 h-4"}),"Reinitialiser"]}),A.jsxs(Ye,{variant:"primary",onClick:r,children:[A.jsx(Oc,{className:"w-4 h-4"}),"Enregistrer"]})]})})]})}const m9="",mFe="",gFe="https://www.googleapis.com/auth/drive.file",vFe="https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",g9="Scrutix_Backups";class yFe{tokenClient=null;gapiInited=!1;gisInited=!1;accessToken=null;scrutixFolderId=null;async initialize(){try{return await this.loadGoogleScripts(),await this.initializeGapi(),await this.initializeGis(),!0}catch(e){return console.error("Erreur initialisation Google Drive:",e),!1}}async loadGoogleScripts(){window.gapi||await new Promise((e,t)=>{const n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=()=>e(),n.onerror=()=>t(new Error("Echec chargement GAPI")),document.body.appendChild(n)}),window.google?.accounts||await new Promise((e,t)=>{const n=document.createElement("script");n.src="https://accounts.google.com/gsi/client",n.onload=()=>e(),n.onerror=()=>t(new Error("Echec chargement GIS")),document.body.appendChild(n)})}async initializeGapi(){await new Promise(e=>{window.gapi.load("client",e)}),await window.gapi.client.init({apiKey:mFe,discoveryDocs:[vFe]}),this.gapiInited=!0}async initializeGis(){this.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:m9,scope:gFe,callback:""}),this.gisInited=!0}async connect(){return(!this.gapiInited||!this.gisInited)&&await this.initialize(),new Promise(e=>{this.tokenClient.callback=async t=>{if(t.error){e({isConnected:!1});return}this.accessToken=t.access_token;const n=await this.getStatus();await this.getOrCreateScrutixFolder(),e(n)},this.accessToken===null?this.tokenClient.requestAccessToken({prompt:"consent"}):this.tokenClient.requestAccessToken({prompt:""})})}disconnect(){this.accessToken&&(window.google.accounts.oauth2.revoke(this.accessToken),this.accessToken=null,this.scrutixFolderId=null)}async getStatus(){if(!this.accessToken)return{isConnected:!1};try{const e=await window.gapi.client.drive.about.get({fields:"user,storageQuota"}),t=e.result.user,n=e.result.storageQuota;return{isConnected:!0,userEmail:t.emailAddress,userName:t.displayName,userPhoto:t.photoLink,quotaUsed:parseInt(n.usage||"0"),quotaTotal:parseInt(n.limit||"0")}}catch(e){return console.error("Erreur statut Drive:",e),{isConnected:!1}}}async getOrCreateScrutixFolder(){if(this.scrutixFolderId)return this.scrutixFolderId;try{const e=await window.gapi.client.drive.files.list({q:`name='${g9}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,fields:"files(id, name)"});if(e.result.files&&e.result.files.length>0)return this.scrutixFolderId=e.result.files[0].id,this.scrutixFolderId;const t=await window.gapi.client.drive.files.create({resource:{name:g9,mimeType:"application/vnd.google-apps.folder"},fields:"id"});return this.scrutixFolderId=t.result.id,this.scrutixFolderId}catch(e){throw console.error("Erreur creation dossier:",e),e}}async backup(e,t){if(!this.accessToken)return{success:!1,error:"Non connecte a Google Drive"};try{const n=await this.getOrCreateScrutixFolder(),i=JSON.stringify(e,null,2),s=new Blob([i],{type:"application/json"}),a=await this.findFile(t);if(a){const o=await this.updateFile(a.id,s);return{success:!0,fileId:a.id,fileName:t}}else{const o={name:t,parents:[n],mimeType:"application/json"},l=new FormData;l.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),l.append("file",s);const u=await(await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`},body:l})).json();return u.id?{success:!0,fileId:u.id,fileName:t}:{success:!1,error:"Echec creation fichier"}}}catch(n){return console.error("Erreur backup:",n),{success:!1,error:n instanceof Error?n.message:"Erreur inconnue"}}}async updateFile(e,t){return(await fetch(`https://www.googleapis.com/upload/drive/v3/files/${e}?uploadType=media`,{method:"PATCH",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:t})).json()}async findFile(e){try{const t=await this.getOrCreateScrutixFolder(),n=await window.gapi.client.drive.files.list({q:`name='${e}' and '${t}' in parents and trashed=false`,fields:"files(id, name, size, createdTime, modifiedTime, mimeType)"});if(n.result.files&&n.result.files.length>0){const i=n.result.files[0];return{id:i.id,name:i.name,size:parseInt(i.size||"0"),createdAt:new Date(i.createdTime),modifiedAt:new Date(i.modifiedTime),mimeType:i.mimeType}}return null}catch(t){return console.error("Erreur recherche fichier:",t),null}}async listBackups(){if(!this.accessToken)return[];try{const e=await this.getOrCreateScrutixFolder();return((await window.gapi.client.drive.files.list({q:`'${e}' in parents and trashed=false`,fields:"files(id, name, size, createdTime, modifiedTime, mimeType)",orderBy:"modifiedTime desc"})).result.files||[]).map(n=>({id:n.id,name:n.name,size:parseInt(n.size||"0"),createdAt:new Date(n.createdTime),modifiedAt:new Date(n.modifiedTime),mimeType:n.mimeType}))}catch(e){return console.error("Erreur liste backups:",e),[]}}async restore(e){if(!this.accessToken)return{success:!1,error:"Non connecte a Google Drive"};try{const t=await fetch(`https://www.googleapis.com/drive/v3/files/${e}?alt=media`,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!t.ok)throw new Error("Echec telechargement fichier");return{success:!0,data:await t.json()}}catch(t){return console.error("Erreur restauration:",t),{success:!1,error:t instanceof Error?t.message:"Erreur inconnue"}}}async deleteBackup(e){if(!this.accessToken)return!1;try{return await window.gapi.client.drive.files.delete({fileId:e}),!0}catch(t){return console.error("Erreur suppression:",t),!1}}isConfigured(){return!!m9}}const Ud=new yFe;function QZ(){const{cloudBackup:r,updateCloudBackup:e,disconnectCloud:t}=Ps(),[n,i]=K.useState(!1),[s,a]=K.useState(!1),[o,l]=K.useState([]),[c,u]=K.useState(!1),[d,h]=K.useState(null),[f,p]=K.useState(null),g=async()=>{i(!0),h(null);try{await Ud.initialize();const R=await Ud.connect();R.isConnected?(e({provider:"google_drive",isConnected:!0,userEmail:R.userEmail||null,userName:R.userName||null}),p("Connecte a Google Drive"),await v()):h("Echec de la connexion a Google Drive")}catch(R){h(R instanceof Error?R.message:"Erreur de connexion")}finally{i(!1)}},m=()=>{Ud.disconnect(),t(),l([]),p("Deconnecte de Google Drive")},v=async()=>{u(!0);try{const R=await Ud.listBackups();l(R)}catch(R){console.error("Erreur chargement backups:",R)}finally{u(!1)}},y=async()=>{a(!0),h(null);try{const R={version:"1.0",exportedAt:new Date().toISOString(),settings:Ps.getState()},j=`scrutix-backup-${new Date().toISOString().slice(0,10)}.json`,k=await Ud.backup(R,j);k.success?(e({lastBackupAt:new Date().toISOString(),lastBackupStatus:"success"}),p(`Backup cree: ${k.fileName}`),await v()):(e({lastBackupStatus:"failed"}),h(k.error||"Echec du backup"))}catch(R){e({lastBackupStatus:"failed"}),h(R instanceof Error?R.message:"Erreur de backup")}finally{a(!1)}},b=async R=>{h(null);try{const j=await Ud.restore(R);if(j.success&&j.data){const k=j.data;k.settings&&Ps.setState({thresholds:k.settings.thresholds,preferences:k.settings.preferences,bankConditions:k.settings.bankConditions}),p("Donnees restaurees avec succes")}else h(j.error||"Echec de la restauration")}catch(j){h(j instanceof Error?j.message:"Erreur de restauration")}},w=async R=>{if(!confirm("Supprimer ce backup ?"))return;await Ud.deleteBackup(R)?(l(o.filter(k=>k.id!==R)),p("Backup supprime")):h("Echec de la suppression")},_=R=>R<1024?`${R} B`:R<1024*1024?`${(R/1024).toFixed(1)} KB`:`${(R/(1024*1024)).toFixed(1)} MB`,B=Ud.isConfigured();return A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(bv,{className:"w-5 h-5 text-blue-500"}),A.jsx(lr,{children:"Sauvegarde Cloud"})]}),A.jsx(xa,{children:"Sauvegardez vos donnees sur Google Drive"})]}),A.jsx(Ht,{className:"space-y-6",children:B?A.jsxs(A.Fragment,{children:[d&&A.jsx(kc,{variant:"error",title:"Erreur",children:d}),f&&A.jsx(kc,{variant:"success",title:"Succes",children:f}),A.jsxs("div",{className:"flex items-center justify-between p-4 border border-primary-200 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[r.isConnected?A.jsx(al,{className:"w-5 h-5 text-green-500"}):A.jsx(WM,{className:"w-5 h-5 text-primary-400"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:r.isConnected?"Connecte":"Non connecte"}),r.isConnected&&r.userEmail&&A.jsx("p",{className:"text-sm text-primary-500",children:r.userEmail})]})]}),r.isConnected?A.jsxs(Ye,{variant:"secondary",onClick:m,children:[A.jsx(WM,{className:"w-4 h-4"}),"Deconnecter"]}):A.jsxs(Ye,{variant:"primary",onClick:g,disabled:n,children:[n?A.jsx(Vl,{className:"w-4 h-4 animate-spin"}):A.jsx(bv,{className:"w-4 h-4"}),"Connecter Google Drive"]})]}),r.isConnected&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"flex items-center gap-3 p-3 border border-primary-200 rounded-md",children:[A.jsx("input",{type:"checkbox",checked:r.autoBackup,onChange:R=>e({autoBackup:R.target.checked}),className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Backup automatique"})]}),A.jsx(Tn,{label:"Frequence",value:r.backupFrequency,onChange:R=>e({backupFrequency:R.target.value}),options:[{value:"daily",label:"Quotidien"},{value:"weekly",label:"Hebdomadaire"},{value:"manual",label:"Manuel uniquement"}],disabled:!r.autoBackup})]}),r.lastBackupAt&&A.jsx("div",{className:"p-3 bg-primary-50 rounded-lg text-sm",children:A.jsxs("div",{className:"flex items-center gap-2",children:[r.lastBackupStatus==="success"?A.jsx(al,{className:"w-4 h-4 text-green-500"}):A.jsx(Cv,{className:"w-4 h-4 text-red-500"}),A.jsxs("span",{children:["Dernier backup: ",new Date(r.lastBackupAt).toLocaleString("fr-FR")]})]})}),A.jsxs(Ye,{variant:"primary",onClick:y,disabled:s,className:"w-full",children:[s?A.jsx(Vl,{className:"w-4 h-4 animate-spin"}):A.jsx(vs,{className:"w-4 h-4"}),"Sauvegarder maintenant"]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-3",children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 flex items-center gap-2",children:[A.jsx(lT,{className:"w-4 h-4"}),"Sauvegardes disponibles"]}),A.jsx(Ye,{variant:"ghost",size:"sm",onClick:v,disabled:c,children:A.jsx(hy,{className:`w-4 h-4 ${c?"animate-spin":""}`})})]}),o.length===0?A.jsx("p",{className:"text-sm text-primary-400 text-center py-4",children:"Aucune sauvegarde"}):A.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:o.map(R=>A.jsxs("div",{className:"flex items-center justify-between p-3 border border-primary-200 rounded-lg hover:bg-primary-50",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-primary-900",children:R.name}),A.jsxs("p",{className:"text-xs text-primary-400",children:[_(R.size)," - ",new Date(R.modifiedAt).toLocaleDateString("fr-FR")]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>b(R.id),title:"Restaurer",children:A.jsx(Mc,{className:"w-4 h-4"})}),A.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>w(R.id),title:"Supprimer",children:A.jsx(Ds,{className:"w-4 h-4 text-red-500"})})]})]},R.id))})]})]})]}):A.jsx(kc,{variant:"warning",title:"Configuration requise",children:A.jsx("p",{children:"Configurez les variables d'environnement VITE_GOOGLE_CLIENT_ID et VITE_GOOGLE_API_KEY pour activer Google Drive."})})})]})}function bFe(){const[r,e]=K.useState(null),[t,n]=K.useState(null),[i,s]=K.useState(!1),[a,o]=K.useState(!1),[l,c]=K.useState(null),u=K.useRef(null),d=El.getDataStats(),h=El.getStoredVersion(),f=()=>{e(null),n(null)},p=()=>{f();try{const B=El.exportSettings();El.downloadBackup(B),e("Parametres exportes avec succes")}catch{n("Erreur lors de l'export des parametres")}},g=()=>{f();try{const B=El.exportAll();El.downloadBackup(B),e("Sauvegarde complete exportee avec succes")}catch{n("Erreur lors de l'export complet")}},m=()=>{f(),u.current?.click()},v=async B=>{const R=B.target.files?.[0];if(R){s(!0),f();try{const j=await El.readBackupFile(R);c(j)}catch(j){n(j instanceof Error?j.message:"Erreur de lecture du fichier")}finally{s(!1),u.current&&(u.current.value="")}}},y=()=>{if(l)try{l.type==="full"?(El.restoreAll(l),e("Toutes les donnees ont ete restaurees. Rechargement..."),setTimeout(()=>window.location.reload(),1500)):(El.restoreSettings(l),e("Parametres restaures avec succes. Rechargement..."),setTimeout(()=>window.location.reload(),1500))}catch{n("Erreur lors de la restauration")}finally{c(null)}},b=()=>{c(null)},w=()=>{El.resetAll()},_=B=>new Date(B).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return A.jsxs("div",{className:"space-y-6",children:[A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(lT,{className:"w-5 h-5 text-primary-700"}),A.jsx(lr,{children:"Sauvegarde Locale"})]}),A.jsx(xa,{children:"Exportez et importez vos donnees en fichier JSON"})]}),A.jsxs(Ht,{className:"space-y-6",children:[t&&A.jsx(kc,{variant:"error",title:"Erreur",children:t}),r&&A.jsx(kc,{variant:"success",title:"Succes",children:r}),A.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary-50 rounded-lg",children:[A.jsx(uy,{className:"w-5 h-5 text-primary-500"}),A.jsxs("div",{className:"text-sm",children:[A.jsx("span",{className:"text-primary-600",children:"Version de l'application: "}),A.jsx("span",{className:"font-mono font-medium",children:Go}),h&&h!==Go&&A.jsxs("span",{className:"ml-2 text-amber-600",children:["(mise a jour depuis ",h,")"]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:d.transactionsCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Transactions"})]}),A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:d.anomaliesCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Anomalies"})]}),A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:d.clientsCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Clients"})]}),A.jsxs("div",{className:"p-3 bg-primary-50 rounded-lg text-center",children:[A.jsx("p",{className:"text-2xl font-bold text-primary-900",children:d.invoicesCount}),A.jsx("p",{className:"text-xs text-primary-500",children:"Factures"})]})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 flex items-center gap-2",children:[A.jsx(Mc,{className:"w-4 h-4"}),"Exporter"]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[A.jsxs("button",{onClick:p,className:"flex items-center gap-3 p-4 border border-primary-200 rounded-lg hover:bg-primary-50 transition-colors text-left",children:[A.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:A.jsx(vA,{className:"w-5 h-5 text-blue-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Parametres uniquement"}),A.jsx("p",{className:"text-xs text-primary-500",children:"Configuration, banques, seuils"})]})]}),A.jsxs("button",{onClick:g,className:"flex items-center gap-3 p-4 border border-primary-200 rounded-lg hover:bg-primary-50 transition-colors text-left",children:[A.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:A.jsx(yle,{className:"w-5 h-5 text-green-600"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Sauvegarde complete"}),A.jsx("p",{className:"text-xs text-primary-500",children:"Toutes les donnees de l'application"})]})]})]})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 flex items-center gap-2",children:[A.jsx(vs,{className:"w-4 h-4"}),"Importer"]}),A.jsx("input",{ref:u,type:"file",accept:".json",onChange:v,className:"hidden"}),A.jsxs(Ye,{variant:"secondary",onClick:m,disabled:i,className:"w-full",children:[i?A.jsx(hy,{className:"w-4 h-4 animate-spin"}):A.jsx(xle,{className:"w-4 h-4"}),"Selectionner un fichier de sauvegarde"]}),A.jsx("p",{className:"text-xs text-primary-400 text-center",children:"Formats acceptes: scrutix-backup-*.json, scrutix-settings-*.json"})]}),l&&A.jsxs("div",{className:"p-4 border border-amber-200 bg-amber-50 rounded-lg space-y-3",children:[A.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[A.jsx(As,{className:"w-5 h-5"}),A.jsx("span",{className:"font-medium",children:"Confirmer l'importation"})]}),A.jsxs("div",{className:"text-sm text-amber-700 space-y-1",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Type:"})," ",l.type==="full"?"Sauvegarde complete":"Parametres"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Date d'export:"})," ",_(l.exportDate)]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Version:"})," ",l.appVersion||"Non specifiee"]})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs(Ye,{variant:"primary",onClick:y,className:"flex-1",children:[A.jsx(al,{className:"w-4 h-4"}),"Restaurer"]}),A.jsx(Ye,{variant:"secondary",onClick:b,className:"flex-1",children:"Annuler"})]})]}),A.jsx("div",{className:"pt-4 border-t border-primary-100",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-red-600",children:"Reinitialiser l'application"}),A.jsx("p",{className:"text-xs text-primary-500",children:"Supprimer toutes les donnees et revenir a l'etat initial"})]}),A.jsxs(Ye,{variant:"danger",size:"sm",onClick:()=>o(!0),children:[A.jsx(Ds,{className:"w-4 h-4"}),"Reinitialiser"]})]})})]})]}),A.jsxs(it,{children:[A.jsx(or,{children:A.jsx(lr,{children:"Procedure de mise a jour"})}),A.jsx(Ht,{children:A.jsxs("div",{className:"space-y-4 text-sm",children:[A.jsxs("div",{className:"flex gap-3",children:[A.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-900 text-white flex items-center justify-center text-xs font-bold flex-shrink-0",children:"1"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Avant la mise a jour"}),A.jsx("p",{className:"text-primary-500",children:'Cliquez sur "Sauvegarde complete" pour exporter vos donnees'})]})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-900 text-white flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Mise a jour"}),A.jsx("p",{className:"text-primary-500",children:"Remplacez l'ancien fichier par la nouvelle version"})]})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("div",{className:"w-6 h-6 rounded-full bg-primary-900 text-white flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Apres la mise a jour"}),A.jsx("p",{className:"text-primary-500",children:'Cliquez sur "Importer" et selectionnez votre fichier de sauvegarde'})]})]})]})})]}),A.jsx(HV,{isOpen:a,onClose:()=>o(!1),onConfirm:w,title:"Reinitialiser l'application",message:"Cette action supprimera TOUTES vos donnees: transactions, clients, factures, parametres. Cette action est irreversible. Etes-vous sur de vouloir continuer?",confirmLabel:"Oui, tout supprimer",cancelLabel:"Annuler",variant:"danger"})]})}const XS={name:"",shortName:"",region:"OTHER",type:"other",baseUrl:"",searchUrl:"",description:"",enabled:!0,country:""};function $Z(){const{regulatorySources:r,updateRegulatorySources:e,toggleRegulatorySource:t,addCustomSource:n,updateCustomSource:i,deleteCustomSource:s,toggleCustomSource:a}=Ps(),[o,l]=K.useState(""),[c,u]=K.useState([]),[d,h]=K.useState(!1),[f,p]=K.useState(!1),[g,m]=K.useState(null),[v,y]=K.useState(XS),[b,w]=K.useState(null),_=()=>{m(null),y(XS),p(!0)},B=I=>{m(I),y({name:I.name,shortName:I.shortName,region:I.region,type:I.type,baseUrl:I.baseUrl,searchUrl:I.searchUrl||"",description:I.description,enabled:I.enabled,country:I.country||""}),p(!0)},R=()=>{!v.name||!v.shortName||!v.baseUrl||(g?i(g.id,v):n(v),p(!1),y(XS),m(null))},j=I=>{s(I),w(null)},k=async()=>{if(o.trim()){h(!0);try{const I=Object.entries(r.sources).filter(([P,N])=>N).map(([P])=>P),T=await mN.search(o,{region:r.region==="all"?void 0:r.region,sourceIds:I,limit:10});u(T),e({lastSearchAt:new Date().toISOString()})}catch(I){console.error("Erreur recherche:",I)}finally{h(!1)}}},L=I=>({beac:"",cobac:"",bceao:"",cb_umoa:""})[I]||"",H=I=>({regulation:"Reglement",circular:"Circulaire",decision:"Decision",report:"Rapport",press:"Communique",other:"Document"})[I]||I;return A.jsxs(it,{children:[A.jsxs(or,{children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(iT,{className:"w-5 h-5 text-green-600"}),A.jsx(lr,{children:"Sources Reglementaires"})]}),A.jsx(xa,{children:"References aux banques centrales et regulateurs CEMAC/UEMOA pour les analyses IA"})]}),A.jsxs(Ht,{className:"space-y-6",children:[A.jsxs("div",{className:"flex items-center justify-between p-4 border border-primary-200 rounded-lg",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-900",children:"Activer les references reglementaires"}),A.jsx("p",{className:"text-sm text-primary-500",children:"L'IA citera les textes officiels dans ses analyses"})]}),A.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[A.jsx("input",{type:"checkbox",checked:r.enableReferences,onChange:I=>e({enableReferences:I.target.checked}),className:"sr-only peer"}),A.jsx("div",{className:"w-11 h-6 bg-primary-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-primary-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),r.enableReferences&&A.jsxs(A.Fragment,{children:[A.jsx(Tn,{label:"Region",value:r.region,onChange:I=>e({region:I.target.value}),options:[{value:"all",label:"Toutes les regions (CEMAC + UEMOA)"},{value:"CEMAC",label:"CEMAC uniquement"},{value:"UEMOA",label:"UEMOA uniquement"}]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-4 flex items-center gap-2",children:[A.jsx(th,{className:"w-4 h-4"}),"Sources actives"]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("p",{className:"text-xs font-medium text-primary-500 mb-2",children:"CEMAC"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:pN.filter(I=>I.region==="CEMAC").map(I=>A.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${r.sources[I.id]?"border-green-500 bg-green-50":"border-primary-200 hover:bg-primary-50"}`,children:[A.jsx("input",{type:"checkbox",checked:r.sources[I.id],onChange:T=>t(I.id,T.target.checked),disabled:r.region==="UEMOA",className:"mt-1 w-4 h-4"}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-lg",children:L(I.id)}),A.jsx("span",{className:"font-medium text-sm text-primary-900",children:I.shortName})]}),A.jsx("p",{className:"text-xs text-primary-500 mt-1",children:I.name}),A.jsxs("a",{href:I.baseUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline flex items-center gap-1 mt-1",onClick:T=>T.stopPropagation(),children:[I.baseUrl," ",A.jsx(eb,{className:"w-3 h-3"})]})]})]},I.id))})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs font-medium text-primary-500 mb-2",children:"UEMOA"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:pN.filter(I=>I.region==="UEMOA").map(I=>A.jsxs("label",{className:`flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ${r.sources[I.id]?"border-green-500 bg-green-50":"border-primary-200 hover:bg-primary-50"}`,children:[A.jsx("input",{type:"checkbox",checked:r.sources[I.id],onChange:T=>t(I.id,T.target.checked),disabled:r.region==="CEMAC",className:"mt-1 w-4 h-4"}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-lg",children:L(I.id)}),A.jsx("span",{className:"font-medium text-sm text-primary-900",children:I.shortName})]}),A.jsx("p",{className:"text-xs text-primary-500 mt-1",children:I.name}),A.jsxs("a",{href:I.baseUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline flex items-center gap-1 mt-1",onClick:T=>T.stopPropagation(),children:[I.baseUrl," ",A.jsx(eb,{className:"w-3 h-3"})]})]})]},I.id))})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("p",{className:"text-xs font-medium text-primary-500",children:"Sources personnalisees"}),A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:_,children:[A.jsx(Yn,{className:"w-3 h-3"}),"Ajouter"]})]}),r.customSources.length===0?A.jsx("p",{className:"text-xs text-primary-400 italic p-3 border border-dashed border-primary-200 rounded-lg text-center",children:'Aucune source personnalisee. Cliquez sur "Ajouter" pour en creer une.'}):A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.customSources.map(I=>A.jsxs("div",{className:`flex items-start gap-3 p-3 border rounded-lg transition-colors ${I.enabled?"border-blue-500 bg-blue-50":"border-primary-200 bg-primary-50"}`,children:[A.jsx("input",{type:"checkbox",checked:I.enabled,onChange:T=>a(I.id,T.target.checked),className:"mt-1 w-4 h-4"}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-lg",children:""}),A.jsx("span",{className:"font-medium text-sm text-primary-900 truncate",children:I.shortName}),A.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-primary-200 text-primary-600 rounded",children:I.region})]}),A.jsx("p",{className:"text-xs text-primary-500 mt-1 truncate",children:I.name}),A.jsx("p",{className:"text-xs text-primary-400 mt-0.5 truncate",children:I.description}),A.jsxs("a",{href:I.baseUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline flex items-center gap-1 mt-1",children:[I.baseUrl," ",A.jsx(eb,{className:"w-3 h-3"})]})]}),A.jsxs("div",{className:"flex flex-col gap-1",children:[A.jsx("button",{onClick:()=>B(I),className:"p-1 text-primary-400 hover:text-blue-600 hover:bg-blue-50 rounded",children:A.jsx(Wu,{className:"w-3.5 h-3.5"})}),b===I.id?A.jsxs("div",{className:"flex gap-1",children:[A.jsx("button",{onClick:()=>j(I.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Confirmer",children:""}),A.jsx("button",{onClick:()=>w(null),className:"p-1 text-primary-400 hover:bg-primary-100 rounded",title:"Annuler",children:A.jsx(Eo,{className:"w-3.5 h-3.5"})})]}):A.jsx("button",{onClick:()=>w(I.id),className:"p-1 text-primary-400 hover:text-red-600 hover:bg-red-50 rounded",children:A.jsx(Ds,{className:"w-3.5 h-3.5"})})]})]},I.id))})]})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"text-sm font-medium text-primary-700 mb-3 flex items-center gap-2",children:[A.jsx(So,{className:"w-4 h-4"}),"Tester la recherche"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(er,{value:o,onChange:I=>l(I.target.value),placeholder:"Ex: frais bancaires, taux d'interet, agios...",onKeyDown:I=>I.key==="Enter"&&k()}),A.jsx(Ye,{variant:"primary",onClick:k,disabled:d||!o.trim(),children:d?A.jsx("span",{className:"animate-spin",children:"..."}):A.jsx(So,{className:"w-4 h-4"})})]}),c.length>0&&A.jsxs("div",{className:"mt-4 space-y-2 max-h-64 overflow-y-auto",children:[A.jsxs("p",{className:"text-xs text-primary-500",children:[c.length," resultat(s) trouve(s)"]}),c.map(I=>A.jsx("div",{className:"p-3 border border-primary-200 rounded-lg hover:bg-primary-50",children:A.jsxs("div",{className:"flex items-start justify-between gap-2",children:[A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[A.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-green-100 text-green-700 rounded",children:I.sourceName}),A.jsx("span",{className:"text-xs text-primary-400",children:H(I.type)}),A.jsxs("span",{className:"text-xs text-primary-400",children:["Pertinence: ",I.relevanceScore,"%"]})]}),A.jsx("p",{className:"text-sm font-medium text-primary-900",children:I.title}),A.jsx("p",{className:"text-xs text-primary-500 mt-1",children:I.snippet})]}),A.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-blue-500 hover:bg-blue-50 rounded",children:A.jsx(eb,{className:"w-4 h-4"})})]})},I.id))]})]})]})]}),A.jsx(Zf,{children:A.jsxs("div",{className:"flex items-center justify-between w-full",children:[A.jsx("p",{className:"text-xs text-primary-400",children:"Les references sont automatiquement ajoutees aux analyses IA"}),r.lastSearchAt&&A.jsxs("p",{className:"text-xs text-primary-400",children:["Derniere recherche: ",new Date(r.lastSearchAt).toLocaleString("fr-FR")]})]})}),A.jsx(ld,{isOpen:f,onClose:()=>p(!1),title:g?"Modifier la source":"Ajouter une source personnalisee",size:"lg",footer:A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx(Ye,{variant:"secondary",onClick:()=>p(!1),children:"Annuler"}),A.jsxs(Ye,{variant:"primary",onClick:R,disabled:!v.name||!v.shortName||!v.baseUrl,children:[A.jsx(Oc,{className:"w-4 h-4"}),g?"Modifier":"Ajouter"]})]}),children:A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(er,{label:"Nom complet *",value:v.name,onChange:I=>y({...v,name:I.target.value}),placeholder:"Ex: Banque des Etats de l'Afrique Centrale"}),A.jsx(er,{label:"Nom court *",value:v.shortName,onChange:I=>y({...v,shortName:I.target.value}),placeholder:"Ex: BEAC"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx(Tn,{label:"Region",value:v.region,onChange:I=>y({...v,region:I.target.value}),options:[{value:"CEMAC",label:"CEMAC"},{value:"UEMOA",label:"UEMOA"},{value:"OTHER",label:"Autre"}]}),A.jsx(Tn,{label:"Type",value:v.type,onChange:I=>y({...v,type:I.target.value}),options:[{value:"central_bank",label:"Banque centrale"},{value:"regulator",label:"Regulateur"},{value:"ministry",label:"Ministere"},{value:"professional",label:"Ordre professionnel"},{value:"other",label:"Autre"}]})]}),A.jsx(er,{label:"URL de base *",value:v.baseUrl,onChange:I=>y({...v,baseUrl:I.target.value}),placeholder:"https://www.example.org"}),A.jsx(er,{label:"URL de recherche (optionnel)",value:v.searchUrl||"",onChange:I=>y({...v,searchUrl:I.target.value}),placeholder:"https://www.example.org/search?q=",helperText:"L'URL de base pour les recherches, le terme sera ajoute a la fin"}),A.jsx(er,{label:"Description",value:v.description,onChange:I=>y({...v,description:I.target.value}),placeholder:"Description de cette source reglementaire"}),A.jsx(er,{label:"Pays (optionnel)",value:v.country||"",onChange:I=>y({...v,country:I.target.value}),placeholder:"Ex: CM, SN, CI..."}),A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:v.enabled,onChange:I=>y({...v,enabled:I.target.checked}),className:"w-4 h-4"}),A.jsx("span",{className:"text-sm",children:"Activer cette source"})]})]})})]})}function zZ({onSave:r}){const{organization:e,updateOrganization:t,resetOrganization:n}=Ps(),[i,s]=K.useState("organisation"),[a,o]=K.useState(!1),[l,c]=K.useState(!1),[u,d]=K.useState(null),h=(y,b)=>{t({[y]:b})},f=()=>{r?.()},p=()=>{confirm("Voulez-vous vraiment reinitialiser les informations de l'organisation ?")&&n()},g=y=>{const b=y.target.files?.[0];if(b){const w=new FileReader;w.onloadend=()=>{t({logo:w.result})},w.readAsDataURL(b)}},m=async()=>{if(!e.senderEmail||!e.smtpHost){d({success:!1,message:"Veuillez configurer l'email et le serveur SMTP d'abord."});return}c(!0),d(null),setTimeout(()=>{c(!1),e.smtpHost&&e.smtpUser&&e.smtpPassword?d({success:!0,message:"Configuration SMTP enregistree. Le test d'envoi necessite un serveur backend."}):d({success:!1,message:"Veuillez remplir tous les champs SMTP pour tester l'envoi."})},1500)},v=Object.entries(xc).map(([y,b])=>({value:y,label:b}));return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex gap-1 border-b border-primary-200",children:[A.jsxs("button",{onClick:()=>s("organisation"),className:`flex items-center gap-2 px-4 py-2.5 text-sm font-medium border-b-2 transition-colors ${i==="organisation"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(Ji,{className:"w-4 h-4"}),"Organisation"]}),A.jsxs("button",{onClick:()=>s("email"),className:`flex items-center gap-2 px-4 py-2.5 text-sm font-medium border-b-2 transition-colors ${i==="email"?"border-primary-900 text-primary-900":"border-transparent text-primary-500 hover:text-primary-700"}`,children:[A.jsx(fm,{className:"w-4 h-4"}),"Email & Documents"]})]}),i==="organisation"?A.jsxs("div",{className:"space-y-4",children:[A.jsxs(it,{children:[A.jsx(or,{className:"py-3",children:A.jsxs(lr,{className:"text-sm flex items-center gap-2",children:[A.jsx(Ji,{className:"w-4 h-4"}),"Informations du cabinet"]})}),A.jsxs(Ht,{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[A.jsx(er,{label:"Nom du cabinet",value:e.name,onChange:y=>h("name",y.target.value),placeholder:"Ex: Cabinet ABC Audit",className:"h-9 text-sm"}),A.jsx(er,{label:"Raison sociale",value:e.legalName,onChange:y=>h("legalName",y.target.value),placeholder:"Ex: ABC AUDIT SARL",className:"h-9 text-sm"})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-primary-600 mb-1",children:"Logo"}),A.jsxs("div",{className:"flex items-center gap-3",children:[e.logo?A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:e.logo,alt:"Logo",className:"w-14 h-14 object-contain border rounded-lg bg-white"}),A.jsx("button",{onClick:()=>t({logo:null}),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px] hover:bg-red-600",children:"X"})]}):A.jsx("div",{className:"w-14 h-14 border-2 border-dashed border-primary-300 rounded-lg flex items-center justify-center",children:A.jsx(Ji,{className:"w-6 h-6 text-primary-300"})}),A.jsxs("label",{className:"cursor-pointer",children:[A.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden"}),A.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs bg-primary-100 text-primary-700 rounded-lg hover:bg-primary-200 transition-colors",children:[A.jsx(vs,{className:"w-3.5 h-3.5"}),e.logo?"Changer":"Telecharger"]})]})]})]}),A.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[A.jsx(er,{label:"Telephone",value:e.phone,onChange:y=>h("phone",y.target.value),placeholder:"+237 6XX XXX XXX",className:"h-9 text-sm"}),A.jsx(er,{label:"Site web",value:e.website,onChange:y=>h("website",y.target.value),placeholder:"https://www.exemple.com",className:"h-9 text-sm"})]})]})]})]}),A.jsxs(it,{children:[A.jsx(or,{className:"py-3",children:A.jsxs(lr,{className:"text-sm flex items-center gap-2",children:[A.jsx(dy,{className:"w-4 h-4"}),"Adresse"]})}),A.jsxs(Ht,{className:"space-y-3",children:[A.jsx(er,{label:"Adresse",value:e.address,onChange:y=>h("address",y.target.value),placeholder:"Rue, numero, quartier...",className:"h-9 text-sm"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[A.jsx(er,{label:"Ville",value:e.city,onChange:y=>h("city",y.target.value),placeholder:"Ex: Douala",className:"h-9 text-sm"}),A.jsx(er,{label:"Code postal",value:e.postalCode,onChange:y=>h("postalCode",y.target.value),placeholder:"Ex: BP 1234",className:"h-9 text-sm"}),A.jsx(Tn,{label:"Pays",value:e.country,onChange:y=>h("country",y.target.value),options:v,className:"h-9 text-sm"})]})]})]}),A.jsxs(it,{children:[A.jsx(or,{className:"py-3",children:A.jsxs(lr,{className:"text-sm flex items-center gap-2",children:[A.jsx(Zr,{className:"w-4 h-4"}),"Identifiants legaux"]})}),A.jsx(Ht,{children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[A.jsx(er,{label:"RCCM",value:e.rccm,onChange:y=>h("rccm",y.target.value),placeholder:"RC/DLA/20XX/X/XXXX",helperText:"Registre du Commerce",className:"h-9 text-sm"}),A.jsx(er,{label:"NIF / NIU",value:e.nif,onChange:y=>h("nif",y.target.value),placeholder:"XXXXXXXXXXXXXXXXX",helperText:"Numero d'Identification Fiscale",className:"h-9 text-sm"}),A.jsx(er,{label:"SIRET (si applicable)",value:e.siret,onChange:y=>h("siret",y.target.value),placeholder:"XXX XXX XXX XXXXX",helperText:"Optionnel",className:"h-9 text-sm"})]})})]})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsxs(it,{children:[A.jsxs(or,{className:"py-3",children:[A.jsxs(lr,{className:"text-sm flex items-center gap-2",children:[A.jsx(fm,{className:"w-4 h-4"}),"Configuration email"]}),A.jsx(xa,{className:"text-xs",children:"Configurez l'adresse email pour l'envoi automatique des rapports et factures"})]}),A.jsxs(Ht,{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[A.jsx(er,{label:"Email expediteur",type:"email",value:e.senderEmail,onChange:y=>h("senderEmail",y.target.value),placeholder:"contact@cabinet.com",className:"h-9 text-sm"}),A.jsx(er,{label:"Nom expediteur",value:e.senderName,onChange:y=>h("senderName",y.target.value),placeholder:"Cabinet ABC Audit",className:"h-9 text-sm"})]}),A.jsxs("div",{className:"border-t pt-4",children:[A.jsx("h4",{className:"text-xs font-medium text-primary-700 mb-3",children:"Configuration SMTP"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[A.jsx(er,{label:"Serveur SMTP",value:e.smtpHost,onChange:y=>h("smtpHost",y.target.value),placeholder:"smtp.gmail.com",className:"h-9 text-sm"}),A.jsx(er,{label:"Port SMTP",type:"number",value:e.smtpPort.toString(),onChange:y=>h("smtpPort",parseInt(y.target.value)||587),placeholder:"587",className:"h-9 text-sm"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[A.jsx(er,{label:"Utilisateur SMTP",value:e.smtpUser,onChange:y=>h("smtpUser",y.target.value),placeholder:"votre-email@gmail.com",className:"h-9 text-sm"}),A.jsxs("div",{className:"relative",children:[A.jsx(er,{label:"Mot de passe SMTP",type:a?"text":"password",value:e.smtpPassword,onChange:y=>h("smtpPassword",y.target.value),placeholder:"Mot de passe ou cle d'application",className:"h-9 text-sm"}),A.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-8 text-primary-400 hover:text-primary-600",children:a?A.jsx(cy,{className:"w-4 h-4"}):A.jsx(ps,{className:"w-4 h-4"})})]})]}),A.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[A.jsx("input",{type:"checkbox",id:"smtpSecure",checked:e.smtpSecure,onChange:y=>h("smtpSecure",y.target.checked),className:"rounded border-primary-300 w-4 h-4"}),A.jsx("label",{htmlFor:"smtpSecure",className:"text-sm text-primary-600",children:"Utiliser une connexion securisee (TLS/SSL)"})]})]}),A.jsx("div",{className:"border-t pt-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(Ye,{variant:"secondary",size:"sm",onClick:m,disabled:l,children:l?A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"animate-spin",children:"..."}),"Test..."]}):A.jsxs(A.Fragment,{children:[A.jsx(fy,{className:"w-4 h-4"}),"Tester la configuration"]})}),u&&A.jsxs("div",{className:`flex items-center gap-2 text-xs ${u.success?"text-green-600":"text-red-600"}`,children:[u.success?A.jsx(al,{className:"w-4 h-4"}):A.jsx(Gu,{className:"w-4 h-4"}),u.message]})]})})]})]}),A.jsxs(it,{children:[A.jsxs(or,{className:"py-3",children:[A.jsx(lr,{className:"text-sm",children:"Pied de page des documents"}),A.jsx(xa,{className:"text-xs",children:"Texte qui apparaitra en bas des rapports et factures"})]}),A.jsx(Ht,{children:A.jsx("textarea",{value:e.footerText,onChange:y=>h("footerText",y.target.value),placeholder:"Ex: Document genere par Scrutix. Pour toute question, contactez-nous...",className:"w-full h-20 px-3 py-2 text-sm border border-primary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none"})})]})]}),A.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-primary-100",children:[A.jsxs("div",{className:"text-xs text-primary-400",children:[A.jsx("span",{children:e.developedBy}),"  ",A.jsx("span",{children:"Scrutix v1.0"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(Ye,{variant:"secondary",size:"sm",onClick:p,children:[A.jsx(Ww,{className:"w-4 h-4"}),"Reinitialiser"]}),A.jsxs(Ye,{variant:"primary",size:"sm",onClick:f,children:[A.jsx(Oc,{className:"w-4 h-4"}),"Enregistrer"]})]})]})]})}function VZ(){return A.jsxs("div",{className:"space-y-6",children:[A.jsx(it,{children:A.jsx(Ht,{children:A.jsxs("div",{className:"flex items-start gap-4",children:[A.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:A.jsx(uy,{className:"w-6 h-6 text-blue-600"})}),A.jsxs("div",{className:"space-y-4 flex-1",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-display text-primary-900 text-2xl",children:"Scrutix"}),A.jsx("p",{className:"text-sm text-primary-600 mt-2",children:"Scrutix est une application d'audit bancaire pour cabinets d'expertise comptable en Afrique (CEMAC & UEMOA). Elle permet de detecter automatiquement les anomalies dans les releves bancaires grace a des algorithmes avances et l'intelligence artificielle."})]}),A.jsxs("div",{className:"pt-4 border-t border-primary-100",children:[A.jsx("h5",{className:"font-medium text-primary-900 mb-3",children:"Informations systeme"}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-primary-500",children:"Version"}),A.jsx("p",{className:"font-medium text-primary-900",children:"1.1.0"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-primary-500",children:"Zones supportees"}),A.jsx("p",{className:"font-medium text-primary-900",children:"CEMAC, UEMOA"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-primary-500",children:"Devises"}),A.jsx("p",{className:"font-medium text-primary-900",children:"XAF, XOF, EUR"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-primary-500",children:"Stockage"}),A.jsx("p",{className:"font-medium text-primary-900",children:"Local (IndexedDB)"})]})]})]})]})]})})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx(it,{children:A.jsx(Ht,{children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:A.jsx(Mm,{className:"w-5 h-5 text-orange-600"})}),A.jsxs("div",{children:[A.jsx("h5",{className:"font-medium text-primary-900",children:"18 Modules de Detection"}),A.jsx("p",{className:"text-xs text-primary-500 mt-1 mb-2",children:"Algorithmes deterministes sans IA"}),A.jsxs("div",{className:"text-xs text-primary-600 space-y-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-700",children:"Core (4):"}),A.jsx("p",{children:"Doublons, Frais fantomes, Surfacturation, Agios"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-700",children:"Etendus (8):"}),A.jsx("p",{children:"Dates valeur, Suspects, Conformite, Tresorerie, Rapprochement, Multi-banques, OHADA, LCB-FT"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-primary-700",children:"Audit Frais (6):"}),A.jsx("p",{children:"Tenue compte, Cartes, Paiements, International, Services, Packages"})]})]})]})]})})}),A.jsx(it,{children:A.jsx(Ht,{children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:A.jsx(Ku,{className:"w-5 h-5 text-purple-600"})}),A.jsxs("div",{children:[A.jsx("h5",{className:"font-medium text-primary-900",children:"Multi-IA"}),A.jsx("p",{className:"text-xs text-primary-500 mt-1 mb-2",children:"Support de plusieurs providers d'IA"}),A.jsxs("ul",{className:"text-xs text-primary-600 space-y-1",children:[A.jsx("li",{children:" Claude (Anthropic) - Sonnet & Opus"}),A.jsx("li",{children:" OpenAI (GPT-4 Turbo, GPT-4o)"}),A.jsx("li",{children:" Mistral AI (Large, Medium)"}),A.jsx("li",{children:" Google Gemini (1.5 Pro, Flash)"}),A.jsx("li",{children:" Ollama (Llama 3.1, local)"}),A.jsx("li",{children:" Endpoint personnalise"})]})]})]})})}),A.jsx(it,{children:A.jsx(Ht,{children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:A.jsx(iT,{className:"w-5 h-5 text-green-600"})}),A.jsxs("div",{children:[A.jsx("h5",{className:"font-medium text-primary-900",children:"Sources Reglementaires"}),A.jsx("p",{className:"text-xs text-primary-500 mt-1 mb-2",children:"References officielles CEMAC & UEMOA"}),A.jsxs("ul",{className:"text-xs text-primary-600 space-y-1",children:[A.jsx("li",{children:" BEAC - Banque des Etats de l'Afrique Centrale"}),A.jsx("li",{children:" COBAC - Commission Bancaire"}),A.jsx("li",{children:" BCEAO - Banque Centrale Afrique de l'Ouest"}),A.jsx("li",{children:" Commission Bancaire UMOA"}),A.jsx("li",{children:" Sources personnalisees"})]})]})]})})}),A.jsx(it,{children:A.jsx(Ht,{children:A.jsxs("div",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:A.jsx(D5,{className:"w-5 h-5 text-blue-600"})}),A.jsxs("div",{children:[A.jsx("h5",{className:"font-medium text-primary-900",children:"Fonctionnalites"}),A.jsx("p",{className:"text-xs text-primary-500 mt-1 mb-2",children:"Outils d'analyse et de reporting"}),A.jsxs("ul",{className:"text-xs text-primary-600 space-y-1",children:[A.jsx("li",{children:" Import CSV, Excel, PDF (OCR)"}),A.jsx("li",{children:" Mapping automatique des colonnes"}),A.jsx("li",{children:" Rapports PDF professionnels"}),A.jsx("li",{children:" Export Excel des anomalies"}),A.jsx("li",{children:" Chat IA pour analyse contextuelle"}),A.jsx("li",{children:" Sauvegarde locale et cloud"})]})]})]})})})]}),A.jsx(it,{children:A.jsxs(Ht,{children:[A.jsxs("h5",{className:"font-medium text-primary-900 mb-3 flex items-center gap-2",children:[A.jsx(Eh,{className:"w-4 h-4"}),"Technologies"]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:["React 18","TypeScript 5.5","Tailwind CSS","Zustand","Vite","IndexedDB","jsPDF","SheetJS","Tesseract.js","Recharts"].map(r=>A.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-medium",children:r},r))}),A.jsxs("div",{className:"mt-4 pt-4 border-t border-primary-100",children:[A.jsxs("h5",{className:"font-medium text-primary-900 mb-3 flex items-center gap-2",children:[A.jsx(th,{className:"w-4 h-4"}),"Providers IA Supportes"]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:["Claude AI","OpenAI","Mistral AI","Google Gemini","Ollama (Local)","Custom API"].map(r=>A.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:r},r))})]})]})}),A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-xs text-primary-400",children:"Developpe avec les meilleurs standards pour les cabinets d'expertise comptable africains."}),A.jsx("p",{className:"text-xs text-primary-300 mt-1",children:"Atlas Studio - 2024-2025"})]})]})}const xFe=[{id:"organization",label:"Organisation",icon:A.jsx(vV,{className:"w-4 h-4"})},{id:"ai-providers",label:"Providers IA",icon:A.jsx(Eh,{className:"w-4 h-4"})},{id:"ia",label:"Claude AI (avance)",icon:A.jsx(Ku,{className:"w-4 h-4"})},{id:"detection-modules",label:"Modules de detection",icon:A.jsx(Mm,{className:"w-4 h-4"})},{id:"detection-thresholds",label:"Seuils de detection",icon:A.jsx(FV,{className:"w-4 h-4"}),indent:!0},{id:"detection-algorithms",label:"Algorithmes",icon:A.jsx(aT,{className:"w-4 h-4"}),indent:!0},{id:"preferences",label:"Preferences",icon:A.jsx(TV,{className:"w-4 h-4"})},{id:"local-backup",label:"Sauvegarde Locale",icon:A.jsx(lT,{className:"w-4 h-4"})},{id:"cloud-backup",label:"Sauvegarde Cloud",icon:A.jsx(bv,{className:"w-4 h-4"})},{id:"regulatory",label:"Sources reglementaires",icon:A.jsx(Zr,{className:"w-4 h-4"})},{id:"about",label:"A propos",icon:A.jsx(uy,{className:"w-4 h-4"})}];function wFe(){const[r,e]=K.useState("organization"),[t,n]=K.useState(!1),[i,s]=K.useState(null);K.useEffect(()=>{const l=El.checkAndMigrate();l.migrated&&s({migrated:!0,fromVersion:l.fromVersion})},[]);const a=()=>{n(!0),setTimeout(()=>n(!1),3e3)},o=()=>{switch(r){case"organization":return A.jsx(zZ,{onSave:a});case"ai-providers":return A.jsx(LZ,{onSave:a});case"ia":return A.jsx(RZ,{onSave:a});case"detection-modules":case"detection-thresholds":return A.jsx(DZ,{onSave:a,initialTab:r==="detection-modules"?"modules":"thresholds"});case"detection-algorithms":return A.jsx(UZ,{});case"preferences":return A.jsx(HZ,{onSave:a});case"local-backup":return A.jsx(bFe,{});case"cloud-backup":return A.jsx(QZ,{});case"regulatory":return A.jsx($Z,{});case"about":return A.jsx(VZ,{});default:return null}};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"page-header",children:[A.jsx("h1",{className:"page-title",children:"Parametres"}),A.jsx("p",{className:"page-description",children:"Configurez les seuils de detection et les preferences"})]}),i?.migrated&&A.jsxs(kc,{variant:"info",title:"Donnees migrees",children:["Vos donnees ont ete migrees de la version ",i.fromVersion," vers la version actuelle."]}),t&&A.jsx(kc,{variant:"success",title:"Parametres enregistres",children:"Vos modifications ont ete sauvegardees."}),A.jsxs("div",{className:"flex gap-6",children:[A.jsx("div",{className:"w-64 flex-shrink-0",children:A.jsx("nav",{className:"space-y-1 sticky top-4",children:xFe.map(l=>A.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center gap-3 py-3 rounded-lg text-left transition-colors ${l.indent?"px-6":"px-4"} ${r===l.id?"bg-primary-900 text-white":"text-primary-600 hover:bg-primary-100"}`,children:[l.icon,A.jsx("span",{className:`text-sm font-medium ${l.indent?"text-xs":""}`,children:l.label})]},l.id))})}),A.jsx("div",{className:"flex-1",children:o()})]})]})}const CFe=Object.freeze(Object.defineProperty({__proto__:null,AIProviderSettings:LZ,AboutSettings:VZ,AlgorithmsInfo:UZ,CloudBackupSettings:QZ,DetectionSettings:DZ,IASettings:RZ,OrganizationSettings:zZ,PreferencesSettings:HZ,RegulatorySourcesSettings:$Z,SettingsPage:wFe},Symbol.toStringTag,{value:"Module"}));/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qB=function(r,e){return qB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},qB(r,e)};function Yl(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qB(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var XB=function(){return XB=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},XB.apply(this,arguments)};function pa(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(r,[])).next())})}function ea(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function $b(r,e,t){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||e)}var id=function(){function r(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}return r.prototype.add=function(e,t,n,i){return new r(this.left+e,this.top+t,this.width+n,this.height+i)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(i){return i.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r}(),u4=function(r,e){return id.fromClientRect(r,e.getBoundingClientRect())},SFe=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new id(0,0,n,i)},d4=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},wi=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},v9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",EFe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zb=0;zb<v9.length;zb++)EFe[v9.charCodeAt(zb)]=zb;var y9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vb=0;Vb<y9.length;Vb++)Sg[y9.charCodeAt(Vb)]=Vb;var _Fe=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)s=Sg[r.charCodeAt(n)],a=Sg[r.charCodeAt(n+1)],o=Sg[r.charCodeAt(n+2)],l=Sg[r.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},NFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},BFe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Vf=5,W8=11,YS=2,kFe=W8-Vf,GZ=65536>>Vf,TFe=1<<Vf,JS=TFe-1,jFe=1024>>Vf,FFe=GZ+jFe,IFe=FFe,MFe=32,OFe=IFe+MFe,PFe=65536>>W8,RFe=1<<kFe,LFe=RFe-1,b9=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},DFe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},UFe=function(r,e){var t=_Fe(r),n=Array.isArray(t)?BFe(t):new Uint32Array(t),i=Array.isArray(t)?NFe(t):new Uint16Array(t),s=24,a=b9(i,s/2,n[4]/2),o=n[5]===2?b9(i,(s+n[4])/2):DFe(n,Math.ceil((s+n[4])/4));return new HFe(n[0],n[1],n[2],n[3],a,o)},HFe=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Vf],t=(t<<YS)+(e&JS),this.data[t];if(e<=65535)return t=this.index[GZ+(e-55296>>Vf)],t=(t<<YS)+(e&JS),this.data[t];if(e<this.highStart)return t=OFe-PFe+(e>>W8),t=this.index[t],t+=e>>Vf&LFe,t=this.index[t],t=(t<<YS)+(e&JS),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),x9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QFe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gb=0;Gb<x9.length;Gb++)QFe[x9.charCodeAt(Gb)]=Gb;var $Fe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",w9=50,zFe=1,KZ=2,WZ=3,VFe=4,GFe=5,C9=7,qZ=8,S9=9,ih=10,YB=11,E9=12,JB=13,KFe=14,Eg=15,ZB=16,Kb=17,Z0=18,WFe=19,_9=20,e6=21,eg=22,ZS=23,qA=24,uo=25,_g=26,Ng=27,XA=28,qFe=29,Ef=30,XFe=31,Wb=32,qb=33,t6=34,r6=35,n6=36,Wv=37,i6=38,lw=39,cw=40,eE=41,XZ=42,YFe=43,JFe=[9001,65288],YZ="!",Ur="",Xb="",s6=UFe($Fe),mu=[Ef,n6],a6=[zFe,KZ,WZ,GFe],JZ=[ih,qZ],N9=[Ng,_g],ZFe=a6.concat(JZ),B9=[i6,lw,cw,t6,r6],eIe=[Eg,JB],tIe=function(r,e){e===void 0&&(e="strict");var t=[],n=[],i=[];return r.forEach(function(s,a){var o=s6.get(s);if(o>w9?(i.push(!0),o-=w9):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),t.push(ZB);if(o===VFe||o===YB){if(a===0)return n.push(a),t.push(Ef);var l=t[a-1];return ZFe.indexOf(l)===-1?(n.push(n[a-1]),t.push(l)):(n.push(a),t.push(Ef))}if(n.push(a),o===XFe)return t.push(e==="strict"?e6:Wv);if(o===XZ||o===qFe)return t.push(Ef);if(o===YFe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Wv):t.push(Ef);t.push(o)}),[n,t,i]},tE=function(r,e,t,n){var i=n[t];if(Array.isArray(r)?r.indexOf(i)!==-1:r===i)for(var s=t;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==ih)break}if(i===ih)for(var s=t;s>0;){s--;var o=n[s];if(Array.isArray(r)?r.indexOf(o)!==-1:r===o)for(var l=t;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==ih)break}if(o!==ih)break}return!1},k9=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===ih)t--;else return n}return 0},rIe=function(r,e,t,n,i){if(t[n]===0)return Ur;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Ur;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,u=e[o];if(l===KZ&&u===WZ)return Ur;if(a6.indexOf(l)!==-1)return YZ;if(a6.indexOf(u)!==-1||JZ.indexOf(u)!==-1)return Ur;if(k9(s,e)===qZ)return Xb;if(s6.get(r[s])===YB||(l===Wb||l===qb)&&s6.get(r[o])===YB||l===C9||u===C9||l===S9||[ih,JB,Eg].indexOf(l)===-1&&u===S9||[Kb,Z0,WFe,qA,XA].indexOf(u)!==-1||k9(s,e)===eg||tE(ZS,eg,s,e)||tE([Kb,Z0],e6,s,e)||tE(E9,E9,s,e))return Ur;if(l===ih)return Xb;if(l===ZS||u===ZS)return Ur;if(u===ZB||l===ZB)return Xb;if([JB,Eg,e6].indexOf(u)!==-1||l===KFe||c===n6&&eIe.indexOf(l)!==-1||l===XA&&u===n6||u===_9||mu.indexOf(u)!==-1&&l===uo||mu.indexOf(l)!==-1&&u===uo||l===Ng&&[Wv,Wb,qb].indexOf(u)!==-1||[Wv,Wb,qb].indexOf(l)!==-1&&u===_g||mu.indexOf(l)!==-1&&N9.indexOf(u)!==-1||N9.indexOf(l)!==-1&&mu.indexOf(u)!==-1||[Ng,_g].indexOf(l)!==-1&&(u===uo||[eg,Eg].indexOf(u)!==-1&&e[o+1]===uo)||[eg,Eg].indexOf(l)!==-1&&u===uo||l===uo&&[uo,XA,qA].indexOf(u)!==-1)return Ur;if([uo,XA,qA,Kb,Z0].indexOf(u)!==-1)for(var d=s;d>=0;){var h=e[d];if(h===uo)return Ur;if([XA,qA].indexOf(h)!==-1)d--;else break}if([Ng,_g].indexOf(u)!==-1)for(var d=[Kb,Z0].indexOf(l)!==-1?a:s;d>=0;){var h=e[d];if(h===uo)return Ur;if([XA,qA].indexOf(h)!==-1)d--;else break}if(i6===l&&[i6,lw,t6,r6].indexOf(u)!==-1||[lw,t6].indexOf(l)!==-1&&[lw,cw].indexOf(u)!==-1||[cw,r6].indexOf(l)!==-1&&u===cw||B9.indexOf(l)!==-1&&[_9,_g].indexOf(u)!==-1||B9.indexOf(u)!==-1&&l===Ng||mu.indexOf(l)!==-1&&mu.indexOf(u)!==-1||l===qA&&mu.indexOf(u)!==-1||mu.concat(uo).indexOf(l)!==-1&&u===eg&&JFe.indexOf(r[o])===-1||mu.concat(uo).indexOf(u)!==-1&&l===Z0)return Ur;if(l===eE&&u===eE){for(var f=t[s],p=1;f>0&&(f--,e[f]===eE);)p++;if(p%2!==0)return Ur}return l===Wb&&u===qb?Ur:Xb},nIe=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=tIe(r,e.lineBreak),n=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[uo,Ef,XZ].indexOf(o)!==-1?Wv:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&r[l]>=19968&&r[l]<=40959}):void 0;return[n,i,a]},iIe=function(){function r(e,t,n,i){this.codePoints=e,this.required=t===YZ,this.start=n,this.end=i}return r.prototype.slice=function(){return wi.apply(void 0,this.codePoints.slice(this.start,this.end))},r}(),sIe=function(r,e){var t=d4(r),n=nIe(t,e),i=n[0],s=n[1],a=n[2],o=t.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=Ur;c<o&&(u=rIe(t,s,i,++c,a))===Ur;);if(u!==Ur||c===o){var d=new iIe(t,u,l,c);return l=c,{value:d,done:!1}}return{done:!0,value:null}}}},aIe=1,oIe=2,Zy=4,T9=8,r5=10,j9=47,qg=92,lIe=9,cIe=32,Yb=34,tg=61,uIe=35,dIe=36,hIe=37,Jb=39,Zb=40,rg=41,fIe=95,Da=45,AIe=33,pIe=60,mIe=62,gIe=64,vIe=91,yIe=93,bIe=61,xIe=123,ex=63,wIe=125,F9=124,CIe=126,SIe=128,I9=65533,rE=42,Pf=43,EIe=44,_Ie=58,NIe=59,qv=46,BIe=0,kIe=8,TIe=11,jIe=14,FIe=31,IIe=127,hc=-1,ZZ=48,eee=97,tee=101,MIe=102,OIe=117,PIe=122,ree=65,nee=69,iee=70,RIe=85,LIe=90,ra=function(r){return r>=ZZ&&r<=57},DIe=function(r){return r>=55296&&r<=57343},YA=function(r){return ra(r)||r>=ree&&r<=iee||r>=eee&&r<=MIe},UIe=function(r){return r>=eee&&r<=PIe},HIe=function(r){return r>=ree&&r<=LIe},QIe=function(r){return UIe(r)||HIe(r)},$Ie=function(r){return r>=SIe},tx=function(r){return r===r5||r===lIe||r===cIe},n5=function(r){return QIe(r)||$Ie(r)||r===fIe},M9=function(r){return n5(r)||ra(r)||r===Da},zIe=function(r){return r>=BIe&&r<=kIe||r===TIe||r>=jIe&&r<=FIe||r===IIe},Kd=function(r,e){return r!==qg?!1:e!==r5},rx=function(r,e,t){return r===Da?n5(e)||Kd(e,t):n5(r)?!0:!!(r===qg&&Kd(r,e))},nE=function(r,e,t){return r===Pf||r===Da?ra(e)?!0:e===qv&&ra(t):ra(r===qv?e:r)},VIe=function(r){var e=0,t=1;(r[e]===Pf||r[e]===Da)&&(r[e]===Da&&(t=-1),e++);for(var n=[];ra(r[e]);)n.push(r[e++]);var i=n.length?parseInt(wi.apply(void 0,n),10):0;r[e]===qv&&e++;for(var s=[];ra(r[e]);)s.push(r[e++]);var a=s.length,o=a?parseInt(wi.apply(void 0,s),10):0;(r[e]===nee||r[e]===tee)&&e++;var l=1;(r[e]===Pf||r[e]===Da)&&(r[e]===Da&&(l=-1),e++);for(var c=[];ra(r[e]);)c.push(r[e++]);var u=c.length?parseInt(wi.apply(void 0,c),10):0;return t*(i+o*Math.pow(10,-a))*Math.pow(10,l*u)},GIe={type:2},KIe={type:3},WIe={type:4},qIe={type:13},XIe={type:8},YIe={type:21},JIe={type:9},ZIe={type:10},eMe={type:11},tMe={type:12},rMe={type:14},nx={type:23},nMe={type:1},iMe={type:25},sMe={type:24},aMe={type:26},oMe={type:27},lMe={type:28},cMe={type:29},uMe={type:31},o6={type:32},see=function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(d4(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==o6;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Yb:return this.consumeStringToken(Yb);case uIe:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(M9(t)||Kd(n,i)){var s=rx(t,n,i)?oIe:aIe,a=this.consumeName();return{type:5,value:a,flags:s}}break;case dIe:if(this.peekCodePoint(0)===tg)return this.consumeCodePoint(),qIe;break;case Jb:return this.consumeStringToken(Jb);case Zb:return GIe;case rg:return KIe;case rE:if(this.peekCodePoint(0)===tg)return this.consumeCodePoint(),rMe;break;case Pf:if(nE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case EIe:return WIe;case Da:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(nE(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(rx(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Da&&c===mIe)return this.consumeCodePoint(),this.consumeCodePoint(),sMe;break;case qv:if(nE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case j9:if(this.peekCodePoint(0)===rE)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===rE&&(u=this.consumeCodePoint(),u===j9))return this.consumeToken();if(u===hc)return this.consumeToken()}break;case _Ie:return aMe;case NIe:return oMe;case pIe:if(this.peekCodePoint(0)===AIe&&this.peekCodePoint(1)===Da&&this.peekCodePoint(2)===Da)return this.consumeCodePoint(),this.consumeCodePoint(),iMe;break;case gIe:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(rx(d,h,f)){var a=this.consumeName();return{type:7,value:a}}break;case vIe:return lMe;case qg:if(Kd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case yIe:return cMe;case bIe:if(this.peekCodePoint(0)===tg)return this.consumeCodePoint(),XIe;break;case xIe:return eMe;case wIe:return tMe;case OIe:case RIe:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p===Pf&&(YA(g)||g===ex)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case F9:if(this.peekCodePoint(0)===tg)return this.consumeCodePoint(),JIe;if(this.peekCodePoint(0)===F9)return this.consumeCodePoint(),YIe;break;case CIe:if(this.peekCodePoint(0)===tg)return this.consumeCodePoint(),ZIe;break;case hc:return o6}return tx(e)?(this.consumeWhiteSpace(),uMe):ra(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):n5(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:wi(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();YA(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===ex&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(wi.apply(void 0,e.map(function(l){return l===ex?ZZ:l})),16),s=parseInt(wi.apply(void 0,e.map(function(l){return l===ex?iee:l})),16);return{type:30,start:i,end:s}}var a=parseInt(wi.apply(void 0,e),16);if(this.peekCodePoint(0)===Da&&YA(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];YA(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var s=parseInt(wi.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Zb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Zb?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===hc)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Jb||t===Yb){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===hc||this.peekCodePoint(0)===rg)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),nx)}for(;;){var i=this.consumeCodePoint();if(i===hc||i===rg)return{type:22,value:wi.apply(void 0,e)};if(tx(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===hc||this.peekCodePoint(0)===rg?(this.consumeCodePoint(),{type:22,value:wi.apply(void 0,e)}):(this.consumeBadUrlRemnants(),nx);if(i===Yb||i===Jb||i===Zb||zIe(i))return this.consumeBadUrlRemnants(),nx;if(i===qg)if(Kd(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),nx;else e.push(i)}},r.prototype.consumeWhiteSpace=function(){for(;tx(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===rg||e===hc)return;Kd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var i=Math.min(t,e);n+=wi.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var i=this._value[n];if(i===hc||i===void 0||i===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(i===r5)return this._value.splice(0,n),nMe;if(i===qg){var s=this._value[n+1];s!==hc&&s!==void 0&&(s===r5?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):Kd(i,s)&&(t+=this.consumeStringSlice(n),t+=wi(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=Zy,n=this.peekCodePoint(0);for((n===Pf||n===Da)&&e.push(this.consumeCodePoint());ra(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===qv&&ra(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=T9;ra(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===nee||n===tee)&&((i===Pf||i===Da)&&ra(s)||ra(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=T9;ra(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[VIe(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(rx(i,s,a)){var o=this.consumeName();return{type:15,number:t,flags:n,unit:o}}return i===hIe?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(YA(e)){for(var t=wi(e);YA(this.peekCodePoint(0))&&t.length<6;)t+=wi(this.consumeCodePoint());tx(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||DIe(n)||n>1114111?I9:n}return e===hc?I9:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(M9(t))e+=wi(t);else if(Kd(t,this.peekCodePoint(0)))e+=wi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r}(),aee=function(){function r(e){this._tokens=e}return r.create=function(e){var t=new see;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||hMe(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?o6:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r}(),e1=function(r){return r.type===15},Ym=function(r){return r.type===17},pn=function(r){return r.type===20},dMe=function(r){return r.type===0},l6=function(r,e){return pn(r)&&r.value===e},oee=function(r){return r.type!==31},Sm=function(r){return r.type!==31&&r.type!==4},Kc=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},hMe=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},Oh=function(r){return r.type===17||r.type===15},Ri=function(r){return r.type===16||Oh(r)},lee=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Rs={type:17,number:0,flags:Zy},q8={type:16,number:50,flags:Zy},sh={type:16,number:100,flags:Zy},Bg=function(r,e,t){var n=r[0],i=r[1];return[Bn(n,e),Bn(typeof i<"u"?i:n,t)]},Bn=function(r,e){if(r.type===16)return r.number/100*e;if(e1(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},cee="deg",uee="grad",dee="rad",hee="turn",h4={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case cee:return Math.PI*e.number/180;case uee:return Math.PI/200*e.number;case dee:return e.number;case hee:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},fee=function(r){return r.type===15&&(r.unit===cee||r.unit===uee||r.unit===dee||r.unit===hee)},Aee=function(r){var e=r.filter(pn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Rs,Rs];case"to top":case"bottom":return el(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Rs,sh];case"to right":case"left":return el(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sh,sh];case"to bottom":case"top":return el(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sh,Rs];case"to left":case"right":return el(270)}return 0},el=function(r){return Math.PI*r/180},bh={name:"color",parse:function(r,e){if(e.type===18){var t=fMe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return ah(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return ah(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return ah(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return ah(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Lu[e.value.toUpperCase()];if(typeof o<"u")return o}return Lu.TRANSPARENT}},xh=function(r){return(255&r)===0},as=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,i=255&r>>24;return e<255?"rgba("+i+","+n+","+t+","+e/255+")":"rgb("+i+","+n+","+t+")"},ah=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},O9=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},P9=function(r,e){var t=e.filter(Sm);if(t.length===3){var n=t.map(O9),i=n[0],s=n[1],a=n[2];return ah(i,s,a,1)}if(t.length===4){var o=t.map(O9),i=o[0],s=o[1],a=o[2],l=o[3];return ah(i,s,a,l)}return 0};function iE(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var R9=function(r,e){var t=e.filter(Sm),n=t[0],i=t[1],s=t[2],a=t[3],o=(n.type===17?el(n.number):h4.parse(r,n))/(Math.PI*2),l=Ri(i)?i.number/100:0,c=Ri(s)?s.number/100:0,u=typeof a<"u"&&Ri(a)?Bn(a,1):1;if(l===0)return ah(c*255,c*255,c*255,1);var d=c<=.5?c*(l+1):c+l-c*l,h=c*2-d,f=iE(h,d,o+1/3),p=iE(h,d,o),g=iE(h,d,o-1/3);return ah(f*255,p*255,g*255,u)},fMe={hsl:R9,hsla:R9,rgb:P9,rgba:P9},Xg=function(r,e){return bh.parse(r,aee.create(e).parseComponentValue())},Lu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},AMe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(pn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pMe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},f4=function(r,e){var t=bh.parse(r,e[0]),n=e[1];return n&&Ri(n)?{color:t,stop:n}:{color:t,stop:null}},L9=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Rs),n.stop===null&&(n.stop=sh);for(var i=[],s=0,a=0;a<r.length;a++){var o=r[a].stop;if(o!==null){var l=Bn(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var u=i[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var d=a-c,h=i[c-1],f=(u-h)/(d+1),p=1;p<=d;p++)i[c+p-1]=f*p;c=null}}return r.map(function(g,m){var v=g.color;return{color:v,stop:Math.max(Math.min(1,i[m]/e),0)}})},mMe=function(r,e,t){var n=e/2,i=t/2,s=Bn(r[0],e)-n,a=i-Bn(r[1],t);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},gMe=function(r,e,t){var n=typeof r=="number"?r:mMe(r,e,t),i=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),s=e/2,a=t/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},_l=function(r,e){return Math.sqrt(r*r+e*e)},D9=function(r,e,t,n,i){var s=[[0,0],[0,e],[r,0],[r,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],u=_l(t-l,n-c);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},vMe=function(r,e,t,n,i){var s=0,a=0;switch(r.size){case 0:r.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(r.shape===0)s=a=Math.min(_l(e,t),_l(e,t-i),_l(e-n,t),_l(e-n,t-i));else if(r.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=D9(n,i,e,t,!0),c=l[0],u=l[1];s=_l(c-e,(u-t)/o),a=o*s}break;case 1:r.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-i)):r.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(r.shape===0)s=a=Math.max(_l(e,t),_l(e,t-i),_l(e-n,t),_l(e-n,t-i));else if(r.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=D9(n,i,e,t,!1),c=d[0],u=d[1];s=_l(c-e,(u-t)/o),a=o*s}break}return Array.isArray(r.size)&&(s=Bn(r.size[0],n),a=r.size.length===2?Bn(r.size[1],i):s),[s,a]},yMe=function(r,e){var t=el(180),n=[];return Kc(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){t=Aee(i);return}else if(fee(a)){t=h4.parse(r,a);return}}var o=f4(r,i);n.push(o)}),{angle:t,stops:n,type:1}},ix=function(r,e){var t=el(180),n=[];return Kc(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){t=Aee(i);return}else if(fee(a)){t=(h4.parse(r,a)+el(270))%el(360);return}}var o=f4(r,i);n.push(o)}),{angle:t,stops:n,type:1}},bMe=function(r,e){var t=el(180),n=[],i=1,s=0,a=3,o=[];return Kc(e).forEach(function(l,c){var u=l[0];if(c===0){if(pn(u)&&u.value==="linear"){i=1;return}else if(pn(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=bh.parse(r,u.values[0]);n.push({stop:Rs,color:d})}else if(u.name==="to"){var d=bh.parse(r,u.values[0]);n.push({stop:sh,color:d})}else if(u.name==="color-stop"){var h=u.values.filter(Sm);if(h.length===2){var d=bh.parse(r,h[1]),f=h[0];Ym(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),i===1?{angle:(t+el(180))%el(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},pee="closest-side",mee="farthest-side",gee="closest-corner",vee="farthest-corner",yee="circle",bee="ellipse",xee="cover",wee="contain",xMe=function(r,e){var t=0,n=3,i=[],s=[];return Kc(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(d,h){if(c)if(pn(h))switch(h.value){case"center":return s.push(q8),d;case"top":case"left":return s.push(Rs),d;case"right":case"bottom":return s.push(sh),d}else(Ri(h)||Oh(h))&&s.push(h);else if(pn(h))switch(h.value){case yee:return t=0,!1;case bee:return t=1,!1;case"at":return c=!0,!1;case pee:return n=0,!1;case xee:case mee:return n=1,!1;case wee:case gee:return n=2,!1;case vee:return n=3,!1}else if(Oh(h)||Ri(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},l)}if(l){var u=f4(r,a);i.push(u)}}),{size:n,shape:t,stops:i,position:s,type:2}},sx=function(r,e){var t=0,n=3,i=[],s=[];return Kc(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(u,d){if(pn(d))switch(d.value){case"center":return s.push(q8),!1;case"top":case"left":return s.push(Rs),!1;case"right":case"bottom":return s.push(sh),!1}else if(Ri(d)||Oh(d))return s.push(d),!1;return u},l):o===1&&(l=a.reduce(function(u,d){if(pn(d))switch(d.value){case yee:return t=0,!1;case bee:return t=1,!1;case wee:case pee:return n=0,!1;case mee:return n=1,!1;case gee:return n=2,!1;case xee:case vee:return n=3,!1}else if(Oh(d)||Ri(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},l)),l){var c=f4(r,a);i.push(c)}}),{size:n,shape:t,stops:i,position:s,type:2}},wMe=function(r){return r.type===1},CMe=function(r){return r.type===2},X8={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=Cee[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function SMe(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!Cee[r.name])}var Cee={"linear-gradient":yMe,"-moz-linear-gradient":ix,"-ms-linear-gradient":ix,"-o-linear-gradient":ix,"-webkit-linear-gradient":ix,"radial-gradient":xMe,"-moz-radial-gradient":sx,"-ms-radial-gradient":sx,"-o-radial-gradient":sx,"-webkit-radial-gradient":sx,"-webkit-gradient":bMe},EMe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Sm(n)&&SMe(n)}).map(function(n){return X8.parse(r,n)})}},_Me={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(pn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NMe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Kc(e).map(function(t){return t.filter(Ri)}).map(lee)}},BMe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Kc(e).map(function(t){return t.filter(pn).map(function(n){return n.value}).join(" ")}).map(kMe)}},kMe=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},nm;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(nm||(nm={}));var TMe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Kc(e).map(function(t){return t.filter(jMe)})}},jMe=function(r){return pn(r)||Ri(r)},A4=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},FMe=A4("top"),IMe=A4("right"),MMe=A4("bottom"),OMe=A4("left"),p4=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return lee(t.filter(Ri))}}},PMe=p4("top-left"),RMe=p4("top-right"),LMe=p4("bottom-right"),DMe=p4("bottom-left"),m4=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},UMe=m4("top"),HMe=m4("right"),QMe=m4("bottom"),$Me=m4("left"),g4=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return e1(t)?t.number:0}}},zMe=g4("top"),VMe=g4("right"),GMe=g4("bottom"),KMe=g4("left"),WMe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qMe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},XMe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(pn).reduce(function(t,n){return t|YMe(n.value)},0)}},YMe=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},JMe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ZMe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},i5;(function(r){r.NORMAL="normal",r.STRICT="strict"})(i5||(i5={}));var eOe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return i5.STRICT;case"normal":default:return i5.NORMAL}}},tOe={name:"line-height",initialValue:"normal",prefix:!1,type:4},U9=function(r,e){return pn(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ri(r)?Bn(r,e):e},rOe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:X8.parse(r,e)}},nOe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},c6={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},v4=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},iOe=v4("top"),sOe=v4("right"),aOe=v4("bottom"),oOe=v4("left"),lOe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(pn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},cOe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},y4=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},uOe=y4("top"),dOe=y4("right"),hOe=y4("bottom"),fOe=y4("left"),AOe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},pOe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mOe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&l6(e[0],"none")?[]:Kc(e).map(function(t){for(var n={color:Lu.TRANSPARENT,offsetX:Rs,offsetY:Rs,blur:Rs},i=0,s=0;s<t.length;s++){var a=t[s];Oh(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=bh.parse(r,a)}return n})}},gOe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},vOe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=xOe[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},yOe=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},bOe=function(r){var e=r.filter(function(l){return l.type===17}).map(function(l){return l.number}),t=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[t,n,i,s,a,o]:null},xOe={matrix:yOe,matrix3d:bOe},H9={type:16,number:50,flags:Zy},wOe=[H9,H9],COe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ri);return t.length!==2?wOe:[t[0],t[1]]}},SOe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Yg;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(Yg||(Yg={}));var EOe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return Yg.BREAK_ALL;case"keep-all":return Yg.KEEP_ALL;case"normal":default:return Yg.NORMAL}}},_Oe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Ym(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},See={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},NOe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Ym(e)?e.number:1}},BOe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kOe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(pn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},TOe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},jOe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},FOe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Ym(e))return e.number;if(pn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},IOe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(pn).map(function(t){return t.value})}},MOe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},qi=function(r,e){return(r&e)!==0},OOe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},POe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],i=e.filter(oee),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Ym(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},ROe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(oee),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(pn(s)&&s.value!=="none"){var o=a&&Ym(a)?a.number:0;t.push({counter:s.value,reset:o})}}return t}},LOe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(e1).map(function(t){return See.parse(r,t)})}},DOe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],i=e.filter(dMe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},Q9=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},UOe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&l6(e[0],"none")?[]:Kc(e).map(function(t){for(var n={color:255,offsetX:Rs,offsetY:Rs,blur:Rs,spread:Rs,inset:!1},i=0,s=0;s<t.length;s++){var a=t[s];l6(a,"inset")?n.inset=!0:Oh(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=bh.parse(r,a)}return n})}},HOe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(pn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},QOe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$Oe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return e1(e)?e.number:0}},zOe=function(){function r(e,t){var n,i;this.animationDuration=Mt(e,LOe,t.animationDuration),this.backgroundClip=Mt(e,AMe,t.backgroundClip),this.backgroundColor=Mt(e,pMe,t.backgroundColor),this.backgroundImage=Mt(e,EMe,t.backgroundImage),this.backgroundOrigin=Mt(e,_Me,t.backgroundOrigin),this.backgroundPosition=Mt(e,NMe,t.backgroundPosition),this.backgroundRepeat=Mt(e,BMe,t.backgroundRepeat),this.backgroundSize=Mt(e,TMe,t.backgroundSize),this.borderTopColor=Mt(e,FMe,t.borderTopColor),this.borderRightColor=Mt(e,IMe,t.borderRightColor),this.borderBottomColor=Mt(e,MMe,t.borderBottomColor),this.borderLeftColor=Mt(e,OMe,t.borderLeftColor),this.borderTopLeftRadius=Mt(e,PMe,t.borderTopLeftRadius),this.borderTopRightRadius=Mt(e,RMe,t.borderTopRightRadius),this.borderBottomRightRadius=Mt(e,LMe,t.borderBottomRightRadius),this.borderBottomLeftRadius=Mt(e,DMe,t.borderBottomLeftRadius),this.borderTopStyle=Mt(e,UMe,t.borderTopStyle),this.borderRightStyle=Mt(e,HMe,t.borderRightStyle),this.borderBottomStyle=Mt(e,QMe,t.borderBottomStyle),this.borderLeftStyle=Mt(e,$Me,t.borderLeftStyle),this.borderTopWidth=Mt(e,zMe,t.borderTopWidth),this.borderRightWidth=Mt(e,VMe,t.borderRightWidth),this.borderBottomWidth=Mt(e,GMe,t.borderBottomWidth),this.borderLeftWidth=Mt(e,KMe,t.borderLeftWidth),this.boxShadow=Mt(e,UOe,t.boxShadow),this.color=Mt(e,WMe,t.color),this.direction=Mt(e,qMe,t.direction),this.display=Mt(e,XMe,t.display),this.float=Mt(e,JMe,t.cssFloat),this.fontFamily=Mt(e,TOe,t.fontFamily),this.fontSize=Mt(e,jOe,t.fontSize),this.fontStyle=Mt(e,MOe,t.fontStyle),this.fontVariant=Mt(e,IOe,t.fontVariant),this.fontWeight=Mt(e,FOe,t.fontWeight),this.letterSpacing=Mt(e,ZMe,t.letterSpacing),this.lineBreak=Mt(e,eOe,t.lineBreak),this.lineHeight=Mt(e,tOe,t.lineHeight),this.listStyleImage=Mt(e,rOe,t.listStyleImage),this.listStylePosition=Mt(e,nOe,t.listStylePosition),this.listStyleType=Mt(e,c6,t.listStyleType),this.marginTop=Mt(e,iOe,t.marginTop),this.marginRight=Mt(e,sOe,t.marginRight),this.marginBottom=Mt(e,aOe,t.marginBottom),this.marginLeft=Mt(e,oOe,t.marginLeft),this.opacity=Mt(e,NOe,t.opacity);var s=Mt(e,lOe,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Mt(e,cOe,t.overflowWrap),this.paddingTop=Mt(e,uOe,t.paddingTop),this.paddingRight=Mt(e,dOe,t.paddingRight),this.paddingBottom=Mt(e,hOe,t.paddingBottom),this.paddingLeft=Mt(e,fOe,t.paddingLeft),this.paintOrder=Mt(e,HOe,t.paintOrder),this.position=Mt(e,pOe,t.position),this.textAlign=Mt(e,AOe,t.textAlign),this.textDecorationColor=Mt(e,BOe,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Mt(e,kOe,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Mt(e,mOe,t.textShadow),this.textTransform=Mt(e,gOe,t.textTransform),this.transform=Mt(e,vOe,t.transform),this.transformOrigin=Mt(e,COe,t.transformOrigin),this.visibility=Mt(e,SOe,t.visibility),this.webkitTextStrokeColor=Mt(e,QOe,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Mt(e,$Oe,t.webkitTextStrokeWidth),this.wordBreak=Mt(e,EOe,t.wordBreak),this.zIndex=Mt(e,_Oe,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return xh(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return qi(this.display,4)||qi(this.display,33554432)||qi(this.display,268435456)||qi(this.display,536870912)||qi(this.display,67108864)||qi(this.display,134217728)},r}(),VOe=function(){function r(e,t){this.content=Mt(e,OOe,t.content),this.quotes=Mt(e,DOe,t.quotes)}return r}(),$9=function(){function r(e,t){this.counterIncrement=Mt(e,POe,t.counterIncrement),this.counterReset=Mt(e,ROe,t.counterReset)}return r}(),Mt=function(r,e,t){var n=new see,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(i);var s=new aee(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(r,pn(a)?a.value:e.initialValue);case 0:return e.parse(r,s.parseComponentValue());case 1:return e.parse(r,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return h4.parse(r,s.parseComponentValue());case"color":return bh.parse(r,s.parseComponentValue());case"image":return X8.parse(r,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Oh(o)?o:Rs;case"length-percentage":var l=s.parseComponentValue();return Ri(l)?l:Rs;case"time":return See.parse(r,s.parseComponentValue())}break}},GOe="data-html2canvas-debug",KOe=function(r){var e=r.getAttribute(GOe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},u6=function(r,e){var t=KOe(r);return t===1||e===t},Wc=function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,u6(t,3))debugger;this.styles=new zOe(e,window.getComputedStyle(t,null)),f6(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=u4(this.context,t),u6(t,4)&&(this.flags|=16)}return r}(),WOe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",z9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ax=0;ax<z9.length;ax++)kg[z9.charCodeAt(ax)]=ax;var qOe=function(r){var e=r.length*.75,t=r.length,n,i=0,s,a,o,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<t;n+=4)s=kg[r.charCodeAt(n)],a=kg[r.charCodeAt(n+1)],o=kg[r.charCodeAt(n+2)],l=kg[r.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},XOe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},YOe=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Gf=5,Y8=11,sE=2,JOe=Y8-Gf,Eee=65536>>Gf,ZOe=1<<Gf,aE=ZOe-1,ePe=1024>>Gf,tPe=Eee+ePe,rPe=tPe,nPe=32,iPe=rPe+nPe,sPe=65536>>Y8,aPe=1<<JOe,oPe=aPe-1,V9=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},lPe=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},cPe=function(r,e){var t=qOe(r),n=Array.isArray(t)?YOe(t):new Uint32Array(t),i=Array.isArray(t)?XOe(t):new Uint16Array(t),s=24,a=V9(i,s/2,n[4]/2),o=n[5]===2?V9(i,(s+n[4])/2):lPe(n,Math.ceil((s+n[4])/4));return new uPe(n[0],n[1],n[2],n[3],a,o)},uPe=function(){function r(e,t,n,i,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Gf],t=(t<<sE)+(e&aE),this.data[t];if(e<=65535)return t=this.index[Eee+(e-55296>>Gf)],t=(t<<sE)+(e&aE),this.data[t];if(e<this.highStart)return t=iPe-sPe+(e>>Y8),t=this.index[t],t+=e>>Gf&oPe,t=this.index[t],t=(t<<sE)+(e&aE),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r}(),G9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dPe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ox=0;ox<G9.length;ox++)dPe[G9.charCodeAt(ox)]=ox;var hPe=1,oE=2,lE=3,K9=4,W9=5,fPe=7,q9=8,cE=9,uE=10,X9=11,Y9=12,J9=13,Z9=14,dE=15,APe=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<n){var s=r.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},pPe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],i=-1,s="";++i<t;){var a=r[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},mPe=cPe(WOe),Wo="",hE="",gPe=function(r){return mPe.get(r)},vPe=function(r,e,t){var n=t-2,i=e[n],s=e[t-1],a=e[t];if(s===oE&&a===lE)return Wo;if(s===oE||s===lE||s===K9||a===oE||a===lE||a===K9)return hE;if(s===q9&&[q9,cE,X9,Y9].indexOf(a)!==-1||(s===X9||s===cE)&&(a===cE||a===uE)||(s===Y9||s===uE)&&a===uE||a===J9||a===W9||a===fPe||s===hPe)return Wo;if(s===J9&&a===Z9){for(;i===W9;)i=e[--n];if(i===Z9)return Wo}if(s===dE&&a===dE){for(var o=0;i===dE;)o++,i=e[--n];if(o%2===0)return Wo}return hE},yPe=function(r){var e=APe(r),t=e.length,n=0,i=0,s=e.map(gPe);return{next:function(){if(n>=t)return{done:!0,value:null};for(var a=Wo;n<t&&(a=vPe(e,s,++n))===Wo;);if(a!==Wo||n===t){var o=pPe.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},bPe=function(r){for(var e=yPe(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},xPe=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(r.body.removeChild(n),s===e)return!0}}return!1},wPe=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=d4(n.data).map(function(l){return wi(l)}),s=0,a={},o=i.every(function(l,c){t.setStart(n,s),t.setEnd(n,s+l.length);var u=t.getBoundingClientRect();s+=l.length;var d=u.x>a.x||u.y>a.y;return a=u,c===0?!0:d});return r.body.removeChild(e),o},CPe=function(){return typeof new Image().crossOrigin<"u"},SPe=function(){return typeof new XMLHttpRequest().responseType=="string"},EPe=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},eU=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},_Pe=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var a=d6(t,t,0,0,i);return n.fillStyle="red",n.fillRect(0,0,t,t),tU(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var c=r.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=t+"px",eU(l)?tU(d6(t,t,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),eU(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},d6=function(r,e,t,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",r.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},tU=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Ms={get SUPPORT_RANGE_BOUNDS(){var r=xPe(document);return Object.defineProperty(Ms,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Ms.SUPPORT_RANGE_BOUNDS&&wPe(document);return Object.defineProperty(Ms,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=EPe(document);return Object.defineProperty(Ms,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?_Pe(document):Promise.resolve(!1);return Object.defineProperty(Ms,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=CPe();return Object.defineProperty(Ms,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=SPe();return Object.defineProperty(Ms,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ms,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ms,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},Jg=function(){function r(e,t){this.text=e,this.bounds=t}return r}(),NPe=function(r,e,t,n){var i=TPe(e,t),s=[],a=0;return i.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Ms.SUPPORT_RANGE_BOUNDS){var l=rU(n,a,o.length).getClientRects();if(l.length>1){var c=J8(o),u=0;c.forEach(function(h){s.push(new Jg(h,id.fromDOMRectList(r,rU(n,u+a,h.length).getClientRects()))),u+=h.length})}else s.push(new Jg(o,id.fromDOMRectList(r,l)))}else{var d=n.splitText(o.length);s.push(new Jg(o,BPe(r,n))),n=d}else Ms.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},BPe=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=u4(r,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return id.EMPTY},rU=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(r,e),i.setEnd(r,e+t),i},J8=function(r){if(Ms.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return bPe(r)},kPe=function(r,e){if(Ms.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return FPe(r,e)},TPe=function(r,e){return e.letterSpacing!==0?J8(r):kPe(r,e)},jPe=[32,160,4961,65792,65793,4153,4241],FPe=function(r,e){for(var t=sIe(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=d4(a),l="";o.forEach(function(c){jPe.indexOf(c)===-1?l+=wi(c):(l.length&&n.push(l),n.push(wi(c)),l="")}),l.length&&n.push(l)}};!(i=t.next()).done;)s();return n},IPe=function(){function r(e,t,n){this.text=MPe(t.data,n.textTransform),this.textBounds=NPe(e,this.text,n,t)}return r}(),MPe=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(OPe,PPe);case 2:return r.toUpperCase();default:return r}},OPe=/(^|\s|:|-|\(|\))([a-z])/g,PPe=function(r,e,t){return r.length>0?e+t.toUpperCase():r},_ee=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Wc),Nee=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Wc),Bee=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=new XMLSerializer,a=u4(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Wc),kee=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(Wc),h6=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Wc),RPe=[{type:15,flags:0,unit:"px",number:3}],LPe=[{type:16,flags:0,number:50}],DPe=function(r){return r.width>r.height?new id(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new id(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},UPe=function(r){var e=r.type===HPe?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},s5="checkbox",a5="radio",HPe="password",nU=707406591,Z8=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=UPe(n),(i.type===s5||i.type===a5)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=DPe(i.bounds)),i.type){case s5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=RPe;break;case a5:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=LPe;break}return i}return e}(Wc),Tee=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Wc),jee=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.value=n.value,i}return e}(Wc),Fee=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=Mee(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Xg(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Lu.TRANSPARENT,a=n.contentWindow.document.body?Xg(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Lu.TRANSPARENT;i.backgroundColor=xh(s)?xh(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Wc),QPe=["OL","UL","MENU"],uw=function(r,e,t,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Oee(i)&&i.data.trim().length>0)t.textNodes.push(new IPe(r,i,t.styles));else if(Ip(i))if(Dee(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return uw(r,o,t,n)});else{var a=Iee(r,i);a.styles.isVisible()&&($Pe(i,a,n)?a.flags|=4:zPe(a.styles)&&(a.flags|=2),QPe.indexOf(i.tagName)!==-1&&(a.flags|=8),t.elements.push(a),i.slot,i.shadowRoot?uw(r,i.shadowRoot,a,n):!o5(i)&&!Pee(i)&&!l5(i)&&uw(r,i,a,n))}},Iee=function(r,e){return A6(e)?new _ee(r,e):Ree(e)?new Nee(r,e):Pee(e)?new Bee(r,e):VPe(e)?new kee(r,e):GPe(e)?new h6(r,e):KPe(e)?new Z8(r,e):l5(e)?new Tee(r,e):o5(e)?new jee(r,e):Lee(e)?new Fee(r,e):new Wc(r,e)},Mee=function(r,e){var t=Iee(r,e);return t.flags|=4,uw(r,e,t,t),t},$Pe=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||eF(r)&&t.styles.isTransparent()},zPe=function(r){return r.isPositioned()||r.isFloating()},Oee=function(r){return r.nodeType===Node.TEXT_NODE},Ip=function(r){return r.nodeType===Node.ELEMENT_NODE},f6=function(r){return Ip(r)&&typeof r.style<"u"&&!dw(r)},dw=function(r){return typeof r.className=="object"},VPe=function(r){return r.tagName==="LI"},GPe=function(r){return r.tagName==="OL"},KPe=function(r){return r.tagName==="INPUT"},WPe=function(r){return r.tagName==="HTML"},Pee=function(r){return r.tagName==="svg"},eF=function(r){return r.tagName==="BODY"},Ree=function(r){return r.tagName==="CANVAS"},iU=function(r){return r.tagName==="VIDEO"},A6=function(r){return r.tagName==="IMG"},Lee=function(r){return r.tagName==="IFRAME"},sU=function(r){return r.tagName==="STYLE"},qPe=function(r){return r.tagName==="SCRIPT"},o5=function(r){return r.tagName==="TEXTAREA"},l5=function(r){return r.tagName==="SELECT"},Dee=function(r){return r.tagName==="SLOT"},aU=function(r){return r.tagName.indexOf("-")>0},XPe=function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=t.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=t.counters[o.counter];a.push(o.counter),l||(l=t.counters[o.counter]=[]),l.push(o.reset)}),a},r}(),oU={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},lU={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},YPe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},JPe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},JA=function(r,e,t,n,i,s){return r<e||r>t?Xv(r,i,s.length>0):n.integers.reduce(function(a,o,l){for(;r>=o;)r-=o,a+=n.values[l];return a},"")+s},Uee=function(r,e,t,n){var i="";do t||r--,i=n(r)+i,r/=e;while(r*e>=e);return i},yi=function(r,e,t,n,i){var s=t-e+1;return(r<0?"-":"")+(Uee(Math.abs(r),s,n,function(a){return wi(Math.floor(a%s)+e)})+i)},df=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return Uee(Math.abs(r),n,!1,function(i){return e[Math.floor(i%n)]})+t},up=1,Hd=2,Qd=4,Tg=8,gu=function(r,e,t,n,i,s){if(r<-9999||r>9999)return Xv(r,4,i.length>0);var a=Math.abs(r),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&qi(s,up)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&qi(s,Hd)||c===1&&l===1&&qi(s,Qd)&&r>100||c===1&&l>1&&qi(s,Tg)?o=e[c]+(l>0?t[l-1]:"")+o:c===1&&l>0&&(o=t[l-1]+o),a=Math.floor(a/10)}return(r<0?n:"")+o},cU="",uU="",dU="",fE="",Xv=function(r,e,t){var n=t?". ":"",i=t?"":"",s=t?", ":"",a=t?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=yi(r,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return df(r,"",i);case 6:return JA(r,1,3999,oU,3,n).toLowerCase();case 7:return JA(r,1,3999,oU,3,n);case 8:return yi(r,945,969,!1,n);case 9:return yi(r,97,122,!1,n);case 10:return yi(r,65,90,!1,n);case 11:return yi(r,1632,1641,!0,n);case 12:case 49:return JA(r,1,9999,lU,3,n);case 35:return JA(r,1,9999,lU,3,n).toLowerCase();case 13:return yi(r,2534,2543,!0,n);case 14:case 30:return yi(r,6112,6121,!0,n);case 15:return df(r,"",i);case 16:return df(r,"",i);case 17:case 48:return gu(r,"",cU,"",i,Hd|Qd|Tg);case 47:return gu(r,"",uU,"",i,up|Hd|Qd|Tg);case 42:return gu(r,"",cU,"",i,Hd|Qd|Tg);case 41:return gu(r,"",uU,"",i,up|Hd|Qd|Tg);case 26:return gu(r,"","",dU,i,0);case 25:return gu(r,"","",dU,i,up|Hd|Qd);case 31:return gu(r,"","",fE,s,up|Hd|Qd);case 33:return gu(r,"","",fE,s,0);case 32:return gu(r,"","",fE,s,up|Hd|Qd);case 18:return yi(r,2406,2415,!0,n);case 20:return JA(r,1,19999,JPe,3,n);case 21:return yi(r,2790,2799,!0,n);case 22:return yi(r,2662,2671,!0,n);case 22:return JA(r,1,10999,YPe,3,n);case 23:return df(r,"");case 24:return df(r,"");case 27:return yi(r,3302,3311,!0,n);case 28:return df(r,"",i);case 29:return df(r,"",i);case 34:return yi(r,3792,3801,!0,n);case 37:return yi(r,6160,6169,!0,n);case 38:return yi(r,4160,4169,!0,n);case 39:return yi(r,2918,2927,!0,n);case 40:return yi(r,1776,1785,!0,n);case 43:return yi(r,3046,3055,!0,n);case 44:return yi(r,3174,3183,!0,n);case 45:return yi(r,3664,3673,!0,n);case 46:return yi(r,3872,3881,!0,n);case 3:default:return yi(r,48,57,!0,n)}},Hee="data-html2canvas-ignore",hU=function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new XPe,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,i=ZPe(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=rRe(i).then(function(){return pa(n,void 0,void 0,function(){var u,d;return ea(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(aRe),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,tRe(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,d)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(iRe(document.doctype)+"<html></html>"),sRe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},r.prototype.createElementClone=function(e){if(u6(e,2))debugger;if(Ree(e))return this.createCanvasClone(e);if(iU(e))return this.createVideoClone(e);if(sU(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return A6(t)&&(A6(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),aU(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return AE(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(o){var l=o.getContextAttributes();l?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},r.prototype.appendChildNode=function(e,t,n){(!Ip(t)||!qPe(t)&&!t.hasAttribute(Hee)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ip(t)||!sU(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Ip(s)&&Dee(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(t,o,n)})}else this.appendChildNode(t,s,n)},r.prototype.cloneNode=function(e,t){if(Oee(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ip(e)&&(f6(e)||dw(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&f6(i)&&(this.clonedReferenceElement=i),eF(i)&&cRe(i);var l=this.counters.parse(new $9(this.context,s)),c=this.resolvePseudoContent(e,i,a,Zg.BEFORE);aU(e)&&(t=!0),iU(e)||this.cloneChildNodes(e,i,t),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(e,i,o,Zg.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(s&&(this.options.copyStyles||dw(e))&&!Lee(e)||t)&&AE(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(o5(e)||l5(e))&&(o5(i)||l5(i))&&(i.value=e.value),i}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,i){var s=this;if(n){var a=n.content,o=t.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new $9(this.context,n));var l=new VOe(this.context,n),c=o.createElement("html2canvaspseudoelement");AE(n,c),l.content.forEach(function(d){if(d.type===0)c.appendChild(o.createTextNode(d.value));else if(d.type===22){var h=o.createElement("img");h.src=d.value,h.style.opacity="1",c.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(pn);f.length&&c.appendChild(o.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(Sm),g=p[0],m=p[1];if(g&&pn(g)){var v=s.counters.getCounterValue(g.value),y=m&&pn(m)?c6.parse(s.context,m.value):3;c.appendChild(o.createTextNode(Xv(v,y,!1)))}}else if(d.name==="counters"){var b=d.values.filter(Sm),g=b[0],w=b[1],m=b[2];if(g&&pn(g)){var _=s.counters.getCounterValues(g.value),B=m&&pn(m)?c6.parse(s.context,m.value):3,R=w&&w.type===0?w.value:"",j=_.map(function(H){return Xv(H,B,!1)}).join(R);c.appendChild(o.createTextNode(j))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(o.createTextNode(Q9(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(Q9(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(d.value))}}),c.className=p6+" "+m6;var u=i===Zg.BEFORE?" "+p6:" "+m6;return dw(t)?t.className.baseValue+=u:t.className+=u,c}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r}(),Zg;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(Zg||(Zg={}));var ZPe=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(Hee,"true"),r.body.appendChild(t),t},eRe=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},tRe=function(r){return Promise.all([].slice.call(r.images,0).map(eRe))},rRe=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var i=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(r))},50)}})},nRe=["all","d","content"],AE=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);nRe.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},iRe=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},sRe=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},aRe=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},oRe=":before",lRe=":after",p6="___html2canvas___pseudoelement_before",m6="___html2canvas___pseudoelement_after",fU=`{
    content: "" !important;
    display: none !important;
}`,cRe=function(r){uRe(r,"."+p6+oRe+fU+`
         .`+m6+lRe+fU)},uRe=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},Qee=function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r}(),dRe=function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(mE(e)||pRe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return pa(this,void 0,void 0,function(){var t,n,i,s,a=this;return ea(this,function(o){switch(o.label){case 0:return t=Qee.isSameOrigin(e),n=!pE(e)&&this._options.useCORS===!0&&Ms.SUPPORT_CORS_IMAGES&&!t,i=!pE(e)&&!t&&!mE(e)&&typeof this._options.proxy=="string"&&Ms.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!pE(e)&&!mE(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(mRe(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Ms.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(h){return a(h)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),t._options.imageTimeout){var u=t._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}l.send()})},r}(),hRe=/^data:image\/svg\+xml/i,fRe=/^data:image\/.*;base64,/i,ARe=/^data:image\/.*/i,pRe=function(r){return Ms.SUPPORT_SVG_DRAWING||!gRe(r)},pE=function(r){return ARe.test(r)},mRe=function(r){return fRe.test(r)},mE=function(r){return r.substr(0,4)==="blob"},gRe=function(r){return r.substr(-3).toLowerCase()==="svg"||hRe.test(r)},Ft=function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r}(),ZA=function(r,e,t){return new Ft(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},lx=function(){function r(e,t,n,i){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=i}return r.prototype.subdivide=function(e,t){var n=ZA(this.start,this.startControl,e),i=ZA(this.startControl,this.endControl,e),s=ZA(this.endControl,this.end,e),a=ZA(n,i,e),o=ZA(i,s,e),l=ZA(a,o,e);return t?new r(this.start,n,a,l):new r(l,o,s,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r}(),Yo=function(r){return r.type===1},vRe=function(){function r(e){var t=e.styles,n=e.bounds,i=Bg(t.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Bg(t.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],u=Bg(t.borderBottomRightRadius,n.width,n.height),d=u[0],h=u[1],f=Bg(t.borderBottomLeftRadius,n.width,n.height),p=f[0],g=f[1],m=[];m.push((s+l)/n.width),m.push((p+d)/n.width),m.push((a+g)/n.height),m.push((c+h)/n.height);var v=Math.max.apply(Math,m);v>1&&(s/=v,a/=v,l/=v,c/=v,d/=v,h/=v,p/=v,g/=v);var y=n.width-l,b=n.height-h,w=n.width-d,_=n.height-g,B=t.borderTopWidth,R=t.borderRightWidth,j=t.borderBottomWidth,k=t.borderLeftWidth,L=Bn(t.paddingTop,e.bounds.width),H=Bn(t.paddingRight,e.bounds.width),I=Bn(t.paddingBottom,e.bounds.width),T=Bn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Un(n.left+k/3,n.top+B/3,s-k/3,a-B/3,sn.TOP_LEFT):new Ft(n.left+k/3,n.top+B/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Un(n.left+y,n.top+B/3,l-R/3,c-B/3,sn.TOP_RIGHT):new Ft(n.left+n.width-R/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?Un(n.left+w,n.top+b,d-R/3,h-j/3,sn.BOTTOM_RIGHT):new Ft(n.left+n.width-R/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?Un(n.left+k/3,n.top+_,p-k/3,g-j/3,sn.BOTTOM_LEFT):new Ft(n.left+k/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Un(n.left+k*2/3,n.top+B*2/3,s-k*2/3,a-B*2/3,sn.TOP_LEFT):new Ft(n.left+k*2/3,n.top+B*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Un(n.left+y,n.top+B*2/3,l-R*2/3,c-B*2/3,sn.TOP_RIGHT):new Ft(n.left+n.width-R*2/3,n.top+B*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?Un(n.left+w,n.top+b,d-R*2/3,h-j*2/3,sn.BOTTOM_RIGHT):new Ft(n.left+n.width-R*2/3,n.top+n.height-j*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?Un(n.left+k*2/3,n.top+_,p-k*2/3,g-j*2/3,sn.BOTTOM_LEFT):new Ft(n.left+k*2/3,n.top+n.height-j*2/3),this.topLeftBorderStroke=s>0||a>0?Un(n.left+k/2,n.top+B/2,s-k/2,a-B/2,sn.TOP_LEFT):new Ft(n.left+k/2,n.top+B/2),this.topRightBorderStroke=s>0||a>0?Un(n.left+y,n.top+B/2,l-R/2,c-B/2,sn.TOP_RIGHT):new Ft(n.left+n.width-R/2,n.top+B/2),this.bottomRightBorderStroke=d>0||h>0?Un(n.left+w,n.top+b,d-R/2,h-j/2,sn.BOTTOM_RIGHT):new Ft(n.left+n.width-R/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=p>0||g>0?Un(n.left+k/2,n.top+_,p-k/2,g-j/2,sn.BOTTOM_LEFT):new Ft(n.left+k/2,n.top+n.height-j/2),this.topLeftBorderBox=s>0||a>0?Un(n.left,n.top,s,a,sn.TOP_LEFT):new Ft(n.left,n.top),this.topRightBorderBox=l>0||c>0?Un(n.left+y,n.top,l,c,sn.TOP_RIGHT):new Ft(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?Un(n.left+w,n.top+b,d,h,sn.BOTTOM_RIGHT):new Ft(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||g>0?Un(n.left,n.top+_,p,g,sn.BOTTOM_LEFT):new Ft(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?Un(n.left+k,n.top+B,Math.max(0,s-k),Math.max(0,a-B),sn.TOP_LEFT):new Ft(n.left+k,n.top+B),this.topRightPaddingBox=l>0||c>0?Un(n.left+Math.min(y,n.width-R),n.top+B,y>n.width+R?0:Math.max(0,l-R),Math.max(0,c-B),sn.TOP_RIGHT):new Ft(n.left+n.width-R,n.top+B),this.bottomRightPaddingBox=d>0||h>0?Un(n.left+Math.min(w,n.width-k),n.top+Math.min(b,n.height-j),Math.max(0,d-R),Math.max(0,h-j),sn.BOTTOM_RIGHT):new Ft(n.left+n.width-R,n.top+n.height-j),this.bottomLeftPaddingBox=p>0||g>0?Un(n.left+k,n.top+Math.min(_,n.height-j),Math.max(0,p-k),Math.max(0,g-j),sn.BOTTOM_LEFT):new Ft(n.left+k,n.top+n.height-j),this.topLeftContentBox=s>0||a>0?Un(n.left+k+T,n.top+B+L,Math.max(0,s-(k+T)),Math.max(0,a-(B+L)),sn.TOP_LEFT):new Ft(n.left+k+T,n.top+B+L),this.topRightContentBox=l>0||c>0?Un(n.left+Math.min(y,n.width+k+T),n.top+B+L,y>n.width+k+T?0:l-k+T,c-(B+L),sn.TOP_RIGHT):new Ft(n.left+n.width-(R+H),n.top+B+L),this.bottomRightContentBox=d>0||h>0?Un(n.left+Math.min(w,n.width-(k+T)),n.top+Math.min(b,n.height+B+L),Math.max(0,d-(R+H)),h-(j+I),sn.BOTTOM_RIGHT):new Ft(n.left+n.width-(R+H),n.top+n.height-(j+I)),this.bottomLeftContentBox=p>0||g>0?Un(n.left+k+T,n.top+_,Math.max(0,p-(k+T)),g-(j+I),sn.BOTTOM_LEFT):new Ft(n.left+k+T,n.top+n.height-(j+I))}return r}(),sn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(sn||(sn={}));var Un=function(r,e,t,n,i){var s=4*((Math.sqrt(2)-1)/3),a=t*s,o=n*s,l=r+t,c=e+n;switch(i){case sn.TOP_LEFT:return new lx(new Ft(r,c),new Ft(r,c-o),new Ft(l-a,e),new Ft(l,e));case sn.TOP_RIGHT:return new lx(new Ft(r,e),new Ft(r+a,e),new Ft(l,c-o),new Ft(l,c));case sn.BOTTOM_RIGHT:return new lx(new Ft(l,e),new Ft(l,e+o),new Ft(r+a,c),new Ft(r,c));case sn.BOTTOM_LEFT:default:return new lx(new Ft(l,c),new Ft(l-a,c),new Ft(r,e+o),new Ft(r,e))}},c5=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},yRe=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},u5=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},bRe=function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r}(),cx=function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r}(),xRe=function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r}(),wRe=function(r){return r.type===0},$ee=function(r){return r.type===1},CRe=function(r){return r.type===2},AU=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},SRe=function(r,e,t,n,i){return r.map(function(s,a){switch(a){case 0:return s.add(e,t);case 1:return s.add(e+n,t);case 2:return s.add(e+n,t+i);case 3:return s.add(e,t+i)}return s})},zee=function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r}(),Vee=function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new vRe(this.container),this.container.styles.opacity<1&&this.effects.push(new xRe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new bRe(n,i,s))}if(this.container.styles.overflowX!==0){var a=c5(this.curves),o=u5(this.curves);AU(a,o)?this.effects.push(new cx(a,6)):(this.effects.push(new cx(a,2)),this.effects.push(new cx(o,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!$ee(l)});if(t||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=c5(n.curves),o=u5(n.curves);AU(a,o)||i.unshift(new cx(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return qi(l.target,e)})},r}(),g6=function(r,e,t,n){r.container.elements.forEach(function(i){var s=qi(i.flags,4),a=qi(i.flags,2),o=new Vee(i,r);qi(i.styles.display,2048)&&n.push(o);var l=qi(i.flags,8)?[]:n;if(s||a){var c=s||i.styles.isPositioned()?t:e,u=new zee(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var h=0;c.negativeZIndex.some(function(p,g){return d>p.element.container.styles.zIndex.order?(h=g,!1):h>0}),c.negativeZIndex.splice(h,0,u)}else if(d>0){var f=0;c.positiveZIndex.some(function(p,g){return d>=p.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);g6(o,u,s?u:t,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),g6(o,e,t,l);qi(i.flags,8)&&Gee(i,l)})},Gee=function(r,e){for(var t=r instanceof h6?r.start:1,n=r instanceof h6?r.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof kee&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Xv(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},ERe=function(r){var e=new Vee(r,null),t=new zee(e),n=[];return g6(e,t,t,n),Gee(e.container,n),t},pU=function(r,e){switch(e){case 0:return tl(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return tl(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return tl(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return tl(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},_Re=function(r,e){switch(e){case 0:return tl(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return tl(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return tl(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return tl(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},NRe=function(r,e){switch(e){case 0:return tl(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return tl(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return tl(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return tl(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},BRe=function(r,e){switch(e){case 0:return ux(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return ux(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return ux(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return ux(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},ux=function(r,e){var t=[];return Yo(r)?t.push(r.subdivide(.5,!1)):t.push(r),Yo(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},tl=function(r,e,t,n){var i=[];return Yo(r)?i.push(r.subdivide(.5,!1)):i.push(r),Yo(t)?i.push(t.subdivide(.5,!0)):i.push(t),Yo(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Yo(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Kee=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},d5=function(r){var e=r.styles,t=r.bounds,n=Bn(e.paddingLeft,t.width),i=Bn(e.paddingRight,t.width),s=Bn(e.paddingTop,t.width),a=Bn(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},kRe=function(r,e){return r===0?e.bounds:r===2?d5(e):Kee(e)},TRe=function(r,e){return r===0?e.bounds:r===2?d5(e):Kee(e)},gE=function(r,e,t){var n=kRe(dp(r.styles.backgroundOrigin,e),r),i=TRe(dp(r.styles.backgroundClip,e),r),s=jRe(dp(r.styles.backgroundSize,e),t,n),a=s[0],o=s[1],l=Bg(dp(r.styles.backgroundPosition,e),n.width-a,n.height-o),c=FRe(dp(r.styles.backgroundRepeat,e),l,s,n,i),u=Math.round(n.left+l[0]),d=Math.round(n.top+l[1]);return[c,u,d,a,o]},ep=function(r){return pn(r)&&r.value===nm.AUTO},dx=function(r){return typeof r=="number"},jRe=function(r,e,t){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1];if(!a)return[0,0];if(Ri(a)&&o&&Ri(o))return[Bn(a,t.width),Bn(o,t.height)];var l=dx(s);if(pn(a)&&(a.value===nm.CONTAIN||a.value===nm.COVER)){if(dx(s)){var c=t.width/t.height;return c<s!=(a.value===nm.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var u=dx(n),d=dx(i),h=u||d;if(ep(a)&&(!o||ep(o))){if(u&&d)return[n,i];if(!l&&!h)return[t.width,t.height];if(h&&l){var f=u?n:i*s,p=d?i:n/s;return[f,p]}var g=u?n:t.width,m=d?i:t.height;return[g,m]}if(l){var v=0,y=0;return Ri(a)?v=Bn(a,t.width):Ri(o)&&(y=Bn(o,t.height)),ep(a)?v=y*s:(!o||ep(o))&&(y=v/s),[v,y]}var b=null,w=null;if(Ri(a)?b=Bn(a,t.width):o&&Ri(o)&&(w=Bn(o,t.height)),b!==null&&(!o||ep(o))&&(w=u&&d?b/n*i:t.height),w!==null&&ep(a)&&(b=u&&d?w/i*n:t.width),b!==null&&w!==null)return[b,w];throw new Error("Unable to calculate background-size for element")},dp=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},FRe=function(r,e,t,n,i){var s=e[0],a=e[1],o=t[0],l=t[1];switch(r){case 2:return[new Ft(Math.round(n.left),Math.round(n.top+a)),new Ft(Math.round(n.left+n.width),Math.round(n.top+a)),new Ft(Math.round(n.left+n.width),Math.round(l+n.top+a)),new Ft(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new Ft(Math.round(n.left+s),Math.round(n.top)),new Ft(Math.round(n.left+s+o),Math.round(n.top)),new Ft(Math.round(n.left+s+o),Math.round(n.height+n.top)),new Ft(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ft(Math.round(n.left+s),Math.round(n.top+a)),new Ft(Math.round(n.left+s+o),Math.round(n.top+a)),new Ft(Math.round(n.left+s+o),Math.round(n.top+a+l)),new Ft(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new Ft(Math.round(i.left),Math.round(i.top)),new Ft(Math.round(i.left+i.width),Math.round(i.top)),new Ft(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Ft(Math.round(i.left),Math.round(i.height+i.top))]}},IRe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",mU="Hidden Text",MRe=function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=IRe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(mU)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(mU)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r}(),Wee=function(){function r(e,t){this.context=e,this.options=t}return r}(),ORe=1e4,PRe=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new MRe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),CRe(t)&&(this.ctx.globalAlpha=t.opacity),wRe(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),$ee(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return pa(this,void 0,void 0,function(){var n;return ea(this,function(i){switch(i.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return pa(this,void 0,void 0,function(){return ea(this,function(n){switch(n.label){case 0:if(qi(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,i){var s=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var a=J8(t.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,t.bounds.top+i),o+s.ctx.measureText(l).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=HRe(t.fontFamily).join(", "),s=e1(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,n){return pa(this,void 0,void 0,function(){var i,s,a,o,l,c,u,d,h=this;return ea(this,function(f){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,u=l.middle,d=n.paintOrder,t.textBounds.forEach(function(p){d.forEach(function(g){switch(g){case 0:h.ctx.fillStyle=as(n.color),h.renderTextWithLetterSpacing(p,n.letterSpacing,c);var m=n.textShadow;m.length&&p.text.trim().length&&(m.slice(0).reverse().forEach(function(v){h.ctx.shadowColor=as(v.color),h.ctx.shadowOffsetX=v.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=v.offsetY.number*h.options.scale,h.ctx.shadowBlur=v.blur.number,h.renderTextWithLetterSpacing(p,n.letterSpacing,c)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=as(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:h.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(h.ctx.strokeStyle=as(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=d5(t),a=u5(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return pa(this,void 0,void 0,function(){var n,i,s,a,o,l,y,y,c,u,d,h,w,f,p,_,g,m,v,y,b,w,_;return ea(this,function(B){switch(B.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,i=t.curves,s=n.styles,a=0,o=n.textNodes,B.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:B.sent(),B.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof _ee))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=B.sent(),this.renderReplacedElement(n,i,y),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Nee&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Bee))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=B.sent(),this.renderReplacedElement(n,i,y),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Fee&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:u=B.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),B.label=14;case 14:if(n instanceof Z8&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===s5?n.checked&&(this.ctx.save(),this.path([new Ft(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Ft(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Ft(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Ft(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Ft(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Ft(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Ft(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=as(nU),this.ctx.fill(),this.ctx.restore()):n.type===a5&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=as(nU),this.ctx.fill(),this.ctx.restore())),RRe(n)&&n.value.length){switch(h=this.createFontStyle(s),w=h[0],f=h[1],p=this.fontMetrics.getMetrics(w,f).baseline,this.ctx.font=w,this.ctx.fillStyle=as(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=DRe(n.styles.textAlign),_=d5(n),g=0,n.styles.textAlign){case 1:g+=_.width/2;break;case 2:g+=_.width;break}m=_.add(g,0,0,-_.height/2+1),this.ctx.save(),this.path([new Ft(_.left,_.top),new Ft(_.left+_.width,_.top),new Ft(_.left+_.width,_.top+_.height),new Ft(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Jg(n.value,m),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!qi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];y=void 0,b=v.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return y=B.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(w=this.createFontStyle(s)[0],this.ctx.font=w,this.ctx.fillStyle=as(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new id(n.bounds.left,n.bounds.top+Bn(n.styles.paddingTop,n.bounds.width),n.bounds.width,U9(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Jg(t.listValue,_),s.letterSpacing,U9(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return pa(this,void 0,void 0,function(){var n,i,v,s,a,v,o,l,v,c,u,v,d,h,v,f,p,v,g,m,v;return ea(this,function(y){switch(y.label){case 0:if(qi(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:y.sent(),n=0,i=t.negativeZIndex,y.label=2;case 2:return n<i.length?(v=i[n],[4,this.renderStack(v)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:y.sent(),s=0,a=t.nonInlineLevel,y.label=7;case 7:return s<a.length?(v=a[s],[4,this.renderNode(v)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:o=0,l=t.nonPositionedFloats,y.label=11;case 11:return o<l.length?(v=l[o],[4,this.renderStack(v)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:c=0,u=t.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(v=u[c],[4,this.renderStack(v)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:d=0,h=t.inlineLevel,y.label=19;case 19:return d<h.length?(v=h[d],[4,this.renderNode(v)]):[3,22];case 20:y.sent(),y.label=21;case 21:return d++,[3,19];case 22:f=0,p=t.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<p.length?(v=p[f],[4,this.renderStack(v)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:g=0,m=t.positiveZIndex,y.label=27;case 27:return g<m.length?(v=m[g],[4,this.renderStack(v)]):[3,30];case 28:y.sent(),y.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(i,s){var a=Yo(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Yo(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,n,i,s){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,n,i){var s;if(t.width===n&&t.height===i)return t;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(t,0,0,t.width,t.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(t){return pa(this,void 0,void 0,function(){var n,i,s,a,o,l;return ea(this,function(c){switch(c.label){case 0:n=t.styles.backgroundImage.length-1,i=function(u){var d,h,f,L,S,C,T,P,j,p,L,S,C,T,P,g,m,v,y,b,w,_,B,R,j,k,L,H,I,T,P,N,S,C,E,x,F,U,M,z,G,Y;return ea(this,function(Q){switch(Q.label){case 0:if(u.type!==0)return[3,5];d=void 0,h=u.url,Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return d=Q.sent(),[3,4];case 3:return Q.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=gE(t,n,[d.width,d.height,d.width/d.height]),L=f[0],S=f[1],C=f[2],T=f[3],P=f[4],j=s.ctx.createPattern(s.resizeImage(d,T,P),"repeat"),s.renderRepeat(L,j,S,C)),[3,6];case 5:wMe(u)?(p=gE(t,n,[null,null,null]),L=p[0],S=p[1],C=p[2],T=p[3],P=p[4],g=gMe(u.angle,T,P),m=g[0],v=g[1],y=g[2],b=g[3],w=g[4],_=document.createElement("canvas"),_.width=T,_.height=P,B=_.getContext("2d"),R=B.createLinearGradient(v,b,y,w),L9(u.stops,m).forEach(function(q){return R.addColorStop(q.stop,as(q.color))}),B.fillStyle=R,B.fillRect(0,0,T,P),T>0&&P>0&&(j=s.ctx.createPattern(_,"repeat"),s.renderRepeat(L,j,S,C))):CMe(u)&&(k=gE(t,n,[null,null,null]),L=k[0],H=k[1],I=k[2],T=k[3],P=k[4],N=u.position.length===0?[q8]:u.position,S=Bn(N[0],T),C=Bn(N[N.length-1],P),E=vMe(u,S,C,T,P),x=E[0],F=E[1],x>0&&F>0&&(U=s.ctx.createRadialGradient(H+S,I+C,0,H+S,I+C,x),L9(u.stops,x*2).forEach(function(q){return U.addColorStop(q.stop,as(q.color))}),s.path(L),s.ctx.fillStyle=U,x!==F?(M=t.bounds.left+.5*t.bounds.width,z=t.bounds.top+.5*t.bounds.height,G=F/x,Y=1/G,s.ctx.save(),s.ctx.translate(M,z),s.ctx.transform(1,0,0,G,0,0),s.ctx.translate(-M,-z),s.ctx.fillRect(H,Y*(I-z)+z,T,P*Y),s.ctx.restore()):s.ctx.fill())),Q.label=6;case 6:return n--,[2]}})},s=this,a=0,o=t.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,i){return pa(this,void 0,void 0,function(){return ea(this,function(s){return this.path(pU(i,n)),this.ctx.fillStyle=as(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,i,s){return pa(this,void 0,void 0,function(){var a,o;return ea(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=_Re(s,i),this.path(a),this.ctx.fillStyle=as(t),this.ctx.fill(),o=NRe(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return pa(this,void 0,void 0,function(){var n,i,s,a,o,l,c,u,d=this;return ea(this,function(h){switch(h.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,i=!xh(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=LRe(dp(n.backgroundClip,0),t.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),xh(n.backgroundColor)||(this.ctx.fillStyle=as(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var p=c5(t.curves),g=f.inset?0:ORe,m=SRe(p,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(p),d.ctx.clip(),d.mask(m)):(d.mask(p),d.ctx.clip(),d.path(m)),d.ctx.shadowOffsetX=f.offsetX.number+g,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=as(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?as(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:o=0,l=0,c=s,h.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!xh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,t.curves,3)];case 6:return h.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,t.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,t.curves)];case 10:h.sent(),h.label=11;case 11:o++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,i,s,a){return pa(this,void 0,void 0,function(){var o,l,c,u,d,h,f,p,g,m,v,y,b,w,_,B,_,B;return ea(this,function(R){return this.ctx.save(),o=BRe(s,i),l=pU(s,i),a===2&&(this.path(l),this.ctx.clip()),Yo(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Yo(l[1])?(d=l[1].end.x,h=l[1].end.y):(d=l[1].x,h=l[1].y),i===0||i===2?f=Math.abs(c-d):f=Math.abs(u-h),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,g=n<3?n*2:n,a===3&&(p=n,g=n),m=!0,f<=p*2?m=!1:f<=p*2+g?(v=f/(2*p+g),p*=v,g*=v):(y=Math.floor((f+g)/(p+g)),b=(f-y*p)/(y-1),w=(f-(y+1)*p)/y,g=w<=0||Math.abs(g-b)<Math.abs(g-w)?b:w),m&&(a===3?this.ctx.setLineDash([0,p+g]):this.ctx.setLineDash([p,g])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=as(t),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Yo(l[0])&&(_=l[3],B=l[0],this.ctx.beginPath(),this.formatPath([new Ft(_.end.x,_.end.y),new Ft(B.start.x,B.start.y)]),this.ctx.stroke()),Yo(l[1])&&(_=l[1],B=l[2],this.ctx.beginPath(),this.formatPath([new Ft(_.end.x,_.end.y),new Ft(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return pa(this,void 0,void 0,function(){var n;return ea(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=as(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ERe(t),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Wee),RRe=function(r){return r instanceof jee||r instanceof Tee?!0:r instanceof Z8&&r.type!==a5&&r.type!==s5},LRe=function(r,e){switch(r){case 0:return c5(e);case 2:return yRe(e);case 1:default:return u5(e)}},DRe=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},URe=["-apple-system","system-ui"],HRe=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return URe.indexOf(e)===-1}):r},QRe=function(r){Yl(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(t){return pa(this,void 0,void 0,function(){var n,i;return ea(this,function(s){switch(s.label){case 0:return n=d6(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,$Re(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=as(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Wee),$Re=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},zRe=function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,$b([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,$b([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,$b([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,$b([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r}(),VRe=function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new zRe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new dRe(this,e)}return r.instanceCount=1,r}(),GRe=function(r,e){return e===void 0&&(e={}),KRe(r,e)};typeof window<"u"&&Qee.setContext(window);var KRe=function(r,e){return pa(void 0,void 0,void 0,function(){var t,n,i,s,a,o,l,c,u,d,h,f,p,g,m,v,y,b,w,_,R,B,R,j,k,L,H,I,T,P,N,S,C,E,x,F,U,M,z,G;return ea(this,function(Y){switch(Y.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(j=e.allowTaint)!==null&&j!==void 0?j:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(L=e.useCORS)!==null&&L!==void 0?L:!1},s=XB({logging:(H=e.logging)!==null&&H!==void 0?H:!0,cache:e.cache},i),a={windowWidth:(I=e.windowWidth)!==null&&I!==void 0?I:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(P=e.scrollX)!==null&&P!==void 0?P:n.pageXOffset,scrollY:(N=e.scrollY)!==null&&N!==void 0?N:n.pageYOffset},o=new id(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new VRe(s,o),c=(S=e.foreignObjectRendering)!==null&&S!==void 0?S:!1,u={allowTaint:(C=e.allowTaint)!==null&&C!==void 0?C:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new hU(l,r,u),h=d.clonedReferenceElement,h?[4,d.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=Y.sent(),p=eF(h)||WPe(h)?SFe(h.ownerDocument):u4(l,h),g=p.width,m=p.height,v=p.left,y=p.top,b=WRe(l,h,e.backgroundColor),w={canvas:e.canvas,backgroundColor:b,scale:(x=(E=e.scale)!==null&&E!==void 0?E:n.devicePixelRatio)!==null&&x!==void 0?x:1,x:((F=e.x)!==null&&F!==void 0?F:0)+v,y:((U=e.y)!==null&&U!==void 0?U:0)+y,width:(M=e.width)!==null&&M!==void 0?M:Math.ceil(g),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(m)},c?(l.logger.debug("Document cloned, using foreign object rendering"),R=new QRe(l,w),[4,R.render(h)]):[3,3];case 2:return _=Y.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+v+","+y+" with size "+g+"x"+m+" using computed rendering"),l.logger.debug("Starting DOM parsing"),B=Mee(l,h),b===B.styles.backgroundColor&&(B.styles.backgroundColor=Lu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),R=new PRe(l,w),[4,R.render(B)];case 4:_=Y.sent(),Y.label=5;case 5:return(!((G=e.removeContainer)!==null&&G!==void 0)||G)&&(hU.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,_]}})})},WRe=function(r,e,t){var n=e.ownerDocument,i=n.documentElement?Xg(r,getComputedStyle(n.documentElement).backgroundColor):Lu.TRANSPARENT,s=n.body?Xg(r,getComputedStyle(n.body).backgroundColor):Lu.TRANSPARENT,a=typeof t=="string"?Xg(r,t):t===null?Lu.TRANSPARENT:4294967295;return e===n.documentElement?xh(i)?xh(s)?a:s:i:a};const qRe=Object.freeze(Object.defineProperty({__proto__:null,default:GRe},Symbol.toStringTag,{value:"Module"}));/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:qee,setPrototypeOf:gU,isFrozen:XRe,getPrototypeOf:YRe,getOwnPropertyDescriptor:JRe}=Object;let{freeze:_a,seal:fl,create:v6}=Object,{apply:y6,construct:b6}=typeof Reflect<"u"&&Reflect;_a||(_a=function(e){return e});fl||(fl=function(e){return e});y6||(y6=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return e.apply(t,i)});b6||(b6=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new e(...n)});const hx=Na(Array.prototype.forEach),ZRe=Na(Array.prototype.lastIndexOf),vU=Na(Array.prototype.pop),ng=Na(Array.prototype.push),eLe=Na(Array.prototype.splice),hw=Na(String.prototype.toLowerCase),vE=Na(String.prototype.toString),yE=Na(String.prototype.match),ig=Na(String.prototype.replace),tLe=Na(String.prototype.indexOf),rLe=Na(String.prototype.trim),Bl=Na(Object.prototype.hasOwnProperty),fa=Na(RegExp.prototype.test),sg=nLe(TypeError);function Na(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return y6(r,e,n)}}function nLe(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b6(r,t)}}function Or(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hw;gU&&gU(r,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const s=t(i);s!==i&&(XRe(e)||(e[n]=s),i=s)}r[i]=!0}return r}function iLe(r){for(let e=0;e<r.length;e++)Bl(r,e)||(r[e]=null);return r}function pc(r){const e=v6(null);for(const[t,n]of qee(r))Bl(r,t)&&(Array.isArray(n)?e[t]=iLe(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=pc(n):e[t]=n);return e}function ag(r,e){for(;r!==null;){const n=JRe(r,e);if(n){if(n.get)return Na(n.get);if(typeof n.value=="function")return Na(n.value)}r=YRe(r)}function t(){return null}return t}const yU=_a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),bE=_a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xE=_a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sLe=_a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wE=_a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),aLe=_a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bU=_a(["#text"]),xU=_a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),CE=_a(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wU=_a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fx=_a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),oLe=fl(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lLe=fl(/<%[\w\W]*|[\w\W]*%>/gm),cLe=fl(/\$\{[\w\W]*/gm),uLe=fl(/^data-[\-\w.\u00B7-\uFFFF]+$/),dLe=fl(/^aria-[\-\w]+$/),Xee=fl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hLe=fl(/^(?:\w+script|data):/i),fLe=fl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Yee=fl(/^html$/i),ALe=fl(/^[a-z][.\w]*(-[.\w]+)+$/i);var CU=Object.freeze({__proto__:null,ARIA_ATTR:dLe,ATTR_WHITESPACE:fLe,CUSTOM_ELEMENT:ALe,DATA_ATTR:uLe,DOCTYPE_NAME:Yee,ERB_EXPR:lLe,IS_ALLOWED_URI:Xee,IS_SCRIPT_OR_DATA:hLe,MUSTACHE_EXPR:oLe,TMPLIT_EXPR:cLe});const og={element:1,text:3,progressingInstruction:7,comment:8,document:9},pLe=function(){return typeof window>"u"?null:window},mLe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},SU=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Jee(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pLe();const e=wt=>Jee(wt);if(e.version="3.3.1",e.removed=[],!r||!r.document||r.document.nodeType!==og.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r;const n=t,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=r,p=l.prototype,g=ag(p,"cloneNode"),m=ag(p,"remove"),v=ag(p,"nextSibling"),y=ag(p,"childNodes"),b=ag(p,"parentNode");if(typeof a=="function"){const wt=t.createElement("template");wt.content&&wt.content.ownerDocument&&(t=wt.content.ownerDocument)}let w,_="";const{implementation:B,createNodeIterator:R,createDocumentFragment:j,getElementsByTagName:k}=t,{importNode:L}=n;let H=SU();e.isSupported=typeof qee=="function"&&typeof b=="function"&&B&&B.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:T,TMPLIT_EXPR:P,DATA_ATTR:N,ARIA_ATTR:S,IS_SCRIPT_OR_DATA:C,ATTR_WHITESPACE:E,CUSTOM_ELEMENT:x}=CU;let{IS_ALLOWED_URI:F}=CU,U=null;const M=Or({},[...yU,...bE,...xE,...wE,...bU]);let z=null;const G=Or({},[...xU,...CE,...wU,...fx]);let Y=Object.seal(v6(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,q=null;const D=Object.seal(v6(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let O=!0,V=!0,J=!1,re=!0,ne=!1,se=!0,ee=!1,de=!1,ie=!1,he=!1,le=!1,be=!1,ye=!0,xe=!1;const Ee="user-content-";let Be=!0,Pe=!1,Ue={},He=null;const $e=Or({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ke=null;const st=Or({},["audio","video","img","source","image","track"]);let Ve=null;const pt=Or({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",qe="http://www.w3.org/1999/xhtml";let gt=qe,We=!1,Tt=null;const St=Or({},[Je,ze,qe],vE);let ot=Or({},["mi","mo","mn","ms","mtext"]),Ot=Or({},["annotation-xml"]);const vt=Or({},["title","style","font","a","script"]);let ut=null;const Wt=["application/xhtml+xml","text/html"],wr="text/html";let Ct=null,cr=null;const Nr=t.createElement("form"),ht=function(we){return we instanceof RegExp||we instanceof Function},mr=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(cr&&cr===we)){if((!we||typeof we!="object")&&(we={}),we=pc(we),ut=Wt.indexOf(we.PARSER_MEDIA_TYPE)===-1?wr:we.PARSER_MEDIA_TYPE,Ct=ut==="application/xhtml+xml"?vE:hw,U=Bl(we,"ALLOWED_TAGS")?Or({},we.ALLOWED_TAGS,Ct):M,z=Bl(we,"ALLOWED_ATTR")?Or({},we.ALLOWED_ATTR,Ct):G,Tt=Bl(we,"ALLOWED_NAMESPACES")?Or({},we.ALLOWED_NAMESPACES,vE):St,Ve=Bl(we,"ADD_URI_SAFE_ATTR")?Or(pc(pt),we.ADD_URI_SAFE_ATTR,Ct):pt,Ke=Bl(we,"ADD_DATA_URI_TAGS")?Or(pc(st),we.ADD_DATA_URI_TAGS,Ct):st,He=Bl(we,"FORBID_CONTENTS")?Or({},we.FORBID_CONTENTS,Ct):$e,Q=Bl(we,"FORBID_TAGS")?Or({},we.FORBID_TAGS,Ct):pc({}),q=Bl(we,"FORBID_ATTR")?Or({},we.FORBID_ATTR,Ct):pc({}),Ue=Bl(we,"USE_PROFILES")?we.USE_PROFILES:!1,O=we.ALLOW_ARIA_ATTR!==!1,V=we.ALLOW_DATA_ATTR!==!1,J=we.ALLOW_UNKNOWN_PROTOCOLS||!1,re=we.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=we.SAFE_FOR_TEMPLATES||!1,se=we.SAFE_FOR_XML!==!1,ee=we.WHOLE_DOCUMENT||!1,he=we.RETURN_DOM||!1,le=we.RETURN_DOM_FRAGMENT||!1,be=we.RETURN_TRUSTED_TYPE||!1,ie=we.FORCE_BODY||!1,ye=we.SANITIZE_DOM!==!1,xe=we.SANITIZE_NAMED_PROPS||!1,Be=we.KEEP_CONTENT!==!1,Pe=we.IN_PLACE||!1,F=we.ALLOWED_URI_REGEXP||Xee,gt=we.NAMESPACE||qe,ot=we.MATHML_TEXT_INTEGRATION_POINTS||ot,Ot=we.HTML_INTEGRATION_POINTS||Ot,Y=we.CUSTOM_ELEMENT_HANDLING||{},we.CUSTOM_ELEMENT_HANDLING&&ht(we.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Y.tagNameCheck=we.CUSTOM_ELEMENT_HANDLING.tagNameCheck),we.CUSTOM_ELEMENT_HANDLING&&ht(we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Y.attributeNameCheck=we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),we.CUSTOM_ELEMENT_HANDLING&&typeof we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Y.allowCustomizedBuiltInElements=we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(V=!1),le&&(he=!0),Ue&&(U=Or({},bU),z=[],Ue.html===!0&&(Or(U,yU),Or(z,xU)),Ue.svg===!0&&(Or(U,bE),Or(z,CE),Or(z,fx)),Ue.svgFilters===!0&&(Or(U,xE),Or(z,CE),Or(z,fx)),Ue.mathMl===!0&&(Or(U,wE),Or(z,wU),Or(z,fx))),we.ADD_TAGS&&(typeof we.ADD_TAGS=="function"?D.tagCheck=we.ADD_TAGS:(U===M&&(U=pc(U)),Or(U,we.ADD_TAGS,Ct))),we.ADD_ATTR&&(typeof we.ADD_ATTR=="function"?D.attributeCheck=we.ADD_ATTR:(z===G&&(z=pc(z)),Or(z,we.ADD_ATTR,Ct))),we.ADD_URI_SAFE_ATTR&&Or(Ve,we.ADD_URI_SAFE_ATTR,Ct),we.FORBID_CONTENTS&&(He===$e&&(He=pc(He)),Or(He,we.FORBID_CONTENTS,Ct)),we.ADD_FORBID_CONTENTS&&(He===$e&&(He=pc(He)),Or(He,we.ADD_FORBID_CONTENTS,Ct)),Be&&(U["#text"]=!0),ee&&Or(U,["html","head","body"]),U.table&&(Or(U,["tbody"]),delete Q.tbody),we.TRUSTED_TYPES_POLICY){if(typeof we.TRUSTED_TYPES_POLICY.createHTML!="function")throw sg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof we.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw sg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=we.TRUSTED_TYPES_POLICY,_=w.createHTML("")}else w===void 0&&(w=mLe(f,i)),w!==null&&typeof _=="string"&&(_=w.createHTML(""));_a&&_a(we),cr=we}},Br=Or({},[...bE,...xE,...sLe]),qt=Or({},[...wE,...aLe]),Ce=function(we){let nt=b(we);(!nt||!nt.tagName)&&(nt={namespaceURI:gt,tagName:"template"});const _t=hw(we.tagName),pe=hw(nt.tagName);return Tt[we.namespaceURI]?we.namespaceURI===ze?nt.namespaceURI===qe?_t==="svg":nt.namespaceURI===Je?_t==="svg"&&(pe==="annotation-xml"||ot[pe]):!!Br[_t]:we.namespaceURI===Je?nt.namespaceURI===qe?_t==="math":nt.namespaceURI===ze?_t==="math"&&Ot[pe]:!!qt[_t]:we.namespaceURI===qe?nt.namespaceURI===ze&&!Ot[pe]||nt.namespaceURI===Je&&!ot[pe]?!1:!qt[_t]&&(vt[_t]||!Br[_t]):!!(ut==="application/xhtml+xml"&&Tt[we.namespaceURI]):!1},_e=function(we){ng(e.removed,{element:we});try{b(we).removeChild(we)}catch{m(we)}},De=function(we,nt){try{ng(e.removed,{attribute:nt.getAttributeNode(we),from:nt})}catch{ng(e.removed,{attribute:null,from:nt})}if(nt.removeAttribute(we),we==="is")if(he||le)try{_e(nt)}catch{}else try{nt.setAttribute(we,"")}catch{}},dt=function(we){let nt=null,_t=null;if(ie)we="<remove></remove>"+we;else{const Qe=yE(we,/^[\r\n\t ]+/);_t=Qe&&Qe[0]}ut==="application/xhtml+xml"&&gt===qe&&(we='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+we+"</body></html>");const pe=w?w.createHTML(we):we;if(gt===qe)try{nt=new h().parseFromString(pe,ut)}catch{}if(!nt||!nt.documentElement){nt=B.createDocument(gt,"template",null);try{nt.documentElement.innerHTML=We?_:pe}catch{}}const Fe=nt.body||nt.documentElement;return we&&_t&&Fe.insertBefore(t.createTextNode(_t),Fe.childNodes[0]||null),gt===qe?k.call(nt,ee?"html":"body")[0]:ee?nt.documentElement:Fe},$t=function(we){return R.call(we.ownerDocument||we,we,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},yt=function(we){return we instanceof d&&(typeof we.nodeName!="string"||typeof we.textContent!="string"||typeof we.removeChild!="function"||!(we.attributes instanceof u)||typeof we.removeAttribute!="function"||typeof we.setAttribute!="function"||typeof we.namespaceURI!="string"||typeof we.insertBefore!="function"||typeof we.hasChildNodes!="function")},zt=function(we){return typeof o=="function"&&we instanceof o};function Bt(wt,we,nt){hx(wt,_t=>{_t.call(e,we,nt,cr)})}const jt=function(we){let nt=null;if(Bt(H.beforeSanitizeElements,we,null),yt(we))return _e(we),!0;const _t=Ct(we.nodeName);if(Bt(H.uponSanitizeElement,we,{tagName:_t,allowedTags:U}),se&&we.hasChildNodes()&&!zt(we.firstElementChild)&&fa(/<[/\w!]/g,we.innerHTML)&&fa(/<[/\w!]/g,we.textContent)||we.nodeType===og.progressingInstruction||se&&we.nodeType===og.comment&&fa(/<[/\w]/g,we.data))return _e(we),!0;if(!(D.tagCheck instanceof Function&&D.tagCheck(_t))&&(!U[_t]||Q[_t])){if(!Q[_t]&&Vt(_t)&&(Y.tagNameCheck instanceof RegExp&&fa(Y.tagNameCheck,_t)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(_t)))return!1;if(Be&&!He[_t]){const pe=b(we)||we.parentNode,Fe=y(we)||we.childNodes;if(Fe&&pe){const Qe=Fe.length;for(let tt=Qe-1;tt>=0;--tt){const Et=g(Fe[tt],!0);Et.__removalCount=(we.__removalCount||0)+1,pe.insertBefore(Et,v(we))}}}return _e(we),!0}return we instanceof l&&!Ce(we)||(_t==="noscript"||_t==="noembed"||_t==="noframes")&&fa(/<\/no(script|embed|frames)/i,we.innerHTML)?(_e(we),!0):(ne&&we.nodeType===og.text&&(nt=we.textContent,hx([I,T,P],pe=>{nt=ig(nt,pe," ")}),we.textContent!==nt&&(ng(e.removed,{element:we.cloneNode()}),we.textContent=nt)),Bt(H.afterSanitizeElements,we,null),!1)},Xt=function(we,nt,_t){if(ye&&(nt==="id"||nt==="name")&&(_t in t||_t in Nr))return!1;if(!(V&&!q[nt]&&fa(N,nt))){if(!(O&&fa(S,nt))){if(!(D.attributeCheck instanceof Function&&D.attributeCheck(nt,we))){if(!z[nt]||q[nt]){if(!(Vt(we)&&(Y.tagNameCheck instanceof RegExp&&fa(Y.tagNameCheck,we)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(we))&&(Y.attributeNameCheck instanceof RegExp&&fa(Y.attributeNameCheck,nt)||Y.attributeNameCheck instanceof Function&&Y.attributeNameCheck(nt,we))||nt==="is"&&Y.allowCustomizedBuiltInElements&&(Y.tagNameCheck instanceof RegExp&&fa(Y.tagNameCheck,_t)||Y.tagNameCheck instanceof Function&&Y.tagNameCheck(_t))))return!1}else if(!Ve[nt]){if(!fa(F,ig(_t,E,""))){if(!((nt==="src"||nt==="xlink:href"||nt==="href")&&we!=="script"&&tLe(_t,"data:")===0&&Ke[we])){if(!(J&&!fa(C,ig(_t,E,"")))){if(_t)return!1}}}}}}}return!0},Vt=function(we){return we!=="annotation-xml"&&yE(we,x)},ur=function(we){Bt(H.beforeSanitizeAttributes,we,null);const{attributes:nt}=we;if(!nt||yt(we))return;const _t={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let pe=nt.length;for(;pe--;){const Fe=nt[pe],{name:Qe,namespaceURI:tt,value:Et}=Fe,At=Ct(Qe),xt=Et;let Zt=Qe==="value"?xt:rLe(xt);if(_t.attrName=At,_t.attrValue=Zt,_t.keepAttr=!0,_t.forceKeepAttr=void 0,Bt(H.uponSanitizeAttribute,we,_t),Zt=_t.attrValue,xe&&(At==="id"||At==="name")&&(De(Qe,we),Zt=Ee+Zt),se&&fa(/((--!?|])>)|<\/(style|title|textarea)/i,Zt)){De(Qe,we);continue}if(At==="attributename"&&yE(Zt,"href")){De(Qe,we);continue}if(_t.forceKeepAttr)continue;if(!_t.keepAttr){De(Qe,we);continue}if(!re&&fa(/\/>/i,Zt)){De(Qe,we);continue}ne&&hx([I,T,P],Ar=>{Zt=ig(Zt,Ar," ")});const dr=Ct(we.nodeName);if(!Xt(dr,At,Zt)){De(Qe,we);continue}if(w&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!tt)switch(f.getAttributeType(dr,At)){case"TrustedHTML":{Zt=w.createHTML(Zt);break}case"TrustedScriptURL":{Zt=w.createScriptURL(Zt);break}}if(Zt!==xt)try{tt?we.setAttributeNS(tt,Qe,Zt):we.setAttribute(Qe,Zt),yt(we)?_e(we):vU(e.removed)}catch{De(Qe,we)}}Bt(H.afterSanitizeAttributes,we,null)},Hr=function wt(we){let nt=null;const _t=$t(we);for(Bt(H.beforeSanitizeShadowDOM,we,null);nt=_t.nextNode();)Bt(H.uponSanitizeShadowNode,nt,null),jt(nt),ur(nt),nt.content instanceof s&&wt(nt.content);Bt(H.afterSanitizeShadowDOM,we,null)};return e.sanitize=function(wt){let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=null,_t=null,pe=null,Fe=null;if(We=!wt,We&&(wt="\x3C!-->"),typeof wt!="string"&&!zt(wt))if(typeof wt.toString=="function"){if(wt=wt.toString(),typeof wt!="string")throw sg("dirty is not a string, aborting")}else throw sg("toString is not a function");if(!e.isSupported)return wt;if(de||mr(we),e.removed=[],typeof wt=="string"&&(Pe=!1),Pe){if(wt.nodeName){const Et=Ct(wt.nodeName);if(!U[Et]||Q[Et])throw sg("root node is forbidden and cannot be sanitized in-place")}}else if(wt instanceof o)nt=dt("\x3C!---->"),_t=nt.ownerDocument.importNode(wt,!0),_t.nodeType===og.element&&_t.nodeName==="BODY"||_t.nodeName==="HTML"?nt=_t:nt.appendChild(_t);else{if(!he&&!ne&&!ee&&wt.indexOf("<")===-1)return w&&be?w.createHTML(wt):wt;if(nt=dt(wt),!nt)return he?null:be?_:""}nt&&ie&&_e(nt.firstChild);const Qe=$t(Pe?wt:nt);for(;pe=Qe.nextNode();)jt(pe),ur(pe),pe.content instanceof s&&Hr(pe.content);if(Pe)return wt;if(he){if(le)for(Fe=j.call(nt.ownerDocument);nt.firstChild;)Fe.appendChild(nt.firstChild);else Fe=nt;return(z.shadowroot||z.shadowrootmode)&&(Fe=L.call(n,Fe,!0)),Fe}let tt=ee?nt.outerHTML:nt.innerHTML;return ee&&U["!doctype"]&&nt.ownerDocument&&nt.ownerDocument.doctype&&nt.ownerDocument.doctype.name&&fa(Yee,nt.ownerDocument.doctype.name)&&(tt="<!DOCTYPE "+nt.ownerDocument.doctype.name+`>
`+tt),ne&&hx([I,T,P],Et=>{tt=ig(tt,Et," ")}),w&&be?w.createHTML(tt):tt},e.setConfig=function(){let wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mr(wt),de=!0},e.clearConfig=function(){cr=null,de=!1},e.isValidAttribute=function(wt,we,nt){cr||mr({});const _t=Ct(wt),pe=Ct(we);return Xt(_t,pe,nt)},e.addHook=function(wt,we){typeof we=="function"&&ng(H[wt],we)},e.removeHook=function(wt,we){if(we!==void 0){const nt=ZRe(H[wt],we);return nt===-1?void 0:eLe(H[wt],nt,1)[0]}return vU(H[wt])},e.removeHooks=function(wt){H[wt]=[]},e.removeAllHooks=function(){H=SU()},e}var gLe=Jee();const vLe=Object.freeze(Object.defineProperty({__proto__:null,default:gLe},Symbol.toStringTag,{value:"Module"}));var lg=function(r){return r&&r.Math===Math&&r},Gn=lg(typeof globalThis=="object"&&globalThis)||lg(typeof window=="object"&&window)||lg(typeof self=="object"&&self)||lg(typeof Sr=="object"&&Sr)||lg(typeof Sr=="object"&&Sr)||function(){return this}()||Function("return this")(),t1={},fi=function(r){try{return!!r()}catch{return!0}},yLe=fi,Jl=!yLe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),bLe=fi,b4=!bLe(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),xLe=b4,Ax=Function.prototype.call,Qs=xLe?Ax.bind(Ax):function(){return Ax.apply(Ax,arguments)},Zee={},ete={}.propertyIsEnumerable,tte=Object.getOwnPropertyDescriptor,wLe=tte&&!ete.call({1:2},1);Zee.f=wLe?function(e){var t=tte(this,e);return!!t&&t.enumerable}:ete;var tF=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}},rte=b4,nte=Function.prototype,x6=nte.call,CLe=rte&&nte.bind.bind(x6,x6),Ai=rte?CLe:function(r){return function(){return x6.apply(r,arguments)}},ite=Ai,SLe=ite({}.toString),ELe=ite("".slice),_A=function(r){return ELe(SLe(r),8,-1)},_Le=Ai,NLe=fi,BLe=_A,SE=Object,kLe=_Le("".split),ste=NLe(function(){return!SE("z").propertyIsEnumerable(0)})?function(r){return BLe(r)==="String"?kLe(r,""):SE(r)}:SE,x4=function(r){return r==null},TLe=x4,jLe=TypeError,Zl=function(r){if(TLe(r))throw new jLe("Can't call method on "+r);return r},FLe=ste,ILe=Zl,r1=function(r){return FLe(ILe(r))},EE=typeof document=="object"&&document.all,Bi=typeof EE>"u"&&EE!==void 0?function(r){return typeof r=="function"||r===EE}:function(r){return typeof r=="function"},MLe=Bi,Ja=function(r){return typeof r=="object"?r!==null:MLe(r)},_E=Gn,OLe=Bi,PLe=function(r){return OLe(r)?r:void 0},NA=function(r,e){return arguments.length<2?PLe(_E[r]):_E[r]&&_E[r][e]},RLe=Ai,w4=RLe({}.isPrototypeOf),LLe=Gn,EU=LLe.navigator,_U=EU&&EU.userAgent,n1=_U?String(_U):"",ate=Gn,NE=n1,NU=ate.process,BU=ate.Deno,kU=NU&&NU.versions||BU&&BU.version,TU=kU&&kU.v8,Fl,h5;TU&&(Fl=TU.split("."),h5=Fl[0]>0&&Fl[0]<4?1:+(Fl[0]+Fl[1]));!h5&&NE&&(Fl=NE.match(/Edge\/(\d+)/),(!Fl||Fl[1]>=74)&&(Fl=NE.match(/Chrome\/(\d+)/),Fl&&(h5=+Fl[1])));var rF=h5,jU=rF,DLe=fi,ULe=Gn,HLe=ULe.String,ote=!!Object.getOwnPropertySymbols&&!DLe(function(){var r=Symbol("symbol detection");return!HLe(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&jU&&jU<41}),QLe=ote,lte=QLe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$Le=NA,zLe=Bi,VLe=w4,GLe=lte,KLe=Object,cte=GLe?function(r){return typeof r=="symbol"}:function(r){var e=$Le("Symbol");return zLe(e)&&VLe(e.prototype,KLe(r))},WLe=String,C4=function(r){try{return WLe(r)}catch{return"Object"}},qLe=Bi,XLe=C4,YLe=TypeError,md=function(r){if(qLe(r))return r;throw new YLe(XLe(r)+" is not a function")},JLe=md,ZLe=x4,Jm=function(r,e){var t=r[e];return ZLe(t)?void 0:JLe(t)},BE=Qs,kE=Bi,TE=Ja,eDe=TypeError,tDe=function(r,e){var t,n;if(e==="string"&&kE(t=r.toString)&&!TE(n=BE(t,r))||kE(t=r.valueOf)&&!TE(n=BE(t,r))||e!=="string"&&kE(t=r.toString)&&!TE(n=BE(t,r)))return n;throw new eDe("Can't convert object to primitive value")},ute={exports:{}},FU=Gn,rDe=Object.defineProperty,nF=function(r,e){try{rDe(FU,r,{value:e,configurable:!0,writable:!0})}catch{FU[r]=e}return e},nDe=Gn,iDe=nF,IU="__core-js_shared__",MU=ute.exports=nDe[IU]||iDe(IU,{});(MU.versions||(MU.versions=[])).push({version:"3.47.0",mode:"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var iF=ute.exports,OU=iF,sF=function(r,e){return OU[r]||(OU[r]=e||{})},sDe=Zl,aDe=Object,S4=function(r){return aDe(sDe(r))},oDe=Ai,lDe=S4,cDe=oDe({}.hasOwnProperty),ec=Object.hasOwn||function(e,t){return cDe(lDe(e),t)},uDe=Ai,dDe=0,hDe=Math.random(),fDe=uDe(1.1.toString),dte=function(r){return"Symbol("+(r===void 0?"":r)+")_"+fDe(++dDe+hDe,36)},ADe=Gn,pDe=sF,PU=ec,mDe=dte,gDe=ote,vDe=lte,Mp=ADe.Symbol,jE=pDe("wks"),yDe=vDe?Mp.for||Mp:Mp&&Mp.withoutSetter||mDe,xs=function(r){return PU(jE,r)||(jE[r]=gDe&&PU(Mp,r)?Mp[r]:yDe("Symbol."+r)),jE[r]},bDe=Qs,RU=Ja,LU=cte,xDe=Jm,wDe=tDe,CDe=xs,SDe=TypeError,EDe=CDe("toPrimitive"),_De=function(r,e){if(!RU(r)||LU(r))return r;var t=xDe(r,EDe),n;if(t){if(e===void 0&&(e="default"),n=bDe(t,r,e),!RU(n)||LU(n))return n;throw new SDe("Can't convert object to primitive value")}return e===void 0&&(e="number"),wDe(r,e)},NDe=_De,BDe=cte,hte=function(r){var e=NDe(r,"string");return BDe(e)?e:e+""},kDe=Gn,DU=Ja,w6=kDe.document,TDe=DU(w6)&&DU(w6.createElement),E4=function(r){return TDe?w6.createElement(r):{}},jDe=Jl,FDe=fi,IDe=E4,fte=!jDe&&!FDe(function(){return Object.defineProperty(IDe("div"),"a",{get:function(){return 7}}).a!==7}),MDe=Jl,ODe=Qs,PDe=Zee,RDe=tF,LDe=r1,DDe=hte,UDe=ec,HDe=fte,UU=Object.getOwnPropertyDescriptor;t1.f=MDe?UU:function(e,t){if(e=LDe(e),t=DDe(t),HDe)try{return UU(e,t)}catch{}if(UDe(e,t))return RDe(!ODe(PDe.f,e,t),e[t])};var gd={},QDe=Jl,$De=fi,Ate=QDe&&$De(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),zDe=Ja,VDe=String,GDe=TypeError,ja=function(r){if(zDe(r))return r;throw new GDe(VDe(r)+" is not an object")},KDe=Jl,WDe=fte,qDe=Ate,px=ja,HU=hte,XDe=TypeError,FE=Object.defineProperty,YDe=Object.getOwnPropertyDescriptor,IE="enumerable",ME="configurable",OE="writable";gd.f=KDe?qDe?function(e,t,n){if(px(e),t=HU(t),px(n),typeof e=="function"&&t==="prototype"&&"value"in n&&OE in n&&!n[OE]){var i=YDe(e,t);i&&i[OE]&&(e[t]=n.value,n={configurable:ME in n?n[ME]:i[ME],enumerable:IE in n?n[IE]:i[IE],writable:!1})}return FE(e,t,n)}:FE:function(e,t,n){if(px(e),t=HU(t),px(n),WDe)try{return FE(e,t,n)}catch{}if("get"in n||"set"in n)throw new XDe("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var JDe=Jl,ZDe=gd,e7e=tF,i1=JDe?function(r,e,t){return ZDe.f(r,e,e7e(1,t))}:function(r,e,t){return r[e]=t,r},pte={exports:{}},C6=Jl,t7e=ec,mte=Function.prototype,r7e=C6&&Object.getOwnPropertyDescriptor,gte=t7e(mte,"name"),n7e=gte&&function(){}.name==="something",i7e=gte&&(!C6||C6&&r7e(mte,"name").configurable),_4={PROPER:n7e,CONFIGURABLE:i7e},s7e=Ai,a7e=Bi,S6=iF,o7e=s7e(Function.toString);a7e(S6.inspectSource)||(S6.inspectSource=function(r){return o7e(r)});var aF=S6.inspectSource,l7e=Gn,c7e=Bi,QU=l7e.WeakMap,u7e=c7e(QU)&&/native code/.test(String(QU)),d7e=sF,h7e=dte,$U=d7e("keys"),oF=function(r){return $U[r]||($U[r]=h7e(r))},lF={},f7e=u7e,vte=Gn,A7e=Ja,p7e=i1,PE=ec,RE=iF,m7e=oF,g7e=lF,zU="Object already initialized",E6=vte.TypeError,v7e=vte.WeakMap,f5,Yv,A5,y7e=function(r){return A5(r)?Yv(r):f5(r,{})},b7e=function(r){return function(e){var t;if(!A7e(e)||(t=Yv(e)).type!==r)throw new E6("Incompatible receiver, "+r+" required");return t}};if(f7e||RE.state){var fc=RE.state||(RE.state=new v7e);fc.get=fc.get,fc.has=fc.has,fc.set=fc.set,f5=function(r,e){if(fc.has(r))throw new E6(zU);return e.facade=r,fc.set(r,e),e},Yv=function(r){return fc.get(r)||{}},A5=function(r){return fc.has(r)}}else{var tp=m7e("state");g7e[tp]=!0,f5=function(r,e){if(PE(r,tp))throw new E6(zU);return e.facade=r,p7e(r,tp,e),e},Yv=function(r){return PE(r,tp)?r[tp]:{}},A5=function(r){return PE(r,tp)}}var N4={set:f5,get:Yv,has:A5,enforce:y7e,getterFor:b7e},cF=Ai,x7e=fi,w7e=Bi,mx=ec,_6=Jl,C7e=_4.CONFIGURABLE,S7e=aF,yte=N4,E7e=yte.enforce,_7e=yte.get,VU=String,fw=Object.defineProperty,N7e=cF("".slice),B7e=cF("".replace),k7e=cF([].join),T7e=_6&&!x7e(function(){return fw(function(){},"length",{value:8}).length!==8}),j7e=String(String).split("String"),F7e=pte.exports=function(r,e,t){N7e(VU(e),0,7)==="Symbol("&&(e="["+B7e(VU(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!mx(r,"name")||C7e&&r.name!==e)&&(_6?fw(r,"name",{value:e,configurable:!0}):r.name=e),T7e&&t&&mx(t,"arity")&&r.length!==t.arity&&fw(r,"length",{value:t.arity});try{t&&mx(t,"constructor")&&t.constructor?_6&&fw(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch{}var n=E7e(r);return mx(n,"source")||(n.source=k7e(j7e,typeof e=="string"?e:"")),r};Function.prototype.toString=F7e(function(){return w7e(this)&&_7e(this).source||S7e(this)},"toString");var bte=pte.exports,I7e=Bi,M7e=gd,O7e=bte,P7e=nF,BA=function(r,e,t,n){n||(n={});var i=n.enumerable,s=n.name!==void 0?n.name:e;if(I7e(t)&&O7e(t,s,n),n.global)i?r[e]=t:P7e(e,t);else{try{n.unsafe?r[e]&&(i=!0):delete r[e]}catch{}i?r[e]=t:M7e.f(r,e,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return r},xte={},R7e=Math.ceil,L7e=Math.floor,D7e=Math.trunc||function(e){var t=+e;return(t>0?L7e:R7e)(t)},U7e=D7e,B4=function(r){var e=+r;return e!==e||e===0?0:U7e(e)},H7e=B4,Q7e=Math.max,$7e=Math.min,z7e=function(r,e){var t=H7e(r);return t<0?Q7e(t+e,0):$7e(t,e)},V7e=B4,G7e=Math.min,Zm=function(r){var e=V7e(r);return e>0?G7e(e,9007199254740991):0},K7e=Zm,uF=function(r){return K7e(r.length)},W7e=r1,q7e=z7e,X7e=uF,Y7e=function(r){return function(e,t,n){var i=W7e(e),s=X7e(i);if(s===0)return!r&&-1;var a=q7e(n,s),o;if(r&&t!==t){for(;s>a;)if(o=i[a++],o!==o)return!0}else for(;s>a;a++)if((r||a in i)&&i[a]===t)return r||a||0;return!r&&-1}},wte={indexOf:Y7e(!1)},J7e=Ai,LE=ec,Z7e=r1,e9e=wte.indexOf,t9e=lF,GU=J7e([].push),Cte=function(r,e){var t=Z7e(r),n=0,i=[],s;for(s in t)!LE(t9e,s)&&LE(t,s)&&GU(i,s);for(;e.length>n;)LE(t,s=e[n++])&&(~e9e(i,s)||GU(i,s));return i},dF=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],r9e=Cte,n9e=dF,i9e=n9e.concat("length","prototype");xte.f=Object.getOwnPropertyNames||function(e){return r9e(e,i9e)};var Ste={};Ste.f=Object.getOwnPropertySymbols;var s9e=NA,a9e=Ai,o9e=xte,l9e=Ste,c9e=ja,u9e=a9e([].concat),d9e=s9e("Reflect","ownKeys")||function(e){var t=o9e.f(c9e(e)),n=l9e.f;return n?u9e(t,n(e)):t},KU=ec,h9e=d9e,f9e=t1,A9e=gd,p9e=function(r,e,t){for(var n=h9e(e),i=A9e.f,s=f9e.f,a=0;a<n.length;a++){var o=n[a];!KU(r,o)&&!(t&&KU(t,o))&&i(r,o,s(e,o))}},m9e=fi,g9e=Bi,v9e=/#|\.prototype\./,s1=function(r,e){var t=b9e[y9e(r)];return t===w9e?!0:t===x9e?!1:g9e(e)?m9e(e):!!e},y9e=s1.normalize=function(r){return String(r).replace(v9e,".").toLowerCase()},b9e=s1.data={},x9e=s1.NATIVE="N",w9e=s1.POLYFILL="P",Ete=s1,gx=Gn,C9e=t1.f,S9e=i1,E9e=BA,_9e=nF,N9e=p9e,B9e=Ete,Fa=function(r,e){var t=r.target,n=r.global,i=r.stat,s,a,o,l,c,u;if(n?a=gx:i?a=gx[t]||_9e(t,{}):a=gx[t]&&gx[t].prototype,a)for(o in e){if(c=e[o],r.dontCallGetSet?(u=C9e(a,o),l=u&&u.value):l=a[o],s=B9e(n?o:t+(i?".":"#")+o,r.forced),!s&&l!==void 0){if(typeof c==typeof l)continue;N9e(c,l)}(r.sham||l&&l.sham)&&S9e(c,"sham",!0),E9e(a,o,c,r)}},cg=Gn,k9e=n1,T9e=_A,vx=function(r){return k9e.slice(0,r.length)===r},_te=function(){return vx("Bun/")?"BUN":vx("Cloudflare-Workers")?"CLOUDFLARE":vx("Deno/")?"DENO":vx("Node.js/")?"NODE":cg.Bun&&typeof Bun.version=="string"?"BUN":cg.Deno&&typeof Deno.version=="object"?"DENO":T9e(cg.process)==="process"?"NODE":cg.window&&cg.document?"BROWSER":"REST"}(),j9e=_te,k4=j9e==="NODE",F9e=Gn,I9e=F9e,M9e=Ai,O9e=md,P9e=function(r,e,t){try{return M9e(O9e(Object.getOwnPropertyDescriptor(r,e)[t]))}catch{}},R9e=Ja,L9e=function(r){return R9e(r)||r===null},D9e=L9e,U9e=String,H9e=TypeError,Q9e=function(r){if(D9e(r))return r;throw new H9e("Can't set "+U9e(r)+" as a prototype")},$9e=P9e,z9e=Ja,V9e=Zl,G9e=Q9e,Nte=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,e={},t;try{t=$9e(Object.prototype,"__proto__","set"),t(e,[]),r=e instanceof Array}catch{}return function(i,s){return V9e(i),G9e(s),z9e(i)&&(r?t(i,s):i.__proto__=s),i}}():void 0),K9e=gd.f,W9e=ec,q9e=xs,WU=q9e("toStringTag"),T4=function(r,e,t){r&&!t&&(r=r.prototype),r&&!W9e(r,WU)&&K9e(r,WU,{configurable:!0,value:e})},qU=bte,X9e=gd,Y9e=function(r,e,t){return t.get&&qU(t.get,e,{getter:!0}),t.set&&qU(t.set,e,{setter:!0}),X9e.f(r,e,t)},J9e=NA,Z9e=Y9e,eUe=xs,tUe=Jl,XU=eUe("species"),rUe=function(r){var e=J9e(r);tUe&&e&&!e[XU]&&Z9e(e,XU,{configurable:!0,get:function(){return this}})},nUe=w4,iUe=TypeError,sUe=function(r,e){if(nUe(e,r))return r;throw new iUe("Incorrect invocation")},aUe=xs,oUe=aUe("toStringTag"),Bte={};Bte[oUe]="z";var lUe=String(Bte)==="[object z]",cUe=lUe,uUe=Bi,Aw=_A,dUe=xs,hUe=dUe("toStringTag"),fUe=Object,AUe=Aw(function(){return arguments}())==="Arguments",pUe=function(r,e){try{return r[e]}catch{}},hF=cUe?Aw:function(r){var e,t,n;return r===void 0?"Undefined":r===null?"Null":typeof(t=pUe(e=fUe(r),hUe))=="string"?t:AUe?Aw(e):(n=Aw(e))==="Object"&&uUe(e.callee)?"Arguments":n},mUe=Ai,gUe=fi,kte=Bi,vUe=hF,yUe=NA,bUe=aF,Tte=function(){},jte=yUe("Reflect","construct"),fF=/^\s*(?:class|function)\b/,xUe=mUe(fF.exec),wUe=!fF.test(Tte),ug=function(e){if(!kte(e))return!1;try{return jte(Tte,[],e),!0}catch{return!1}},Fte=function(e){if(!kte(e))return!1;switch(vUe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return wUe||!!xUe(fF,bUe(e))}catch{return!0}};Fte.sham=!0;var CUe=!jte||gUe(function(){var r;return ug(ug.call)||!ug(Object)||!ug(function(){r=!0})||r})?Fte:ug,SUe=CUe,EUe=C4,_Ue=TypeError,NUe=function(r){if(SUe(r))return r;throw new _Ue(EUe(r)+" is not a constructor")},YU=ja,BUe=NUe,kUe=x4,TUe=xs,jUe=TUe("species"),Ite=function(r,e){var t=YU(r).constructor,n;return t===void 0||kUe(n=YU(t)[jUe])?e:BUe(n)},FUe=b4,Mte=Function.prototype,JU=Mte.apply,ZU=Mte.call,Ote=typeof Reflect=="object"&&Reflect.apply||(FUe?ZU.bind(JU):function(){return ZU.apply(JU,arguments)}),IUe=_A,MUe=Ai,j4=function(r){if(IUe(r)==="Function")return MUe(r)},eH=j4,OUe=md,PUe=b4,RUe=eH(eH.bind),AF=function(r,e){return OUe(r),e===void 0?r:PUe?RUe(r,e):function(){return r.apply(e,arguments)}},LUe=NA,Pte=LUe("document","documentElement"),DUe=Ai,UUe=DUe([].slice),HUe=TypeError,QUe=function(r,e){if(r<e)throw new HUe("Not enough arguments");return r},$Ue=n1,Rte=/(?:ipad|iphone|ipod).*applewebkit/i.test($Ue),bo=Gn,zUe=Ote,VUe=AF,tH=Bi,GUe=ec,Lte=fi,rH=Pte,KUe=UUe,nH=E4,WUe=QUe,qUe=Rte,XUe=k4,N6=bo.setImmediate,iH=bo.clearImmediate,YUe=bo.process,DE=bo.Dispatch,JUe=bo.Function,sH=bo.MessageChannel,ZUe=bo.String,UE=0,ev={},aH="onreadystatechange",Jv,hf,HE,QE;Lte(function(){Jv=bo.location});var pF=function(r){if(GUe(ev,r)){var e=ev[r];delete ev[r],e()}},$E=function(r){return function(){pF(r)}},oH=function(r){pF(r.data)},lH=function(r){bo.postMessage(ZUe(r),Jv.protocol+"//"+Jv.host)};(!N6||!iH)&&(N6=function(e){WUe(arguments.length,1);var t=tH(e)?e:JUe(e),n=KUe(arguments,1);return ev[++UE]=function(){zUe(t,void 0,n)},hf(UE),UE},iH=function(e){delete ev[e]},XUe?hf=function(r){YUe.nextTick($E(r))}:DE&&DE.now?hf=function(r){DE.now($E(r))}:sH&&!qUe?(HE=new sH,QE=HE.port2,HE.port1.onmessage=oH,hf=VUe(QE.postMessage,QE)):bo.addEventListener&&tH(bo.postMessage)&&!bo.importScripts&&Jv&&Jv.protocol!=="file:"&&!Lte(lH)?(hf=lH,bo.addEventListener("message",oH,!1)):aH in nH("script")?hf=function(r){rH.appendChild(nH("script"))[aH]=function(){rH.removeChild(this),pF(r)}}:hf=function(r){setTimeout($E(r),0)});var Dte={set:N6},cH=Gn,eHe=Jl,tHe=Object.getOwnPropertyDescriptor,rHe=function(r){if(!eHe)return cH[r];var e=tHe(cH,r);return e&&e.value},Ute=function(){this.head=null,this.tail=null};Ute.prototype={add:function(r){var e={item:r,next:null},t=this.tail;t?t.next=e:this.head=e,this.tail=e},get:function(){var r=this.head;if(r){var e=this.head=r.next;return e===null&&(this.tail=null),r.item}}};var Hte=Ute,nHe=n1,iHe=/ipad|iphone|ipod/i.test(nHe)&&typeof Pebble<"u",sHe=n1,aHe=/web0s(?!.*chrome)/i.test(sHe),Em=Gn,oHe=rHe,uH=AF,zE=Dte.set,lHe=Hte,cHe=Rte,uHe=iHe,dHe=aHe,VE=k4,dH=Em.MutationObserver||Em.WebKitMutationObserver,hH=Em.document,fH=Em.process,yx=Em.Promise,B6=oHe("queueMicrotask"),rp,GE,KE,bx,AH;if(!B6){var xx=new lHe,wx=function(){var r,e;for(VE&&(r=fH.domain)&&r.exit();e=xx.get();)try{e()}catch(t){throw xx.head&&rp(),t}r&&r.enter()};!cHe&&!VE&&!dHe&&dH&&hH?(GE=!0,KE=hH.createTextNode(""),new dH(wx).observe(KE,{characterData:!0}),rp=function(){KE.data=GE=!GE}):!uHe&&yx&&yx.resolve?(bx=yx.resolve(void 0),bx.constructor=yx,AH=uH(bx.then,bx),rp=function(){AH(wx)}):VE?rp=function(){fH.nextTick(wx)}:(zE=uH(zE,Em),rp=function(){zE(wx)}),B6=function(r){xx.head||rp(),xx.add(r)}}var hHe=B6,fHe=function(r,e){try{arguments.length===1?console.error(r):console.error(r,e)}catch{}},mF=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}},AHe=Gn,F4=AHe.Promise,pHe=Gn,tv=F4,mHe=Bi,gHe=Ete,vHe=aF,yHe=xs,pH=_te,WE=rF;tv&&tv.prototype;var bHe=yHe("species"),k6=!1,Qte=mHe(pHe.PromiseRejectionEvent),xHe=gHe("Promise",function(){var r=vHe(tv),e=r!==String(tv);if(!e&&WE===66)return!0;if(!WE||WE<51||!/native code/.test(r)){var t=new tv(function(s){s(1)}),n=function(s){s(function(){},function(){})},i=t.constructor={};if(i[bHe]=n,k6=t.then(function(){})instanceof n,!k6)return!0}return!e&&(pH==="BROWSER"||pH==="DENO")&&!Qte}),a1={CONSTRUCTOR:xHe,REJECTION_EVENT:Qte,SUBCLASSING:k6},e0={},mH=md,wHe=TypeError,CHe=function(r){var e,t;this.promise=new r(function(n,i){if(e!==void 0||t!==void 0)throw new wHe("Bad Promise constructor");e=n,t=i}),this.resolve=mH(e),this.reject=mH(t)};e0.f=function(r){return new CHe(r)};var SHe=Fa,p5=k4,Ph=Gn,EHe=I9e,_m=Qs,gH=BA,vH=Nte,_He=T4,NHe=rUe,BHe=md,pw=Bi,kHe=Ja,THe=sUe,jHe=Ite,$te=Dte.set,gF=hHe,FHe=fHe,IHe=mF,MHe=Hte,zte=N4,m5=F4,vF=a1,Vte=e0,I4="Promise",Gte=vF.CONSTRUCTOR,OHe=vF.REJECTION_EVENT,PHe=vF.SUBCLASSING,qE=zte.getterFor(I4),RHe=zte.set,hp=m5&&m5.prototype,_f=m5,Cx=hp,Kte=Ph.TypeError,T6=Ph.document,yF=Ph.process,j6=Vte.f,LHe=j6,DHe=!!(T6&&T6.createEvent&&Ph.dispatchEvent),Wte="unhandledrejection",UHe="rejectionhandled",yH=0,qte=1,HHe=2,bF=1,Xte=2,Sx,bH,Yte,xH,Jte=function(r){var e;return kHe(r)&&pw(e=r.then)?e:!1},Zte=function(r,e){var t=e.value,n=e.state===qte,i=n?r.ok:r.fail,s=r.resolve,a=r.reject,o=r.domain,l,c,u;try{i?(n||(e.rejection===Xte&&$He(e),e.rejection=bF),i===!0?l=t:(o&&o.enter(),l=i(t),o&&(o.exit(),u=!0)),l===r.promise?a(new Kte("Promise-chain cycle")):(c=Jte(l))?_m(c,l,s,a):s(l)):a(t)}catch(d){o&&!u&&o.exit(),a(d)}},ere=function(r,e){r.notified||(r.notified=!0,gF(function(){for(var t=r.reactions,n;n=t.get();)Zte(n,r);r.notified=!1,e&&!r.rejection&&QHe(r)}))},tre=function(r,e,t){var n,i;DHe?(n=T6.createEvent("Event"),n.promise=e,n.reason=t,n.initEvent(r,!1,!0),Ph.dispatchEvent(n)):n={promise:e,reason:t},!OHe&&(i=Ph["on"+r])?i(n):r===Wte&&FHe("Unhandled promise rejection",t)},QHe=function(r){_m($te,Ph,function(){var e=r.facade,t=r.value,n=wH(r),i;if(n&&(i=IHe(function(){p5?yF.emit("unhandledRejection",t,e):tre(Wte,e,t)}),r.rejection=p5||wH(r)?Xte:bF,i.error))throw i.value})},wH=function(r){return r.rejection!==bF&&!r.parent},$He=function(r){_m($te,Ph,function(){var e=r.facade;p5?yF.emit("rejectionHandled",e):tre(UHe,e,r.value)})},Op=function(r,e,t){return function(n){r(e,n,t)}},im=function(r,e,t){r.done||(r.done=!0,t&&(r=t),r.value=e,r.state=HHe,ere(r,!0))},F6=function(r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===e)throw new Kte("Promise can't be resolved itself");var n=Jte(e);n?gF(function(){var i={done:!1};try{_m(n,e,Op(F6,i,r),Op(im,i,r))}catch(s){im(i,s,r)}}):(r.value=e,r.state=qte,ere(r,!1))}catch(i){im({done:!1},i,r)}}};if(Gte&&(_f=function(e){THe(this,Cx),BHe(e),_m(Sx,this);var t=qE(this);try{e(Op(F6,t),Op(im,t))}catch(n){im(t,n)}},Cx=_f.prototype,Sx=function(e){RHe(this,{type:I4,done:!1,notified:!1,parent:!1,reactions:new MHe,rejection:!1,state:yH,value:null})},Sx.prototype=gH(Cx,"then",function(e,t){var n=qE(this),i=j6(jHe(this,_f));return n.parent=!0,i.ok=pw(e)?e:!0,i.fail=pw(t)&&t,i.domain=p5?yF.domain:void 0,n.state===yH?n.reactions.add(i):gF(function(){Zte(i,n)}),i.promise}),bH=function(){var r=new Sx,e=qE(r);this.promise=r,this.resolve=Op(F6,e),this.reject=Op(im,e)},Vte.f=j6=function(r){return r===_f||r===Yte?new bH(r):LHe(r)},pw(m5)&&hp!==Object.prototype)){xH=hp.then,PHe||gH(hp,"then",function(e,t){var n=this;return new _f(function(i,s){_m(xH,n,i,s)}).then(e,t)},{unsafe:!0});try{delete hp.constructor}catch{}vH&&vH(hp,Cx)}SHe({global:!0,constructor:!0,wrap:!0,forced:Gte},{Promise:_f});Yte=EHe.Promise;_He(_f,I4,!1);NHe(I4);var o1={},zHe=xs,VHe=o1,GHe=zHe("iterator"),KHe=Array.prototype,WHe=function(r){return r!==void 0&&(VHe.Array===r||KHe[GHe]===r)},qHe=hF,CH=Jm,XHe=x4,YHe=o1,JHe=xs,ZHe=JHe("iterator"),rre=function(r){if(!XHe(r))return CH(r,ZHe)||CH(r,"@@iterator")||YHe[qHe(r)]},eQe=Qs,tQe=md,rQe=ja,nQe=C4,iQe=rre,sQe=TypeError,aQe=function(r,e){var t=arguments.length<2?iQe(r):e;if(tQe(t))return rQe(eQe(t,r));throw new sQe(nQe(r)+" is not iterable")},oQe=Qs,SH=ja,lQe=Jm,cQe=function(r,e,t){var n,i;SH(r);try{if(n=lQe(r,"return"),!n){if(e==="throw")throw t;return t}n=oQe(n,r)}catch(s){i=!0,n=s}if(e==="throw")throw t;if(i)throw n;return SH(n),t},uQe=AF,dQe=Qs,hQe=ja,fQe=C4,AQe=WHe,pQe=uF,EH=w4,mQe=aQe,gQe=rre,_H=cQe,vQe=TypeError,mw=function(r,e){this.stopped=r,this.result=e},NH=mw.prototype,nre=function(r,e,t){var n=t&&t.that,i=!!(t&&t.AS_ENTRIES),s=!!(t&&t.IS_RECORD),a=!!(t&&t.IS_ITERATOR),o=!!(t&&t.INTERRUPTED),l=uQe(e,n),c,u,d,h,f,p,g,m=function(y){return c&&_H(c,"normal"),new mw(!0,y)},v=function(y){return i?(hQe(y),o?l(y[0],y[1],m):l(y[0],y[1])):o?l(y,m):l(y)};if(s)c=r.iterator;else if(a)c=r;else{if(u=gQe(r),!u)throw new vQe(fQe(r)+" is not iterable");if(AQe(u)){for(d=0,h=pQe(r);h>d;d++)if(f=v(r[d]),f&&EH(NH,f))return f;return new mw(!1)}c=mQe(r,u)}for(p=s?r.next:c.next;!(g=dQe(p,c)).done;){try{f=v(g.value)}catch(y){_H(c,"throw",y)}if(typeof f=="object"&&f&&EH(NH,f))return f}return new mw(!1)},yQe=xs,ire=yQe("iterator"),sre=!1;try{var bQe=0,BH={next:function(){return{done:!!bQe++}},return:function(){sre=!0}};BH[ire]=function(){return this},Array.from(BH,function(){throw 2})}catch{}var xQe=function(r,e){try{if(!e&&!sre)return!1}catch{return!1}var t=!1;try{var n={};n[ire]=function(){return{next:function(){return{done:t=!0}}}},r(n)}catch{}return t},wQe=F4,CQe=xQe,SQe=a1.CONSTRUCTOR,are=SQe||!CQe(function(r){wQe.all(r).then(void 0,function(){})}),EQe=Fa,_Qe=Qs,NQe=md,BQe=e0,kQe=mF,TQe=nre,jQe=are;EQe({target:"Promise",stat:!0,forced:jQe},{all:function(e){var t=this,n=BQe.f(t),i=n.resolve,s=n.reject,a=kQe(function(){var o=NQe(t.resolve),l=[],c=0,u=1;TQe(e,function(d){var h=c++,f=!1;u++,_Qe(o,t,d).then(function(p){f||(f=!0,l[h]=p,--u||i(l))},s)}),--u||i(l)});return a.error&&s(a.value),n.promise}});var FQe=Fa,IQe=a1.CONSTRUCTOR,I6=F4,MQe=NA,OQe=Bi,PQe=BA,kH=I6&&I6.prototype;FQe({target:"Promise",proto:!0,forced:IQe,real:!0},{catch:function(r){return this.then(void 0,r)}});if(OQe(I6)){var TH=MQe("Promise").prototype.catch;kH.catch!==TH&&PQe(kH,"catch",TH,{unsafe:!0})}var RQe=Fa,LQe=Qs,DQe=md,UQe=e0,HQe=mF,QQe=nre,$Qe=are;RQe({target:"Promise",stat:!0,forced:$Qe},{race:function(e){var t=this,n=UQe.f(t),i=n.reject,s=HQe(function(){var a=DQe(t.resolve);QQe(e,function(o){LQe(a,t,o).then(n.resolve,i)})});return s.error&&i(s.value),n.promise}});var zQe=Fa,VQe=e0,GQe=a1.CONSTRUCTOR;zQe({target:"Promise",stat:!0,forced:GQe},{reject:function(e){var t=VQe.f(this),n=t.reject;return n(e),t.promise}});var KQe=ja,WQe=Ja,qQe=e0,XQe=function(r,e){if(KQe(r),WQe(e)&&e.constructor===r)return e;var t=qQe.f(r),n=t.resolve;return n(e),t.promise},YQe=Fa,JQe=NA,ZQe=a1.CONSTRUCTOR,e$e=XQe;JQe("Promise");YQe({target:"Promise",stat:!0,forced:ZQe},{resolve:function(e){return e$e(this,e)}});function jH(r,e,t,n,i,s,a){try{var o=r[s](a),l=o.value}catch(c){return void t(c)}o.done?e(l):Promise.resolve(l).then(n,i)}function sd(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var s=r.apply(e,t);function a(l){jH(s,n,i,a,o,"next",l)}function o(l){jH(s,n,i,a,o,"throw",l)}a(void 0)})}}var t$e=hF,r$e=String,qc=function(r){if(t$e(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return r$e(r)},n$e=ja,ore=function(){var r=n$e(this),e="";return r.hasIndices&&(e+="d"),r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.dotAll&&(e+="s"),r.unicode&&(e+="u"),r.unicodeSets&&(e+="v"),r.sticky&&(e+="y"),e},xF=fi,i$e=Gn,wF=i$e.RegExp,CF=xF(function(){var r=wF("a","y");return r.lastIndex=2,r.exec("abcd")!==null});CF||xF(function(){return!wF("a","y").sticky});var s$e=CF||xF(function(){var r=wF("^r","gy");return r.lastIndex=2,r.exec("str")!==null}),lre={BROKEN_CARET:s$e,UNSUPPORTED_Y:CF},cre={},a$e=Cte,o$e=dF,l$e=Object.keys||function(e){return a$e(e,o$e)},c$e=Jl,u$e=Ate,d$e=gd,h$e=ja,f$e=r1,A$e=l$e;cre.f=c$e&&!u$e?Object.defineProperties:function(e,t){h$e(e);for(var n=f$e(t),i=A$e(t),s=i.length,a=0,o;s>a;)d$e.f(e,o=i[a++],n[o]);return e};var p$e=ja,m$e=cre,FH=dF,g$e=lF,v$e=Pte,y$e=E4,b$e=oF,IH=">",MH="<",M6="prototype",O6="script",ure=b$e("IE_PROTO"),XE=function(){},dre=function(r){return MH+O6+IH+r+MH+"/"+O6+IH},OH=function(r){r.write(dre("")),r.close();var e=r.parentWindow.Object;return r=null,e},x$e=function(){var r=y$e("iframe"),e="java"+O6+":",t;return r.style.display="none",v$e.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(dre("document.F=Object")),t.close(),t.F},Ex,gw=function(){try{Ex=new ActiveXObject("htmlfile")}catch{}gw=typeof document<"u"?document.domain&&Ex?OH(Ex):x$e():OH(Ex);for(var r=FH.length;r--;)delete gw[M6][FH[r]];return gw()};g$e[ure]=!0;var SF=Object.create||function(e,t){var n;return e!==null?(XE[M6]=p$e(e),n=new XE,XE[M6]=null,n[ure]=e):n=gw(),t===void 0?n:m$e.f(n,t)},w$e=fi,C$e=Gn,S$e=C$e.RegExp,E$e=w$e(function(){var r=S$e(".","s");return!(r.dotAll&&r.test(`
`)&&r.flags==="s")}),_$e=fi,N$e=Gn,B$e=N$e.RegExp,k$e=_$e(function(){var r=B$e("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"}),Pp=Qs,M4=Ai,T$e=qc,j$e=ore,F$e=lre,I$e=sF,M$e=SF,O$e=N4.get,P$e=E$e,R$e=k$e,L$e=I$e("native-string-replace",String.prototype.replace),g5=RegExp.prototype.exec,P6=g5,D$e=M4("".charAt),U$e=M4("".indexOf),H$e=M4("".replace),YE=M4("".slice),R6=function(){var r=/a/,e=/b*/g;return Pp(g5,r,"a"),Pp(g5,e,"a"),r.lastIndex!==0||e.lastIndex!==0}(),hre=F$e.BROKEN_CARET,L6=/()??/.exec("")[1]!==void 0,Q$e=R6||L6||hre||P$e||R$e;Q$e&&(P6=function(e){var t=this,n=O$e(t),i=T$e(e),s=n.raw,a,o,l,c,u,d,h;if(s)return s.lastIndex=t.lastIndex,a=Pp(P6,s,i),t.lastIndex=s.lastIndex,a;var f=n.groups,p=hre&&t.sticky,g=Pp(j$e,t),m=t.source,v=0,y=i;if(p&&(g=H$e(g,"y",""),U$e(g,"g")===-1&&(g+="g"),y=YE(i,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&D$e(i,t.lastIndex-1)!==`
`)&&(m="(?: "+m+")",y=" "+y,v++),o=new RegExp("^(?:"+m+")",g)),L6&&(o=new RegExp("^"+m+"$(?!\\s)",g)),R6&&(l=t.lastIndex),c=Pp(g5,p?o:t,y),p?c?(c.input=YE(c.input,v),c[0]=YE(c[0],v),c.index=t.lastIndex,t.lastIndex+=c[0].length):t.lastIndex=0:R6&&c&&(t.lastIndex=t.global?c.index+c[0].length:l),L6&&c&&c.length>1&&Pp(L$e,c[0],o,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(c[u]=void 0)}),c&&f)for(c.groups=d=M$e(null),u=0;u<f.length;u++)h=f[u],d[h[0]]=c[h[1]];return c});var EF=P6,$$e=Fa,PH=EF;$$e({target:"RegExp",proto:!0,forced:/./.exec!==PH},{exec:PH});var RH=Qs,LH=BA,z$e=EF,DH=fi,fre=xs,V$e=i1,G$e=fre("species"),JE=RegExp.prototype,_F=function(r,e,t,n){var i=fre(r),s=!DH(function(){var c={};return c[i]=function(){return 7},""[r](c)!==7}),a=s&&!DH(function(){var c=!1,u=/a/;if(r==="split"){var d={};d[G$e]=function(){return u},u={constructor:d,flags:""},u[i]=/./[i]}return u.exec=function(){return c=!0,null},u[i](""),!c});if(!s||!a||t){var o=/./[i],l=e(i,""[r],function(c,u,d,h,f){var p=u.exec;return p===z$e||p===JE.exec?s&&!f?{done:!0,value:RH(o,u,d,h)}:{done:!0,value:RH(c,d,u,h)}:{done:!1}});LH(String.prototype,r,l[0]),LH(JE,i,l[1])}n&&V$e(JE[i],"sham",!0)},NF=Ai,K$e=B4,W$e=qc,q$e=Zl,X$e=NF("".charAt),UH=NF("".charCodeAt),Y$e=NF("".slice),J$e=function(r){return function(e,t){var n=W$e(q$e(e)),i=K$e(t),s=n.length,a,o;return i<0||i>=s?r?"":void 0:(a=UH(n,i),a<55296||a>56319||i+1===s||(o=UH(n,i+1))<56320||o>57343?r?X$e(n,i):a:r?Y$e(n,i,i+2):(a-55296<<10)+(o-56320)+65536)}},Z$e={charAt:J$e(!0)},eze=Z$e.charAt,BF=function(r,e,t){return e+(t?eze(r,e).length:1)},tze=Gn,rze=fi,HH=tze.RegExp,nze=!rze(function(){var r=!0;try{HH(".","d")}catch{r=!1}var e={},t="",n=r?"dgimsy":"gimsy",i=function(l,c){Object.defineProperty(e,l,{get:function(){return t+=c,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};r&&(s.hasIndices="d");for(var a in s)i(a,s[a]);var o=Object.getOwnPropertyDescriptor(HH.prototype,"flags").get.call(e);return o!==n||t!==n}),ize={correct:nze},sze=Qs,aze=ec,oze=w4,QH=ize,lze=ore,cze=RegExp.prototype,kF=QH.correct?function(r){return r.flags}:function(r){return!QH.correct&&oze(cze,r)&&!aze(r,"flags")?sze(lze,r):r.flags},$H=Qs,uze=ja,dze=Bi,hze=_A,fze=EF,Aze=TypeError,TF=function(r,e){var t=r.exec;if(dze(t)){var n=$H(t,r,e);return n!==null&&uze(n),n}if(hze(r)==="RegExp")return $H(fze,r,e);throw new Aze("RegExp#exec called on incompatible receiver")},pze=Qs,mze=Ai,gze=_F,vze=ja,yze=Ja,bze=Zm,_x=qc,xze=Zl,wze=Jm,Cze=BF,Sze=kF,zH=TF,VH=mze("".indexOf);gze("match",function(r,e,t){return[function(i){var s=xze(this),a=yze(i)?wze(i,r):void 0;return a?pze(a,i,s):new RegExp(i)[r](_x(s))},function(n){var i=vze(this),s=_x(n),a=t(e,i,s);if(a.done)return a.value;var o=_x(Sze(i));if(VH(o,"g")===-1)return zH(i,s);var l=VH(o,"u")!==-1;i.lastIndex=0;for(var c=[],u=0,d;(d=zH(i,s))!==null;){var h=_x(d[0]);c[u]=h,h===""&&(i.lastIndex=Cze(s,bze(i.lastIndex),l)),u++}return u===0?null:c}]});var jF=Ai,Eze=S4,_ze=Math.floor,ZE=jF("".charAt),Nze=jF("".replace),e_=jF("".slice),Bze=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,kze=/\$([$&'`]|\d{1,2})/g,Tze=function(r,e,t,n,i,s){var a=t+r.length,o=n.length,l=kze;return i!==void 0&&(i=Eze(i),l=Bze),Nze(s,l,function(c,u){var d;switch(ZE(u,0)){case"$":return"$";case"&":return r;case"`":return e_(e,0,t);case"'":return e_(e,a);case"<":d=i[e_(u,1,-1)];break;default:var h=+u;if(h===0)return c;if(h>o){var f=_ze(h/10);return f===0?c:f<=o?n[f-1]===void 0?ZE(u,1):n[f-1]+ZE(u,1):c}d=n[h-1]}return d===void 0?"":d})},jze=Ote,GH=Qs,O4=Ai,Fze=_F,Ize=fi,Mze=ja,Oze=Bi,Pze=Ja,Rze=B4,Lze=Zm,ff=qc,Dze=Zl,Uze=BF,Hze=Jm,Qze=Tze,$ze=kF,zze=TF,Vze=xs,D6=Vze("replace"),Gze=Math.max,Kze=Math.min,Wze=O4([].concat),t_=O4([].push),Nx=O4("".indexOf),KH=O4("".slice),qze=function(r){return r===void 0?r:String(r)},Xze=function(){return"a".replace(/./,"$0")==="$0"}(),WH=function(){return/./[D6]?/./[D6]("a","$0")==="":!1}(),Yze=!Ize(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(r,"$<a>")!=="7"});Fze("replace",function(r,e,t){var n=WH?"$":"$0";return[function(s,a){var o=Dze(this),l=Pze(s)?Hze(s,D6):void 0;return l?GH(l,s,o,a):GH(e,ff(o),s,a)},function(i,s){var a=Mze(this),o=ff(i);if(typeof s=="string"&&Nx(s,n)===-1&&Nx(s,"$<")===-1){var l=t(e,a,o,s);if(l.done)return l.value}var c=Oze(s);c||(s=ff(s));var u=ff($ze(a)),d=Nx(u,"g")!==-1,h;d&&(h=Nx(u,"u")!==-1,a.lastIndex=0);for(var f=[],p;p=zze(a,o),!(p===null||(t_(f,p),!d));){var g=ff(p[0]);g===""&&(a.lastIndex=Uze(o,Lze(a.lastIndex),h))}for(var m="",v=0,y=0;y<f.length;y++){p=f[y];for(var b=ff(p[0]),w=Gze(Kze(Rze(p.index),o.length),0),_=[],B,R=1;R<p.length;R++)t_(_,qze(p[R]));var j=p.groups;if(c){var k=Wze([b],_,w,o);j!==void 0&&t_(k,j),B=ff(jze(s,void 0,k))}else B=Qze(b,o,w,_,j,s);w>=v&&(m+=KH(o,v,w)+B,v=w+b.length)}return m+KH(o,v)}]},!Yze||!Xze||WH);var Jze=Ja,Zze=_A,eVe=xs,tVe=eVe("match"),rVe=function(r){var e;return Jze(r)&&((e=r[tVe])!==void 0?!!e:Zze(r)==="RegExp")},nVe=rVe,iVe=TypeError,FF=function(r){if(nVe(r))throw new iVe("The method doesn't accept regular expressions");return r},sVe=xs,aVe=sVe("match"),IF=function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[aVe]=!1,"/./"[r](e)}catch{}}return!1},oVe=Fa,lVe=j4,cVe=t1.f,uVe=Zm,qH=qc,dVe=FF,hVe=Zl,fVe=IF,AVe=lVe("".slice),pVe=Math.min,Are=fVe("startsWith"),mVe=!Are&&!!function(){var r=cVe(String.prototype,"startsWith");return r&&!r.writable}();oVe({target:"String",proto:!0,forced:!mVe&&!Are},{startsWith:function(e){var t=qH(hVe(this));dVe(e);var n=uVe(pVe(arguments.length>1?arguments[1]:void 0,t.length)),i=qH(e);return AVe(t,n,n+i.length)===i}});var gVe=xs,vVe=SF,yVe=gd.f,U6=gVe("unscopables"),H6=Array.prototype;H6[U6]===void 0&&yVe(H6,U6,{configurable:!0,value:vVe(null)});var bVe=function(r){H6[U6][r]=!0},xVe=fi,wVe=!xVe(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),CVe=ec,SVe=Bi,EVe=S4,_Ve=oF,NVe=wVe,XH=_Ve("IE_PROTO"),Q6=Object,BVe=Q6.prototype,pre=NVe?Q6.getPrototypeOf:function(r){var e=EVe(r);if(CVe(e,XH))return e[XH];var t=e.constructor;return SVe(t)&&e instanceof t?t.prototype:e instanceof Q6?BVe:null},kVe=fi,TVe=Bi,jVe=Ja,YH=pre,FVe=BA,IVe=xs,$6=IVe("iterator"),mre=!1,fA,r_,n_;[].keys&&(n_=[].keys(),"next"in n_?(r_=YH(YH(n_)),r_!==Object.prototype&&(fA=r_)):mre=!0);var MVe=!jVe(fA)||kVe(function(){var r={};return fA[$6].call(r)!==r});MVe&&(fA={});TVe(fA[$6])||FVe(fA,$6,function(){return this});var gre={IteratorPrototype:fA,BUGGY_SAFARI_ITERATORS:mre},OVe=gre.IteratorPrototype,PVe=SF,RVe=tF,LVe=T4,DVe=o1,UVe=function(){return this},HVe=function(r,e,t,n){var i=e+" Iterator";return r.prototype=PVe(OVe,{next:RVe(+!n,t)}),LVe(r,i,!1),DVe[i]=UVe,r},QVe=Fa,$Ve=Qs,vre=_4,zVe=Bi,VVe=HVe,JH=pre,ZH=Nte,GVe=T4,KVe=i1,i_=BA,WVe=xs,qVe=o1,yre=gre,XVe=vre.PROPER,YVe=vre.CONFIGURABLE,eQ=yre.IteratorPrototype,Bx=yre.BUGGY_SAFARI_ITERATORS,dg=WVe("iterator"),tQ="keys",hg="values",rQ="entries",JVe=function(){return this},ZVe=function(r,e,t,n,i,s,a){VVe(t,e,n);var o=function(v){if(v===i&&h)return h;if(!Bx&&v&&v in u)return u[v];switch(v){case tQ:return function(){return new t(this,v)};case hg:return function(){return new t(this,v)};case rQ:return function(){return new t(this,v)}}return function(){return new t(this)}},l=e+" Iterator",c=!1,u=r.prototype,d=u[dg]||u["@@iterator"]||i&&u[i],h=!Bx&&d||o(i),f=e==="Array"&&u.entries||d,p,g,m;if(f&&(p=JH(f.call(new r)),p!==Object.prototype&&p.next&&(JH(p)!==eQ&&(ZH?ZH(p,eQ):zVe(p[dg])||i_(p,dg,JVe)),GVe(p,l,!0))),XVe&&i===hg&&d&&d.name!==hg&&(YVe?KVe(u,"name",hg):(c=!0,h=function(){return $Ve(d,this)})),i)if(g={values:o(hg),keys:s?h:o(tQ),entries:o(rQ)},a)for(m in g)(Bx||c||!(m in u))&&i_(u,m,g[m]);else QVe({target:e,proto:!0,forced:Bx||c},g);return u[dg]!==h&&i_(u,dg,h,{name:i}),qVe[e]=h,g},eGe=function(r,e){return{value:r,done:e}},tGe=r1,MF=bVe,nQ=o1,bre=N4,rGe=gd.f,nGe=ZVe,kx=eGe,iGe=Jl,xre="Array Iterator",sGe=bre.set,aGe=bre.getterFor(xre),oGe=nGe(Array,"Array",function(r,e){sGe(this,{type:xre,target:tGe(r),index:0,kind:e})},function(){var r=aGe(this),e=r.target,t=r.index++;if(!e||t>=e.length)return r.target=null,kx(void 0,!0);switch(r.kind){case"keys":return kx(t,!1);case"values":return kx(e[t],!1)}return kx([t,e[t]],!1)},"values"),iQ=nQ.Arguments=nQ.Array;MF("keys");MF("values");MF("entries");if(iGe&&iQ.name!=="values")try{rGe(iQ,"name",{value:"values"})}catch{}var lGe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},cGe=E4,s_=cGe("span").classList,sQ=s_&&s_.constructor&&s_.constructor.prototype,uGe=sQ===Object.prototype?void 0:sQ,aQ=Gn,wre=lGe,dGe=uGe,jg=oGe,oQ=i1,hGe=T4,fGe=xs,a_=fGe("iterator"),o_=jg.values,Cre=function(r,e){if(r){if(r[a_]!==o_)try{oQ(r,a_,o_)}catch{r[a_]=o_}if(hGe(r,e,!0),wre[e]){for(var t in jg)if(r[t]!==jg[t])try{oQ(r,t,jg[t])}catch{r[t]=jg[t]}}}};for(var l_ in wre)Cre(aQ[l_]&&aQ[l_].prototype,l_);Cre(dGe,"DOMTokenList");function AGe(r,e){if(Jr(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Jr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pGe(r){var e=AGe(r,"string");return Jr(e)=="symbol"?e:e+""}function OF(r,e,t){return(e=pGe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var mGe=md,gGe=S4,vGe=ste,yGe=uF,lQ=TypeError,cQ="Reduce of empty array with no initial value",bGe=function(r){return function(e,t,n,i){var s=gGe(e),a=vGe(s),o=yGe(s);if(mGe(t),o===0&&n<2)throw new lQ(cQ);var l=r?o-1:0,c=r?-1:1;if(n<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,r?l<0:o<=l)throw new lQ(cQ)}for(;r?l>=0:o>l;l+=c)l in a&&(i=t(i,a[l],l,s));return i}},xGe={left:bGe(!1)},wGe=fi,Sre=function(r,e){var t=[][r];return!!t&&wGe(function(){t.call(null,e||function(){return 1},1)})},CGe=Fa,SGe=xGe.left,EGe=Sre,uQ=rF,_Ge=k4,NGe=!_Ge&&uQ>79&&uQ<83,BGe=NGe||!EGe("reduce");CGe({target:"Array",proto:!0,forced:BGe},{reduce:function(e){var t=arguments.length;return SGe(this,e,t,t>1?arguments[1]:void 0)}});var kGe=Fa,TGe=j4,jGe=t1.f,FGe=Zm,dQ=qc,IGe=FF,MGe=Zl,OGe=IF,PGe=TGe("".slice),RGe=Math.min,Ere=OGe("endsWith"),LGe=!Ere&&!!function(){var r=jGe(String.prototype,"endsWith");return r&&!r.writable}();kGe({target:"String",proto:!0,forced:!LGe&&!Ere},{endsWith:function(e){var t=dQ(MGe(this));IGe(e);var n=arguments.length>1?arguments[1]:void 0,i=t.length,s=n===void 0?i:RGe(FGe(n),i),a=dQ(e);return PGe(t,s-a.length,s)===a}});var c_=Qs,_re=Ai,DGe=_F,UGe=ja,HGe=Ja,QGe=Zl,$Ge=Ite,zGe=BF,VGe=Zm,hQ=qc,GGe=Jm,fQ=TF,KGe=lre,WGe=fi,np=KGe.UNSUPPORTED_Y,qGe=4294967295,XGe=Math.min,u_=_re([].push),d_=_re("".slice),YGe=!WGe(function(){var r=/(?:)/,e=r.exec;r.exec=function(){return e.apply(this,arguments)};var t="ab".split(r);return t.length!==2||t[0]!=="a"||t[1]!=="b"}),AQ="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;DGe("split",function(r,e,t){var n="0".split(void 0,0).length?function(i,s){return i===void 0&&s===0?[]:c_(e,this,i,s)}:e;return[function(s,a){var o=QGe(this),l=HGe(s)?GGe(s,r):void 0;return l?c_(l,s,o,a):c_(n,hQ(o),s,a)},function(i,s){var a=UGe(this),o=hQ(i);if(!AQ){var l=t(n,a,o,s,n!==e);if(l.done)return l.value}var c=$Ge(a,RegExp),u=a.unicode,d=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(np?"g":"y"),h=new c(np?"^(?:"+a.source+")":a,d),f=s===void 0?qGe:s>>>0;if(f===0)return[];if(o.length===0)return fQ(h,o)===null?[o]:[];for(var p=0,g=0,m=[];g<o.length;){h.lastIndex=np?0:g;var v=fQ(h,np?d_(o,g):o),y;if(v===null||(y=XGe(VGe(h.lastIndex+(np?g:0)),o.length))===p)g=zGe(o,g,u);else{if(u_(m,d_(o,p,g)),m.length===f)return m;for(var b=1;b<=v.length-1;b++)if(u_(m,v[b]),m.length===f)return m;g=p=y}}return u_(m,d_(o,p)),m}]},AQ||!YGe,np);var P4={exports:{}},Fg={exports:{}};(function(){var r,e,t,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Fg.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Fg.exports=function(){return(r()-i)/1e6},e=process.hrtime,r=function(){var a;return a=e(),a[0]*1e9+a[1]},n=r(),s=process.uptime()*1e9,i=n-s):Date.now?(Fg.exports=function(){return Date.now()-t},t=Date.now()):(Fg.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Sr);var JGe=Fg.exports,ZGe=JGe,Du=typeof window>"u"?Sr:window,Tx=["moz","webkit"],sm="AnimationFrame",Nm=Du["request"+sm],Zv=Du["cancel"+sm]||Du["cancelRequest"+sm];for(var fg=0;!Nm&&fg<Tx.length;fg++)Nm=Du[Tx[fg]+"Request"+sm],Zv=Du[Tx[fg]+"Cancel"+sm]||Du[Tx[fg]+"CancelRequest"+sm];if(!Nm||!Zv){var h_=0,pQ=0,Af=[],eKe=1e3/60;Nm=function(r){if(Af.length===0){var e=ZGe(),t=Math.max(0,eKe-(e-h_));h_=t+e,setTimeout(function(){var n=Af.slice(0);Af.length=0;for(var i=0;i<n.length;i++)if(!n[i].cancelled)try{n[i].callback(h_)}catch(s){setTimeout(function(){throw s},0)}},Math.round(t))}return Af.push({handle:++pQ,callback:r,cancelled:!1}),pQ},Zv=function(r){for(var e=0;e<Af.length;e++)Af[e].handle===r&&(Af[e].cancelled=!0)}}P4.exports=function(r){return Nm.call(Du,r)};P4.exports.cancel=function(){Zv.apply(Du,arguments)};P4.exports.polyfill=function(r){r||(r=Du),r.requestAnimationFrame=Nm,r.cancelAnimationFrame=Zv};var tKe=P4.exports;const f_=No(tKe);var Nre=`	
\v\f\r \u2028\u2029\uFEFF`,rKe=Ai,nKe=Zl,iKe=qc,z6=Nre,mQ=rKe("".replace),sKe=RegExp("^["+z6+"]+"),aKe=RegExp("(^|[^"+z6+"])["+z6+"]+$"),oKe=function(r){return function(e){var t=iKe(nKe(e));return r&1&&(t=mQ(t,sKe,"")),r&2&&(t=mQ(t,aKe,"$1")),t}},lKe={trim:oKe(3)},cKe=_4.PROPER,uKe=fi,gQ=Nre,vQ="",dKe=function(r){return uKe(function(){return!!gQ[r]()||vQ[r]()!==vQ||cKe&&gQ[r].name!==r})},hKe=Fa,fKe=lKe.trim,AKe=dKe;hKe({target:"String",proto:!0,forced:AKe("trim")},{trim:function(){return fKe(this)}});var pKe=function(r){this.ok=!1,this.alpha=1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r=r.replace(/ /g,""),r=r.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};r=e[r]||r;for(var t=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3]),parseFloat(l[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);if(a){var o=s(a);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u},this.getHelpXML=function(){for(var l=new Array,c=0;c<t.length;c++)for(var u=t[c].example,d=0;d<u.length;d++)l[l.length]=u[d];for(var h in e)l[l.length]=h;var f=document.createElement("ul");f.setAttribute("id","rgbcolor-examples");for(var c=0;c<l.length;c++)try{var p=document.createElement("li"),g=new RGBColor(l[c]),m=document.createElement("div");m.style.cssText="margin: 3px; border: 1px solid black; background:"+g.toHex()+"; color:"+g.toHex(),m.appendChild(document.createTextNode("test"));var v=document.createTextNode(" "+l[c]+" -> "+g.toRGB()+" -> "+g.toHex());p.appendChild(m),p.appendChild(v),f.appendChild(p)}catch{}return f}};const V6=No(pKe);var mKe=Fa,gKe=j4,vKe=wte.indexOf,yKe=Sre,G6=gKe([].indexOf),Bre=!!G6&&1/G6([1],1,-0)<0,bKe=Bre||!yKe("indexOf");mKe({target:"Array",proto:!0,forced:bKe},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return Bre?G6(this,e,t)||0:vKe(this,e,t)}});var xKe=Fa,wKe=Ai,CKe=FF,SKe=Zl,yQ=qc,EKe=IF,_Ke=wKe("".indexOf);xKe({target:"String",proto:!0,forced:!EKe("includes")},{includes:function(e){return!!~_Ke(yQ(SKe(this)),yQ(CKe(e)),arguments.length>1?arguments[1]:void 0)}});var NKe=_A,BKe=Array.isArray||function(e){return NKe(e)==="Array"},kKe=Fa,TKe=Ai,jKe=BKe,FKe=TKe([].reverse),bQ=[1,2];kKe({target:"Array",proto:!0,forced:String(bQ)===String(bQ.reverse())},{reverse:function(){return jKe(this)&&(this.length=this.length),FKe(this)}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kre=function(r,e){return(kre=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(r,e)};function Tre(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}kre(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function IKe(r){var e="";Array.isArray(r)||(r=[r]);for(var t=0;t<r.length;t++){var n=r[t];if(n.type===ft.CLOSE_PATH)e+="z";else if(n.type===ft.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===ft.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===ft.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===ft.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===ft.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===ft.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===ft.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===ft.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==ft.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+t+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}function K6(r,e){var t=r[0],n=r[1];return[t*Math.cos(e)-n*Math.sin(e),t*Math.sin(e)+n*Math.cos(e)]}function Nl(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++)if(typeof r[t]!="number")throw new Error("assertNumbers arguments["+t+"] is not a number. "+typeof r[t]+" == typeof "+r[t]);return!0}var Wd=Math.PI;function A_(r,e,t){r.lArcFlag=r.lArcFlag===0?0:1,r.sweepFlag=r.sweepFlag===0?0:1;var n=r.rX,i=r.rY,s=r.x,a=r.y;n=Math.abs(r.rX),i=Math.abs(r.rY);var o=K6([(e-s)/2,(t-a)/2],-r.xRot/180*Wd),l=o[0],c=o[1],u=Math.pow(l,2)/Math.pow(n,2)+Math.pow(c,2)/Math.pow(i,2);1<u&&(n*=Math.sqrt(u),i*=Math.sqrt(u)),r.rX=n,r.rY=i;var d=Math.pow(n,2)*Math.pow(c,2)+Math.pow(i,2)*Math.pow(l,2),h=(r.lArcFlag!==r.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-d)/d)),f=n*c/i*h,p=-i*l/n*h,g=K6([f,p],r.xRot/180*Wd);r.cX=g[0]+(e+s)/2,r.cY=g[1]+(t+a)/2,r.phi1=Math.atan2((c-p)/i,(l-f)/n),r.phi2=Math.atan2((-c-p)/i,(-l-f)/n),r.sweepFlag===0&&r.phi2>r.phi1&&(r.phi2-=2*Wd),r.sweepFlag===1&&r.phi2<r.phi1&&(r.phi2+=2*Wd),r.phi1*=180/Wd,r.phi2*=180/Wd}function xQ(r,e,t){Nl(r,e,t);var n=r*r+e*e-t*t;if(0>n)return[];if(n===0)return[[r*t/(r*r+e*e),e*t/(r*r+e*e)]];var i=Math.sqrt(n);return[[(r*t+e*i)/(r*r+e*e),(e*t-r*i)/(r*r+e*e)],[(r*t-e*i)/(r*r+e*e),(e*t+r*i)/(r*r+e*e)]]}var Mi,vu=Math.PI/180;function wQ(r,e,t){return(1-t)*r+t*e}function CQ(r,e,t,n){return r+Math.cos(n/180*Wd)*e+Math.sin(n/180*Wd)*t}function SQ(r,e,t,n){var i=1e-6,s=e-r,a=t-e,o=3*s+3*(n-t)-6*a,l=6*(a-s),c=3*s;return Math.abs(o)<i?[-c/l]:function(u,d,h){var f=u*u/4-d;if(f<-h)return[];if(f<=h)return[-u/2];var p=Math.sqrt(f);return[-u/2-p,-u/2+p]}(l/o,c/o,i)}function EQ(r,e,t,n,i){var s=1-i;return r*(s*s*s)+e*(3*s*s*i)+t*(3*s*i*i)+n*(i*i*i)}(function(r){function e(){return i(function(o,l,c){return o.relative&&(o.x1!==void 0&&(o.x1+=l),o.y1!==void 0&&(o.y1+=c),o.x2!==void 0&&(o.x2+=l),o.y2!==void 0&&(o.y2+=c),o.x!==void 0&&(o.x+=l),o.y!==void 0&&(o.y+=c),o.relative=!1),o})}function t(){var o=NaN,l=NaN,c=NaN,u=NaN;return i(function(d,h,f){return d.type&ft.SMOOTH_CURVE_TO&&(d.type=ft.CURVE_TO,o=isNaN(o)?h:o,l=isNaN(l)?f:l,d.x1=d.relative?h-o:2*h-o,d.y1=d.relative?f-l:2*f-l),d.type&ft.CURVE_TO?(o=d.relative?h+d.x2:d.x2,l=d.relative?f+d.y2:d.y2):(o=NaN,l=NaN),d.type&ft.SMOOTH_QUAD_TO&&(d.type=ft.QUAD_TO,c=isNaN(c)?h:c,u=isNaN(u)?f:u,d.x1=d.relative?h-c:2*h-c,d.y1=d.relative?f-u:2*f-u),d.type&ft.QUAD_TO?(c=d.relative?h+d.x1:d.x1,u=d.relative?f+d.y1:d.y1):(c=NaN,u=NaN),d})}function n(){var o=NaN,l=NaN;return i(function(c,u,d){if(c.type&ft.SMOOTH_QUAD_TO&&(c.type=ft.QUAD_TO,o=isNaN(o)?u:o,l=isNaN(l)?d:l,c.x1=c.relative?u-o:2*u-o,c.y1=c.relative?d-l:2*d-l),c.type&ft.QUAD_TO){o=c.relative?u+c.x1:c.x1,l=c.relative?d+c.y1:c.y1;var h=c.x1,f=c.y1;c.type=ft.CURVE_TO,c.x1=((c.relative?0:u)+2*h)/3,c.y1=((c.relative?0:d)+2*f)/3,c.x2=(c.x+2*h)/3,c.y2=(c.y+2*f)/3}else o=NaN,l=NaN;return c})}function i(o){var l=0,c=0,u=NaN,d=NaN;return function(h){if(isNaN(u)&&!(h.type&ft.MOVE_TO))throw new Error("path must start with moveto");var f=o(h,l,c,u,d);return h.type&ft.CLOSE_PATH&&(l=u,c=d),h.x!==void 0&&(l=h.relative?l+h.x:h.x),h.y!==void 0&&(c=h.relative?c+h.y:h.y),h.type&ft.MOVE_TO&&(u=l,d=c),f}}function s(o,l,c,u,d,h){return Nl(o,l,c,u,d,h),i(function(f,p,g,m){var v=f.x1,y=f.x2,b=f.relative&&!isNaN(m),w=f.x!==void 0?f.x:b?0:p,_=f.y!==void 0?f.y:b?0:g;function B(M){return M*M}f.type&ft.HORIZ_LINE_TO&&l!==0&&(f.type=ft.LINE_TO,f.y=f.relative?0:g),f.type&ft.VERT_LINE_TO&&c!==0&&(f.type=ft.LINE_TO,f.x=f.relative?0:p),f.x!==void 0&&(f.x=f.x*o+_*c+(b?0:d)),f.y!==void 0&&(f.y=w*l+f.y*u+(b?0:h)),f.x1!==void 0&&(f.x1=f.x1*o+f.y1*c+(b?0:d)),f.y1!==void 0&&(f.y1=v*l+f.y1*u+(b?0:h)),f.x2!==void 0&&(f.x2=f.x2*o+f.y2*c+(b?0:d)),f.y2!==void 0&&(f.y2=y*l+f.y2*u+(b?0:h));var R=o*u-l*c;if(f.xRot!==void 0&&(o!==1||l!==0||c!==0||u!==1))if(R===0)delete f.rX,delete f.rY,delete f.xRot,delete f.lArcFlag,delete f.sweepFlag,f.type=ft.LINE_TO;else{var j=f.xRot*Math.PI/180,k=Math.sin(j),L=Math.cos(j),H=1/B(f.rX),I=1/B(f.rY),T=B(L)*H+B(k)*I,P=2*k*L*(H-I),N=B(k)*H+B(L)*I,S=T*u*u-P*l*u+N*l*l,C=P*(o*u+l*c)-2*(T*c*u+N*o*l),E=T*c*c-P*o*c+N*o*o,x=(Math.atan2(C,S-E)+Math.PI)%Math.PI/2,F=Math.sin(x),U=Math.cos(x);f.rX=Math.abs(R)/Math.sqrt(S*B(U)+C*F*U+E*B(F)),f.rY=Math.abs(R)/Math.sqrt(S*B(F)-C*F*U+E*B(U)),f.xRot=180*x/Math.PI}return f.sweepFlag!==void 0&&0>R&&(f.sweepFlag=+!f.sweepFlag),f})}function a(){return function(o){var l={};for(var c in o)l[c]=o[c];return l}}r.ROUND=function(o){function l(c){return Math.round(c*o)/o}return o===void 0&&(o=1e13),Nl(o),function(c){return c.x1!==void 0&&(c.x1=l(c.x1)),c.y1!==void 0&&(c.y1=l(c.y1)),c.x2!==void 0&&(c.x2=l(c.x2)),c.y2!==void 0&&(c.y2=l(c.y2)),c.x!==void 0&&(c.x=l(c.x)),c.y!==void 0&&(c.y=l(c.y)),c.rX!==void 0&&(c.rX=l(c.rX)),c.rY!==void 0&&(c.rY=l(c.rY)),c}},r.TO_ABS=e,r.TO_REL=function(){return i(function(o,l,c){return o.relative||(o.x1!==void 0&&(o.x1-=l),o.y1!==void 0&&(o.y1-=c),o.x2!==void 0&&(o.x2-=l),o.y2!==void 0&&(o.y2-=c),o.x!==void 0&&(o.x-=l),o.y!==void 0&&(o.y-=c),o.relative=!0),o})},r.NORMALIZE_HVZ=function(o,l,c){return o===void 0&&(o=!0),l===void 0&&(l=!0),c===void 0&&(c=!0),i(function(u,d,h,f,p){if(isNaN(f)&&!(u.type&ft.MOVE_TO))throw new Error("path must start with moveto");return l&&u.type&ft.HORIZ_LINE_TO&&(u.type=ft.LINE_TO,u.y=u.relative?0:h),c&&u.type&ft.VERT_LINE_TO&&(u.type=ft.LINE_TO,u.x=u.relative?0:d),o&&u.type&ft.CLOSE_PATH&&(u.type=ft.LINE_TO,u.x=u.relative?f-d:f,u.y=u.relative?p-h:p),u.type&ft.ARC&&(u.rX===0||u.rY===0)&&(u.type=ft.LINE_TO,delete u.rX,delete u.rY,delete u.xRot,delete u.lArcFlag,delete u.sweepFlag),u})},r.NORMALIZE_ST=t,r.QT_TO_C=n,r.INFO=i,r.SANITIZE=function(o){o===void 0&&(o=0),Nl(o);var l=NaN,c=NaN,u=NaN,d=NaN;return i(function(h,f,p,g,m){var v=Math.abs,y=!1,b=0,w=0;if(h.type&ft.SMOOTH_CURVE_TO&&(b=isNaN(l)?0:f-l,w=isNaN(c)?0:p-c),h.type&(ft.CURVE_TO|ft.SMOOTH_CURVE_TO)?(l=h.relative?f+h.x2:h.x2,c=h.relative?p+h.y2:h.y2):(l=NaN,c=NaN),h.type&ft.SMOOTH_QUAD_TO?(u=isNaN(u)?f:2*f-u,d=isNaN(d)?p:2*p-d):h.type&ft.QUAD_TO?(u=h.relative?f+h.x1:h.x1,d=h.relative?p+h.y1:h.y2):(u=NaN,d=NaN),h.type&ft.LINE_COMMANDS||h.type&ft.ARC&&(h.rX===0||h.rY===0||!h.lArcFlag)||h.type&ft.CURVE_TO||h.type&ft.SMOOTH_CURVE_TO||h.type&ft.QUAD_TO||h.type&ft.SMOOTH_QUAD_TO){var _=h.x===void 0?0:h.relative?h.x:h.x-f,B=h.y===void 0?0:h.relative?h.y:h.y-p;b=isNaN(u)?h.x1===void 0?b:h.relative?h.x:h.x1-f:u-f,w=isNaN(d)?h.y1===void 0?w:h.relative?h.y:h.y1-p:d-p;var R=h.x2===void 0?0:h.relative?h.x:h.x2-f,j=h.y2===void 0?0:h.relative?h.y:h.y2-p;v(_)<=o&&v(B)<=o&&v(b)<=o&&v(w)<=o&&v(R)<=o&&v(j)<=o&&(y=!0)}return h.type&ft.CLOSE_PATH&&v(f-g)<=o&&v(p-m)<=o&&(y=!0),y?[]:h})},r.MATRIX=s,r.ROTATE=function(o,l,c){l===void 0&&(l=0),c===void 0&&(c=0),Nl(o,l,c);var u=Math.sin(o),d=Math.cos(o);return s(d,u,-u,d,l-l*d+c*u,c-l*u-c*d)},r.TRANSLATE=function(o,l){return l===void 0&&(l=0),Nl(o,l),s(1,0,0,1,o,l)},r.SCALE=function(o,l){return l===void 0&&(l=o),Nl(o,l),s(o,0,0,l,0,0)},r.SKEW_X=function(o){return Nl(o),s(1,0,Math.atan(o),1,0,0)},r.SKEW_Y=function(o){return Nl(o),s(1,Math.atan(o),0,1,0,0)},r.X_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),Nl(o),s(-1,0,0,1,o,0)},r.Y_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),Nl(o),s(1,0,0,-1,0,o)},r.A_TO_C=function(){return i(function(o,l,c){return ft.ARC===o.type?function(u,d,h){var f,p,g,m;u.cX||A_(u,d,h);for(var v=Math.min(u.phi1,u.phi2),y=Math.max(u.phi1,u.phi2)-v,b=Math.ceil(y/90),w=new Array(b),_=d,B=h,R=0;R<b;R++){var j=wQ(u.phi1,u.phi2,R/b),k=wQ(u.phi1,u.phi2,(R+1)/b),L=k-j,H=4/3*Math.tan(L*vu/4),I=[Math.cos(j*vu)-H*Math.sin(j*vu),Math.sin(j*vu)+H*Math.cos(j*vu)],T=I[0],P=I[1],N=[Math.cos(k*vu),Math.sin(k*vu)],S=N[0],C=N[1],E=[S+H*Math.sin(k*vu),C-H*Math.cos(k*vu)],x=E[0],F=E[1];w[R]={relative:u.relative,type:ft.CURVE_TO};var U=function(M,z){var G=K6([M*u.rX,z*u.rY],u.xRot),Y=G[0],Q=G[1];return[u.cX+Y,u.cY+Q]};f=U(T,P),w[R].x1=f[0],w[R].y1=f[1],p=U(x,F),w[R].x2=p[0],w[R].y2=p[1],g=U(S,C),w[R].x=g[0],w[R].y=g[1],u.relative&&(w[R].x1-=_,w[R].y1-=B,w[R].x2-=_,w[R].y2-=B,w[R].x-=_,w[R].y-=B),_=(m=[w[R].x,w[R].y])[0],B=m[1]}return w}(o,o.relative?0:l,o.relative?0:c):o})},r.ANNOTATE_ARCS=function(){return i(function(o,l,c){return o.relative&&(l=0,c=0),ft.ARC===o.type&&A_(o,l,c),o})},r.CLONE=a,r.CALCULATE_BOUNDS=function(){var o=function(h){var f={};for(var p in h)f[p]=h[p];return f},l=e(),c=n(),u=t(),d=i(function(h,f,p){var g=u(c(l(o(h))));function m(F){F>d.maxX&&(d.maxX=F),F<d.minX&&(d.minX=F)}function v(F){F>d.maxY&&(d.maxY=F),F<d.minY&&(d.minY=F)}if(g.type&ft.DRAWING_COMMANDS&&(m(f),v(p)),g.type&ft.HORIZ_LINE_TO&&m(g.x),g.type&ft.VERT_LINE_TO&&v(g.y),g.type&ft.LINE_TO&&(m(g.x),v(g.y)),g.type&ft.CURVE_TO){m(g.x),v(g.y);for(var y=0,b=SQ(f,g.x1,g.x2,g.x);y<b.length;y++)0<(x=b[y])&&1>x&&m(EQ(f,g.x1,g.x2,g.x,x));for(var w=0,_=SQ(p,g.y1,g.y2,g.y);w<_.length;w++)0<(x=_[w])&&1>x&&v(EQ(p,g.y1,g.y2,g.y,x))}if(g.type&ft.ARC){m(g.x),v(g.y),A_(g,f,p);for(var B=g.xRot/180*Math.PI,R=Math.cos(B)*g.rX,j=Math.sin(B)*g.rX,k=-Math.sin(B)*g.rY,L=Math.cos(B)*g.rY,H=g.phi1<g.phi2?[g.phi1,g.phi2]:-180>g.phi2?[g.phi2+360,g.phi1+360]:[g.phi2,g.phi1],I=H[0],T=H[1],P=function(F){var U=F[0],M=F[1],z=180*Math.atan2(M,U)/Math.PI;return z<I?z+360:z},N=0,S=xQ(k,-R,0).map(P);N<S.length;N++)(x=S[N])>I&&x<T&&m(CQ(g.cX,R,k,x));for(var C=0,E=xQ(L,-j,0).map(P);C<E.length;C++){var x;(x=E[C])>I&&x<T&&v(CQ(g.cY,j,L,x))}}return h});return d.minX=1/0,d.maxX=-1/0,d.minY=1/0,d.maxY=-1/0,d}})(Mi||(Mi={}));var Sl,jre=function(){function r(){}return r.prototype.round=function(e){return this.transform(Mi.ROUND(e))},r.prototype.toAbs=function(){return this.transform(Mi.TO_ABS())},r.prototype.toRel=function(){return this.transform(Mi.TO_REL())},r.prototype.normalizeHVZ=function(e,t,n){return this.transform(Mi.NORMALIZE_HVZ(e,t,n))},r.prototype.normalizeST=function(){return this.transform(Mi.NORMALIZE_ST())},r.prototype.qtToC=function(){return this.transform(Mi.QT_TO_C())},r.prototype.aToC=function(){return this.transform(Mi.A_TO_C())},r.prototype.sanitize=function(e){return this.transform(Mi.SANITIZE(e))},r.prototype.translate=function(e,t){return this.transform(Mi.TRANSLATE(e,t))},r.prototype.scale=function(e,t){return this.transform(Mi.SCALE(e,t))},r.prototype.rotate=function(e,t,n){return this.transform(Mi.ROTATE(e,t,n))},r.prototype.matrix=function(e,t,n,i,s,a){return this.transform(Mi.MATRIX(e,t,n,i,s,a))},r.prototype.skewX=function(e){return this.transform(Mi.SKEW_X(e))},r.prototype.skewY=function(e){return this.transform(Mi.SKEW_Y(e))},r.prototype.xSymmetry=function(e){return this.transform(Mi.X_AXIS_SYMMETRY(e))},r.prototype.ySymmetry=function(e){return this.transform(Mi.Y_AXIS_SYMMETRY(e))},r.prototype.annotateArcs=function(){return this.transform(Mi.ANNOTATE_ARCS())},r}(),MKe=function(r){return r===" "||r==="	"||r==="\r"||r===`
`},_Q=function(r){return 48<=r.charCodeAt(0)&&r.charCodeAt(0)<=57},OKe=function(r){function e(){var t=r.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return Tre(e,r),e.prototype.finish=function(t){if(t===void 0&&(t=[]),this.parse(" ",t),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,n){var i=this;n===void 0&&(n=[]);for(var s=function(d){n.push(d),i.curArgs.length=0,i.canParseCommandOrComma=!0},a=0;a<t.length;a++){var o=t[a],l=!(this.curCommandType!==ft.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),c=_Q(o)&&(this.curNumber==="0"&&o==="0"||l);if(!_Q(o)||c)if(o!=="e"&&o!=="E")if(o!=="-"&&o!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(o!=="."||this.curNumberHasExp||this.curNumberHasDecimal||l){if(this.curNumber&&this.curCommandType!==-1){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+a);if(this.curCommandType===ft.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+a+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+a+'"')}this.curArgs.push(u),this.curArgs.length===PKe[this.curCommandType]&&(ft.HORIZ_LINE_TO===this.curCommandType?s({type:ft.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):ft.VERT_LINE_TO===this.curCommandType?s({type:ft.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===ft.MOVE_TO||this.curCommandType===ft.LINE_TO||this.curCommandType===ft.SMOOTH_QUAD_TO?(s({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),ft.MOVE_TO===this.curCommandType&&(this.curCommandType=ft.LINE_TO)):this.curCommandType===ft.CURVE_TO?s({type:ft.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===ft.SMOOTH_CURVE_TO?s({type:ft.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ft.QUAD_TO?s({type:ft.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ft.ARC&&s({type:ft.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!MKe(o))if(o===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(o!=="+"&&o!=="-"&&o!==".")if(c)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+a+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+a+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,o!=="z"&&o!=="Z")if(o==="h"||o==="H")this.curCommandType=ft.HORIZ_LINE_TO,this.curCommandRelative=o==="h";else if(o==="v"||o==="V")this.curCommandType=ft.VERT_LINE_TO,this.curCommandRelative=o==="v";else if(o==="m"||o==="M")this.curCommandType=ft.MOVE_TO,this.curCommandRelative=o==="m";else if(o==="l"||o==="L")this.curCommandType=ft.LINE_TO,this.curCommandRelative=o==="l";else if(o==="c"||o==="C")this.curCommandType=ft.CURVE_TO,this.curCommandRelative=o==="c";else if(o==="s"||o==="S")this.curCommandType=ft.SMOOTH_CURVE_TO,this.curCommandRelative=o==="s";else if(o==="q"||o==="Q")this.curCommandType=ft.QUAD_TO,this.curCommandRelative=o==="q";else if(o==="t"||o==="T")this.curCommandType=ft.SMOOTH_QUAD_TO,this.curCommandRelative=o==="t";else{if(o!=="a"&&o!=="A")throw new SyntaxError('Unexpected character "'+o+'" at index '+a+".");this.curCommandType=ft.ARC,this.curCommandRelative=o==="a"}else n.push({type:ft.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal=o==="."}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return n},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(n,i){i===void 0&&(i=[]);for(var s=0,a=Object.getPrototypeOf(this).parse.call(this,n);s<a.length;s++){var o=a[s],l=t(o);Array.isArray(l)?i.push.apply(i,l):i.push(l)}return i}}})},e}(jre),ft=function(r){function e(t){var n=r.call(this)||this;return n.commands=typeof t=="string"?e.parse(t):t,n}return Tre(e,r),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=Mi.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var n=[],i=0,s=this.commands;i<s.length;i++){var a=t(s[i]);Array.isArray(a)?n.push.apply(n,a):n.push(a)}return this.commands=n,this},e.encode=function(t){return IKe(t)},e.parse=function(t){var n=new OKe,i=[];return n.parse(t,i),n.finish(i),i},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(jre),PKe=((Sl={})[ft.MOVE_TO]=2,Sl[ft.LINE_TO]=2,Sl[ft.HORIZ_LINE_TO]=1,Sl[ft.VERT_LINE_TO]=1,Sl[ft.CLOSE_PATH]=0,Sl[ft.QUAD_TO]=4,Sl[ft.SMOOTH_QUAD_TO]=2,Sl[ft.CURVE_TO]=6,Sl[ft.SMOOTH_CURVE_TO]=4,Sl[ft.ARC]=7,Sl),RKe=_4.PROPER,LKe=BA,DKe=ja,NQ=qc,UKe=fi,HKe=kF,PF="toString",Fre=RegExp.prototype,Ire=Fre[PF],QKe=UKe(function(){return Ire.call({source:"a",flags:"b"})!=="/a/b"}),$Ke=RKe&&Ire.name!==PF;(QKe||$Ke)&&LKe(Fre,PF,function(){var e=DKe(this),t=NQ(e.source),n=NQ(HKe(e));return"/"+t+"/"+n},{unsafe:!0});function vw(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vw=function(e){return typeof e}:vw=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(r)}function zKe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var VKe=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],GKe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function KKe(r,e,t,n,i){if(typeof r=="string"&&(r=document.getElementById(r)),!r||vw(r)!=="object"||!("getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var s=r.getContext("2d");try{return s.getImageData(e,t,n,i)}catch(a){throw new Error("unable to access image data: "+a)}}function WKe(r,e,t,n,i,s){if(!(isNaN(s)||s<1)){s|=0;var a=KKe(r,e,t,n,i);a=qKe(a,e,t,n,i,s),r.getContext("2d").putImageData(a,e,t)}}function qKe(r,e,t,n,i,s){for(var a=r.data,o=2*s+1,l=n-1,c=i-1,u=s+1,d=u*(u+1)/2,h=new BQ,f=h,p,g=1;g<o;g++)f=f.next=new BQ,g===u&&(p=f);f.next=h;for(var m=null,v=null,y=0,b=0,w=VKe[s],_=GKe[s],B=0;B<i;B++){f=h;for(var R=a[b],j=a[b+1],k=a[b+2],L=a[b+3],H=0;H<u;H++)f.r=R,f.g=j,f.b=k,f.a=L,f=f.next;for(var I=0,T=0,P=0,N=0,S=u*R,C=u*j,E=u*k,x=u*L,F=d*R,U=d*j,M=d*k,z=d*L,G=1;G<u;G++){var Y=b+((l<G?l:G)<<2),Q=a[Y],q=a[Y+1],D=a[Y+2],O=a[Y+3],V=u-G;F+=(f.r=Q)*V,U+=(f.g=q)*V,M+=(f.b=D)*V,z+=(f.a=O)*V,I+=Q,T+=q,P+=D,N+=O,f=f.next}m=h,v=p;for(var J=0;J<n;J++){var re=z*w>>>_;if(a[b+3]=re,re!==0){var ne=255/re;a[b]=(F*w>>>_)*ne,a[b+1]=(U*w>>>_)*ne,a[b+2]=(M*w>>>_)*ne}else a[b]=a[b+1]=a[b+2]=0;F-=S,U-=C,M-=E,z-=x,S-=m.r,C-=m.g,E-=m.b,x-=m.a;var se=J+s+1;se=y+(se<l?se:l)<<2,I+=m.r=a[se],T+=m.g=a[se+1],P+=m.b=a[se+2],N+=m.a=a[se+3],F+=I,U+=T,M+=P,z+=N,m=m.next;var ee=v,de=ee.r,ie=ee.g,he=ee.b,le=ee.a;S+=de,C+=ie,E+=he,x+=le,I-=de,T-=ie,P-=he,N-=le,v=v.next,b+=4}y+=n}for(var be=0;be<n;be++){b=be<<2;var ye=a[b],xe=a[b+1],Ee=a[b+2],Be=a[b+3],Pe=u*ye,Ue=u*xe,He=u*Ee,$e=u*Be,Ke=d*ye,st=d*xe,Ve=d*Ee,pt=d*Be;f=h;for(var Je=0;Je<u;Je++)f.r=ye,f.g=xe,f.b=Ee,f.a=Be,f=f.next;for(var ze=n,qe=0,gt=0,We=0,Tt=0,St=1;St<=s;St++){b=ze+be<<2;var ot=u-St;Ke+=(f.r=ye=a[b])*ot,st+=(f.g=xe=a[b+1])*ot,Ve+=(f.b=Ee=a[b+2])*ot,pt+=(f.a=Be=a[b+3])*ot,Tt+=ye,qe+=xe,gt+=Ee,We+=Be,f=f.next,St<c&&(ze+=n)}b=be,m=h,v=p;for(var Ot=0;Ot<i;Ot++){var vt=b<<2;a[vt+3]=Be=pt*w>>>_,Be>0?(Be=255/Be,a[vt]=(Ke*w>>>_)*Be,a[vt+1]=(st*w>>>_)*Be,a[vt+2]=(Ve*w>>>_)*Be):a[vt]=a[vt+1]=a[vt+2]=0,Ke-=Pe,st-=Ue,Ve-=He,pt-=$e,Pe-=m.r,Ue-=m.g,He-=m.b,$e-=m.a,vt=be+((vt=Ot+u)<c?vt:c)*n<<2,Ke+=Tt+=m.r=a[vt],st+=qe+=m.g=a[vt+1],Ve+=gt+=m.b=a[vt+2],pt+=We+=m.a=a[vt+3],m=m.next,Pe+=ye=v.r,Ue+=xe=v.g,He+=Ee=v.b,$e+=Be=v.a,Tt-=ye,qe-=xe,gt-=Ee,We-=Be,v=v.next,b+=n}}return r}var BQ=function r(){zKe(this,r),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function XKe(){var{DOMParser:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:r,createCanvas(t,n){return new OffscreenCanvas(t,n)},createImage(t){return sd(function*(){var n=yield fetch(t),i=yield n.blob(),s=yield createImageBitmap(i);return s})()}};return(typeof DOMParser<"u"||typeof r>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function YKe(r){var{DOMParser:e,canvas:t,fetch:n}=r;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:n,createCanvas:t.createCanvas,createImage:t.loadImage}}var JKe=Object.freeze({__proto__:null,offscreen:XKe,node:YKe});function kA(r){return r.replace(/(?!\u3000)\s+/gm," ")}function Mre(r){return r.replace(/^[\n \t]+/,"")}function Ore(r){return r.replace(/[\n \t]+$/,"")}function qa(r){var e=(r||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var ZKe=/^[A-Z-]+$/;function Pre(r){return ZKe.test(r)?r.toLowerCase():r}function RF(r){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(r)||[];return e[2]||e[3]||e[4]}function Rre(r){if(!r.startsWith("rgb"))return r;var e=3,t=r.replace(/\d+(\.\d+)?/g,(n,i)=>e--&&i?String(Math.round(parseFloat(n))):n);return t}var eWe=/(\[[^\]]+\])/g,tWe=/(#[^\s+>~.[:]+)/g,rWe=/(\.[^\s+>~.[:]+)/g,nWe=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,iWe=/(:[\w-]+\([^)]*\))/gi,sWe=/(:[^\s+>~.[:]+)/g,aWe=/([^\s+>~.[:]+)/g;function pf(r,e){var t=e.exec(r);return t?[r.replace(e," "),t.length]:[r,0]}function Lre(r){var e=[0,0,0],t=r.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[t,n]=pf(t,eWe),e[1]+=n,[t,n]=pf(t,tWe),e[0]+=n,[t,n]=pf(t,rWe),e[1]+=n,[t,n]=pf(t,nWe),e[2]+=n,[t,n]=pf(t,iWe),e[1]+=n,[t,n]=pf(t,sWe),e[1]+=n,t=t.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[t,n]=pf(t,aWe),e[2]+=n,e.join("")}var Kf=1e-8;function W6(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))}function v5(r,e){return(r[0]*e[0]+r[1]*e[1])/(W6(r)*W6(e))}function q6(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(v5(r,e))}function X6(r){return r*r*r}function Y6(r){return 3*r*r*(1-r)}function J6(r){return 3*r*(1-r)*(1-r)}function Z6(r){return(1-r)*(1-r)*(1-r)}function ek(r){return r*r}function tk(r){return 2*r*(1-r)}function rk(r){return(1-r)*(1-r)}class sr{constructor(e,t,n){this.document=e,this.name=t,this.value=n,this.isNormalizedColor=!1}static empty(e){return new sr(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:t,name:n}=this;return kA(this.getString()).trim().split(e).map(i=>new sr(t,n,i))}hasValue(e){var{value:t}=this;return t!==null&&t!==""&&(e||t!==0)&&typeof t<"u"}isString(e){var{value:t}=this,n=typeof t=="string";return!n||!e?n:e.test(t)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:t}=this,n=parseFloat(t);return this.isString(/%$/)&&(n/=100),n}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var t=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=Rre(t),this.value=t),t}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[n,i]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:s}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(s.computeSize("x"),s.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(s.computeSize("x"),s.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*s.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*s.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&i):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*s.computeSize(n);default:{var a=this.getNumber();return t&&a<1?a*s.computeSize(n):a}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),t=/#([^)'"]+)/.exec(e);return t&&(t=t[1]),t||(t=e),this.document.definitions[t]}getFillStyleDefinition(e,t){var n=this.getDefinition();if(!n)return null;if(typeof n.createGradient=="function")return n.createGradient(this.document.ctx,e,t);if(typeof n.createPattern=="function"){if(n.getHrefAttribute().hasValue()){var i=n.getAttribute("patternTransform");n=n.getHrefAttribute().getDefinition(),i.hasValue()&&n.getAttribute("patternTransform",!0).setValue(i.value)}return n.createPattern(this.document.ctx,e,t)}return null}getTextBaseline(){return this.hasValue()?sr.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var t=this.getColor(),n=t.length,i=0,s=0;s<n&&(t[s]===","&&i++,i!==3);s++);if(e.hasValue()&&this.isString()&&i!==3){var a=new V6(t);a.ok&&(a.alpha=e.getNumber(),t=a.toRGBA())}return new sr(this.document,this.name,t)}}sr.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Dre{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,t){this.viewPorts.push({width:e,height:t})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class ui{constructor(e,t){this.x=e,this.y=t}static parse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[n=t,i=t]=qa(e);return new ui(n,i)}static parseScale(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[n=t,i=n]=qa(e);return new ui(n,i)}static parsePath(e){for(var t=qa(e),n=t.length,i=[],s=0;s<n;s+=2)i.push(new ui(t[s],t[s+1]));return i}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:t,y:n}=this,i=t*e[0]+n*e[2]+e[4],s=t*e[1]+n*e[3]+e[5];this.x=i,this.y=s}}class Ure{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:t,onMouseMove:n}=this,i=e.ctx.canvas;i.onclick=t,i.onmousemove=n,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:t,eventElements:n}=this,{style:i}=e.ctx.canvas;i&&(i.cursor=""),t.forEach((s,a)=>{for(var{run:o}=s,l=n[a];l;)o(l),l=l.parent}),this.events=[],this.eventElements=[]}}checkPath(e,t){if(!(!this.working||!t)){var{events:n,eventElements:i}=this;n.forEach((s,a)=>{var{x:o,y:l}=s;!i[a]&&t.isPointInPath&&t.isPointInPath(o,l)&&(i[a]=e)})}}checkBoundingBox(e,t){if(!(!this.working||!t)){var{events:n,eventElements:i}=this;n.forEach((s,a)=>{var{x:o,y:l}=s;!i[a]&&t.isPointInBox(o,l)&&(i[a]=e)})}}mapXY(e,t){for(var{window:n,ctx:i}=this.screen,s=new ui(e,t),a=i.canvas;a;)s.x-=a.offsetLeft,s.y-=a.offsetTop,a=a.offsetParent;return n.scrollX&&(s.x+=n.scrollX),n.scrollY&&(s.y+=n.scrollY),s}onClick(e){var{x:t,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:t,y:n,run(i){i.onClick&&i.onClick()}})}onMouseMove(e){var{x:t,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:t,y:n,run(i){i.onMouseMove&&i.onMouseMove()}})}}var Hre=typeof window<"u"?window:null,Qre=typeof fetch<"u"?fetch.bind(void 0):null;class l1{constructor(e){var{fetch:t=Qre,window:n=Hre}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Dre,this.mouse=new Ure(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=n,this.fetch=t}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(t=>t());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:t,ctx:n,aspectRatio:i,width:s,desiredWidth:a,height:o,desiredHeight:l,minX:c=0,minY:u=0,refX:d,refY:h,clip:f=!1,clipX:p=0,clipY:g=0}=e,m=kA(i).replace(/^defer\s/,""),[v,y]=m.split(" "),b=v||"xMidYMid",w=y||"meet",_=s/a,B=o/l,R=Math.min(_,B),j=Math.max(_,B),k=a,L=l;w==="meet"&&(k*=R,L*=R),w==="slice"&&(k*=j,L*=j);var H=new sr(t,"refX",d),I=new sr(t,"refY",h),T=H.hasValue()&&I.hasValue();if(T&&n.translate(-R*H.getPixels("x"),-R*I.getPixels("y")),f){var P=R*p,N=R*g;n.beginPath(),n.moveTo(P,N),n.lineTo(s,N),n.lineTo(s,o),n.lineTo(P,o),n.closePath(),n.clip()}if(!T){var S=w==="meet"&&R===B,C=w==="slice"&&j===B,E=w==="meet"&&R===_,x=w==="slice"&&j===_;b.startsWith("xMid")&&(S||C)&&n.translate(s/2-k/2,0),b.endsWith("YMid")&&(E||x)&&n.translate(0,o/2-L/2),b.startsWith("xMax")&&(S||C)&&n.translate(s-k,0),b.endsWith("YMax")&&(E||x)&&n.translate(0,o-L)}switch(!0){case b==="none":n.scale(_,B);break;case w==="meet":n.scale(R,R);break;case w==="slice":n.scale(j,j);break}n.translate(-c,-u)}start(e){var{enableRedraw:t=!1,ignoreMouse:n=!1,ignoreAnimation:i=!1,ignoreDimensions:s=!1,ignoreClear:a=!1,forceRedraw:o,scaleWidth:l,scaleHeight:c,offsetX:u,offsetY:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:h,mouse:f}=this,p=1e3/h;if(this.frameDuration=p,this.readyPromise=new Promise(b=>{this.resolveReady=b}),this.isReady()&&this.render(e,s,a,l,c,u,d),!!t){var g=Date.now(),m=g,v=0,y=()=>{g=Date.now(),v=g-m,v>=p&&(m=g-v%p,this.shouldUpdate(i,o)&&(this.render(e,s,a,l,c,u,d),f.runEvents())),this.intervalId=f_(y)};n||f.start(),this.intervalId=f_(y)}}stop(){this.intervalId&&(f_.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,t){if(!e){var{frameDuration:n}=this,i=this.animations.reduce((s,a)=>a.update(n)||s,!1);if(i)return!0}return!!(typeof t=="function"&&t()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,t,n,i,s,a,o){var{CLIENT_WIDTH:l,CLIENT_HEIGHT:c,viewPort:u,ctx:d,isFirstRender:h}=this,f=d.canvas;u.clear(),f.width&&f.height?u.setCurrent(f.width,f.height):u.setCurrent(l,c);var p=e.getStyle("width"),g=e.getStyle("height");!t&&(h||typeof i!="number"&&typeof s!="number")&&(p.hasValue()&&(f.width=p.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),g.hasValue()&&(f.height=g.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));var m=f.clientWidth||f.width,v=f.clientHeight||f.height;if(t&&p.hasValue()&&g.hasValue()&&(m=p.getPixels("x"),v=g.getPixels("y")),u.setCurrent(m,v),typeof a=="number"&&e.getAttribute("x",!0).setValue(a),typeof o=="number"&&e.getAttribute("y",!0).setValue(o),typeof i=="number"||typeof s=="number"){var y=qa(e.getAttribute("viewBox").getString()),b=0,w=0;if(typeof i=="number"){var _=e.getStyle("width");_.hasValue()?b=_.getPixels("x")/i:isNaN(y[2])||(b=y[2]/i)}if(typeof s=="number"){var B=e.getStyle("height");B.hasValue()?w=B.getPixels("y")/s:isNaN(y[3])||(w=y[3]/s)}b||(b=w),w||(w=b),e.getAttribute("width",!0).setValue(i),e.getAttribute("height",!0).setValue(s);var R=e.getStyle("transform",!0,!0);R.setValue("".concat(R.getString()," scale(").concat(1/b,", ").concat(1/w,")"))}n||d.clearRect(0,0,m,v),e.render(d),h&&(this.isFirstRender=!1)}}l1.defaultWindow=Hre;l1.defaultFetch=Qre;var{defaultFetch:oWe}=l1,lWe=typeof DOMParser<"u"?DOMParser:null;class yw{constructor(){var{fetch:e=oWe,DOMParser:t=lWe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=t}parse(e){var t=this;return sd(function*(){return e.startsWith("<")?t.parseFromString(e):t.load(e)})()}parseFromString(e){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(t.parseFromString(e,"text/xml"))}}checkDocument(e){var t=e.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return e}load(e){var t=this;return sd(function*(){var n=yield t.fetch(e),i=yield n.text();return t.parseFromString(i)})()}}class $re{constructor(e,t){this.type="translate",this.point=null,this.point=ui.parse(t)}apply(e){var{x:t,y:n}=this.point;e.translate(t||0,n||0)}unapply(e){var{x:t,y:n}=this.point;e.translate(-1*t||0,-1*n||0)}applyToPoint(e){var{x:t,y:n}=this.point;e.applyTransform([1,0,0,1,t||0,n||0])}}class zre{constructor(e,t,n){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=qa(t);this.angle=new sr(e,"angle",i[0]),this.originX=n[0],this.originY=n[1],this.cx=i[1]||0,this.cy=i[2]||0}apply(e){var{cx:t,cy:n,originX:i,originY:s,angle:a}=this,o=t+i.getPixels("x"),l=n+s.getPixels("y");e.translate(o,l),e.rotate(a.getRadians()),e.translate(-o,-l)}unapply(e){var{cx:t,cy:n,originX:i,originY:s,angle:a}=this,o=t+i.getPixels("x"),l=n+s.getPixels("y");e.translate(o,l),e.rotate(-1*a.getRadians()),e.translate(-o,-l)}applyToPoint(e){var{cx:t,cy:n,angle:i}=this,s=i.getRadians();e.applyTransform([1,0,0,1,t||0,n||0]),e.applyTransform([Math.cos(s),Math.sin(s),-Math.sin(s),Math.cos(s),0,0]),e.applyTransform([1,0,0,1,-t||0,-n||0])}}class Vre{constructor(e,t,n){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=ui.parseScale(t);(i.x===0||i.y===0)&&(i.x=Kf,i.y=Kf),this.scale=i,this.originX=n[0],this.originY=n[1]}apply(e){var{scale:{x:t,y:n},originX:i,originY:s}=this,a=i.getPixels("x"),o=s.getPixels("y");e.translate(a,o),e.scale(t,n||t),e.translate(-a,-o)}unapply(e){var{scale:{x:t,y:n},originX:i,originY:s}=this,a=i.getPixels("x"),o=s.getPixels("y");e.translate(a,o),e.scale(1/t,1/n||t),e.translate(-a,-o)}applyToPoint(e){var{x:t,y:n}=this.scale;e.applyTransform([t||0,0,0,n||0,0,0])}}class LF{constructor(e,t,n){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=qa(t),this.originX=n[0],this.originY=n[1]}apply(e){var{originX:t,originY:n,matrix:i}=this,s=t.getPixels("x"),a=n.getPixels("y");e.translate(s,a),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.translate(-s,-a)}unapply(e){var{originX:t,originY:n,matrix:i}=this,s=i[0],a=i[2],o=i[4],l=i[1],c=i[3],u=i[5],d=0,h=0,f=1,p=1/(s*(c*f-u*h)-a*(l*f-u*d)+o*(l*h-c*d)),g=t.getPixels("x"),m=n.getPixels("y");e.translate(g,m),e.transform(p*(c*f-u*h),p*(u*d-l*f),p*(o*h-a*f),p*(s*f-o*d),p*(a*u-o*c),p*(o*l-s*u)),e.translate(-g,-m)}applyToPoint(e){e.applyTransform(this.matrix)}}class DF extends LF{constructor(e,t,n){super(e,t,n),this.type="skew",this.angle=null,this.angle=new sr(e,"angle",t)}}class Gre extends DF{constructor(e,t,n){super(e,t,n),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class Kre extends DF{constructor(e,t,n){super(e,t,n),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function cWe(r){return kA(r).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function uWe(r){var[e,t]=r.split("(");return[e.trim(),t.trim().replace(")","")]}class Rh{constructor(e,t,n){this.document=e,this.transforms=[];var i=cWe(t);i.forEach(s=>{if(s!=="none"){var[a,o]=uWe(s),l=Rh.transformTypes[a];typeof l<"u"&&this.transforms.push(new l(this.document,o,n))}})}static fromElement(e,t){var n=t.getStyle("transform",!1,!0),[i,s=i]=t.getStyle("transform-origin",!1,!0).split(),a=[i,s];return n.hasValue()?new Rh(e,n.getString(),a):null}apply(e){for(var{transforms:t}=this,n=t.length,i=0;i<n;i++)t[i].apply(e)}unapply(e){for(var{transforms:t}=this,n=t.length,i=n-1;i>=0;i--)t[i].unapply(e)}applyToPoint(e){for(var{transforms:t}=this,n=t.length,i=0;i<n;i++)t[i].applyToPoint(e)}}Rh.transformTypes={translate:$re,rotate:zre,scale:Vre,matrix:LF,skewX:Gre,skewY:Kre};class jn{constructor(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=t,this.captureTextNodes=n,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!t||t.nodeType!==1)){if(Array.from(t.attributes).forEach(o=>{var l=Pre(o.nodeName);this.attributes[l]=new sr(e,l,o.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var i=this.getAttribute("style").getString().split(";").map(o=>o.trim());i.forEach(o=>{if(o){var[l,c]=o.split(":").map(u=>u.trim());this.styles[l]=new sr(e,l,c)}})}var{definitions:s}=e,a=this.getAttribute("id");a.hasValue()&&(s[a.getString()]||(s[a.getString()]=this)),Array.from(t.childNodes).forEach(o=>{if(o.nodeType===1)this.addChild(o);else if(n&&(o.nodeType===3||o.nodeType===4)){var l=e.createTextNode(o);l.getText().length>0&&this.addChild(l)}})}}getAttribute(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.attributes[e];if(!n&&t){var i=new sr(this.document,e,"");return this.attributes[e]=i,i}return n||sr.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return sr.empty(this.document)}getStyle(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.styles[e];if(i)return i;var s=this.getAttribute(e);if(s!=null&&s.hasValue())return this.styles[e]=s,s;if(!n){var{parent:a}=this;if(a){var o=a.getStyle(e);if(o!=null&&o.hasValue())return o}}if(t){var l=new sr(this.document,e,"");return this.styles[e]=l,l}return i||sr.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var t=Rh.fromElement(this.document,this);t&&t.apply(e);var n=this.getStyle("clip-path",!1,!0);if(n.hasValue()){var i=n.getDefinition();i&&i.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(t=>{t.render(e)})}addChild(e){var t=e instanceof jn?e:this.document.createElement(e);t.parent=this,jn.ignoreChildTypes.includes(t.type)||this.children.push(t)}matchesSelector(e){var t,{node:n}=this;if(typeof n.matches=="function")return n.matches(e);var i=(t=n.getAttribute)===null||t===void 0?void 0:t.call(n,"class");return!i||i===""?!1:i.split(" ").some(s=>".".concat(s)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:t}=this.document;for(var n in e)if(!n.startsWith("@")&&this.matchesSelector(n)){var i=e[n],s=t[n];if(i)for(var a in i){var o=this.stylesSpecificity[a];typeof o>"u"&&(o="000"),s>=o&&(this.styles[a]=i[a],this.stylesSpecificity[a]=s)}}}removeStyles(e,t){var n=t.reduce((i,s)=>{var a=e.getStyle(s);if(!a.hasValue())return i;var o=a.getString();return a.setValue(""),[...i,[s,o]]},[]);return n}restoreStyles(e,t){t.forEach(n=>{var[i,s]=n;e.getStyle(i,!0).setValue(s)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}}jn.ignoreChildTypes=["title"];class Wre extends jn{constructor(e,t,n){super(e,t,n)}}function dWe(r){var e=r.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function hWe(r){return typeof process>"u"?r:r.trim().split(",").map(dWe).join(",")}function fWe(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function AWe(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class sa{constructor(e,t,n,i,s,a){var o=a?typeof a=="string"?sa.parse(a):a:{};this.fontFamily=s||o.fontFamily,this.fontSize=i||o.fontSize,this.fontStyle=e||o.fontStyle,this.fontWeight=n||o.fontWeight,this.fontVariant=t||o.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n="",i="",s="",a="",o="",l=kA(e).trim().split(" "),c={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return l.forEach(u=>{switch(!0){case(!c.fontStyle&&sa.styles.includes(u)):u!=="inherit"&&(n=u),c.fontStyle=!0;break;case(!c.fontVariant&&sa.variants.includes(u)):u!=="inherit"&&(i=u),c.fontStyle=!0,c.fontVariant=!0;break;case(!c.fontWeight&&sa.weights.includes(u)):u!=="inherit"&&(s=u),c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0;break;case!c.fontSize:u!=="inherit"&&([a]=u.split("/")),c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0,c.fontSize=!0;break;default:u!=="inherit"&&(o+=u)}}),new sa(n,i,s,a,o,t)}toString(){return[fWe(this.fontStyle),this.fontVariant,AWe(this.fontWeight),this.fontSize,hWe(this.fontFamily)].join(" ").trim()}}sa.styles="normal|italic|oblique|inherit";sa.variants="normal|small-caps|inherit";sa.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class gl{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=t,this.x2=n,this.y2=i,this.addPoint(e,t),this.addPoint(n,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,t){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:t,y1:n,x2:i,y2:s}=e;this.addPoint(t,n),this.addPoint(i,s)}}sumCubic(e,t,n,i,s){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*i+Math.pow(e,3)*s}bezierCurveAdd(e,t,n,i,s){var a=6*t-12*n+6*i,o=-3*t+9*n-9*i+3*s,l=3*n-3*t;if(o===0){if(a===0)return;var c=-l/a;0<c&&c<1&&(e?this.addX(this.sumCubic(c,t,n,i,s)):this.addY(this.sumCubic(c,t,n,i,s)));return}var u=Math.pow(a,2)-4*l*o;if(!(u<0)){var d=(-a+Math.sqrt(u))/(2*o);0<d&&d<1&&(e?this.addX(this.sumCubic(d,t,n,i,s)):this.addY(this.sumCubic(d,t,n,i,s)));var h=(-a-Math.sqrt(u))/(2*o);0<h&&h<1&&(e?this.addX(this.sumCubic(h,t,n,i,s)):this.addY(this.sumCubic(h,t,n,i,s)))}}addBezierCurve(e,t,n,i,s,a,o,l){this.addPoint(e,t),this.addPoint(o,l),this.bezierCurveAdd(!0,e,n,s,o),this.bezierCurveAdd(!1,t,i,a,l)}addQuadraticCurve(e,t,n,i,s,a){var o=e+.6666666666666666*(n-e),l=t+2/3*(i-t),c=o+1/3*(s-e),u=l+1/3*(a-t);this.addBezierCurve(e,t,o,c,l,u,s,a)}isPointInBox(e,t){var{x1:n,y1:i,x2:s,y2:a}=this;return n<=e&&e<=s&&i<=t&&t<=a}}class Er extends ft{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new ui(0,0),this.control=new ui(0,0),this.current=new ui(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:t}=this;return e>=t.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",n=new ui(this.command[e],this.command[t]);return this.makeAbsolute(n)}getAsControlPoint(e,t){var n=this.getPoint(e,t);return this.control=n,n}getAsCurrentPoint(e,t){var n=this.getPoint(e,t);return this.current=n,n}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==ft.CURVE_TO&&e!==ft.SMOOTH_CURVE_TO&&e!==ft.QUAD_TO&&e!==ft.SMOOTH_QUAD_TO)return this.current;var{current:{x:t,y:n},control:{x:i,y:s}}=this,a=new ui(2*t-i,2*n-s);return a}makeAbsolute(e){if(this.command.relative){var{x:t,y:n}=this.current;e.x+=t,e.y+=n}return e}addMarker(e,t,n){var{points:i,angles:s}=this;n&&s.length>0&&!s[s.length-1]&&(s[s.length-1]=i[i.length-1].angleTo(n)),this.addMarkerAngle(e,t?t.angleTo(e):null)}addMarkerAngle(e,t){this.points.push(e),this.angles.push(t)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,t=e.length,n=0;n<t;n++)if(!e[n]){for(var i=n+1;i<t;i++)if(e[i]){e[n]=e[i];break}}return e}}class Wh extends jn{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,t=this;t;){var n=t.getStyle("opacity",!1,!0);n.hasValue(!0)&&(e*=n.getNumber()),t=t.parent}return e}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!t){var n=this.getStyle("fill"),i=this.getStyle("fill-opacity"),s=this.getStyle("stroke"),a=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var o=n.getFillStyleDefinition(this,i);o&&(e.fillStyle=o)}else if(n.hasValue()){n.getString()==="currentColor"&&n.setValue(this.getStyle("color").getColor());var l=n.getColor();l!=="inherit"&&(e.fillStyle=l==="none"?"rgba(0,0,0,0)":l)}if(i.hasValue()){var c=new sr(this.document,"fill",e.fillStyle).addOpacity(i).getColor();e.fillStyle=c}if(s.isUrlDefinition()){var u=s.getFillStyleDefinition(this,a);u&&(e.strokeStyle=u)}else if(s.hasValue()){s.getString()==="currentColor"&&s.setValue(this.getStyle("color").getColor());var d=s.getString();d!=="inherit"&&(e.strokeStyle=d==="none"?"rgba(0,0,0,0)":d)}if(a.hasValue()){var h=new sr(this.document,"stroke",e.strokeStyle).addOpacity(a).getString();e.strokeStyle=h}var f=this.getStyle("stroke-width");if(f.hasValue()){var p=f.getPixels();e.lineWidth=p||Kf}var g=this.getStyle("stroke-linecap"),m=this.getStyle("stroke-linejoin"),v=this.getStyle("stroke-miterlimit"),y=this.getStyle("stroke-dasharray"),b=this.getStyle("stroke-dashoffset");if(g.hasValue()&&(e.lineCap=g.getString()),m.hasValue()&&(e.lineJoin=m.getString()),v.hasValue()&&(e.miterLimit=v.getNumber()),y.hasValue()&&y.getString()!=="none"){var w=qa(y.getString());typeof e.setLineDash<"u"?e.setLineDash(w):typeof e.webkitLineDash<"u"?e.webkitLineDash=w:typeof e.mozDash<"u"&&!(w.length===1&&w[0]===0)&&(e.mozDash=w);var _=b.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=_:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=_:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=_)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var B=this.getStyle("font"),R=this.getStyle("font-style"),j=this.getStyle("font-variant"),k=this.getStyle("font-weight"),L=this.getStyle("font-size"),H=this.getStyle("font-family"),I=new sa(R.getString(),j.getString(),k.getString(),L.hasValue()?"".concat(L.getPixels(!0),"px"):"",H.getString(),sa.parse(B.getString(),e.font));R.setValue(I.fontStyle),j.setValue(I.fontVariant),k.setValue(I.fontWeight),L.setValue(I.fontSize),H.setValue(I.fontFamily),e.font=I.toString(),L.isPixels()&&(this.document.emSize=L.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class an extends Wh{constructor(e,t,n){super(e,t,n),this.type="path",this.pathParser=null,this.pathParser=new Er(this.getAttribute("d").getString())}path(e){var{pathParser:t}=this,n=new gl;for(t.reset(),e&&e.beginPath();!t.isEnd();)switch(t.next().type){case Er.MOVE_TO:this.pathM(e,n);break;case Er.LINE_TO:this.pathL(e,n);break;case Er.HORIZ_LINE_TO:this.pathH(e,n);break;case Er.VERT_LINE_TO:this.pathV(e,n);break;case Er.CURVE_TO:this.pathC(e,n);break;case Er.SMOOTH_CURVE_TO:this.pathS(e,n);break;case Er.QUAD_TO:this.pathQ(e,n);break;case Er.SMOOTH_QUAD_TO:this.pathT(e,n);break;case Er.ARC:this.pathA(e,n);break;case Er.CLOSE_PATH:this.pathZ(e,n);break}return n}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,t=e.getMarkerPoints(),n=e.getMarkerAngles(),i=t.map((s,a)=>[s,n[a]]);return i}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var t=this.getStyle("fill-rule");e.fillStyle!==""&&(t.getString("inherit")!=="inherit"?e.fill(t.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var n=this.getMarkers();if(n){var i=n.length-1,s=this.getStyle("marker-start"),a=this.getStyle("marker-mid"),o=this.getStyle("marker-end");if(s.isUrlDefinition()){var l=s.getDefinition(),[c,u]=n[0];l.render(e,c,u)}if(a.isUrlDefinition())for(var d=a.getDefinition(),h=1;h<i;h++){var[f,p]=n[h];d.render(e,f,p)}if(o.isUrlDefinition()){var g=o.getDefinition(),[m,v]=n[i];g.render(e,m,v)}}}static pathM(e){var t=e.getAsCurrentPoint();return e.start=e.current,{point:t}}pathM(e,t){var{pathParser:n}=this,{point:i}=an.pathM(n),{x:s,y:a}=i;n.addMarker(i),t.addPoint(s,a),e&&e.moveTo(s,a)}static pathL(e){var{current:t}=e,n=e.getAsCurrentPoint();return{current:t,point:n}}pathL(e,t){var{pathParser:n}=this,{current:i,point:s}=an.pathL(n),{x:a,y:o}=s;n.addMarker(s,i),t.addPoint(a,o),e&&e.lineTo(a,o)}static pathH(e){var{current:t,command:n}=e,i=new ui((n.relative?t.x:0)+n.x,t.y);return e.current=i,{current:t,point:i}}pathH(e,t){var{pathParser:n}=this,{current:i,point:s}=an.pathH(n),{x:a,y:o}=s;n.addMarker(s,i),t.addPoint(a,o),e&&e.lineTo(a,o)}static pathV(e){var{current:t,command:n}=e,i=new ui(t.x,(n.relative?t.y:0)+n.y);return e.current=i,{current:t,point:i}}pathV(e,t){var{pathParser:n}=this,{current:i,point:s}=an.pathV(n),{x:a,y:o}=s;n.addMarker(s,i),t.addPoint(a,o),e&&e.lineTo(a,o)}static pathC(e){var{current:t}=e,n=e.getPoint("x1","y1"),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:i,currentPoint:s}}pathC(e,t){var{pathParser:n}=this,{current:i,point:s,controlPoint:a,currentPoint:o}=an.pathC(n);n.addMarker(o,a,s),t.addBezierCurve(i.x,i.y,s.x,s.y,a.x,a.y,o.x,o.y),e&&e.bezierCurveTo(s.x,s.y,a.x,a.y,o.x,o.y)}static pathS(e){var{current:t}=e,n=e.getReflectedControlPoint(),i=e.getAsControlPoint("x2","y2"),s=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:i,currentPoint:s}}pathS(e,t){var{pathParser:n}=this,{current:i,point:s,controlPoint:a,currentPoint:o}=an.pathS(n);n.addMarker(o,a,s),t.addBezierCurve(i.x,i.y,s.x,s.y,a.x,a.y,o.x,o.y),e&&e.bezierCurveTo(s.x,s.y,a.x,a.y,o.x,o.y)}static pathQ(e){var{current:t}=e,n=e.getAsControlPoint("x1","y1"),i=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:i}}pathQ(e,t){var{pathParser:n}=this,{current:i,controlPoint:s,currentPoint:a}=an.pathQ(n);n.addMarker(a,s,s),t.addQuadraticCurve(i.x,i.y,s.x,s.y,a.x,a.y),e&&e.quadraticCurveTo(s.x,s.y,a.x,a.y)}static pathT(e){var{current:t}=e,n=e.getReflectedControlPoint();e.control=n;var i=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:i}}pathT(e,t){var{pathParser:n}=this,{current:i,controlPoint:s,currentPoint:a}=an.pathT(n);n.addMarker(a,s,s),t.addQuadraticCurve(i.x,i.y,s.x,s.y,a.x,a.y),e&&e.quadraticCurveTo(s.x,s.y,a.x,a.y)}static pathA(e){var{current:t,command:n}=e,{rX:i,rY:s,xRot:a,lArcFlag:o,sweepFlag:l}=n,c=a*(Math.PI/180),u=e.getAsCurrentPoint(),d=new ui(Math.cos(c)*(t.x-u.x)/2+Math.sin(c)*(t.y-u.y)/2,-Math.sin(c)*(t.x-u.x)/2+Math.cos(c)*(t.y-u.y)/2),h=Math.pow(d.x,2)/Math.pow(i,2)+Math.pow(d.y,2)/Math.pow(s,2);h>1&&(i*=Math.sqrt(h),s*=Math.sqrt(h));var f=(o===l?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(s,2)-Math.pow(i,2)*Math.pow(d.y,2)-Math.pow(s,2)*Math.pow(d.x,2))/(Math.pow(i,2)*Math.pow(d.y,2)+Math.pow(s,2)*Math.pow(d.x,2)));isNaN(f)&&(f=0);var p=new ui(f*i*d.y/s,f*-s*d.x/i),g=new ui((t.x+u.x)/2+Math.cos(c)*p.x-Math.sin(c)*p.y,(t.y+u.y)/2+Math.sin(c)*p.x+Math.cos(c)*p.y),m=q6([1,0],[(d.x-p.x)/i,(d.y-p.y)/s]),v=[(d.x-p.x)/i,(d.y-p.y)/s],y=[(-d.x-p.x)/i,(-d.y-p.y)/s],b=q6(v,y);return v5(v,y)<=-1&&(b=Math.PI),v5(v,y)>=1&&(b=0),{currentPoint:u,rX:i,rY:s,sweepFlag:l,xAxisRotation:c,centp:g,a1:m,ad:b}}pathA(e,t){var{pathParser:n}=this,{currentPoint:i,rX:s,rY:a,sweepFlag:o,xAxisRotation:l,centp:c,a1:u,ad:d}=an.pathA(n),h=1-o?1:-1,f=u+h*(d/2),p=new ui(c.x+s*Math.cos(f),c.y+a*Math.sin(f));if(n.addMarkerAngle(p,f-h*Math.PI/2),n.addMarkerAngle(i,f-h*Math.PI),t.addPoint(i.x,i.y),e&&!isNaN(u)&&!isNaN(d)){var g=s>a?s:a,m=s>a?1:s/a,v=s>a?a/s:1;e.translate(c.x,c.y),e.rotate(l),e.scale(m,v),e.arc(0,0,g,u,u+d,!!(1-o)),e.scale(1/m,1/v),e.rotate(-l),e.translate(-c.x,-c.y)}}static pathZ(e){e.current=e.start}pathZ(e,t){an.pathZ(this.pathParser),e&&t.x1!==t.x2&&t.y1!==t.y2&&e.closePath()}}class UF extends an{constructor(e,t,n){super(e,t,n),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class ad extends Wh{constructor(e,t,n){super(e,t,new.target===ad?!0:n),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,t);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(e.textBaseline=n)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var t=null;return this.children.forEach((n,i)=>{var s=this.getChildBoundingBox(e,this,this,i);t?t.addBoundingBox(s):t=s}),t}getFontSize(){var{document:e,parent:t}=this,n=sa.parse(e.ctx.font).fontSize,i=t.getStyle("font-size").getNumber(n);return i}getTElementBoundingBox(e){var t=this.getFontSize();return new gl(this.x,this.y-t,this.x+this.measureText(e),this.y)}getGlyph(e,t,n){var i=t[n],s=null;if(e.isArabic){var a=t.length,o=t[n-1],l=t[n+1],c="isolated";if((n===0||o===" ")&&n<a-1&&l!==" "&&(c="terminal"),n>0&&o!==" "&&n<a-1&&l!==" "&&(c="medial"),n>0&&o!==" "&&(n===a-1||l===" ")&&(c="initial"),typeof e.glyphs[i]<"u"){var u=e.glyphs[i];s=u instanceof UF?u:u[c]}}else s=e.glyphs[i];return s||(s=e.missingGlyph),s}getText(){return""}getTextFromNode(e){var t=e||this.node,n=Array.from(t.parentNode.childNodes),i=n.indexOf(t),s=n.length-1,a=kA(t.textContent||"");return i===0&&(a=Mre(a)),i===s&&(a=Ore(a)),a}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((n,i)=>{this.renderChild(e,this,this,i)});var{mouse:t}=this.document.screen;t.isWorking()&&t.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:t,parent:n}=this,i=this.getText(),s=n.getStyle("font-family").getDefinition();if(s){for(var{unitsPerEm:a}=s.fontFace,o=sa.parse(t.ctx.font),l=n.getStyle("font-size").getNumber(o.fontSize),c=n.getStyle("font-style").getString(o.fontStyle),u=l/a,d=s.isRTL?i.split("").reverse().join(""):i,h=qa(n.getAttribute("dx").getString()),f=d.length,p=0;p<f;p++){var g=this.getGlyph(s,d,p);e.translate(this.x,this.y),e.scale(u,-u);var m=e.lineWidth;e.lineWidth=e.lineWidth*a/l,c==="italic"&&e.transform(1,0,.4,1,0,0),g.render(e),c==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=m,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=l*(g.horizAdvX||s.horizAdvX)/a,typeof h[p]<"u"&&!isNaN(h[p])&&(this.x+=h[p])}return}var{x:v,y}=this;e.fillStyle&&e.fillText(i,v,y),e.strokeStyle&&e.strokeText(i,v,y)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],t=e.getStyle("text-anchor").getString("start"),n=!1,i=0;t==="start"&&!n||t==="end"&&n?i=e.x-this.minX:t==="end"&&!n||t==="start"&&n?i=e.x-this.maxX:i=e.x-(this.minX+this.maxX)/2;for(var s=this.textChunkStart;s<this.leafTexts.length;s++)this.leafTexts[s].x+=i;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((t,n)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,n)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,t,n,i){var s=n.children[i];s.children.length>0?s.children.forEach((a,o)=>{t.adjustChildCoordinatesRecursiveCore(e,t,s,o)}):this.adjustChildCoordinates(e,t,n,i)}adjustChildCoordinates(e,t,n,i){var s=n.children[i];if(typeof s.measureText!="function")return s;e.save(),s.setContext(e,!0);var a=s.getAttribute("x"),o=s.getAttribute("y"),l=s.getAttribute("dx"),c=s.getAttribute("dy"),u=s.getStyle("font-family").getDefinition(),d=!!u&&u.isRTL;i===0&&(a.hasValue()||a.setValue(s.getInheritedAttribute("x")),o.hasValue()||o.setValue(s.getInheritedAttribute("y")),l.hasValue()||l.setValue(s.getInheritedAttribute("dx")),c.hasValue()||c.setValue(s.getInheritedAttribute("dy")));var h=s.measureText(e);return d&&(t.x-=h),a.hasValue()?(t.applyAnchoring(),s.x=a.getPixels("x"),l.hasValue()&&(s.x+=l.getPixels("x"))):(l.hasValue()&&(t.x+=l.getPixels("x")),s.x=t.x),t.x=s.x,d||(t.x+=h),o.hasValue()?(s.y=o.getPixels("y"),c.hasValue()&&(s.y+=c.getPixels("y"))):(c.hasValue()&&(t.y+=c.getPixels("y")),s.y=t.y),t.y=s.y,t.leafTexts.push(s),t.minX=Math.min(t.minX,s.x,s.x+h),t.maxX=Math.max(t.maxX,s.x,s.x+h),s.clearContext(e),e.restore(),s}getChildBoundingBox(e,t,n,i){var s=n.children[i];if(typeof s.getBoundingBox!="function")return null;var a=s.getBoundingBox(e);return a?(s.children.forEach((o,l)=>{var c=t.getChildBoundingBox(e,t,s,l);a.addBoundingBox(c)}),a):null}renderChild(e,t,n,i){var s=n.children[i];s.render(e),s.children.forEach((a,o)=>{t.renderChild(e,t,s,o)})}measureText(e){var{measureCache:t}=this;if(~t)return t;var n=this.getText(),i=this.measureTargetText(e,n);return this.measureCache=i,i}measureTargetText(e,t){if(!t.length)return 0;var{parent:n}=this,i=n.getStyle("font-family").getDefinition();if(i){for(var s=this.getFontSize(),a=i.isRTL?t.split("").reverse().join(""):t,o=qa(n.getAttribute("dx").getString()),l=a.length,c=0,u=0;u<l;u++){var d=this.getGlyph(i,a,u);c+=(d.horizAdvX||i.horizAdvX)*s/i.fontFace.unitsPerEm,typeof o[u]<"u"&&!isNaN(o[u])&&(c+=o[u])}return c}if(!e.measureText)return t.length*10;e.save(),this.setContext(e,!0);var{width:h}=e.measureText(t);return this.clearContext(e),e.restore(),h}getInheritedAttribute(e){for(var t=this;t instanceof ad&&t.isFirstChild();){var n=t.parent.getAttribute(e);if(n.hasValue(!0))return n.getValue("0");t=t.parent}return null}}class c1 extends ad{constructor(e,t,n){super(e,t,new.target===c1?!0:n),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class pWe extends c1{constructor(){super(...arguments),this.type="textNode"}}class t0 extends Wh{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var t,{document:n}=this,{screen:i,window:s}=n,a=e.canvas;if(i.setDefaults(e),a.style&&typeof e.font<"u"&&s&&typeof s.getComputedStyle<"u"){e.font=s.getComputedStyle(a).getPropertyValue("font");var o=new sr(n,"fontSize",sa.parse(e.font).fontSize);o.hasValue()&&(n.rootEmSize=o.getPixels("y"),n.emSize=n.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:l,height:c}=i.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var u=this.getAttribute("refX"),d=this.getAttribute("refY"),h=this.getAttribute("viewBox"),f=h.hasValue()?qa(h.getString()):null,p=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",g=0,m=0,v=0,y=0;f&&(g=f[0],m=f[1]),this.root||(l=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y"),this.type==="marker"&&(v=g,y=m,g=0,m=0)),i.viewPort.setCurrent(l,c),this.node&&(!this.parent||((t=this.node.parentNode)===null||t===void 0?void 0:t.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),f&&(l=f[2],c=f[3]),n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:l,height:i.viewPort.height,desiredHeight:c,minX:g,minY:m,refX:u.getValue(),refY:d.getValue(),clip:p,clipX:v,clipY:y}),f&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(l,c))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=this.getAttribute("width",!0),s=this.getAttribute("height",!0),a=this.getAttribute("viewBox"),o=this.getAttribute("style"),l=i.getNumber(0),c=s.getNumber(0);if(n)if(typeof n=="string")this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var u=this.getAttribute("preserveAspectRatio");u.hasValue()&&u.setValue(u.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(i.setValue(e),s.setValue(t),a.hasValue()||a.setValue("0 0 ".concat(l||e," ").concat(c||t)),o.hasValue()){var d=this.getStyle("width"),h=this.getStyle("height");d.hasValue()&&d.setValue("".concat(e,"px")),h.hasValue()&&h.setValue("".concat(t,"px"))}}}class HF extends an{constructor(){super(...arguments),this.type="rect"}path(e){var t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),i=this.getStyle("width",!1,!0).getPixels("x"),s=this.getStyle("height",!1,!0).getPixels("y"),a=this.getAttribute("rx"),o=this.getAttribute("ry"),l=a.getPixels("x"),c=o.getPixels("y");if(a.hasValue()&&!o.hasValue()&&(c=l),o.hasValue()&&!a.hasValue()&&(l=c),l=Math.min(l,i/2),c=Math.min(c,s/2),e){var u=4*((Math.sqrt(2)-1)/3);e.beginPath(),s>0&&i>0&&(e.moveTo(t+l,n),e.lineTo(t+i-l,n),e.bezierCurveTo(t+i-l+u*l,n,t+i,n+c-u*c,t+i,n+c),e.lineTo(t+i,n+s-c),e.bezierCurveTo(t+i,n+s-c+u*c,t+i-l+u*l,n+s,t+i-l,n+s),e.lineTo(t+l,n+s),e.bezierCurveTo(t+l-u*l,n+s,t,n+s-c+u*c,t,n+s-c),e.lineTo(t,n+c),e.bezierCurveTo(t,n+c-u*c,t+l-u*l,n,t+l,n),e.closePath())}return new gl(t,n,t+i,n+s)}getMarkers(){return null}}class qre extends an{constructor(){super(...arguments),this.type="circle"}path(e){var t=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),i=this.getAttribute("r").getPixels();return e&&i>0&&(e.beginPath(),e.arc(t,n,i,0,Math.PI*2,!1),e.closePath()),new gl(t-i,n-i,t+i,n+i)}getMarkers(){return null}}class Xre extends an{constructor(){super(...arguments),this.type="ellipse"}path(e){var t=4*((Math.sqrt(2)-1)/3),n=this.getAttribute("rx").getPixels("x"),i=this.getAttribute("ry").getPixels("y"),s=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y");return e&&n>0&&i>0&&(e.beginPath(),e.moveTo(s+n,a),e.bezierCurveTo(s+n,a+t*i,s+t*n,a+i,s,a+i),e.bezierCurveTo(s-t*n,a+i,s-n,a+t*i,s-n,a),e.bezierCurveTo(s-n,a-t*i,s-t*n,a-i,s,a-i),e.bezierCurveTo(s+t*n,a-i,s+n,a-t*i,s+n,a),e.closePath()),new gl(s-n,a-i,s+n,a+i)}getMarkers(){return null}}class Yre extends an{constructor(){super(...arguments),this.type="line"}getPoints(){return[new ui(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ui(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:t,y:n},{x:i,y:s}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(t,n),e.lineTo(i,s)),new gl(t,n,i,s)}getMarkers(){var[e,t]=this.getPoints(),n=e.angleTo(t);return[[e,n],[t,n]]}}class QF extends an{constructor(e,t,n){super(e,t,n),this.type="polyline",this.points=[],this.points=ui.parsePath(this.getAttribute("points").getString())}path(e){var{points:t}=this,[{x:n,y:i}]=t,s=new gl(n,i);return e&&(e.beginPath(),e.moveTo(n,i)),t.forEach(a=>{var{x:o,y:l}=a;s.addPoint(o,l),e&&e.lineTo(o,l)}),s}getMarkers(){var{points:e}=this,t=e.length-1,n=[];return e.forEach((i,s)=>{s!==t&&n.push([i,i.angleTo(e[s+1])])}),n.length>0&&n.push([e[e.length-1],n[n.length-1][1]]),n}}class Jre extends QF{constructor(){super(...arguments),this.type="polygon"}path(e){var t=super.path(e),[{x:n,y:i}]=this.points;return e&&(e.lineTo(n,i),e.closePath()),t}}class Zre extends jn{constructor(){super(...arguments),this.type="pattern"}createPattern(e,t,n){var i=this.getStyle("width").getPixels("x",!0),s=this.getStyle("height").getPixels("y",!0),a=new t0(this.document,null);a.attributes.viewBox=new sr(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new sr(this.document,"width","".concat(i,"px")),a.attributes.height=new sr(this.document,"height","".concat(s,"px")),a.attributes.transform=new sr(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children;var o=this.document.createCanvas(i,s),l=o.getContext("2d"),c=this.getAttribute("x"),u=this.getAttribute("y");c.hasValue()&&u.hasValue()&&l.translate(c.getPixels("x",!0),u.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var d=-1;d<=1;d++)for(var h=-1;h<=1;h++)l.save(),a.attributes.x=new sr(this.document,"x",d*o.width),a.attributes.y=new sr(this.document,"y",h*o.height),a.render(l),l.restore();var f=e.createPattern(o,"repeat");return f}}class ene extends jn{constructor(){super(...arguments),this.type="marker"}render(e,t,n){if(t){var{x:i,y:s}=t,a=this.getAttribute("orient").getString("auto"),o=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(i,s),a==="auto"&&e.rotate(n),o==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var l=new t0(this.document,null);l.type=this.type,l.attributes.viewBox=new sr(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.refX=new sr(this.document,"refX",this.getAttribute("refX").getValue()),l.attributes.refY=new sr(this.document,"refY",this.getAttribute("refY").getValue()),l.attributes.width=new sr(this.document,"width",this.getAttribute("markerWidth").getValue()),l.attributes.height=new sr(this.document,"height",this.getAttribute("markerHeight").getValue()),l.attributes.overflow=new sr(this.document,"overflow",this.getAttribute("overflow").getValue()),l.attributes.fill=new sr(this.document,"fill",this.getAttribute("fill").getColor("black")),l.attributes.stroke=new sr(this.document,"stroke",this.getAttribute("stroke").getValue("none")),l.children=this.children,l.render(e),e.restore(),o==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),a==="auto"&&e.rotate(-n),e.translate(-i,-s)}}}class tne extends jn{constructor(){super(...arguments),this.type="defs"}render(){}}class R4 extends Wh{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var t=new gl;return this.children.forEach(n=>{t.addBoundingBox(n.getBoundingBox(e))}),t}}class $F extends jn{constructor(e,t,n){super(e,t,n),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:i,children:s}=this;s.forEach(a=>{a.type==="stop"&&i.push(a)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,t,n){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var{stops:s}=i,a=this.getGradient(e,t);if(!a)return this.addParentOpacity(n,s[s.length-1].color);if(s.forEach(m=>{a.addColorStop(m.offset,this.addParentOpacity(n,m.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:o}=this,{MAX_VIRTUAL_PIXELS:l,viewPort:c}=o.screen,[u]=c.viewPorts,d=new HF(o,null);d.attributes.x=new sr(o,"x",-l/3),d.attributes.y=new sr(o,"y",-l/3),d.attributes.width=new sr(o,"width",l),d.attributes.height=new sr(o,"height",l);var h=new R4(o,null);h.attributes.transform=new sr(o,"transform",this.getAttribute("gradientTransform").getValue()),h.children=[d];var f=new t0(o,null);f.attributes.x=new sr(o,"x",0),f.attributes.y=new sr(o,"y",0),f.attributes.width=new sr(o,"width",u.width),f.attributes.height=new sr(o,"height",u.height),f.children=[h];var p=o.createCanvas(u.width,u.height),g=p.getContext("2d");return g.fillStyle=a,f.render(g),g.createPattern(p,"no-repeat")}return a}inheritStopContainer(e){this.attributesToInherit.forEach(t=>{!this.getAttribute(t).hasValue()&&e.getAttribute(t).hasValue()&&this.getAttribute(t,!0).setValue(e.getAttribute(t).getValue())})}addParentOpacity(e,t){if(e.hasValue()){var n=new sr(this.document,"color",t);return n.addOpacity(e).getColor()}return t}}class rne extends $F{constructor(e,t,n){super(e,t,n),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,t){var n=this.getGradientUnits()==="objectBoundingBox",i=n?t.getBoundingBox(e):null;if(n&&!i)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var s=n?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),a=n?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),o=n?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),l=n?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return s===o&&a===l?null:e.createLinearGradient(s,a,o,l)}}class nne extends $F{constructor(e,t,n){super(e,t,n),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,t){var n=this.getGradientUnits()==="objectBoundingBox",i=t.getBoundingBox(e);if(n&&!i)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var s=n?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),a=n?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),o=s,l=a;this.getAttribute("fx").hasValue()&&(o=n?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(l=n?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var c=n?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),u=this.getAttribute("fr").getPixels();return e.createRadialGradient(o,l,u,s,a,c)}}class ine extends jn{constructor(e,t,n){super(e,t,n),this.type="stop";var i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),s=this.getStyle("stop-opacity"),a=this.getStyle("stop-color",!0);a.getString()===""&&a.setValue("#000"),s.hasValue()&&(a=a.addOpacity(s)),this.offset=i,this.color=a.getColor()}}class L4 extends jn{constructor(e,t,n){super(e,t,n),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new sr(e,"values",null);var i=this.getAttribute("values");i.hasValue()&&this.values.setValue(i.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}calcValue(){var{initialUnits:e}=this,{progress:t,from:n,to:i}=this.getProgress(),s=n.getNumber()+(i.getNumber()-n.getNumber())*t;return e==="%"&&(s*=100),"".concat(s).concat(e)}update(e){var{parent:t}=this,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var i=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(i==="freeze"&&!this.frozen)this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=n.getString();else if(i==="remove"&&!this.removed)return this.removed=!0,n.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var s=!1;if(this.begin<this.duration){var a=this.calcValue(),o=this.getAttribute("type");if(o.hasValue()){var l=o.getString();a="".concat(l,"(").concat(a,")")}n.setValue(a),s=!0}return s}getProgress(){var{document:e,values:t}=this,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var i=n.progress*(t.getValue().length-1),s=Math.floor(i),a=Math.ceil(i);n.from=new sr(e,"from",parseFloat(t.getValue()[s])),n.to=new sr(e,"to",parseFloat(t.getValue()[a])),n.progress=(i-s)/(a-s)}else n.from=this.from,n.to=this.to;return n}}class sne extends L4{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:t,to:n}=this.getProgress(),i=new V6(t.getColor()),s=new V6(n.getColor());if(i.ok&&s.ok){var a=i.r+(s.r-i.r)*e,o=i.g+(s.g-i.g)*e,l=i.b+(s.b-i.b)*e;return"rgb(".concat(Math.floor(a),", ").concat(Math.floor(o),", ").concat(Math.floor(l),")")}return this.getAttribute("from").getColor()}}class ane extends L4{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:t,to:n}=this.getProgress(),i=qa(t.getString()),s=qa(n.getString()),a=i.map((o,l)=>{var c=s[l];return o+(c-o)*e}).join(" ");return a}}class one extends jn{constructor(e,t,n){super(e,t,n),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:i}=e,{children:s}=this;for(var a of s)switch(a.type){case"font-face":{this.fontFace=a;var o=a.getStyle("font-family");o.hasValue()&&(i[o.getString()]=this);break}case"missing-glyph":this.missingGlyph=a;break;case"glyph":{var l=a;l.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[l.unicode]>"u"&&(this.glyphs[l.unicode]=Object.create(null)),this.glyphs[l.unicode][l.arabicForm]=l):this.glyphs[l.unicode]=l;break}}}render(){}}class lne extends jn{constructor(e,t,n){super(e,t,n),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class cne extends an{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class une extends ad{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var t=e.children[0];if(t)return t.getText()}return""}}class dne extends ad{constructor(e,t,n){super(e,t,n),this.type="a";var{childNodes:i}=t,s=i[0],a=i.length>0&&Array.from(i).every(o=>o.nodeType===3);this.hasText=a,this.text=a?this.getTextFromNode(s):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:t,x:n,y:i}=this,{mouse:s}=t.screen,a=new sr(t,"fontSize",sa.parse(t.ctx.font).fontSize);s.isWorking()&&s.checkBoundingBox(this,new gl(n,i-a.getPixels("y"),n+this.measureText(e),i))}else if(this.children.length>0){var o=new R4(this.document,null);o.children=this.children,o.parent=this,o.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}function kQ(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jx(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kQ(Object(t),!0).forEach(function(n){OF(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kQ(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class hne extends ad{constructor(e,t,n){super(e,t,n),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(i)}getText(){return this.text}path(e){var{dataArray:t}=this;e&&e.beginPath(),t.forEach(n=>{var{type:i,points:s}=n;switch(i){case Er.LINE_TO:e&&e.lineTo(s[0],s[1]);break;case Er.MOVE_TO:e&&e.moveTo(s[0],s[1]);break;case Er.CURVE_TO:e&&e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case Er.QUAD_TO:e&&e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case Er.ARC:{var[a,o,l,c,u,d,h,f]=s,p=l>c?l:c,g=l>c?1:l/c,m=l>c?c/l:1;e&&(e.translate(a,o),e.rotate(h),e.scale(g,m),e.arc(0,0,p,u,u+d,!!(1-f)),e.scale(1/g,1/m),e.rotate(-h),e.translate(-a,-o));break}case Er.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var t=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),{glyphInfo:i}=this,s=e.fillStyle;t==="underline"&&e.beginPath(),i.forEach((a,o)=>{var{p0:l,p1:c,rotation:u,text:d}=a;e.save(),e.translate(l.x,l.y),e.rotate(u),e.fillStyle&&e.fillText(d,0,0),e.strokeStyle&&e.strokeText(d,0,0),e.restore(),t==="underline"&&(o===0&&e.moveTo(l.x,l.y+n/8),e.lineTo(c.x,c.y+n/5))}),t==="underline"&&(e.lineWidth=n/20,e.strokeStyle=s,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,t,n,i,s,a,o,l,c){var u=a,d=this.measureText(e,l);l===" "&&t==="justify"&&n<i&&(d+=(i-n)/s),c>-1&&(u+=this.getLetterSpacingAt(c));var h=this.textHeight/20,f=this.getEquidistantPointOnPath(u,h,0),p=this.getEquidistantPointOnPath(u+d,h,0),g={p0:f,p1:p},m=f&&p?Math.atan2(p.y-f.y,p.x-f.x):0;if(o){var v=Math.cos(Math.PI/2+m)*o,y=Math.cos(-m)*o;g.p0=jx(jx({},f),{},{x:f.x+v,y:f.y+y}),g.p1=jx(jx({},p),{},{x:p.x+v,y:p.y+y})}return u+=d,{offset:u,segment:g,rotation:m}}measureText(e,t){var{measuresCache:n}=this,i=t||this.getText();if(n.has(i))return n.get(i);var s=this.measureTargetText(e,i);return n.set(i,s),s}setTextData(e){if(!this.glyphInfo){var t=this.getText(),n=t.split(""),i=t.split(" ").length-1,s=this.parent.getAttribute("dx").split().map(w=>w.getPixels("x")),a=this.parent.getAttribute("dy").getPixels("y"),o=this.parent.getStyle("text-anchor").getString("start"),l=this.getStyle("letter-spacing"),c=this.parent.getStyle("letter-spacing"),u=0;!l.hasValue()||l.getValue()==="inherit"?u=c.getPixels():l.hasValue()&&l.getValue()!=="initial"&&l.getValue()!=="unset"&&(u=l.getPixels());var d=[],h=t.length;this.letterSpacingCache=d;for(var f=0;f<h;f++)d.push(typeof s[f]<"u"?s[f]:u);var p=d.reduce((w,_,B)=>B===0?0:w+_||0,0),g=this.measureText(e),m=Math.max(g+p,0);this.textWidth=g,this.textHeight=this.getFontSize(),this.glyphInfo=[];var v=this.getPathLength(),y=this.getStyle("startOffset").getNumber(0)*v,b=0;(o==="middle"||o==="center")&&(b=-m/2),(o==="end"||o==="right")&&(b=-m),b+=y,n.forEach((w,_)=>{var{offset:B,segment:R,rotation:j}=this.findSegmentToFitChar(e,o,m,v,i,b,a,w,_);b=B,!(!R.p0||!R.p1)&&this.glyphInfo.push({text:n[_],p0:R.p0,p1:R.p1,rotation:j})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var t=[],{pathParser:n}=e;for(n.reset();!n.isEnd();){var{current:i}=n,s=i?i.x:0,a=i?i.y:0,o=n.next(),l=o.type,c=[];switch(o.type){case Er.MOVE_TO:this.pathM(n,c);break;case Er.LINE_TO:l=this.pathL(n,c);break;case Er.HORIZ_LINE_TO:l=this.pathH(n,c);break;case Er.VERT_LINE_TO:l=this.pathV(n,c);break;case Er.CURVE_TO:this.pathC(n,c);break;case Er.SMOOTH_CURVE_TO:l=this.pathS(n,c);break;case Er.QUAD_TO:this.pathQ(n,c);break;case Er.SMOOTH_QUAD_TO:l=this.pathT(n,c);break;case Er.ARC:c=this.pathA(n);break;case Er.CLOSE_PATH:an.pathZ(n);break}o.type!==Er.CLOSE_PATH?t.push({type:l,points:c,start:{x:s,y:a},pathLength:this.calcLength(s,a,l,c)}):t.push({type:Er.CLOSE_PATH,points:[],pathLength:0})}return t}pathM(e,t){var{x:n,y:i}=an.pathM(e).point;t.push(n,i)}pathL(e,t){var{x:n,y:i}=an.pathL(e).point;return t.push(n,i),Er.LINE_TO}pathH(e,t){var{x:n,y:i}=an.pathH(e).point;return t.push(n,i),Er.LINE_TO}pathV(e,t){var{x:n,y:i}=an.pathV(e).point;return t.push(n,i),Er.LINE_TO}pathC(e,t){var{point:n,controlPoint:i,currentPoint:s}=an.pathC(e);t.push(n.x,n.y,i.x,i.y,s.x,s.y)}pathS(e,t){var{point:n,controlPoint:i,currentPoint:s}=an.pathS(e);return t.push(n.x,n.y,i.x,i.y,s.x,s.y),Er.CURVE_TO}pathQ(e,t){var{controlPoint:n,currentPoint:i}=an.pathQ(e);t.push(n.x,n.y,i.x,i.y)}pathT(e,t){var{controlPoint:n,currentPoint:i}=an.pathT(e);return t.push(n.x,n.y,i.x,i.y),Er.QUAD_TO}pathA(e){var{rX:t,rY:n,sweepFlag:i,xAxisRotation:s,centp:a,a1:o,ad:l}=an.pathA(e);return i===0&&l>0&&(l-=2*Math.PI),i===1&&l<0&&(l+=2*Math.PI),[a.x,a.y,t,n,o,l,s,i]}calcLength(e,t,n,i){var s=0,a=null,o=null,l=0;switch(n){case Er.LINE_TO:return this.getLineLength(e,t,i[0],i[1]);case Er.CURVE_TO:for(s=0,a=this.getPointOnCubicBezier(0,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)o=this.getPointOnCubicBezier(l,e,t,i[0],i[1],i[2],i[3],i[4],i[5]),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case Er.QUAD_TO:for(s=0,a=this.getPointOnQuadraticBezier(0,e,t,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)o=this.getPointOnQuadraticBezier(l,e,t,i[0],i[1],i[2],i[3]),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case Er.ARC:{s=0;var c=i[4],u=i[5],d=i[4]+u,h=Math.PI/180;if(Math.abs(c-d)<h&&(h=Math.abs(c-d)),a=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),u<0)for(l=c-h;l>d;l-=h)o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=c+h;l<d;l+=h)o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),s+=this.getLineLength(a.x,a.y,o.x,o.y),s}}return 0}getPointOnLine(e,t,n,i,s){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:n,l=(s-n)/(i-t+Kf),c=Math.sqrt(e*e/(1+l*l));i<t&&(c*=-1);var u=l*c,d=null;if(i===t)d={x:a,y:o+u};else if((o-n)/(a-t+Kf)===l)d={x:a+c,y:o+u};else{var h=0,f=0,p=this.getLineLength(t,n,i,s);if(p<Kf)return null;var g=(a-t)*(i-t)+(o-n)*(s-n);g/=p*p,h=t+g*(i-t),f=n+g*(s-n);var m=this.getLineLength(a,o,h,f),v=Math.sqrt(e*e-m*m);c=Math.sqrt(v*v/(1+l*l)),i<t&&(c*=-1),u=l*c,d={x:h+c,y:f+u}}return d}getPointOnPath(e){var t=this.getPathLength(),n=0,i=null;if(e<-5e-5||e-5e-5>t)return null;var{dataArray:s}=this;for(var a of s){if(a&&(a.pathLength<5e-5||n+a.pathLength+5e-5<e)){n+=a.pathLength;continue}var o=e-n,l=0;switch(a.type){case Er.LINE_TO:i=this.getPointOnLine(o,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case Er.ARC:{var c=a.points[4],u=a.points[5],d=a.points[4]+u;if(l=c+o/a.pathLength*u,u<0&&l<d||u>=0&&l>d)break;i=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],l,a.points[6]);break}case Er.CURVE_TO:l=o/a.pathLength,l>1&&(l=1),i=this.getPointOnCubicBezier(l,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case Er.QUAD_TO:l=o/a.pathLength,l>1&&(l=1),i=this.getPointOnQuadraticBezier(l,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3]);break}if(i)return i;break}return null}getLineLength(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,t)=>t.pathLength>0?e+t.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,t,n,i,s,a,o,l,c){var u=l*X6(e)+a*Y6(e)+i*J6(e)+t*Z6(e),d=c*X6(e)+o*Y6(e)+s*J6(e)+n*Z6(e);return{x:u,y:d}}getPointOnQuadraticBezier(e,t,n,i,s,a,o){var l=a*ek(e)+i*tk(e)+t*rk(e),c=o*ek(e)+s*tk(e)+n*rk(e);return{x:l,y:c}}getPointOnEllipticalArc(e,t,n,i,s,a){var o=Math.cos(a),l=Math.sin(a),c={x:n*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*o-c.y*l),y:t+(c.x*l+c.y*o)}}buildEquidistantCache(e,t){var n=this.getPathLength(),i=t||.25,s=e||n/100;if(!this.equidistantCache||this.equidistantCache.step!==s||this.equidistantCache.precision!==i){this.equidistantCache={step:s,precision:i,points:[]};for(var a=0,o=0;o<=n;o+=i){var l=this.getPointOnPath(o),c=this.getPointOnPath(o+i);!l||!c||(a+=this.getLineLength(l.x,l.y,c.x,c.y),a>=s&&(this.equidistantCache.points.push({x:l.x,y:l.y,distance:o}),a-=s))}}}getEquidistantPointOnPath(e,t,n){if(this.buildEquidistantCache(t,n),e<0||e-this.getPathLength()>5e-5)return null;var i=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var mWe=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class fne extends Wh{constructor(e,t,n){super(e,t,n),this.type="image",this.loaded=!1;var i=this.getHrefAttribute().getString();if(i){var s=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);e.images.push(this),s?this.loadSvg(i):this.loadImage(i),this.isSvg=s}}loadImage(e){var t=this;return sd(function*(){try{var n=yield t.document.createImage(e);t.image=n}catch(i){console.error('Error while loading image "'.concat(e,'":'),i)}t.loaded=!0})()}loadSvg(e){var t=this;return sd(function*(){var n=mWe.exec(e);if(n){var i=n[5];n[4]==="base64"?t.image=atob(i):t.image=decodeURIComponent(i)}else try{var s=yield t.document.fetch(e),a=yield s.text();t.image=a}catch(o){console.error('Error while loading image "'.concat(e,'":'),o)}t.loaded=!0})()}renderChildren(e){var{document:t,image:n,loaded:i}=this,s=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y");if(!(!i||!n||!o||!l)){if(e.save(),e.translate(s,a),this.isSvg){var c=t.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:o,scaleHeight:l});c.document.documentElement.parent=this,c.render()}else{var u=this.image;t.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:o,desiredWidth:u.width,height:l,desiredHeight:u.height}),this.loaded&&(typeof u.complete>"u"||u.complete)&&e.drawImage(u,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),i=this.getStyle("height").getPixels("y");return new gl(e,t,e+n,t+i)}}class Ane extends Wh{constructor(){super(...arguments),this.type="symbol"}render(e){}}class pne{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,t){var n=this;return sd(function*(){try{var{document:i}=n,s=yield i.canvg.parser.load(t),a=s.getElementsByTagName("font");Array.from(a).forEach(o=>{var l=i.createElement(o);i.definitions[e]=l})}catch(o){console.error('Error while loading font "'.concat(t,'":'),o)}n.loaded=!0})()}}class zF extends jn{constructor(e,t,n){super(e,t,n),this.type="style";var i=kA(Array.from(t.childNodes).map(a=>a.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),s=i.split("}");s.forEach(a=>{var o=a.trim();if(o){var l=o.split("{"),c=l[0].split(","),u=l[1].split(";");c.forEach(d=>{var h=d.trim();if(h){var f=e.styles[h]||{};if(u.forEach(m=>{var v=m.indexOf(":"),y=m.substr(0,v).trim(),b=m.substr(v+1,m.length-v).trim();y&&b&&(f[y]=new sr(e,y,b))}),e.styles[h]=f,e.stylesSpecificity[h]=Lre(h),h==="@font-face"){var p=f["font-family"].getString().replace(/"|'/g,""),g=f.src.getString().split(",");g.forEach(m=>{if(m.indexOf('format("svg")')>0){var v=RF(m);v&&new pne(e).load(p,v)}})}}})}})}}zF.parseExternalUrl=RF;class mne extends Wh{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var t=this.getAttribute("x"),n=this.getAttribute("y");t.hasValue()&&e.translate(t.getPixels("x"),0),n.hasValue()&&e.translate(0,n.getPixels("y"))}path(e){var{element:t}=this;t&&t.path(e)}renderChildren(e){var{document:t,element:n}=this;if(n){var i=n;if(n.type==="symbol"&&(i=new t0(t,null),i.attributes.viewBox=new sr(t,"viewBox",n.getAttribute("viewBox").getString()),i.attributes.preserveAspectRatio=new sr(t,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),i.attributes.overflow=new sr(t,"overflow",n.getAttribute("overflow").getString()),i.children=n.children,n.styles.opacity=new sr(t,"opacity",this.calculateOpacity())),i.type==="svg"){var s=this.getStyle("width",!1,!0),a=this.getStyle("height",!1,!0);s.hasValue()&&(i.attributes.width=new sr(t,"width",s.getString())),a.hasValue()&&(i.attributes.height=new sr(t,"height",a.getString()))}var o=i.parent;i.parent=this,i.render(e),i.parent=o}}getBoundingBox(e){var{element:t}=this;return t?t.getBoundingBox(e):null}elementTransform(){var{document:e,element:t}=this;return Rh.fromElement(e,t)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Fx(r,e,t,n,i,s){return r[t*n*4+e*4+s]}function Ix(r,e,t,n,i,s,a){r[t*n*4+e*4+s]=a}function Fi(r,e,t){var n=r[e];return n*t}function yu(r,e,t,n){return e+Math.cos(r)*t+Math.sin(r)*n}class VF extends jn{constructor(e,t,n){super(e,t,n),this.type="feColorMatrix";var i=qa(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var s=i[0];i=[.213+.787*s,.715-.715*s,.072-.072*s,0,0,.213-.213*s,.715+.285*s,.072-.072*s,0,0,.213-.213*s,.715-.715*s,.072+.928*s,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var a=i[0]*Math.PI/180;i=[yu(a,.213,.787,-.213),yu(a,.715,-.715,-.715),yu(a,.072,-.072,.928),0,0,yu(a,.213,-.213,.143),yu(a,.715,.285,.14),yu(a,.072,-.072,-.283),0,0,yu(a,.213,-.213,-.787),yu(a,.715,-.715,.715),yu(a,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=i,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,t,n,i,s){for(var{includeOpacity:a,matrix:o}=this,l=e.getImageData(0,0,i,s),c=0;c<s;c++)for(var u=0;u<i;u++){var d=Fx(l.data,u,c,i,s,0),h=Fx(l.data,u,c,i,s,1),f=Fx(l.data,u,c,i,s,2),p=Fx(l.data,u,c,i,s,3),g=Fi(o,0,d)+Fi(o,1,h)+Fi(o,2,f)+Fi(o,3,p)+Fi(o,4,1),m=Fi(o,5,d)+Fi(o,6,h)+Fi(o,7,f)+Fi(o,8,p)+Fi(o,9,1),v=Fi(o,10,d)+Fi(o,11,h)+Fi(o,12,f)+Fi(o,13,p)+Fi(o,14,1),y=Fi(o,15,d)+Fi(o,16,h)+Fi(o,17,f)+Fi(o,18,p)+Fi(o,19,1);a&&(g=0,m=0,v=0,y*=p/255),Ix(l.data,u,c,i,s,0,g),Ix(l.data,u,c,i,s,1,m),Ix(l.data,u,c,i,s,2,v),Ix(l.data,u,c,i,s,3,y)}e.clearRect(0,0,i,s),e.putImageData(l,0,0)}}class u1 extends jn{constructor(){super(...arguments),this.type="mask"}apply(e,t){var{document:n}=this,i=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(!a&&!o){var l=new gl;this.children.forEach(p=>{l.addBoundingBox(p.getBoundingBox(e))}),i=Math.floor(l.x1),s=Math.floor(l.y1),a=Math.floor(l.width),o=Math.floor(l.height)}var c=this.removeStyles(t,u1.ignoreStyles),u=n.createCanvas(i+a,s+o),d=u.getContext("2d");n.screen.setDefaults(d),this.renderChildren(d),new VF(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,i+a,s+o);var h=n.createCanvas(i+a,s+o),f=h.getContext("2d");n.screen.setDefaults(f),t.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=d.createPattern(u,"no-repeat"),f.fillRect(0,0,i+a,s+o),e.fillStyle=f.createPattern(h,"no-repeat"),e.fillRect(0,0,i+a,s+o),this.restoreStyles(t,c)}render(e){}}u1.ignoreStyles=["mask","transform","clip-path"];var TQ=()=>{};class gne extends jn{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:t}=this,n=Reflect.getPrototypeOf(e),{beginPath:i,closePath:s}=e;n&&(n.beginPath=TQ,n.closePath=TQ),Reflect.apply(i,e,[]),this.children.forEach(a=>{if(!(typeof a.path>"u")){var o=typeof a.elementTransform<"u"?a.elementTransform():null;o||(o=Rh.fromElement(t,a)),o&&o.apply(e),a.path(e),n&&(n.closePath=s),o&&o.unapply(e)}}),Reflect.apply(s,e,[]),e.clip(),n&&(n.beginPath=i,n.closePath=s)}render(e){}}class d1 extends jn{constructor(){super(...arguments),this.type="filter"}apply(e,t){var{document:n,children:i}=this,s=t.getBoundingBox(e);if(s){var a=0,o=0;i.forEach(v=>{var y=v.extraFilterDistance||0;a=Math.max(a,y),o=Math.max(o,y)});var l=Math.floor(s.width),c=Math.floor(s.height),u=l+2*a,d=c+2*o;if(!(u<1||d<1)){var h=Math.floor(s.x),f=Math.floor(s.y),p=this.removeStyles(t,d1.ignoreStyles),g=n.createCanvas(u,d),m=g.getContext("2d");n.screen.setDefaults(m),m.translate(-h+a,-f+o),t.render(m),i.forEach(v=>{typeof v.apply=="function"&&v.apply(m,0,0,u,d)}),e.drawImage(g,0,0,u,d,h-a,f-o,u,d),this.restoreStyles(t,p)}}}render(e){}}d1.ignoreStyles=["filter","transform","clip-path"];class vne extends jn{constructor(e,t,n){super(e,t,n),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,t,n,i,s){}}class yne extends jn{constructor(){super(...arguments),this.type="feMorphology"}apply(e,t,n,i,s){}}class bne extends jn{constructor(){super(...arguments),this.type="feComposite"}apply(e,t,n,i,s){}}class xne extends jn{constructor(e,t,n){super(e,t,n),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,t,n,i,s){var{document:a,blurRadius:o}=this,l=a.window?a.window.document.body:null,c=e.canvas;c.id=a.getUniqueId(),l&&(c.style.display="none",l.appendChild(c)),WKe(c,t,n,i,s,o),l&&l.removeChild(c)}}class wne extends jn{constructor(){super(...arguments),this.type="title"}}class Cne extends jn{constructor(){super(...arguments),this.type="desc"}}var gWe={svg:t0,rect:HF,circle:qre,ellipse:Xre,line:Yre,polyline:QF,polygon:Jre,path:an,pattern:Zre,marker:ene,defs:tne,linearGradient:rne,radialGradient:nne,stop:ine,animate:L4,animateColor:sne,animateTransform:ane,font:one,"font-face":lne,"missing-glyph":cne,glyph:UF,text:ad,tspan:c1,tref:une,a:dne,textPath:hne,image:fne,g:R4,symbol:Ane,style:zF,use:mne,mask:u1,clipPath:gne,filter:d1,feDropShadow:vne,feMorphology:yne,feComposite:bne,feColorMatrix:VF,feGaussianBlur:xne,title:wne,desc:Cne};function jQ(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function vWe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jQ(Object(t),!0).forEach(function(n){OF(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jQ(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function yWe(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,t}function bWe(r){return nk.apply(this,arguments)}function nk(){return nk=sd(function*(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=document.createElement("img");return e&&(t.crossOrigin="Anonymous"),new Promise((n,i)=>{t.onload=()=>{n(t)},t.onerror=(s,a,o,l,c)=>{i(c)},t.src=r})}),nk.apply(this,arguments)}class Uu{constructor(e){var{rootEmSize:t=12,emSize:n=12,createCanvas:i=Uu.createCanvas,createImage:s=Uu.createImage,anonymousCrossOrigin:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=t,this.emSize=n,this.createCanvas=i,this.createImage=this.bindCreateImage(s,a),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,t){return typeof t=="boolean"?(n,i)=>e(n,typeof i=="boolean"?i:t):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:t}=this;t.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var t=this.createElement(e.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}createElement(e){var t=e.nodeName.replace(/^[^:]+:/,""),n=Uu.elementTypes[t];return typeof n<"u"?new n(this,e):new Wre(this,e)}createTextNode(e){return new pWe(this,e)}setViewBox(e){this.screen.setViewBox(vWe({document:this},e))}}Uu.createCanvas=yWe;Uu.createImage=bWe;Uu.elementTypes=gWe;function FQ(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function mf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FQ(Object(t),!0).forEach(function(n){OF(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):FQ(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class Rf{constructor(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new yw(n),this.screen=new l1(e,n),this.options=n;var i=new Uu(this,n),s=i.createDocumentElement(t);this.document=i,this.documentElement=s}static from(e,t){var n=arguments;return sd(function*(){var i=n.length>2&&n[2]!==void 0?n[2]:{},s=new yw(i),a=yield s.parse(t);return new Rf(e,a,i)})()}static fromString(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new yw(n),s=i.parseFromString(t);return new Rf(e,s,n)}fork(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Rf.from(e,t,mf(mf({},this.options),n))}forkString(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Rf.fromString(e,t,mf(mf({},this.options),n))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,t=this;return sd(function*(){var n=e.length>0&&e[0]!==void 0?e[0]:{};t.start(mf({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},n)),yield t.ready(),t.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:t,screen:n,options:i}=this;n.start(t,mf(mf({enableRedraw:!0},i),e))}stop(){this.screen.stop()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,t,n)}}const xWe=Object.freeze(Object.defineProperty({__proto__:null,AElement:dne,AnimateColorElement:sne,AnimateElement:L4,AnimateTransformElement:ane,BoundingBox:gl,CB1:X6,CB2:Y6,CB3:J6,CB4:Z6,Canvg:Rf,CircleElement:qre,ClipPathElement:gne,DefsElement:tne,DescElement:Cne,Document:Uu,Element:jn,EllipseElement:Xre,FeColorMatrixElement:VF,FeCompositeElement:bne,FeDropShadowElement:vne,FeGaussianBlurElement:xne,FeMorphologyElement:yne,FilterElement:d1,Font:sa,FontElement:one,FontFaceElement:lne,GElement:R4,GlyphElement:UF,GradientElement:$F,ImageElement:fne,LineElement:Yre,LinearGradientElement:rne,MarkerElement:ene,MaskElement:u1,Matrix:LF,MissingGlyphElement:cne,Mouse:Ure,PSEUDO_ZERO:Kf,Parser:yw,PathElement:an,PathParser:Er,PatternElement:Zre,Point:ui,PolygonElement:Jre,PolylineElement:QF,Property:sr,QB1:ek,QB2:tk,QB3:rk,RadialGradientElement:nne,RectElement:HF,RenderedElement:Wh,Rotate:zre,SVGElement:t0,SVGFontLoader:pne,Scale:Vre,Screen:l1,Skew:DF,SkewX:Gre,SkewY:Kre,StopElement:ine,StyleElement:zF,SymbolElement:Ane,TRefElement:une,TSpanElement:c1,TextElement:ad,TextPathElement:hne,TitleElement:wne,Transform:Rh,Translate:$re,UnknownElement:Wre,UseElement:mne,ViewPort:Dre,compressSpaces:kA,default:Rf,getSelectorSpecificity:Lre,normalizeAttributeName:Pre,normalizeColor:Rre,parseExternalUrl:RF,presets:JKe,toNumbers:qa,trimLeft:Mre,trimRight:Ore,vectorMagnitude:W6,vectorsAngle:q6,vectorsRatio:v5},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>@import"https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600;700&family=Grand+Hotel&family=JetBrains+Mono:wght@400;500&display=swap";*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Exo 2,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:JetBrains Mono,Fira Code,Consolas,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}:root{--background: 250 250 250;--foreground: 23 23 23;--card: 255 255 255;--card-foreground: 23 23 23;--border: 229 229 229;--input: 229 229 229;--ring: 23 23 23}*{--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1))}body{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1));-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:"Exo 2",sans-serif;font-optical-sizing:auto;font-style:normal}::-webkit-scrollbar{height:.5rem;width:.5rem}::-webkit-scrollbar-track{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}::-webkit-scrollbar-thumb{border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(212 212 212 / var(--tw-bg-opacity, 1));-webkit-transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}::-webkit-scrollbar-thumb:hover{--tw-bg-opacity: 1;background-color:rgb(163 163 163 / var(--tw-bg-opacity, 1))}:focus-visible{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(23 23 23 / var(--tw-ring-opacity, 1));--tw-ring-offset-width: 2px}.card{border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(245 245 245 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.badge{display:inline-flex;align-items:center;gap:.25rem;border-radius:9999px;padding:.125rem .625rem;font-size:.75rem;line-height:1rem;font-weight:500}.badge-success{display:inline-flex;align-items:center;gap:.25rem;border-radius:9999px;padding:.125rem .625rem;font-size:.75rem;line-height:1rem;font-weight:500;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}@media print{.badge-success{border:1px solid currentColor;-webkit-print-color-adjust:exact;print-color-adjust:exact}}.badge-info{display:inline-flex;align-items:center;gap:.25rem;border-radius:9999px;padding:.125rem .625rem;font-size:.75rem;line-height:1rem;font-weight:500;--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}@media print{.badge-info{border:1px solid currentColor;-webkit-print-color-adjust:exact;print-color-adjust:exact}}.\!input{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:.5rem .75rem;--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.\!input::-moz-placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.\!input::placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.\!input:hover{--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.\!input:focus{border-color:transparent;outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(23 23 23 / var(--tw-ring-opacity, 1))}.\!input:disabled{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.input{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:.5rem .75rem;--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.input::-moz-placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.input::placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.input:hover{--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.input:focus{border-color:transparent;outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(23 23 23 / var(--tw-ring-opacity, 1))}.input:disabled{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.label{margin-bottom:.25rem;display:block;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(64 64 64 / var(--tw-text-opacity, 1))}.select{width:100%;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:.5rem .75rem;--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.select::-moz-placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.select::placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.select:hover{--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.select:focus{border-color:transparent;outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(23 23 23 / var(--tw-ring-opacity, 1))}.select:disabled{cursor:not-allowed;--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.select{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-position:right;background-repeat:no-repeat;padding-right:2.5rem;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");background-position:right .5rem center;background-size:1.5em 1.5em}.data-table{width:100%;text-align:left;font-size:.8125rem;line-height:1.25rem}.data-table th{white-space:nowrap;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1));padding:.75rem 1rem;font-size:.75rem;line-height:1rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity, 1))}.data-table td{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(245 245 245 / var(--tw-border-opacity, 1));padding:.75rem 1rem}.data-table tbody tr{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.data-table tbody tr:hover{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.data-table tbody tr.selected{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.stat-value{font-size:1.875rem;line-height:2.25rem;font-weight:700;--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1));font-variant-numeric:tabular-nums}.stat-label{font-size:.875rem;line-height:1.25rem;font-weight:500;text-transform:uppercase;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.progress{height:.5rem;width:100%;overflow:hidden;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.skeleton{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.page-header{margin-bottom:2rem}.page-title{font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.page-description{margin-top:.25rem;--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:4rem;padding-bottom:4rem;text-align:center}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.inset-y-0{top:0;bottom:0}.-bottom-2{bottom:-.5rem}.-right-1{right:-.25rem}.-top-1{top:-.25rem}.bottom-6{bottom:1.5rem}.bottom-full{bottom:100%}.left-0{left:0}.left-1\/2{left:50%}.left-2\.5{left:.625rem}.left-3{left:.75rem}.left-full{left:100%}.right-0{right:0}.right-2{right:.5rem}.right-3{right:.75rem}.right-4{right:1rem}.right-6{right:1.5rem}.right-full{right:100%}.top-0{top:0}.top-1\/2{top:50%}.top-4{top:1rem}.top-6{top:1.5rem}.top-8{top:2rem}.top-full{top:100%}.z-10{z-index:10}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-\[60\]{z-index:60}.col-span-2{grid-column:span 2 / span 2}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.my-8{margin-top:2rem;margin-bottom:2rem}.mb-0\.5{margin-bottom:.125rem}.mb-1{margin-bottom:.25rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.ml-auto{margin-left:auto}.mr-0\.5{margin-right:.125rem}.mr-1{margin-right:.25rem}.mr-1\.5{margin-right:.375rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-0\.5{margin-top:.125rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.line-clamp-1{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.h-0{height:0px}.h-0\.5{height:.125rem}.h-1{height:.25rem}.h-1\.5{height:.375rem}.h-1\/4{height:25%}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\.5{height:.625rem}.h-20{height:5rem}.h-3{height:.75rem}.h-3\.5{height:.875rem}.h-32{height:8rem}.h-4{height:1rem}.h-40{height:10rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\[600px\]{height:600px}.h-\[80vh\]{height:80vh}.h-\[90vh\]{height:90vh}.h-\[calc\(100vh-4rem\)\]{height:calc(100vh - 4rem)}.h-\[calc\(100vh-8rem\)\]{height:calc(100vh - 8rem)}.h-full{height:100%}.max-h-32{max-height:8rem}.max-h-48{max-height:12rem}.max-h-64{max-height:16rem}.max-h-96{max-height:24rem}.max-h-\[60\%\]{max-height:60%}.max-h-\[90vh\]{max-height:90vh}.max-h-\[calc\(100vh-180px\)\]{max-height:calc(100vh - 180px)}.min-h-\[297mm\]{min-height:297mm}.min-h-\[400px\]{min-height:400px}.min-h-screen{min-height:100vh}.w-0{width:0px}.w-1\.5{width:.375rem}.w-1\/2{width:50%}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-14{width:3.5rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\.5{width:.625rem}.w-20{width:5rem}.w-24{width:6rem}.w-28{width:7rem}.w-3{width:.75rem}.w-3\.5{width:.875rem}.w-32{width:8rem}.w-36{width:9rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-96{width:24rem}.w-\[420px\]{width:420px}.w-\[95vw\]{width:95vw}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.w-px{width:1px}.min-w-0{min-width:0px}.min-w-\[100px\]{min-width:100px}.min-w-\[120px\]{min-width:120px}.min-w-\[140px\]{min-width:140px}.min-w-\[50px\]{min-width:50px}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-5xl{max-width:64rem}.max-w-7xl{max-width:80rem}.max-w-\[120px\]{max-width:120px}.max-w-\[200px\]{max-width:200px}.max-w-\[60\%\]{max-width:60%}.max-w-\[85\%\]{max-width:85%}.max-w-\[90vw\]{max-width:90vw}.max-w-lg{max-width:32rem}.max-w-md{max-width:28rem}.max-w-none{max-width:none}.max-w-sm{max-width:24rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.table-fixed{table-layout:fixed}.border-collapse{border-collapse:collapse}.-translate-x-1{--tw-translate-x: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-1\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-x-full{--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-4{--tw-translate-x: 1rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-rotate-90{--tw-rotate: -90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-0{--tw-scale-x: 0;--tw-scale-y: 0;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fade-in{animation:fadeIn .2s ease-out}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-slide-up{animation:slideUp .3s ease-out}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-grab{cursor:grab}.cursor-grabbing{cursor:grabbing}.cursor-move{cursor:move}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.cursor-wait{cursor:wait}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.resize-none{resize:none}.resize-y{resize:vertical}.list-inside{list-style-position:inside}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-0\.5{gap:.125rem}.gap-1{gap:.25rem}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-2\.5{gap:.625rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-y-0\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.125rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.125rem * var(--tw-space-y-reverse))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-primary-100>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(245 245 245 / var(--tw-divide-opacity, 1))}.divide-primary-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 229 229 / var(--tw-divide-opacity, 1))}.self-end{align-self:flex-end}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-card{border-radius:.5rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b-card,.rounded-b-lg{border-bottom-right-radius:.5rem;border-bottom-left-radius:.5rem}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl-md{border-bottom-left-radius:.375rem}.rounded-br-md{border-bottom-right-radius:.375rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-x{border-left-width:1px;border-right-width:1px}.border-b{border-bottom-width:1px}.border-b-0{border-bottom-width:0px}.border-b-2{border-bottom-width:2px}.border-l{border-left-width:1px}.border-l-2{border-left-width:2px}.border-l-4{border-left-width:4px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-none{border-style:none}.border-amber-200{--tw-border-opacity: 1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.border-amber-500{--tw-border-opacity: 1;border-color:rgb(245 158 11 / var(--tw-border-opacity, 1))}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-emerald-200{--tw-border-opacity: 1;border-color:rgb(167 243 208 / var(--tw-border-opacity, 1))}.border-error{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-indigo-100{--tw-border-opacity: 1;border-color:rgb(224 231 255 / var(--tw-border-opacity, 1))}.border-indigo-200{--tw-border-opacity: 1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.border-indigo-600{--tw-border-opacity: 1;border-color:rgb(79 70 229 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity: 1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-primary-100{--tw-border-opacity: 1;border-color:rgb(245 245 245 / var(--tw-border-opacity, 1))}.border-primary-200{--tw-border-opacity: 1;border-color:rgb(229 229 229 / var(--tw-border-opacity, 1))}.border-primary-300{--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.border-primary-400{--tw-border-opacity: 1;border-color:rgb(163 163 163 / var(--tw-border-opacity, 1))}.border-primary-50{--tw-border-opacity: 1;border-color:rgb(250 250 250 / var(--tw-border-opacity, 1))}.border-primary-500{--tw-border-opacity: 1;border-color:rgb(115 115 115 / var(--tw-border-opacity, 1))}.border-primary-600{--tw-border-opacity: 1;border-color:rgb(82 82 82 / var(--tw-border-opacity, 1))}.border-primary-700{--tw-border-opacity: 1;border-color:rgb(64 64 64 / var(--tw-border-opacity, 1))}.border-primary-900{--tw-border-opacity: 1;border-color:rgb(23 23 23 / var(--tw-border-opacity, 1))}.border-purple-200{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.border-purple-500{--tw-border-opacity: 1;border-color:rgb(168 85 247 / var(--tw-border-opacity, 1))}.border-red-100{--tw-border-opacity: 1;border-color:rgb(254 226 226 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-white\/20{border-color:#fff3}.border-white\/30{border-color:#ffffff4d}.border-white\/50{border-color:#ffffff80}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-x-transparent{border-left-color:transparent;border-right-color:transparent}.border-y-transparent{border-top-color:transparent;border-bottom-color:transparent}.border-b-primary-900{--tw-border-opacity: 1;border-bottom-color:rgb(23 23 23 / var(--tw-border-opacity, 1))}.border-b-transparent{border-bottom-color:transparent}.border-l-blue-500{--tw-border-opacity: 1;border-left-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-l-orange-500{--tw-border-opacity: 1;border-left-color:rgb(249 115 22 / var(--tw-border-opacity, 1))}.border-l-primary-900{--tw-border-opacity: 1;border-left-color:rgb(23 23 23 / var(--tw-border-opacity, 1))}.border-l-red-500{--tw-border-opacity: 1;border-left-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-l-transparent{border-left-color:transparent}.border-l-yellow-500{--tw-border-opacity: 1;border-left-color:rgb(234 179 8 / var(--tw-border-opacity, 1))}.border-r-primary-900{--tw-border-opacity: 1;border-right-color:rgb(23 23 23 / var(--tw-border-opacity, 1))}.border-r-transparent{border-right-color:transparent}.border-t-primary-600{--tw-border-opacity: 1;border-top-color:rgb(82 82 82 / var(--tw-border-opacity, 1))}.border-t-primary-900{--tw-border-opacity: 1;border-top-color:rgb(23 23 23 / var(--tw-border-opacity, 1))}.border-t-transparent{border-top-color:transparent}.border-t-white{--tw-border-opacity: 1;border-top-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.bg-amber-100{--tw-bg-opacity: 1;background-color:rgb(254 243 199 / var(--tw-bg-opacity, 1))}.bg-amber-50{--tw-bg-opacity: 1;background-color:rgb(255 251 235 / var(--tw-bg-opacity, 1))}.bg-amber-500{--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-amber-600{--tw-bg-opacity: 1;background-color:rgb(217 119 6 / var(--tw-bg-opacity, 1))}.bg-black\/50{background-color:#00000080}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-50\/30{background-color:#eff6ff4d}.bg-blue-50\/50{background-color:#eff6ff80}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-emerald-100{--tw-bg-opacity: 1;background-color:rgb(209 250 229 / var(--tw-bg-opacity, 1))}.bg-emerald-50{--tw-bg-opacity: 1;background-color:rgb(236 253 245 / var(--tw-bg-opacity, 1))}.bg-emerald-600{--tw-bg-opacity: 1;background-color:rgb(5 150 105 / var(--tw-bg-opacity, 1))}.bg-error{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-50\/50{background-color:#f0fdf480}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-indigo-400{--tw-bg-opacity: 1;background-color:rgb(129 140 248 / var(--tw-bg-opacity, 1))}.bg-indigo-50{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity: 1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-orange-50\/30{background-color:#fff7ed4d}.bg-orange-500{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-orange-600{--tw-bg-opacity: 1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.bg-primary-100{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.bg-primary-200{--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.bg-primary-300{--tw-bg-opacity: 1;background-color:rgb(212 212 212 / var(--tw-bg-opacity, 1))}.bg-primary-400{--tw-bg-opacity: 1;background-color:rgb(163 163 163 / var(--tw-bg-opacity, 1))}.bg-primary-50{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.bg-primary-500{--tw-bg-opacity: 1;background-color:rgb(115 115 115 / var(--tw-bg-opacity, 1))}.bg-primary-600{--tw-bg-opacity: 1;background-color:rgb(82 82 82 / var(--tw-bg-opacity, 1))}.bg-primary-700{--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}.bg-primary-800{--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1))}.bg-primary-900{--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}.bg-primary-950{--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity, 1))}.bg-primary-950\/50{background-color:#0a0a0a80}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity: 1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-50\/30{background-color:#fef2f24d}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-red-900{--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity, 1))}.bg-success{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-violet-100{--tw-bg-opacity: 1;background-color:rgb(237 233 254 / var(--tw-bg-opacity, 1))}.bg-violet-600{--tw-bg-opacity: 1;background-color:rgb(124 58 237 / var(--tw-bg-opacity, 1))}.bg-warning{--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/10{background-color:#ffffff1a}.bg-white\/20{background-color:#fff3}.bg-white\/60{background-color:#fff9}.bg-white\/80{background-color:#fffc}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-50\/30{background-color:#fefce84d}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-gradient-to-b{background-image:linear-gradient(to bottom,var(--tw-gradient-stops))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-50{--tw-gradient-from: #f0fdf4 var(--tw-gradient-from-position);--tw-gradient-to: rgb(240 253 244 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-600{--tw-gradient-from: #16a34a var(--tw-gradient-from-position);--tw-gradient-to: rgb(22 163 74 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-100{--tw-gradient-from: #e0e7ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(224 231 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-600{--tw-gradient-from: #4f46e5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(79 70 229 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-50{--tw-gradient-from: #fff7ed var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 247 237 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary-50{--tw-gradient-from: #fafafa var(--tw-gradient-from-position);--tw-gradient-to: rgb(250 250 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary-800{--tw-gradient-from: #262626 var(--tw-gradient-from-position);--tw-gradient-to: rgb(38 38 38 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-primary-900{--tw-gradient-from: #171717 var(--tw-gradient-from-position);--tw-gradient-to: rgb(23 23 23 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-50{--tw-gradient-from: #faf5ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(250 245 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-50\/50{--tw-gradient-from: rgb(250 245 255 / .5) var(--tw-gradient-from-position);--tw-gradient-to: rgb(250 245 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-50{--tw-gradient-from: #fef2f2 var(--tw-gradient-from-position);--tw-gradient-to: rgb(254 242 242 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-primary-800{--tw-gradient-to: rgb(38 38 38 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #262626 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-blue-100{--tw-gradient-to: #dbeafe var(--tw-gradient-to-position)}.to-blue-50{--tw-gradient-to: #eff6ff var(--tw-gradient-to-position)}.to-green-100{--tw-gradient-to: #dcfce7 var(--tw-gradient-to-position)}.to-green-700{--tw-gradient-to: #15803d var(--tw-gradient-to-position)}.to-orange-100{--tw-gradient-to: #ffedd5 var(--tw-gradient-to-position)}.to-primary-100{--tw-gradient-to: #f5f5f5 var(--tw-gradient-to-position)}.to-primary-800{--tw-gradient-to: #262626 var(--tw-gradient-to-position)}.to-primary-900{--tw-gradient-to: #171717 var(--tw-gradient-to-position)}.to-purple-100{--tw-gradient-to: #f3e8ff var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to: #9333ea var(--tw-gradient-to-position)}.to-white{--tw-gradient-to: #fff var(--tw-gradient-to-position)}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-0{padding:0}.p-0\.5{padding:.125rem}.p-1{padding:.25rem}.p-1\.5{padding:.375rem}.p-12{padding:3rem}.p-2{padding:.5rem}.p-2\.5{padding:.625rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-12{padding-left:3rem;padding-right:3rem}.px-16{padding-left:4rem;padding-right:4rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0{padding-top:0;padding-bottom:0}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:.5rem}.pl-10{padding-left:2.5rem}.pl-2{padding-left:.5rem}.pl-3{padding-left:.75rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pl-9{padding-left:2.25rem}.pr-10{padding-right:2.5rem}.pr-12{padding-right:3rem}.pr-3{padding-right:.75rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-2{padding-top:.5rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-display{font-family:Grand Hotel,cursive}.font-mono{font-family:JetBrains Mono,Fira Code,Consolas,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-6xl{font-size:3.75rem;line-height:1}.text-\[10px\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-relaxed{line-height:1.625}.leading-tight{line-height:1.25}.tracking-tight{letter-spacing:-.025em}.tracking-wide{letter-spacing:.025em}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.text-amber-400{--tw-text-opacity: 1;color:rgb(251 191 36 / var(--tw-text-opacity, 1))}.text-amber-500{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-amber-600{--tw-text-opacity: 1;color:rgb(217 119 6 / var(--tw-text-opacity, 1))}.text-amber-700{--tw-text-opacity: 1;color:rgb(180 83 9 / var(--tw-text-opacity, 1))}.text-amber-800{--tw-text-opacity: 1;color:rgb(146 64 14 / var(--tw-text-opacity, 1))}.text-amber-900{--tw-text-opacity: 1;color:rgb(120 53 15 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-cyan-500{--tw-text-opacity: 1;color:rgb(6 182 212 / var(--tw-text-opacity, 1))}.text-emerald-500{--tw-text-opacity: 1;color:rgb(16 185 129 / var(--tw-text-opacity, 1))}.text-emerald-600{--tw-text-opacity: 1;color:rgb(5 150 105 / var(--tw-text-opacity, 1))}.text-error{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-100{--tw-text-opacity: 1;color:rgb(220 252 231 / var(--tw-text-opacity, 1))}.text-green-200{--tw-text-opacity: 1;color:rgb(187 247 208 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-green-900{--tw-text-opacity: 1;color:rgb(20 83 45 / var(--tw-text-opacity, 1))}.text-indigo-200{--tw-text-opacity: 1;color:rgb(199 210 254 / var(--tw-text-opacity, 1))}.text-indigo-500{--tw-text-opacity: 1;color:rgb(99 102 241 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-indigo-700{--tw-text-opacity: 1;color:rgb(67 56 202 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity: 1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-primary-100{--tw-text-opacity: 1;color:rgb(245 245 245 / var(--tw-text-opacity, 1))}.text-primary-200{--tw-text-opacity: 1;color:rgb(229 229 229 / var(--tw-text-opacity, 1))}.text-primary-300{--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity, 1))}.text-primary-400{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.text-primary-500{--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.text-primary-600{--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity, 1))}.text-primary-700{--tw-text-opacity: 1;color:rgb(64 64 64 / var(--tw-text-opacity, 1))}.text-primary-800{--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity, 1))}.text-primary-900{--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.text-purple-500{--tw-text-opacity: 1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-purple-700{--tw-text-opacity: 1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity: 1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-purple-900{--tw-text-opacity: 1;color:rgb(88 28 135 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-red-900{--tw-text-opacity: 1;color:rgb(127 29 29 / var(--tw-text-opacity, 1))}.text-severity-medium{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-success{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-violet-600{--tw-text-opacity: 1;color:rgb(124 58 237 / var(--tw-text-opacity, 1))}.text-warning{--tw-text-opacity: 1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/60{color:#fff9}.text-white\/70{color:#ffffffb3}.text-white\/80{color:#fffc}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.text-yellow-700{--tw-text-opacity: 1;color:rgb(161 98 7 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.opacity-10{opacity:.1}.opacity-100{opacity:1}.opacity-30{opacity:.3}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-card{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-dropdown,.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-4{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-black{--tw-ring-opacity: 1;--tw-ring-color: rgb(0 0 0 / var(--tw-ring-opacity, 1))}.ring-primary-100{--tw-ring-opacity: 1;--tw-ring-color: rgb(245 245 245 / var(--tw-ring-opacity, 1))}.ring-opacity-5{--tw-ring-opacity: .05}.blur-xl{--tw-blur: blur(24px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.tabular-nums{font-variant-numeric:tabular-nums}.line-clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}@media print{@page{size:A4 portrait;margin:15mm 10mm}body>*:not(.printable-content):not(#print-container){display:none!important}.sidebar,.app-sidebar,.navigation,.nav,.header,.app-header,.footer,.app-footer,.toolbar,.menu,.dropdown,.modal,.toast,.notification,.no-print,[data-no-print],button:not(.print-include),.btn:not(.print-include){display:none!important}body{background:#fff!important;color:#000!important;font-size:11pt!important;line-height:1.4!important;margin:0!important;padding:0!important;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}.printable-content,#print-container{display:block!important;position:static!important;width:100%!important;max-width:100%!important;margin:0!important;padding:0!important;background:#fff!important;box-shadow:none!important;border:none!important}.card,.card-hover{box-shadow:none!important;border:1px solid #e5e5e5!important;-moz-column-break-inside:avoid;break-inside:avoid}.data-table{font-size:9pt!important}.data-table th,.data-table td{padding:6px 8px!important;border:1px solid #ccc!important}.data-table th{background-color:#f0f0f0!important;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}.page-break-before{page-break-before:always}.page-break-after{page-break-after:always}.avoid-break{-moz-column-break-inside:avoid;break-inside:avoid}h1,h2,h3,h4,h5,h6{-moz-column-break-after:avoid;break-after:avoid;color:#000!important}a[href]:after{content:" (" attr(href) ")";font-size:8pt;color:#666}a[href^="#"]:after,a[href^=javascript]:after{content:""}img{max-width:100%!important;-moz-column-break-inside:avoid;break-inside:avoid}.badge{border:1px solid currentColor!important;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}.recharts-wrapper,.recharts-surface{-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}.stat-value{font-size:18pt!important}::-webkit-scrollbar{display:none!important}}.print-only{display:none!important}@media print{.print-only{display:block!important}}.placeholder\:text-primary-400::-moz-placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.placeholder\:text-primary-400::placeholder{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:start-\[2px\]:after{content:var(--tw-content);inset-inline-start:2px}.after\:top-\[2px\]:after{content:var(--tw-content);top:2px}.after\:h-5:after{content:var(--tw-content);height:1.25rem}.after\:w-5:after{content:var(--tw-content);width:1.25rem}.after\:rounded-full:after{content:var(--tw-content);border-radius:9999px}.after\:border:after{content:var(--tw-content);border-width:1px}.after\:border-primary-300:after{content:var(--tw-content);--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.after\:bg-white:after{content:var(--tw-content);--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.after\:transition-all:after{content:var(--tw-content);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.after\:content-\[\'\'\]:after{--tw-content: "";content:var(--tw-content)}.last\:flex-none:last-child{flex:none}.hover\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-blue-300:hover{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1))}.hover\:border-emerald-300:hover{--tw-border-opacity: 1;border-color:rgb(110 231 183 / var(--tw-border-opacity, 1))}.hover\:border-orange-300:hover{--tw-border-opacity: 1;border-color:rgb(253 186 116 / var(--tw-border-opacity, 1))}.hover\:border-primary-300:hover{--tw-border-opacity: 1;border-color:rgb(212 212 212 / var(--tw-border-opacity, 1))}.hover\:border-primary-400:hover{--tw-border-opacity: 1;border-color:rgb(163 163 163 / var(--tw-border-opacity, 1))}.hover\:border-primary-500:hover{--tw-border-opacity: 1;border-color:rgb(115 115 115 / var(--tw-border-opacity, 1))}.hover\:border-violet-300:hover{--tw-border-opacity: 1;border-color:rgb(196 181 253 / var(--tw-border-opacity, 1))}.hover\:bg-amber-700:hover{--tw-bg-opacity: 1;background-color:rgb(180 83 9 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-100:hover{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-50:hover{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-emerald-700:hover{--tw-bg-opacity: 1;background-color:rgb(4 120 87 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-green-100:hover{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.hover\:bg-green-50:hover{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-50:hover{--tw-bg-opacity: 1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.hover\:bg-orange-700:hover{--tw-bg-opacity: 1;background-color:rgb(194 65 12 / var(--tw-bg-opacity, 1))}.hover\:bg-primary-100:hover{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.hover\:bg-primary-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.hover\:bg-primary-50:hover{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.hover\:bg-primary-700:hover{--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}.hover\:bg-primary-800:hover{--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-200:hover{--tw-bg-opacity: 1;background-color:rgb(233 213 255 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-red-50:hover{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.hover\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\:bg-violet-700:hover{--tw-bg-opacity: 1;background-color:rgb(109 40 217 / var(--tw-bg-opacity, 1))}.hover\:bg-white\/10:hover{background-color:#ffffff1a}.hover\:bg-white\/20:hover{background-color:#fff3}.hover\:bg-white\/30:hover{background-color:#ffffff4d}.hover\:bg-white\/50:hover{background-color:#ffffff80}.hover\:from-purple-100:hover{--tw-gradient-from: #f3e8ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(243 232 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:to-blue-100:hover{--tw-gradient-to: #dbeafe var(--tw-gradient-to-position)}.hover\:text-blue-600:hover{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.hover\:text-blue-800:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\:text-green-600:hover{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.hover\:text-indigo-600:hover{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.hover\:text-primary-500:hover{--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.hover\:text-primary-600:hover{--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity, 1))}.hover\:text-primary-700:hover{--tw-text-opacity: 1;color:rgb(64 64 64 / var(--tw-text-opacity, 1))}.hover\:text-primary-800:hover{--tw-text-opacity: 1;color:rgb(38 38 38 / var(--tw-text-opacity, 1))}.hover\:text-primary-900:hover{--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.hover\:text-purple-800:hover{--tw-text-opacity: 1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.hover\:text-red-500:hover{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.hover\:text-red-600:hover{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.hover\:text-red-800:hover{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.hover\:underline:hover{text-decoration-line:underline}.hover\:shadow-card-hover:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:shadow-lg:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\:not-sr-only:focus{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.focus\:absolute:focus{position:absolute}.focus\:left-4:focus{left:1rem}.focus\:top-4:focus{top:1rem}.focus\:z-50:focus{z-index:50}.focus\:rounded-lg:focus{border-radius:.5rem}.focus\:border-primary-500:focus{--tw-border-opacity: 1;border-color:rgb(115 115 115 / var(--tw-border-opacity, 1))}.focus\:border-transparent:focus{border-color:transparent}.focus\:bg-primary-900:focus{--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}.focus\:px-4:focus{padding-left:1rem;padding-right:1rem}.focus\:py-2:focus{padding-top:.5rem;padding-bottom:.5rem}.focus\:text-white:focus{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-0:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-error:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1))}.focus\:ring-primary-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(163 163 163 / var(--tw-ring-opacity, 1))}.focus\:ring-primary-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(115 115 115 / var(--tw-ring-opacity, 1))}.focus\:ring-primary-900:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(23 23 23 / var(--tw-ring-opacity, 1))}.focus\:ring-purple-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(168 85 247 / var(--tw-ring-opacity, 1))}.focus\:ring-red-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1))}.focus\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.active\:bg-primary-200:active{--tw-bg-opacity: 1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.active\:bg-primary-300:active{--tw-bg-opacity: 1;background-color:rgb(212 212 212 / var(--tw-bg-opacity, 1))}.active\:bg-primary-950:active{--tw-bg-opacity: 1;background-color:rgb(10 10 10 / var(--tw-bg-opacity, 1))}.active\:bg-red-700:active{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-gray-300:disabled{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.disabled\:bg-primary-50:disabled{--tw-bg-opacity: 1;background-color:rgb(250 250 250 / var(--tw-bg-opacity, 1))}.disabled\:text-primary-400:disabled{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.disabled\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\:block{display:block}.group:hover .group-hover\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:text-primary-500{--tw-text-opacity: 1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.group:hover .group-hover\:opacity-100{opacity:1}.group:hover .group-hover\:opacity-60{opacity:.6}.peer:checked~.peer-checked\:bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.peer:checked~.peer-checked\:after\:translate-x-full:after{content:var(--tw-content);--tw-translate-x: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.peer:checked~.peer-checked\:after\:border-white:after{content:var(--tw-content);--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.peer:focus~.peer-focus\:outline-none{outline:2px solid transparent;outline-offset:2px}.peer:focus~.peer-focus\:ring-4{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.peer:focus~.peer-focus\:ring-green-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(134 239 172 / var(--tw-ring-opacity, 1))}@media (min-width: 640px){.sm\:block{display:block}.sm\:w-44{width:11rem}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.sm\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.sm\:flex-row{flex-direction:row}.sm\:items-center{align-items:center}.sm\:justify-between{justify-content:space-between}.sm\:p-6{padding:1.5rem}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width: 768px){.md\:flex{display:flex}.md\:hidden{display:none}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (min-width: 1024px){.lg\:col-span-1{grid-column:span 1 / span 1}.lg\:col-span-2{grid-column:span 2 / span 2}.lg\:block{display:block}.lg\:hidden{display:none}.lg\:translate-x-0{--tw-translate-x: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.lg\:p-10{padding:2.5rem}.lg\:pl-64{padding-left:16rem}}.peer:checked~.rtl\:peer-checked\:after\:-translate-x-full:where([dir=rtl],[dir=rtl] *):after{content:var(--tw-content);--tw-translate-x: -100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
