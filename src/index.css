@import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600;700&family=Grand+Hotel&family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 250 250 250;
    --foreground: 23 23 23;
    --card: 255 255 255;
    --card-foreground: 23 23 23;
    --border: 229 229 229;
    --input: 229 229 229;
    --ring: 23 23 23;
  }

  * {
    @apply border-primary-200;
  }

  body {
    @apply bg-primary-50 text-primary-900 antialiased;
    font-family: "Exo 2", sans-serif;
    font-optical-sizing: auto;
    font-style: normal;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-primary-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-primary-300 rounded-full transition-colors;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-primary-400;
  }

  /* Focus visible for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-primary-900 ring-offset-2;
  }
}

@layer components {
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 rounded-md font-medium
           transition-all duration-200 cursor-pointer
           focus:outline-none focus:ring-2 focus:ring-offset-2
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn bg-primary-900 text-white
           hover:bg-primary-800 active:bg-primary-950
           focus:ring-primary-500;
  }

  .btn-secondary {
    @apply btn bg-primary-100 text-primary-900 border border-primary-200
           hover:bg-primary-200 active:bg-primary-300
           focus:ring-primary-400;
  }

  .btn-ghost {
    @apply btn bg-transparent text-primary-700
           hover:bg-primary-100 active:bg-primary-200
           focus:ring-primary-400;
  }

  .btn-danger {
    @apply btn bg-error text-white
           hover:bg-red-600 active:bg-red-700
           focus:ring-red-500;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }

  .btn-lg {
    @apply px-6 py-3 text-lg;
  }

  .btn-icon {
    @apply p-2;
  }

  /* Cards */
  .card {
    @apply bg-white rounded-card shadow-card border border-primary-100
           transition-shadow duration-200;
  }

  .card-hover {
    @apply card hover:shadow-card-hover;
  }

  .card-header {
    @apply px-6 py-4 border-b border-primary-100;
  }

  .card-body {
    @apply p-6;
  }

  .card-footer {
    @apply px-6 py-4 border-t border-primary-100 bg-primary-50;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-low {
    @apply badge bg-primary-100 text-primary-700;
  }

  .badge-medium {
    @apply badge bg-amber-100 text-amber-800;
  }

  .badge-high {
    @apply badge bg-red-100 text-red-800;
  }

  .badge-critical {
    @apply badge bg-red-900 text-white;
  }

  .badge-success {
    @apply badge bg-green-100 text-green-800;
  }

  .badge-info {
    @apply badge bg-blue-100 text-blue-800;
  }

  /* Form inputs */
  .input {
    @apply w-full px-3 py-2 rounded-md border border-primary-200 bg-white
           text-primary-900 placeholder:text-primary-400
           transition-colors duration-200
           hover:border-primary-300
           focus:outline-none focus:ring-2 focus:ring-primary-900 focus:border-transparent
           disabled:bg-primary-50 disabled:cursor-not-allowed;
  }

  .input-error {
    @apply input border-error focus:ring-error;
  }

  .label {
    @apply block text-sm font-medium text-primary-700 mb-1;
  }

  .helper-text {
    @apply text-sm text-primary-500 mt-1;
  }

  .error-text {
    @apply text-sm text-error mt-1;
  }

  /* Select */
  .select {
    @apply input appearance-none bg-no-repeat bg-right pr-10 cursor-pointer;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-size: 1.5em 1.5em;
  }

  /* Data tables */
  .data-table {
    @apply w-full text-data text-left;
  }

  .data-table th {
    @apply px-4 py-3 font-semibold text-primary-600 bg-primary-50
           border-b border-primary-200 uppercase text-xs tracking-wider
           whitespace-nowrap;
  }

  .data-table td {
    @apply px-4 py-3 border-b border-primary-100;
  }

  .data-table tbody tr {
    @apply transition-colors duration-150;
  }

  .data-table tbody tr:hover {
    @apply bg-primary-50;
  }

  .data-table tbody tr.selected {
    @apply bg-primary-100;
  }

  /* Stats/KPI display */
  .stat-value {
    @apply text-3xl font-bold text-primary-900 tabular-nums;
  }

  .stat-label {
    @apply text-sm font-medium text-primary-500 uppercase tracking-wide;
  }

  .stat-change {
    @apply text-sm font-medium;
  }

  .stat-change-positive {
    @apply stat-change text-success;
  }

  .stat-change-negative {
    @apply stat-change text-error;
  }

  /* Progress bar */
  .progress {
    @apply w-full h-2 bg-primary-100 rounded-full overflow-hidden;
  }

  .progress-bar {
    @apply h-full bg-primary-900 transition-all duration-300 ease-out;
  }

  /* Skeleton loading */
  .skeleton {
    @apply animate-pulse bg-primary-200 rounded;
  }

  /* Page layout */
  .page-header {
    @apply mb-8;
  }

  .page-title {
    @apply text-2xl font-bold text-primary-900;
  }

  .page-description {
    @apply text-primary-500 mt-1;
  }

  /* Empty state */
  .empty-state {
    @apply flex flex-col items-center justify-center py-16 text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16 text-primary-300 mb-4;
  }

  .empty-state-title {
    @apply text-lg font-medium text-primary-900 mb-2;
  }

  .empty-state-description {
    @apply text-primary-500 max-w-md;
  }
}

/* ===========================================
   PRINT STYLES - A4 Portrait
   =========================================== */
@media print {
  /* Page configuration A4 Portrait */
  @page {
    size: A4 portrait;
    margin: 15mm 10mm 15mm 10mm;
  }

  /* Hide all non-printable elements */
  body > *:not(.printable-content):not(#print-container) {
    display: none !important;
  }

  /* Hide specific UI elements */
  .sidebar,
  .app-sidebar,
  .navigation,
  .nav,
  .header,
  .app-header,
  .footer,
  .app-footer,
  .toolbar,
  .menu,
  .dropdown,
  .modal,
  .toast,
  .notification,
  .no-print,
  [data-no-print],
  button:not(.print-include),
  .btn:not(.print-include) {
    display: none !important;
  }

  /* Reset body for print */
  body {
    background: white !important;
    color: black !important;
    font-size: 11pt !important;
    line-height: 1.4 !important;
    margin: 0 !important;
    padding: 0 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Printable content styling */
  .printable-content,
  #print-container {
    display: block !important;
    position: static !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    box-shadow: none !important;
    border: none !important;
  }

  /* Cards should have no shadow */
  .card,
  .card-hover {
    box-shadow: none !important;
    border: 1px solid #e5e5e5 !important;
    break-inside: avoid;
  }

  /* Tables */
  .data-table {
    font-size: 9pt !important;
  }

  .data-table th,
  .data-table td {
    padding: 6px 8px !important;
    border: 1px solid #ccc !important;
  }

  .data-table th {
    background-color: #f0f0f0 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Page breaks */
  .page-break-before {
    page-break-before: always;
  }

  .page-break-after {
    page-break-after: always;
  }

  .avoid-break {
    break-inside: avoid;
  }

  /* Headers and titles */
  h1, h2, h3, h4, h5, h6 {
    break-after: avoid;
    color: black !important;
  }

  /* Links - show URL */
  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 8pt;
    color: #666;
  }

  a[href^="#"]:after,
  a[href^="javascript"]:after {
    content: "";
  }

  /* Images */
  img {
    max-width: 100% !important;
    break-inside: avoid;
  }

  /* Badges with print colors */
  .badge {
    border: 1px solid currentColor !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Charts - ensure they print */
  .recharts-wrapper,
  .recharts-surface {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Stats */
  .stat-value {
    font-size: 18pt !important;
  }

  /* Scrollbars hidden */
  ::-webkit-scrollbar {
    display: none !important;
  }
}

/* Print-specific utility classes */
.print-only {
  display: none !important;
}

@media print {
  .print-only {
    display: block !important;
  }
}

@layer utilities {
  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  /* Number formatting */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* Truncate multiple lines */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
